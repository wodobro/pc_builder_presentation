var Zs=Object.create;var{getPrototypeOf:Ps,defineProperty:QL,getOwnPropertyNames:xs}=Object;var ns=Object.prototype.hasOwnProperty;var OE=(U,E,u)=>{u=U!=null?Zs(Ps(U)):{};let p=E||!U||!U.__esModule?QL(u,"default",{value:U,enumerable:!0}):u;for(let z of xs(U))if(!ns.call(p,z))QL(p,z,{get:()=>U[z],enumerable:!0});return p};var cn=(U,E)=>()=>(E||U((E={exports:{}}).exports,E),E.exports);var Pp=(U,E)=>{for(var u in E)QL(U,u,{get:E[u],enumerable:!0,configurable:!0,set:(p)=>E[u]=()=>p})};var cU=(U,E)=>()=>(U&&(E=U(U=0)),E);var TE=cn((Fs)=>{var IL=Symbol.for("react.transitional.element"),js=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),Hs=Symbol.for("react.strict_mode"),ks=Symbol.for("react.profiler"),Qs=Symbol.for("react.consumer"),$s=Symbol.for("react.context"),ys=Symbol.for("react.forward_ref"),Is=Symbol.for("react.suspense"),Os=Symbol.for("react.memo"),pV=Symbol.for("react.lazy"),Ns=Symbol.for("react.activity"),Cm=Symbol.iterator;function rs(U){if(U===null||typeof U!=="object")return null;return U=Cm&&U[Cm]||U["@@iterator"],typeof U==="function"?U:null}var zV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cV=Object.assign,YV={};function Zn(U,E,u){this.props=U,this.context=E,this.refs=YV,this.updater=u||zV}Zn.prototype.isReactComponent={};Zn.prototype.setState=function(U,E){if(typeof U!=="object"&&typeof U!=="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,E,"setState")};Zn.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function ZV(){}ZV.prototype=Zn.prototype;function OL(U,E,u){this.props=U,this.context=E,this.refs=YV,this.updater=u||zV}var NL=OL.prototype=new ZV;NL.constructor=OL;cV(NL,Zn.prototype);NL.isPureReactComponent=!0;var UV=Array.isArray;function yL(){}var kp={H:null,A:null,T:null,S:null},PV=Object.prototype.hasOwnProperty;function rL(U,E,u){var p=u.ref;return{$$typeof:IL,type:U,key:E,ref:p!==void 0?p:null,props:u}}function Ls(U,E){return rL(U.type,E,U.props)}function LL(U){return typeof U==="object"&&U!==null&&U.$$typeof===IL}function Xs(U){var E={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(u){return E[u]})}var EV=/\/+/g;function $L(U,E){return typeof U==="object"&&U!==null&&U.key!=null?Xs(""+U.key):E.toString(36)}function Ts(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status==="string"?U.then(yL,yL):(U.status="pending",U.then(function(E){U.status==="pending"&&(U.status="fulfilled",U.value=E)},function(E){U.status==="pending"&&(U.status="rejected",U.reason=E)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Yn(U,E,u,p,z){var c=typeof U;if(c==="undefined"||c==="boolean")U=null;var Y=!1;if(U===null)Y=!0;else switch(c){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(U.$$typeof){case IL:case js:Y=!0;break;case pV:return Y=U._init,Yn(Y(U._payload),E,u,p,z)}}if(Y)return z=z(U),Y=p===""?"."+$L(U,0):p,UV(z)?(u="",Y!=null&&(u=Y.replace(EV,"$&/")+"/"),Yn(z,E,u,"",function(j){return j})):z!=null&&(LL(z)&&(z=Ls(z,u+(z.key==null||U&&U.key===z.key?"":(""+z.key).replace(EV,"$&/")+"/")+Y)),E.push(z)),1;Y=0;var P=p===""?".":p+":";if(UV(U))for(var n=0;n<U.length;n++)p=U[n],c=P+$L(p,n),Y+=Yn(p,E,u,c,z);else if(n=rs(U),typeof n==="function")for(U=n.call(U),n=0;!(p=U.next()).done;)p=p.value,c=P+$L(p,n++),Y+=Yn(p,E,u,c,z);else if(c==="object"){if(typeof U.then==="function")return Yn(Ts(U),E,u,p,z);throw E=String(U),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return Y}function G$(U,E,u){if(U==null)return U;var p=[],z=0;return Yn(U,p,"","",function(c){return E.call(u,c,z++)}),p}function os(U){if(U._status===-1){var E=U._result;E=E(),E.then(function(u){if(U._status===0||U._status===-1)U._status=1,U._result=u},function(u){if(U._status===0||U._status===-1)U._status=2,U._result=u}),U._status===-1&&(U._status=0,U._result=E)}if(U._status===1)return U._result.default;throw U._result}var uV=typeof reportError==="function"?reportError:function(U){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U==="object"&&U!==null&&typeof U.message==="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(E))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",U);return}console.error(U)},is={map:G$,forEach:function(U,E,u){G$(U,function(){E.apply(this,arguments)},u)},count:function(U){var E=0;return G$(U,function(){E++}),E},toArray:function(U){return G$(U,function(E){return E})||[]},only:function(U){if(!LL(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};Fs.Activity=Ns;Fs.Children=is;Fs.Component=Zn;Fs.Fragment=qs;Fs.Profiler=ks;Fs.PureComponent=OL;Fs.StrictMode=Hs;Fs.Suspense=Is;Fs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kp;Fs.__COMPILER_RUNTIME={__proto__:null,c:function(U){return kp.H.useMemoCache(U)}};Fs.cache=function(U){return function(){return U.apply(null,arguments)}};Fs.cacheSignal=function(){return null};Fs.cloneElement=function(U,E,u){if(U===null||U===void 0)throw Error("The argument must be a React element, but you passed "+U+".");var p=cV({},U.props),z=U.key;if(E!=null)for(c in E.key!==void 0&&(z=""+E.key),E)!PV.call(E,c)||c==="key"||c==="__self"||c==="__source"||c==="ref"&&E.ref===void 0||(p[c]=E[c]);var c=arguments.length-2;if(c===1)p.children=u;else if(1<c){for(var Y=Array(c),P=0;P<c;P++)Y[P]=arguments[P+2];p.children=Y}return rL(U.type,z,p)};Fs.createContext=function(U){return U={$$typeof:$s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:Qs,_context:U},U};Fs.createElement=function(U,E,u){var p,z={},c=null;if(E!=null)for(p in E.key!==void 0&&(c=""+E.key),E)PV.call(E,p)&&p!=="key"&&p!=="__self"&&p!=="__source"&&(z[p]=E[p]);var Y=arguments.length-2;if(Y===1)z.children=u;else if(1<Y){for(var P=Array(Y),n=0;n<Y;n++)P[n]=arguments[n+2];z.children=P}if(U&&U.defaultProps)for(p in Y=U.defaultProps,Y)z[p]===void 0&&(z[p]=Y[p]);return rL(U,c,z)};Fs.createRef=function(){return{current:null}};Fs.forwardRef=function(U){return{$$typeof:ys,render:U}};Fs.isValidElement=LL;Fs.lazy=function(U){return{$$typeof:pV,_payload:{_status:-1,_result:U},_init:os}};Fs.memo=function(U,E){return{$$typeof:Os,type:U,compare:E===void 0?null:E}};Fs.startTransition=function(U){var E=kp.T,u={};kp.T=u;try{var p=U(),z=kp.S;z!==null&&z(u,p),typeof p==="object"&&p!==null&&typeof p.then==="function"&&p.then(yL,uV)}catch(c){uV(c)}finally{E!==null&&u.types!==null&&(E.types=u.types),kp.T=E}};Fs.unstable_useCacheRefresh=function(){return kp.H.useCacheRefresh()};Fs.use=function(U){return kp.H.use(U)};Fs.useActionState=function(U,E,u){return kp.H.useActionState(U,E,u)};Fs.useCallback=function(U,E){return kp.H.useCallback(U,E)};Fs.useContext=function(U){return kp.H.useContext(U)};Fs.useDebugValue=function(){};Fs.useDeferredValue=function(U,E){return kp.H.useDeferredValue(U,E)};Fs.useEffect=function(U,E){return kp.H.useEffect(U,E)};Fs.useEffectEvent=function(U){return kp.H.useEffectEvent(U)};Fs.useId=function(){return kp.H.useId()};Fs.useImperativeHandle=function(U,E,u){return kp.H.useImperativeHandle(U,E,u)};Fs.useInsertionEffect=function(U,E){return kp.H.useInsertionEffect(U,E)};Fs.useLayoutEffect=function(U,E){return kp.H.useLayoutEffect(U,E)};Fs.useMemo=function(U,E){return kp.H.useMemo(U,E)};Fs.useOptimistic=function(U,E){return kp.H.useOptimistic(U,E)};Fs.useReducer=function(U,E,u){return kp.H.useReducer(U,E,u)};Fs.useRef=function(U){return kp.H.useRef(U)};Fs.useState=function(U){return kp.H.useState(U)};Fs.useSyncExternalStore=function(U,E,u){return kp.H.useSyncExternalStore(U,E,u)};Fs.useTransition=function(){return kp.H.useTransition()};Fs.version="19.2.3"});var R$=cn((y7)=>{function TL(U,E){var u=U.length;U.push(E);U:for(;0<u;){var p=u-1>>>1,z=U[p];if(0<B$(z,E))U[p]=E,U[u]=z,u=p;else break U}}function dc(U){return U.length===0?null:U[0]}function S$(U){if(U.length===0)return null;var E=U[0],u=U.pop();if(u!==E){U[0]=u;U:for(var p=0,z=U.length,c=z>>>1;p<c;){var Y=2*(p+1)-1,P=U[Y],n=Y+1,j=U[n];if(0>B$(P,u))n<z&&0>B$(j,P)?(U[p]=j,U[n]=u,p=n):(U[p]=P,U[Y]=u,p=Y);else if(n<z&&0>B$(j,u))U[p]=j,U[n]=u,p=n;else break U}}return E}function B$(U,E){var u=U.sortIndex-E.sortIndex;return u!==0?u:U.id-E.id}y7.unstable_now=void 0;if(typeof performance==="object"&&typeof performance.now==="function")oL=performance,y7.unstable_now=function(){return oL.now()};else d$=Date,iL=d$.now(),y7.unstable_now=function(){return d$.now()-iL};var oL,d$,iL,O4=[],VY=[],$7=1,r0=null,f5=3,FL=!1,qH=!1,HH=!1,mL=!1,nV=typeof setTimeout==="function"?setTimeout:null,jV=typeof clearTimeout==="function"?clearTimeout:null,xV=typeof setImmediate!=="undefined"?setImmediate:null;function w$(U){for(var E=dc(VY);E!==null;){if(E.callback===null)S$(VY);else if(E.startTime<=U)S$(VY),E.sortIndex=E.expirationTime,TL(O4,E);else break;E=dc(VY)}}function VL(U){if(HH=!1,w$(U),!qH)if(dc(O4)!==null)qH=!0,xn||(xn=!0,Pn());else{var E=dc(VY);E!==null&&GL(VL,E.startTime-U)}}var xn=!1,kH=-1,qV=5,HV=-1;function kV(){return mL?!0:y7.unstable_now()-HV<qV?!1:!0}function XL(){if(mL=!1,xn){var U=y7.unstable_now();HV=U;var E=!0;try{U:{qH=!1,HH&&(HH=!1,jV(kH),kH=-1),FL=!0;var u=f5;try{E:{w$(U);for(r0=dc(O4);r0!==null&&!(r0.expirationTime>U&&kV());){var p=r0.callback;if(typeof p==="function"){r0.callback=null,f5=r0.priorityLevel;var z=p(r0.expirationTime<=U);if(U=y7.unstable_now(),typeof z==="function"){r0.callback=z,w$(U),E=!0;break E}r0===dc(O4)&&S$(O4),w$(U)}else S$(O4);r0=dc(O4)}if(r0!==null)E=!0;else{var c=dc(VY);c!==null&&GL(VL,c.startTime-U),E=!1}}break U}finally{r0=null,f5=u,FL=!1}E=void 0}}finally{E?Pn():xn=!1}}}var Pn;if(typeof xV==="function")Pn=function(){xV(XL)};else if(typeof MessageChannel!=="undefined")v$=new MessageChannel,AL=v$.port2,v$.port1.onmessage=XL,Pn=function(){AL.postMessage(null)};else Pn=function(){nV(XL,0)};var v$,AL;function GL(U,E){kH=nV(function(){U(y7.unstable_now())},E)}y7.unstable_IdlePriority=5;y7.unstable_ImmediatePriority=1;y7.unstable_LowPriority=4;y7.unstable_NormalPriority=3;y7.unstable_Profiling=null;y7.unstable_UserBlockingPriority=2;y7.unstable_cancelCallback=function(U){U.callback=null};y7.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qV=0<U?Math.floor(1000/U):5};y7.unstable_getCurrentPriorityLevel=function(){return f5};y7.unstable_next=function(U){switch(f5){case 1:case 2:case 3:var E=3;break;default:E=f5}var u=f5;f5=E;try{return U()}finally{f5=u}};y7.unstable_requestPaint=function(){mL=!0};y7.unstable_runWithPriority=function(U,E){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var u=f5;f5=U;try{return E()}finally{f5=u}};y7.unstable_scheduleCallback=function(U,E,u){var p=y7.unstable_now();switch(typeof u==="object"&&u!==null?(u=u.delay,u=typeof u==="number"&&0<u?p+u:p):u=p,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5000}return z=u+z,U={id:$7++,callback:E,priorityLevel:U,startTime:u,expirationTime:z,sortIndex:-1},u>p?(U.sortIndex=u,TL(VY,U),dc(O4)===null&&U===dc(VY)&&(HH?(jV(kH),kH=-1):HH=!0,GL(VL,u-p))):(U.sortIndex=z,TL(O4,U),qH||FL||(qH=!0,xn||(xn=!0,Pn()))),U};y7.unstable_shouldYield=kV;y7.unstable_wrapCallback=function(U){var E=f5;return function(){var u=f5;f5=E;try{return U.apply(this,arguments)}finally{f5=u}}}});var BL={};Pp(BL,{version:()=>VV,useFormStatus:()=>mV,useFormState:()=>AV,unstable_batchedUpdates:()=>FV,requestFormReset:()=>iV,preloadModule:()=>oV,preload:()=>TV,preinitModule:()=>XV,preinit:()=>LV,prefetchDNS:()=>rV,preconnect:()=>NV,flushSync:()=>OV,createPortal:()=>IV,__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE:()=>yV});function $V(U){var E="https://react.dev/errors/"+U;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)E+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+U+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function BY(){}function w7(U,E,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d7,key:p==null?null:""+p,children:U,containerInfo:E,implementation:u}}function D$(U,E){if(U==="font")return"";if(typeof E==="string")return E==="use-credentials"?E:""}var QV,pz,d7,QH,yV,IV=function(U,E){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error($V(299));return w7(U,E,null,u)},OV=function(U){var E=QH.T,u=pz.p;try{if(QH.T=null,pz.p=2,U)return U()}finally{QH.T=E,pz.p=u,pz.d.f()}},NV=function(U,E){typeof U==="string"&&(E?(E=E.crossOrigin,E=typeof E==="string"?E==="use-credentials"?E:"":void 0):E=null,pz.d.C(U,E))},rV=function(U){typeof U==="string"&&pz.d.D(U)},LV=function(U,E){if(typeof U==="string"&&E&&typeof E.as==="string"){var u=E.as,p=D$(u,E.crossOrigin),z=typeof E.integrity==="string"?E.integrity:void 0,c=typeof E.fetchPriority==="string"?E.fetchPriority:void 0;u==="style"?pz.d.S(U,typeof E.precedence==="string"?E.precedence:void 0,{crossOrigin:p,integrity:z,fetchPriority:c}):u==="script"&&pz.d.X(U,{crossOrigin:p,integrity:z,fetchPriority:c,nonce:typeof E.nonce==="string"?E.nonce:void 0})}},XV=function(U,E){if(typeof U==="string")if(typeof E==="object"&&E!==null){if(E.as==null||E.as==="script"){var u=D$(E.as,E.crossOrigin);pz.d.M(U,{crossOrigin:u,integrity:typeof E.integrity==="string"?E.integrity:void 0,nonce:typeof E.nonce==="string"?E.nonce:void 0})}}else E==null&&pz.d.M(U)},TV=function(U,E){if(typeof U==="string"&&typeof E==="object"&&E!==null&&typeof E.as==="string"){var u=E.as,p=D$(u,E.crossOrigin);pz.d.L(U,u,{crossOrigin:p,integrity:typeof E.integrity==="string"?E.integrity:void 0,nonce:typeof E.nonce==="string"?E.nonce:void 0,type:typeof E.type==="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority==="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy==="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet==="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes==="string"?E.imageSizes:void 0,media:typeof E.media==="string"?E.media:void 0})}},oV=function(U,E){if(typeof U==="string")if(E){var u=D$(E.as,E.crossOrigin);pz.d.m(U,{as:typeof E.as==="string"&&E.as!=="script"?E.as:void 0,crossOrigin:u,integrity:typeof E.integrity==="string"?E.integrity:void 0})}else pz.d.m(U)},iV=function(U){pz.d.r(U)},FV=function(U,E){return U(E)},AV=function(U,E,u){return QH.H.useFormState(U,E,u)},mV=function(){return QH.H.useHostTransitionStatus()},VV="19.2.3";var GV=cU(()=>{QV=OE(TE(),1);pz={d:{f:BY,r:function(){throw Error($V(522))},D:BY,C:BY,L:BY,m:BY,X:BY,S:BY,M:BY},p:0,findDOMNode:null},d7=Symbol.for("react.portal");QH=QV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;yV=pz});var t$=cn((lZU,dV)=>{GV();function BV(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BV)}catch(U){console.error(U)}}BV(),dV.exports=BL});var zT={};Pp(zT,{version:()=>Ww,hydrateRoot:()=>Mw,createRoot:()=>lw});function iU(U){var E="https://react.dev/errors/"+U;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)E+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+U+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zB(U){return!(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11)}function zk(U){var E=U,u=U;if(U.alternate)for(;E.return;)E=E.return;else{U=E;do E=U,(E.flags&4098)!==0&&(u=E.return),U=E.return;while(U)}return E.tag===3?u:null}function cB(U){if(U.tag===13){var E=U.memoizedState;if(E===null&&(U=U.alternate,U!==null&&(E=U.memoizedState)),E!==null)return E.dehydrated}return null}function YB(U){if(U.tag===31){var E=U.memoizedState;if(E===null&&(U=U.alternate,U!==null&&(E=U.memoizedState)),E!==null)return E.dehydrated}return null}function wV(U){if(zk(U)!==U)throw Error(iU(188))}function v7(U){var E=U.alternate;if(!E){if(E=zk(U),E===null)throw Error(iU(188));return E!==U?null:U}for(var u=U,p=E;;){var z=u.return;if(z===null)break;var c=z.alternate;if(c===null){if(p=z.return,p!==null){u=p;continue}break}if(z.child===c.child){for(c=z.child;c;){if(c===u)return wV(z),U;if(c===p)return wV(z),E;c=c.sibling}throw Error(iU(188))}if(u.return!==p.return)u=z,p=c;else{for(var Y=!1,P=z.child;P;){if(P===u){Y=!0,u=z,p=c;break}if(P===p){Y=!0,p=z,u=c;break}P=P.sibling}if(!Y){for(P=c.child;P;){if(P===u){Y=!0,u=c,p=z;break}if(P===p){Y=!0,p=c,u=z;break}P=P.sibling}if(!Y)throw Error(iU(189))}}if(u.alternate!==p)throw Error(iU(190))}if(u.tag!==3)throw Error(iU(188));return u.stateNode.current===u?U:E}function ZB(U){var E=U.tag;if(E===5||E===26||E===27||E===6)return U;for(U=U.child;U!==null;){if(E=ZB(U),E!==null)return E;U=U.sibling}return null}function $H(U){if(U===null||typeof U!=="object")return null;return U=vV&&U[vV]||U["@@iterator"],typeof U==="function"?U:null}function Q2(U){if(U==null)return null;if(typeof U==="function")return U.$$typeof===D7?null:U.displayName||U.name||null;if(typeof U==="string")return U;switch(U){case Qn:return"Fragment";case j2:return"Profiler";case PB:return"StrictMode";case q2:return"Suspense";case H2:return"SuspenseList";case k2:return"Activity"}if(typeof U==="object")switch(U.$$typeof){case LH:return"Portal";case F4:return U.displayName||"Context";case xB:return(U._context.displayName||"Context")+".Consumer";case PX:var E=U.render;return U=U.displayName,U||(U=E.displayName||E.name||"",U=U!==""?"ForwardRef("+U+")":"ForwardRef"),U;case xX:return E=U.displayName||null,E!==null?E:Q2(U.type)||"Memo";case dY:E=U._payload,U=U._init;try{return Q2(U(E))}catch(u){}}return null}function Dc(U){return{current:U}}function o5(U){0>$n||(U.current=$2[$n],$2[$n]=null,$n--)}function xp(U,E){$n++,$2[$n]=U.current,U.current=E}function yy(U,E){switch(xp(MY,E),xp(MH,U),xp(Rc,null),E.nodeType){case 9:case 11:U=(U=E.documentElement)?(U=U.namespaceURI)?JG(U):0:0;break;default:if(U=E.tagName,E=E.namespaceURI)E=JG(E),U=mw(E,U);else switch(U){case"svg":U=1;break;case"math":U=2;break;default:U=0}}o5(Rc),xp(Rc,U)}function vn(){o5(Rc),o5(MH),o5(MY)}function y2(U){U.memoizedState!==null&&xp($y,U);var E=Rc.current,u=mw(E,U.type);E!==u&&(xp(MH,U),xp(Rc,u))}function Iy(U){MH.current===U&&(o5(Rc),o5(MH)),$y.current===U&&(o5($y),Ek._currentValue=qP)}function ZP(U){if(dL===void 0)try{throw Error()}catch(u){var E=u.stack.trim().match(/\n( *(at )?)/);dL=E&&E[1]||"",SV=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dL+U+SV}function vL(U,E){if(!U||wL)return"";wL=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(E){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(y){var Q=y}Reflect.construct(U,[],k)}else{try{k.call()}catch(y){Q=y}U.call(k.prototype)}}else{try{throw Error()}catch(y){Q=y}(k=U())&&typeof k.catch==="function"&&k.catch(function(){})}}catch(y){if(y&&Q&&typeof y.stack==="string")return[y.stack,Q.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=p.DetermineComponentFrameRoot(),Y=c[0],P=c[1];if(Y&&P){var n=Y.split(`
`),j=P.split(`
`);for(z=p=0;p<n.length&&!n[p].includes("DetermineComponentFrameRoot");)p++;for(;z<j.length&&!j[z].includes("DetermineComponentFrameRoot");)z++;if(p===n.length||z===j.length)for(p=n.length-1,z=j.length-1;1<=p&&0<=z&&n[p]!==j[z];)z--;for(;1<=p&&0<=z;p--,z--)if(n[p]!==j[z]){if(p!==1||z!==1)do if(p--,z--,0>z||n[p]!==j[z]){var H=`
`+n[p].replace(" at new "," at ");return U.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",U.displayName)),H}while(1<=p&&0<=z);break}}}finally{wL=!1,Error.prepareStackTrace=u}return(u=U?U.displayName||U.name:"")?ZP(u):""}function t7(U,E){switch(U.tag){case 26:case 27:case 5:return ZP(U.type);case 16:return ZP("Lazy");case 13:return U.child!==E&&E!==null?ZP("Suspense Fallback"):ZP("Suspense");case 19:return ZP("SuspenseList");case 0:case 15:return vL(U.type,!1);case 11:return vL(U.type.render,!1);case 1:return vL(U.type,!0);case 31:return ZP("Activity");default:return""}}function RV(U){try{var E="",u=null;do E+=t7(U,u),u=U,U=U.return;while(U);return E}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function tY(U){if(typeof M7==="function"&&W7(U),E0&&typeof E0.setStrictMode==="function")try{E0.setStrictMode(ck,U)}catch(E){}}function K7(U){return U>>>=0,U===0?32:31-(f7(U)/s7|0)|0}function PP(U){var E=U&42;if(E!==0)return E;switch(U&-U){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return U&261888;case 262144:case 524288:case 1048576:case 2097152:return U&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return U&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return U}}function fy(U,E,u){var p=U.pendingLanes;if(p===0)return 0;var z=0,c=U.suspendedLanes,Y=U.pingedLanes;U=U.warmLanes;var P=p&134217727;return P!==0?(p=P&~c,p!==0?z=PP(p):(Y&=P,Y!==0?z=PP(Y):u||(u=P&~U,u!==0&&(z=PP(u))))):(P=p&~c,P!==0?z=PP(P):Y!==0?z=PP(Y):u||(u=p&~U,u!==0&&(z=PP(u)))),z===0?0:E!==0&&E!==z&&(E&c)===0&&(c=z&-z,u=E&-E,c>=u||c===32&&(u&4194048)!==0)?E:z}function Yk(U,E){return(U.pendingLanes&~(U.suspendedLanes&~U.pingedLanes)&E)===0}function a7(U,E){switch(U){case 1:case 2:case 4:case 8:case 64:return E+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HB(){var U=l$;return l$<<=1,(l$&62914560)===0&&(l$=4194304),U}function RL(U){for(var E=[],u=0;31>u;u++)E.push(U);return E}function Zk(U,E){U.pendingLanes|=E,E!==268435456&&(U.suspendedLanes=0,U.pingedLanes=0,U.warmLanes=0)}function _7(U,E,u,p,z,c){var Y=U.pendingLanes;U.pendingLanes=u,U.suspendedLanes=0,U.pingedLanes=0,U.warmLanes=0,U.expiredLanes&=u,U.entangledLanes&=u,U.errorRecoveryDisabledLanes&=u,U.shellSuspendCounter=0;var{entanglements:P,expirationTimes:n,hiddenUpdates:j}=U;for(u=Y&~u;0<u;){var H=31-u0(u),k=1<<H;P[H]=0,n[H]=-1;var Q=j[H];if(Q!==null)for(j[H]=null,H=0;H<Q.length;H++){var y=Q[H];y!==null&&(y.lane&=-536870913)}u&=~k}p!==0&&kB(U,p,0),c!==0&&z===0&&U.tag!==0&&(U.suspendedLanes|=c&~(Y&~E))}function kB(U,E,u){U.pendingLanes|=E,U.suspendedLanes&=~E;var p=31-u0(E);U.entangledLanes|=E,U.entanglements[p]=U.entanglements[p]|1073741824|u&261930}function QB(U,E){var u=U.entangledLanes|=E;for(U=U.entanglements;u;){var p=31-u0(u),z=1<<p;z&E|U[p]&E&&(U[p]|=E),u&=~z}}function $B(U,E){var u=E&-E;return u=(u&42)!==0?1:jX(u),(u&(U.suspendedLanes|E))!==0?0:u}function jX(U){switch(U){case 2:U=1;break;case 8:U=4;break;case 32:U=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:U=128;break;case 268435456:U=134217728;break;default:U=0}return U}function qX(U){return U&=-U,2<U?8<U?(U&134217727)!==0?32:268435456:8:2}function yB(){var U=Mu.p;if(U!==0)return U;return U=window.event,U===void 0?32:Jw(U.type)}function DV(U,E){var u=Mu.p;try{return Mu.p=U,E()}finally{Mu.p=u}}function HX(U){delete U[v5],delete U[Fz],delete U[O2],delete U[g7],delete U[e7]}function yn(U){var E=U[v5];if(E)return E;for(var u=U.parentNode;u;){if(E=u[fn]||u[v5]){if(u=E.alternate,E.child!==null||u!==null&&u.child!==null)for(U=WG(U);U!==null;){if(u=U[v5])return u;U=WG(U)}return E}U=u,u=U.parentNode}return null}function sn(U){if(U=U[v5]||U[fn]){var E=U.tag;if(E===5||E===6||E===13||E===31||E===26||E===27||E===3)return U}return null}function TH(U){var E=U.tag;if(E===5||E===26||E===27||E===6)return U.stateNode;throw Error(iU(33))}function An(U){var E=U[tV];return E||(E=U[tV]={hoistableStyles:new Map,hoistableScripts:new Map}),E}function T5(U){U[Pk]=!0}function LP(U,E){Sn(U,E),Sn(U+"Capture",E)}function Sn(U,E){OB[U]=E;for(U=0;U<E.length;U++)IB.add(E[U])}function UK(U){if(I2.call(hV,U))return!0;if(I2.call(JV,U))return!1;if(C7.test(U))return hV[U]=!0;return JV[U]=!0,!1}function Uy(U,E,u){if(UK(E))if(u===null)U.removeAttribute(E);else{switch(typeof u){case"undefined":case"function":case"symbol":U.removeAttribute(E);return;case"boolean":var p=E.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){U.removeAttribute(E);return}}U.setAttribute(E,""+u)}}function M$(U,E,u){if(u===null)U.removeAttribute(E);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":U.removeAttribute(E);return}U.setAttribute(E,""+u)}}function N4(U,E,u,p){if(p===null)U.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":U.removeAttribute(u);return}U.setAttributeNS(E,u,""+p)}}function X0(U){switch(typeof U){case"bigint":case"boolean":case"number":case"string":case"undefined":return U;case"object":return U;default:return""}}function NB(U){var E=U.type;return(U=U.nodeName)&&U.toLowerCase()==="input"&&(E==="checkbox"||E==="radio")}function EK(U,E,u){var p=Object.getOwnPropertyDescriptor(U.constructor.prototype,E);if(!U.hasOwnProperty(E)&&typeof p!=="undefined"&&typeof p.get==="function"&&typeof p.set==="function"){var{get:z,set:c}=p;return Object.defineProperty(U,E,{configurable:!0,get:function(){return z.call(this)},set:function(Y){u=""+Y,c.call(this,Y)}}),Object.defineProperty(U,E,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(Y){u=""+Y},stopTracking:function(){U._valueTracker=null,delete U[E]}}}}function N2(U){if(!U._valueTracker){var E=NB(U)?"checked":"value";U._valueTracker=EK(U,E,""+U[E])}}function rB(U){if(!U)return!1;var E=U._valueTracker;if(!E)return!0;var u=E.getValue(),p="";return U&&(p=NB(U)?U.checked?"true":"false":U.value),U=p,U!==u?(E.setValue(U),!0):!1}function Ny(U){if(U=U||(typeof document!=="undefined"?document:void 0),typeof U==="undefined")return null;try{return U.activeElement||U.body}catch(E){return U.body}}function i0(U){return U.replace(uK,function(E){return"\\"+E.charCodeAt(0).toString(16)+" "})}function r2(U,E,u,p,z,c,Y,P){if(U.name="",Y!=null&&typeof Y!=="function"&&typeof Y!=="symbol"&&typeof Y!=="boolean"?U.type=Y:U.removeAttribute("type"),E!=null)if(Y==="number"){if(E===0&&U.value===""||U.value!=E)U.value=""+X0(E)}else U.value!==""+X0(E)&&(U.value=""+X0(E));else Y!=="submit"&&Y!=="reset"||U.removeAttribute("value");E!=null?L2(U,Y,X0(E)):u!=null?L2(U,Y,X0(u)):p!=null&&U.removeAttribute("value"),z==null&&c!=null&&(U.defaultChecked=!!c),z!=null&&(U.checked=z&&typeof z!=="function"&&typeof z!=="symbol"),P!=null&&typeof P!=="function"&&typeof P!=="symbol"&&typeof P!=="boolean"?U.name=""+X0(P):U.removeAttribute("name")}function LB(U,E,u,p,z,c,Y,P){if(c!=null&&typeof c!=="function"&&typeof c!=="symbol"&&typeof c!=="boolean"&&(U.type=c),E!=null||u!=null){if(!(c!=="submit"&&c!=="reset"||E!==void 0&&E!==null)){N2(U);return}u=u!=null?""+X0(u):"",E=E!=null?""+X0(E):u,P||E===U.value||(U.value=E),U.defaultValue=E}p=p!=null?p:z,p=typeof p!=="function"&&typeof p!=="symbol"&&!!p,U.checked=P?U.checked:!!p,U.defaultChecked=!!p,Y!=null&&typeof Y!=="function"&&typeof Y!=="symbol"&&typeof Y!=="boolean"&&(U.name=Y),N2(U)}function L2(U,E,u){E==="number"&&Ny(U.ownerDocument)===U||U.defaultValue===""+u||(U.defaultValue=""+u)}function mn(U,E,u,p){if(U=U.options,E){E={};for(var z=0;z<u.length;z++)E["$"+u[z]]=!0;for(u=0;u<U.length;u++)z=E.hasOwnProperty("$"+U[u].value),U[u].selected!==z&&(U[u].selected=z),z&&p&&(U[u].defaultSelected=!0)}else{u=""+X0(u),E=null;for(z=0;z<U.length;z++){if(U[z].value===u){U[z].selected=!0,p&&(U[z].defaultSelected=!0);return}E!==null||U[z].disabled||(E=U[z])}E!==null&&(E.selected=!0)}}function XB(U,E,u){if(E!=null&&(E=""+X0(E),E!==U.value&&(U.value=E),u==null)){U.defaultValue!==E&&(U.defaultValue=E);return}U.defaultValue=u!=null?""+X0(u):""}function TB(U,E,u,p){if(E==null){if(p!=null){if(u!=null)throw Error(iU(92));if(XH(p)){if(1<p.length)throw Error(iU(93));p=p[0]}u=p}u==null&&(u=""),E=u}u=X0(E),U.defaultValue=u,p=U.textContent,p===u&&p!==""&&p!==null&&(U.value=p),N2(U)}function Rn(U,E){if(E){var u=U.firstChild;if(u&&u===U.lastChild&&u.nodeType===3){u.nodeValue=E;return}}U.textContent=E}function bV(U,E,u){var p=E.indexOf("--")===0;u==null||typeof u==="boolean"||u===""?p?U.setProperty(E,""):E==="float"?U.cssFloat="":U[E]="":p?U.setProperty(E,u):typeof u!=="number"||u===0||pK.has(E)?E==="float"?U.cssFloat=u:U[E]=(""+u).trim():U[E]=u+"px"}function oB(U,E,u){if(E!=null&&typeof E!=="object")throw Error(iU(62));if(U=U.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||E!=null&&E.hasOwnProperty(p)||(p.indexOf("--")===0?U.setProperty(p,""):p==="float"?U.cssFloat="":U[p]="");for(var z in E)p=E[z],E.hasOwnProperty(z)&&u[z]!==p&&bV(U,z,p)}else for(var c in E)E.hasOwnProperty(c)&&bV(U,c,E[c])}function kX(U){if(U.indexOf("-")===-1)return!1;switch(U){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ey(U){return cK.test(""+U)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":U}function A4(){}function QX(U){return U=U.target||U.srcElement||window,U.correspondingUseElement&&(U=U.correspondingUseElement),U.nodeType===3?U.parentNode:U}function lV(U){var E=sn(U);if(E&&(U=E.stateNode)){var u=U[Fz]||null;U:switch(U=E.stateNode,E.type){case"input":if(r2(U,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),E=u.name,u.type==="radio"&&E!=null){for(u=U;u.parentNode;)u=u.parentNode;u=u.querySelectorAll('input[name="'+i0(""+E)+'"][type="radio"]');for(E=0;E<u.length;E++){var p=u[E];if(p!==U&&p.form===U.form){var z=p[Fz]||null;if(!z)throw Error(iU(90));r2(p,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name)}}for(E=0;E<u.length;E++)p=u[E],p.form===U.form&&rB(p)}break U;case"textarea":XB(U,u.value,u.defaultValue);break U;case"select":E=u.value,E!=null&&mn(U,!!u.multiple,E,!1)}}}function iB(U,E,u){if(DL)return U(E,u);DL=!0;try{var p=U(E);return p}finally{if(DL=!1,In!==null||Vn!==null){if(z8(),In&&(E=In,U=Vn,Vn=In=null,lV(E),U))for(E=0;E<U.length;E++)lV(U[E])}}}function WH(U,E){var u=U.stateNode;if(u===null)return null;var p=u[Fz]||null;if(p===null)return null;u=p[E];U:switch(E){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(U=U.type,p=!(U==="button"||U==="input"||U==="select"||U==="textarea")),U=!p;break U;default:U=!1}if(U)return null;if(u&&typeof u!=="function")throw Error(iU(231,E,typeof u));return u}function FB(){if(uy)return uy;var U,E=$X,u=E.length,p,z="value"in JY?JY.value:JY.textContent,c=z.length;for(U=0;U<u&&E[U]===z[U];U++);var Y=u-U;for(p=1;p<=Y&&E[u-p]===z[c-p];p++);return uy=z.slice(U,1<p?1-p:void 0)}function py(U){var E=U.keyCode;return"charCode"in U?(U=U.charCode,U===0&&E===13&&(U=13)):U=E,U===10&&(U=13),32<=U||U===13?U:0}function W$(){return!0}function MV(){return!1}function Az(U){function E(u,p,z,c,Y){this._reactName=u,this._targetInst=z,this.type=p,this.nativeEvent=c,this.target=Y,this.currentTarget=null;for(var P in U)U.hasOwnProperty(P)&&(u=U[P],this[P]=u?u(c):c[P]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?W$:MV,this.isPropagationStopped=MV,this}return yp(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!=="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=W$)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!=="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=W$)},persist:function(){},isPersistent:W$}),E}function IK(U){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(U):(U=yK[U])?!!E[U]:!1}function yX(){return IK}function mB(U,E){switch(U){case"keyup":return VK.indexOf(E.keyCode)!==-1;case"keydown":return E.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VB(U){return U=U.detail,typeof U==="object"&&"data"in U?U.data:null}function BK(U,E){switch(U){case"compositionend":return VB(E);case"keypress":if(E.which!==32)return null;return aV=!0,KV;case"textInput":return U=E.data,U===KV&&aV?null:U;default:return null}}function dK(U,E){if(On)return U==="compositionend"||!IX&&mB(U,E)?(U=FB(),uy=$X=JY=null,On=!1,U):null;switch(U){case"paste":return null;case"keypress":if(!(E.ctrlKey||E.altKey||E.metaKey)||E.ctrlKey&&E.altKey){if(E.char&&1<E.char.length)return E.char;if(E.which)return String.fromCharCode(E.which)}return null;case"compositionend":return AB&&E.locale!=="ko"?null:E.data;default:return null}}function _V(U){var E=U&&U.nodeName&&U.nodeName.toLowerCase();return E==="input"?!!wK[U.type]:E==="textarea"?!0:!1}function GB(U,E,u,p){In?Vn?Vn.push(p):Vn=[p]:In=p,E=Dy(E,"onChange"),0<E.length&&(u=new sy("onChange","change",null,u,p),U.push({event:u,listeners:E}))}function vK(U){iw(U,0)}function ay(U){var E=TH(U);if(rB(E))return U}function gV(U,E){if(U==="change")return E}function eV(){BH&&(BH.detachEvent("onpropertychange",dB),fH=BH=null)}function dB(U){if(U.propertyName==="value"&&ay(fH)){var E=[];GB(E,fH,U,QX(U)),iB(vK,E)}}function SK(U,E,u){U==="focusin"?(eV(),BH=E,fH=u,BH.attachEvent("onpropertychange",dB)):U==="focusout"&&eV()}function RK(U){if(U==="selectionchange"||U==="keyup"||U==="keydown")return ay(fH)}function DK(U,E){if(U==="click")return ay(E)}function tK(U,E){if(U==="input"||U==="change")return ay(E)}function JK(U,E){return U===E&&(U!==0||1/U===1/E)||U!==U&&E!==E}function sH(U,E){if(z0(U,E))return!0;if(typeof U!=="object"||U===null||typeof E!=="object"||E===null)return!1;var u=Object.keys(U),p=Object.keys(E);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var z=u[p];if(!I2.call(E,z)||!z0(U[z],E[z]))return!1}return!0}function CV(U){for(;U&&U.firstChild;)U=U.firstChild;return U}function UG(U,E){var u=CV(U);U=0;for(var p;u;){if(u.nodeType===3){if(p=U+u.textContent.length,U<=E&&p>=E)return{node:u,offset:E-U};U=p}U:{for(;u;){if(u.nextSibling){u=u.nextSibling;break U}u=u.parentNode}u=void 0}u=CV(u)}}function wB(U,E){return U&&E?U===E?!0:U&&U.nodeType===3?!1:E&&E.nodeType===3?wB(U,E.parentNode):("contains"in U)?U.contains(E):U.compareDocumentPosition?!!(U.compareDocumentPosition(E)&16):!1:!1}function vB(U){U=U!=null&&U.ownerDocument!=null&&U.ownerDocument.defaultView!=null?U.ownerDocument.defaultView:window;for(var E=Ny(U.document);E instanceof U.HTMLIFrameElement;){try{var u=typeof E.contentWindow.location.href==="string"}catch(p){u=!1}if(u)U=E.contentWindow;else break;E=Ny(U.document)}return E}function OX(U){var E=U&&U.nodeName&&U.nodeName.toLowerCase();return E&&(E==="input"&&(U.type==="text"||U.type==="search"||U.type==="tel"||U.type==="url"||U.type==="password")||E==="textarea"||U.contentEditable==="true")}function EG(U,E,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;i2||Nn==null||Nn!==Ny(p)||(p=Nn,("selectionStart"in p)&&OX(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),dH&&sH(dH,p)||(dH=p,p=Dy(o2,"onSelect"),0<p.length&&(E=new sy("onSelect","select",null,E,u),U.push({event:E,listeners:p}),E.target=Nn)))}function YP(U,E){var u={};return u[U.toLowerCase()]=E.toLowerCase(),u["Webkit"+U]="webkit"+E,u["Moz"+U]="moz"+E,u}function TP(U){if(bL[U])return bL[U];if(!rn[U])return U;var E=rn[U],u;for(u in E)if(E.hasOwnProperty(u)&&u in SB)return bL[U]=E[u];return U}function Zc(U,E){hB.set(U,E),LP(E,[U])}function _y(){for(var U=Ln,E=NX=Ln=0;E<U;){var u=L0[E];L0[E++]=null;var p=L0[E];L0[E++]=null;var z=L0[E];L0[E++]=null;var c=L0[E];if(L0[E++]=null,p!==null&&z!==null){var Y=p.pending;Y===null?z.next=z:(z.next=Y.next,Y.next=z),p.pending=z}c!==0&&bB(u,z,c)}}function gy(U,E,u,p){L0[Ln++]=U,L0[Ln++]=E,L0[Ln++]=u,L0[Ln++]=p,NX|=p,U.lanes|=p,U=U.alternate,U!==null&&(U.lanes|=p)}function rX(U,E,u,p){return gy(U,E,u,p),Ly(U)}function oP(U,E){return gy(U,null,null,E),Ly(U)}function bB(U,E,u){U.lanes|=u;var p=U.alternate;p!==null&&(p.lanes|=u);for(var z=!1,c=U.return;c!==null;)c.childLanes|=u,p=c.alternate,p!==null&&(p.childLanes|=u),c.tag===22&&(U=c.stateNode,U===null||U._visibility&1||(z=!0)),U=c,c=c.return;return U.tag===3?(c=U.stateNode,z&&E!==null&&(z=31-u0(u),U=c.hiddenUpdates,p=U[z],p===null?U[z]=[E]:p.push(E),E.lane=u|536870912),c):null}function Ly(U){if(50<bH)throw bH=0,K2=null,Error(iU(185));for(var E=U.return;E!==null;)U=E,E=U.return;return U.tag===3?U.stateNode:null}function WK(U,E,u,p){this.tag=U,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ez(U,E,u,p){return new WK(U,E,u,p)}function LX(U){return U=U.prototype,!(!U||!U.isReactComponent)}function V4(U,E){var u=U.alternate;return u===null?(u=ez(U.tag,E,U.key,U.mode),u.elementType=U.elementType,u.type=U.type,u.stateNode=U.stateNode,u.alternate=U,U.alternate=u):(u.pendingProps=E,u.type=U.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=U.flags&65011712,u.childLanes=U.childLanes,u.lanes=U.lanes,u.child=U.child,u.memoizedProps=U.memoizedProps,u.memoizedState=U.memoizedState,u.updateQueue=U.updateQueue,E=U.dependencies,u.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},u.sibling=U.sibling,u.index=U.index,u.ref=U.ref,u.refCleanup=U.refCleanup,u}function lB(U,E){U.flags&=65011714;var u=U.alternate;return u===null?(U.childLanes=0,U.lanes=E,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=u.childLanes,U.lanes=u.lanes,U.child=u.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=u.memoizedProps,U.memoizedState=u.memoizedState,U.updateQueue=u.updateQueue,U.type=u.type,E=u.dependencies,U.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),U}function cy(U,E,u,p,z,c){var Y=0;if(p=U,typeof U==="function")LX(U)&&(Y=1);else if(typeof U==="string")Y=Ka(U,u,Rc.current)?26:U==="html"||U==="head"||U==="body"?27:5;else U:switch(U){case k2:return U=ez(31,u,E,z),U.elementType=k2,U.lanes=c,U;case Qn:return HP(u.children,z,c,E);case PB:Y=8,z|=24;break;case j2:return U=ez(12,u,E,z|2),U.elementType=j2,U.lanes=c,U;case q2:return U=ez(13,u,E,z),U.elementType=q2,U.lanes=c,U;case H2:return U=ez(19,u,E,z),U.elementType=H2,U.lanes=c,U;default:if(typeof U==="object"&&U!==null)switch(U.$$typeof){case F4:Y=10;break U;case xB:Y=9;break U;case PX:Y=11;break U;case xX:Y=14;break U;case dY:Y=16,p=null;break U}Y=29,u=Error(iU(130,U===null?"null":typeof U,"")),p=null}return E=ez(Y,u,E,z),E.elementType=U,E.type=p,E.lanes=c,E}function HP(U,E,u,p){return U=ez(7,U,p,E),U.lanes=u,U}function lL(U,E,u){return U=ez(6,U,null,E),U.lanes=u,U}function MB(U){var E=ez(18,null,null,0);return E.stateNode=U,E}function ML(U,E,u){return E=ez(4,U.children!==null?U.children:[],U.key,E),E.lanes=u,E.stateNode={containerInfo:U.containerInfo,pendingChildren:null,implementation:U.implementation},E}function F0(U,E){if(typeof U==="object"&&U!==null){var u=uG.get(U);if(u!==void 0)return u;return E={value:U,source:E,stack:RV(E)},uG.set(U,E),E}return{value:U,source:E,stack:RV(E)}}function o4(U,E){Tn[on++]=KH,Tn[on++]=Xy,Xy=U,KH=E}function WB(U,E,u){T0[o0++]=wc,T0[o0++]=vc,T0[o0++]=CY,CY=U;var p=wc;U=vc;var z=32-u0(p)-1;p&=~(1<<z),u+=1;var c=32-u0(E)+z;if(30<c){var Y=z-z%5;c=(p&(1<<Y)-1).toString(32),p>>=Y,z-=Y,wc=1<<32-u0(E)+z|u<<z|p,vc=c+U}else wc=1<<c|u<<z|p,vc=U}function XX(U){U.return!==null&&(o4(U,1),WB(U,1,0))}function TX(U){for(;U===Xy;)Xy=Tn[--on],Tn[on]=null,KH=Tn[--on],Tn[on]=null;for(;U===CY;)CY=T0[--o0],T0[o0]=null,vc=T0[--o0],T0[o0]=null,wc=T0[--o0],T0[o0]=null}function fB(U,E){T0[o0++]=wc,T0[o0++]=vc,T0[o0++]=CY,wc=E.id,vc=E.overflow,CY=U}function UZ(U){var E=Error(iU(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw aH(F0(E,U)),A2}function pG(U){var{stateNode:E,type:u,memoizedProps:p}=U;switch(E[v5]=U,E[Fz]=p,u){case"dialog":yu("cancel",E),yu("close",E);break;case"iframe":case"object":case"embed":yu("load",E);break;case"video":case"audio":for(u=0;u<CH.length;u++)yu(CH[u],E);break;case"source":yu("error",E);break;case"img":case"image":case"link":yu("error",E),yu("load",E);break;case"details":yu("toggle",E);break;case"input":yu("invalid",E),LB(E,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":yu("invalid",E);break;case"textarea":yu("invalid",E),TB(E,p.value,p.defaultValue,p.children)}u=p.children,typeof u!=="string"&&typeof u!=="number"&&typeof u!=="bigint"||E.textContent===""+u||p.suppressHydrationWarning===!0||Aw(E.textContent,u)?(p.popover!=null&&(yu("beforetoggle",E),yu("toggle",E)),p.onScroll!=null&&yu("scroll",E),p.onScrollEnd!=null&&yu("scrollend",E),p.onClick!=null&&(E.onclick=A4),E=!0):E=!1,E||UZ(U,!0)}function zG(U){for(S5=U.return;S5;)switch(S5.tag){case 5:case 31:case 13:A0=!1;return;case 27:case 3:A0=!0;return;default:S5=S5.return}}function nn(U){if(U!==S5)return!1;if(!Au)return zG(U),Au=!0,!1;var E=U.tag,u;if(u=E!==3&&E!==27){if(u=E===5)u=U.type,u=!(u!=="form"&&u!=="button")||EX(U.type,U.memoizedProps);u=!u}if(u&&$p&&UZ(U),zG(U),E===13){if(U=U.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(iU(317));$p=MG(U)}else if(E===31){if(U=U.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(iU(317));$p=MG(U)}else E===27?(E=$p,zZ(U.type)?(U=cX,cX=null,$p=U):$p=E):$p=S5?V0(U.stateNode.nextSibling):null;return!0}function yP(){$p=S5=null,Au=!1}function WL(){var U=WY;return U!==null&&(oz===null?oz=U:oz.push.apply(oz,U),WY=null),U}function aH(U){WY===null?WY=[U]:WY.push(U)}function vY(U,E,u){xp(m2,E._currentValue),E._currentValue=u}function G4(U){U._currentValue=m2.current,o5(m2)}function V2(U,E,u){for(;U!==null;){var p=U.alternate;if((U.childLanes&E)!==E?(U.childLanes|=E,p!==null&&(p.childLanes|=E)):p!==null&&(p.childLanes&E)!==E&&(p.childLanes|=E),U===u)break;U=U.return}}function G2(U,E,u,p){var z=U.child;z!==null&&(z.return=U);for(;z!==null;){var c=z.dependencies;if(c!==null){var Y=z.child;c=c.firstContext;U:for(;c!==null;){var P=c;c=z;for(var n=0;n<E.length;n++)if(P.context===E[n]){c.lanes|=u,P=c.alternate,P!==null&&(P.lanes|=u),V2(c.return,u,U),p||(Y=null);break U}c=P.next}}else if(z.tag===18){if(Y=z.return,Y===null)throw Error(iU(341));Y.lanes|=u,c=Y.alternate,c!==null&&(c.lanes|=u),V2(Y,u,U),Y=null}else Y=z.child;if(Y!==null)Y.return=z;else for(Y=z;Y!==null;){if(Y===U){Y=null;break}if(z=Y.sibling,z!==null){z.return=Y.return,Y=z;break}Y=Y.return}z=Y}}function Kn(U,E,u,p){U=null;for(var z=E,c=!1;z!==null;){if(!c){if((z.flags&524288)!==0)c=!0;else if((z.flags&262144)!==0)break}if(z.tag===10){var Y=z.alternate;if(Y===null)throw Error(iU(387));if(Y=Y.memoizedProps,Y!==null){var P=z.type;z0(z.pendingProps.value,Y.value)||(U!==null?U.push(P):U=[P])}}else if(z===$y.current){if(Y=z.alternate,Y===null)throw Error(iU(387));Y.memoizedState.memoizedState!==z.memoizedState.memoizedState&&(U!==null?U.push(Ek):U=[Ek])}z=z.return}U!==null&&G2(E,U,u,p),E.flags|=262144}function Ty(U){for(U=U.firstContext;U!==null;){if(!z0(U.context._currentValue,U.memoizedValue))return!0;U=U.next}return!1}function IP(U){iP=U,m4=null,U=U.dependencies,U!==null&&(U.firstContext=null)}function R5(U){return sB(iP,U)}function f$(U,E){return iP===null&&IP(U),sB(U,E)}function sB(U,E){var u=E._currentValue;if(E={context:E,memoizedValue:u,next:null},m4===null){if(U===null)throw Error(iU(308));m4=E,U.dependencies={lanes:0,firstContext:E},U.flags|=524288}else m4=m4.next=E;return u}function oX(){return{controller:new fK,data:new Map,refCount:0}}function nk(U){U.refCount--,U.refCount===0&&sK(KK,function(){U.controller.abort()})}function aK(U,E){if(wH===null){var u=wH=[];B2=0,Dn=_X(),Gn={status:"pending",value:void 0,then:function(p){u.push(p)}}}return B2++,E.then(cG,cG),E}function cG(){if(--B2===0&&wH!==null){Gn!==null&&(Gn.status="fulfilled");var U=wH;wH=null,Dn=0,Gn=null;for(var E=0;E<U.length;E++)U[E]()}}function _K(U,E){var u=[],p={status:"pending",value:null,reason:null,then:function(z){u.push(z)}};return U.then(function(){p.status="fulfilled",p.value=E;for(var z=0;z<u.length;z++)u[z](E)},function(z){p.status="rejected",p.reason=z;for(z=0;z<u.length;z++)u[z](void 0)}),p}function iX(){var U=kP.current;return U!==null?U:Yp.pooledCache}function Yy(U,E){E===null?xp(kP,kP.current):xp(kP,E.pool)}function KB(){var U=iX();return U===null?null:{parent:E5._currentValue,pool:U}}function ZG(U){return U=U.status,U==="fulfilled"||U==="rejected"}function aB(U,E,u){switch(u=U[u],u===void 0?U.push(E):u!==E&&(E.then(A4,A4),E=u),E.status){case"fulfilled":return E.value;case"rejected":throw U=E.reason,xG(U),U;default:if(typeof E.status==="string")E.then(A4,A4);else{if(U=Yp,U!==null&&100<U.shellSuspendCounter)throw Error(iU(482));U=E,U.status="pending",U.then(function(p){if(E.status==="pending"){var z=E;z.status="fulfilled",z.value=p}},function(p){if(E.status==="pending"){var z=E;z.status="rejected",z.reason=p}})}switch(E.status){case"fulfilled":return E.value;case"rejected":throw U=E.reason,xG(U),U}throw QP=E,an}}function nP(U){try{var E=U._init;return E(U._payload)}catch(u){if(u!==null&&typeof u==="object"&&typeof u.then==="function")throw QP=u,an;throw u}}function PG(){if(QP===null)throw Error(iU(459));var U=QP;return QP=null,U}function xG(U){if(U===an||U===ey)throw Error(iU(483))}function s$(U){var E=_H;return _H+=1,Bn===null&&(Bn=[]),aB(Bn,U,E)}function IH(U,E){E=E.props.ref,U.ref=E!==void 0?E:null}function K$(U,E){if(E.$$typeof===S7)throw Error(iU(525));throw U=Object.prototype.toString.call(E),Error(iU(31,U==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":U))}function _B(U){function E(O,L){if(U){var X=O.deletions;X===null?(O.deletions=[L],O.flags|=16):X.push(L)}}function u(O,L){if(!U)return null;for(;L!==null;)E(O,L),L=L.sibling;return null}function p(O){for(var L=new Map;O!==null;)O.key!==null?L.set(O.key,O):L.set(O.index,O),O=O.sibling;return L}function z(O,L){return O=V4(O,L),O.index=0,O.sibling=null,O}function c(O,L,X){if(O.index=X,!U)return O.flags|=1048576,L;if(X=O.alternate,X!==null)return X=X.index,X<L?(O.flags|=67108866,L):X;return O.flags|=67108866,L}function Y(O){return U&&O.alternate===null&&(O.flags|=67108866),O}function P(O,L,X,i){if(L===null||L.tag!==6)return L=lL(X,O.mode,i),L.return=O,L;return L=z(L,X),L.return=O,L}function n(O,L,X,i){var B=X.type;if(B===Qn)return H(O,L,X.props.children,i,X.key);if(L!==null&&(L.elementType===B||typeof B==="object"&&B!==null&&B.$$typeof===dY&&nP(B)===L.type))return L=z(L,X.props),IH(L,X),L.return=O,L;return L=cy(X.type,X.key,X.props,null,O.mode,i),IH(L,X),L.return=O,L}function j(O,L,X,i){if(L===null||L.tag!==4||L.stateNode.containerInfo!==X.containerInfo||L.stateNode.implementation!==X.implementation)return L=ML(X,O.mode,i),L.return=O,L;return L=z(L,X.children||[]),L.return=O,L}function H(O,L,X,i,B){if(L===null||L.tag!==7)return L=HP(X,O.mode,i,B),L.return=O,L;return L=z(L,X),L.return=O,L}function k(O,L,X){if(typeof L==="string"&&L!==""||typeof L==="number"||typeof L==="bigint")return L=lL(""+L,O.mode,X),L.return=O,L;if(typeof L==="object"&&L!==null){switch(L.$$typeof){case J$:return X=cy(L.type,L.key,L.props,null,O.mode,X),IH(X,L),X.return=O,X;case LH:return L=ML(L,O.mode,X),L.return=O,L;case dY:return L=nP(L),k(O,L,X)}if(XH(L)||$H(L))return L=HP(L,O.mode,X,null),L.return=O,L;if(typeof L.then==="function")return k(O,s$(L),X);if(L.$$typeof===F4)return k(O,f$(O,L),X);K$(O,L)}return null}function Q(O,L,X,i){var B=L!==null?L.key:null;if(typeof X==="string"&&X!==""||typeof X==="number"||typeof X==="bigint")return B!==null?null:P(O,L,""+X,i);if(typeof X==="object"&&X!==null){switch(X.$$typeof){case J$:return X.key===B?n(O,L,X,i):null;case LH:return X.key===B?j(O,L,X,i):null;case dY:return X=nP(X),Q(O,L,X,i)}if(XH(X)||$H(X))return B!==null?null:H(O,L,X,i,null);if(typeof X.then==="function")return Q(O,L,s$(X),i);if(X.$$typeof===F4)return Q(O,L,f$(O,X),i);K$(O,X)}return null}function y(O,L,X,i,B){if(typeof i==="string"&&i!==""||typeof i==="number"||typeof i==="bigint")return O=O.get(X)||null,P(L,O,""+i,B);if(typeof i==="object"&&i!==null){switch(i.$$typeof){case J$:return O=O.get(i.key===null?X:i.key)||null,n(L,O,i,B);case LH:return O=O.get(i.key===null?X:i.key)||null,j(L,O,i,B);case dY:return i=nP(i),y(O,L,X,i,B)}if(XH(i)||$H(i))return O=O.get(X)||null,H(L,O,i,B,null);if(typeof i.then==="function")return y(O,L,X,s$(i),B);if(i.$$typeof===F4)return y(O,L,X,f$(L,i),B);K$(L,i)}return null}function r(O,L,X,i){for(var B=null,G=null,d=L,m=L=0,V=null;d!==null&&m<X.length;m++){d.index>m?(V=d,d=null):V=d.sibling;var w=Q(O,d,X[m],i);if(w===null){d===null&&(d=V);break}U&&d&&w.alternate===null&&E(O,d),L=c(w,L,m),G===null?B=w:G.sibling=w,G=w,d=V}if(m===X.length)return u(O,d),Au&&o4(O,m),B;if(d===null){for(;m<X.length;m++)d=k(O,X[m],i),d!==null&&(L=c(d,L,m),G===null?B=d:G.sibling=d,G=d);return Au&&o4(O,m),B}for(d=p(d);m<X.length;m++)V=y(d,O,m,X[m],i),V!==null&&(U&&V.alternate!==null&&d.delete(V.key===null?m:V.key),L=c(V,L,m),G===null?B=V:G.sibling=V,G=V);return U&&d.forEach(function(h){return E(O,h)}),Au&&o4(O,m),B}function T(O,L,X,i){if(X==null)throw Error(iU(151));for(var B=null,G=null,d=L,m=L=0,V=null,w=X.next();d!==null&&!w.done;m++,w=X.next()){d.index>m?(V=d,d=null):V=d.sibling;var h=Q(O,d,w.value,i);if(h===null){d===null&&(d=V);break}U&&d&&h.alternate===null&&E(O,d),L=c(h,L,m),G===null?B=h:G.sibling=h,G=h,d=V}if(w.done)return u(O,d),Au&&o4(O,m),B;if(d===null){for(;!w.done;m++,w=X.next())w=k(O,w.value,i),w!==null&&(L=c(w,L,m),G===null?B=w:G.sibling=w,G=w);return Au&&o4(O,m),B}for(d=p(d);!w.done;m++,w=X.next())w=y(d,O,m,w.value,i),w!==null&&(U&&w.alternate!==null&&d.delete(w.key===null?m:w.key),L=c(w,L,m),G===null?B=w:G.sibling=w,G=w);return U&&d.forEach(function(_){return E(O,_)}),Au&&o4(O,m),B}function N(O,L,X,i){if(typeof X==="object"&&X!==null&&X.type===Qn&&X.key===null&&(X=X.props.children),typeof X==="object"&&X!==null){switch(X.$$typeof){case J$:U:{for(var B=X.key;L!==null;){if(L.key===B){if(B=X.type,B===Qn){if(L.tag===7){u(O,L.sibling),i=z(L,X.props.children),i.return=O,O=i;break U}}else if(L.elementType===B||typeof B==="object"&&B!==null&&B.$$typeof===dY&&nP(B)===L.type){u(O,L.sibling),i=z(L,X.props),IH(i,X),i.return=O,O=i;break U}u(O,L);break}else E(O,L);L=L.sibling}X.type===Qn?(i=HP(X.props.children,O.mode,i,X.key),i.return=O,O=i):(i=cy(X.type,X.key,X.props,null,O.mode,i),IH(i,X),i.return=O,O=i)}return Y(O);case LH:U:{for(B=X.key;L!==null;){if(L.key===B)if(L.tag===4&&L.stateNode.containerInfo===X.containerInfo&&L.stateNode.implementation===X.implementation){u(O,L.sibling),i=z(L,X.children||[]),i.return=O,O=i;break U}else{u(O,L);break}else E(O,L);L=L.sibling}i=ML(X,O.mode,i),i.return=O,O=i}return Y(O);case dY:return X=nP(X),N(O,L,X,i)}if(XH(X))return r(O,L,X,i);if($H(X)){if(B=$H(X),typeof B!=="function")throw Error(iU(150));return X=B.call(X),T(O,L,X,i)}if(typeof X.then==="function")return N(O,L,s$(X),i);if(X.$$typeof===F4)return N(O,L,f$(O,X),i);K$(O,X)}return typeof X==="string"&&X!==""||typeof X==="number"||typeof X==="bigint"?(X=""+X,L!==null&&L.tag===6?(u(O,L.sibling),i=z(L,X),i.return=O,O=i):(u(O,L),i=lL(X,O.mode,i),i.return=O,O=i),Y(O)):u(O,L)}return function(O,L,X,i){try{_H=0;var B=N(O,L,X,i);return Bn=null,B}catch(d){if(d===an||d===ey)throw d;var G=ez(29,d,null,O.mode);return G.lanes=i,G.return=O,G}finally{}}}function AX(U){U.updateQueue={baseState:U.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function d2(U,E){U=U.updateQueue,E.updateQueue===U&&(E.updateQueue={baseState:U.baseState,firstBaseUpdate:U.firstBaseUpdate,lastBaseUpdate:U.lastBaseUpdate,shared:U.shared,callbacks:null})}function fY(U){return{lane:U,tag:0,payload:null,callback:null,next:null}}function sY(U,E,u){var p=U.updateQueue;if(p===null)return null;if(p=p.shared,(lu&2)!==0){var z=p.pending;return z===null?E.next=E:(E.next=z.next,z.next=E),p.pending=E,E=Ly(U),bB(U,null,u),E}return gy(U,p,E,u),Ly(U)}function vH(U,E,u){if(E=E.updateQueue,E!==null&&(E=E.shared,(u&4194048)!==0)){var p=E.lanes;p&=U.pendingLanes,u|=p,E.lanes=u,QB(U,u)}}function fL(U,E){var{updateQueue:u,alternate:p}=U;if(p!==null&&(p=p.updateQueue,u===p)){var z=null,c=null;if(u=u.firstBaseUpdate,u!==null){do{var Y={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};c===null?z=c=Y:c=c.next=Y,u=u.next}while(u!==null);c===null?z=c=E:c=c.next=E}else z=c=E;u={baseState:p.baseState,firstBaseUpdate:z,lastBaseUpdate:c,shared:p.shared,callbacks:p.callbacks},U.updateQueue=u;return}U=u.lastBaseUpdate,U===null?u.firstBaseUpdate=E:U.next=E,u.lastBaseUpdate=E}function SH(){if(w2){var U=Gn;if(U!==null)throw U}}function RH(U,E,u,p){w2=!1;var z=U.updateQueue;wY=!1;var{firstBaseUpdate:c,lastBaseUpdate:Y}=z,P=z.shared.pending;if(P!==null){z.shared.pending=null;var n=P,j=n.next;n.next=null,Y===null?c=j:Y.next=j,Y=n;var H=U.alternate;H!==null&&(H=H.updateQueue,P=H.lastBaseUpdate,P!==Y&&(P===null?H.firstBaseUpdate=j:P.next=j,H.lastBaseUpdate=n))}if(c!==null){var k=z.baseState;Y=0,H=j=n=null,P=c;do{var Q=P.lane&-536870913,y=Q!==P.lane;if(y?(Tu&Q)===Q:(p&Q)===Q){Q!==0&&Q===Dn&&(w2=!0),H!==null&&(H=H.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});U:{var r=U,T=P;Q=E;var N=u;switch(T.tag){case 1:if(r=T.payload,typeof r==="function"){k=r.call(N,k,Q);break U}k=r;break U;case 3:r.flags=r.flags&-65537|128;case 0:if(r=T.payload,Q=typeof r==="function"?r.call(N,k,Q):r,Q===null||Q===void 0)break U;k=yp({},k,Q);break U;case 2:wY=!0}}Q=P.callback,Q!==null&&(U.flags|=64,y&&(U.flags|=8192),y=z.callbacks,y===null?z.callbacks=[Q]:y.push(Q))}else y={lane:Q,tag:P.tag,payload:P.payload,callback:P.callback,next:null},H===null?(j=H=y,n=k):H=H.next=y,Y|=Q;if(P=P.next,P===null)if(P=z.shared.pending,P===null)break;else y=P,P=y.next,y.next=null,z.lastBaseUpdate=y,z.shared.pending=null}while(1);H===null&&(n=k),z.baseState=n,z.firstBaseUpdate=j,z.lastBaseUpdate=H,c===null&&(z.shared.lanes=0),uZ|=Y,U.lanes=Y,U.memoizedState=k}}function eB(U,E){if(typeof U!=="function")throw Error(iU(191,U));U.call(E)}function CB(U,E){var u=U.callbacks;if(u!==null)for(U.callbacks=null,U=0;U<u.length;U++)eB(u[U],E)}function nG(U,E){U=R4,xp(iy,U),xp(tn,E),R4=U|E.baseLanes}function v2(){xp(iy,R4),xp(tn,tn.current)}function mX(){R4=iy.current,o5(tn),o5(iy)}function SY(U){var E=U.alternate;xp(Jp,Jp.current&1),xp(c0,U),m0===null&&(E===null||tn.current!==null?m0=U:E.memoizedState!==null&&(m0=U))}function S2(U){xp(Jp,Jp.current),xp(c0,U),m0===null&&(m0=U)}function Ud(U){U.tag===22?(xp(Jp,Jp.current),xp(c0,U),m0===null&&(m0=U)):RY(U)}function RY(){xp(Jp,Jp.current),xp(c0,c0.current)}function gz(U){o5(c0),m0===U&&(m0=null),o5(Jp)}function Fy(U){for(var E=U;E!==null;){if(E.tag===13){var u=E.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||pX(u)||zX(u)))return E}else if(E.tag===19&&(E.memoizedProps.revealOrder==="forwards"||E.memoizedProps.revealOrder==="backwards"||E.memoizedProps.revealOrder==="unstable_legacy-backwards"||E.memoizedProps.revealOrder==="together")){if((E.flags&128)!==0)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===U)break;for(;E.sibling===null;){if(E.return===null||E.return===U)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}function Bp(){throw Error(iU(321))}function VX(U,E){if(E===null)return!1;for(var u=0;u<E.length&&u<U.length;u++)if(!z0(U[u],E[u]))return!1;return!0}function GX(U,E,u,p,z,c){return w4=c,pu=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,aE.H=U===null||U.memoizedState===null?Gd:bX,NP=!1,c=u(p,z),NP=!1,dn&&(c=ud(E,u,p,z)),Ed(U),c}function Ed(U){aE.H=eH;var E=Up!==null&&Up.next!==null;if(w4=0,Cp=Up=pu=null,Ay=!1,gH=0,wn=null,E)throw Error(iU(300));U===null||u5||(U=U.dependencies,U!==null&&Ty(U)&&(u5=!0))}function ud(U,E,u,p){pu=U;var z=0;do{if(dn&&(wn=null),gH=0,dn=!1,25<=z)throw Error(iU(301));if(z+=1,Cp=Up=null,U.updateQueue!=null){var c=U.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}aE.H=Bd,c=E(u,p)}while(dn);return c}function eK(){var U=aE.H,E=U.useState()[0];return E=typeof E.then==="function"?jk(E):E,U=U.useState()[0],(Up!==null?Up.memoizedState:null)!==U&&(pu.flags|=1024),E}function BX(){var U=my!==0;return my=0,U}function dX(U,E,u){E.updateQueue=U.updateQueue,E.flags&=-2053,U.lanes&=~u}function wX(U){if(Ay){for(U=U.memoizedState;U!==null;){var E=U.queue;E!==null&&(E.pending=null),U=U.next}Ay=!1}w4=0,Cp=Up=pu=null,dn=!1,gH=my=0,wn=null}function zz(){var U={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cp===null?pu.memoizedState=Cp=U:Cp=Cp.next=U,Cp}function hp(){if(Up===null){var U=pu.alternate;U=U!==null?U.memoizedState:null}else U=Up.next;var E=Cp===null?pu.memoizedState:Cp.next;if(E!==null)Cp=E,Up=U;else{if(U===null){if(pu.alternate===null)throw Error(iU(467));throw Error(iU(310))}Up=U,U={memoizedState:Up.memoizedState,baseState:Up.baseState,baseQueue:Up.baseQueue,queue:Up.queue,next:null},Cp===null?pu.memoizedState=Cp=U:Cp=Cp.next=U}return Cp}function Cy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jk(U){var E=gH;return gH+=1,wn===null&&(wn=[]),U=aB(wn,U,E),E=pu,(Cp===null?E.memoizedState:Cp.next)===null&&(E=E.alternate,aE.H=E===null||E.memoizedState===null?Gd:bX),U}function U8(U){if(U!==null&&typeof U==="object"){if(typeof U.then==="function")return jk(U);if(U.$$typeof===F4)return R5(U)}throw Error(iU(438,String(U)))}function vX(U){var E=null,u=pu.updateQueue;if(u!==null&&(E=u.memoCache),E==null){var p=pu.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(E={data:p.data.map(function(z){return z.slice()}),index:0})))}if(E==null&&(E={data:[],index:0}),u===null&&(u=Cy(),pu.updateQueue=u),u.memoCache=E,u=E.data[E.index],u===void 0)for(u=E.data[E.index]=Array(U),p=0;p<U;p++)u[p]=R7;return E.index++,u}function v4(U,E){return typeof E==="function"?E(U):E}function Zy(U){var E=hp();return SX(E,Up,U)}function SX(U,E,u){var p=U.queue;if(p===null)throw Error(iU(311));p.lastRenderedReducer=u;var z=U.baseQueue,c=p.pending;if(c!==null){if(z!==null){var Y=z.next;z.next=c.next,c.next=Y}E.baseQueue=z=c,p.pending=null}if(c=U.baseState,z===null)U.memoizedState=c;else{E=z.next;var P=Y=null,n=null,j=E,H=!1;do{var k=j.lane&-536870913;if(k!==j.lane?(Tu&k)===k:(w4&k)===k){var Q=j.revertLane;if(Q===0)n!==null&&(n=n.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),k===Dn&&(H=!0);else if((w4&Q)===Q){j=j.next,Q===Dn&&(H=!0);continue}else k={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},n===null?(P=n=k,Y=c):n=n.next=k,pu.lanes|=Q,uZ|=Q;k=j.action,NP&&u(c,k),c=j.hasEagerState?j.eagerState:u(c,k)}else Q={lane:k,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},n===null?(P=n=Q,Y=c):n=n.next=Q,pu.lanes|=k,uZ|=k;j=j.next}while(j!==null&&j!==E);if(n===null?Y=c:n.next=P,!z0(c,U.memoizedState)&&(u5=!0,H&&(u=Gn,u!==null)))throw u;U.memoizedState=c,U.baseState=Y,U.baseQueue=n,p.lastRenderedState=c}return z===null&&(p.lanes=0),[U.memoizedState,p.dispatch]}function sL(U){var E=hp(),u=E.queue;if(u===null)throw Error(iU(311));u.lastRenderedReducer=U;var{dispatch:p,pending:z}=u,c=E.memoizedState;if(z!==null){u.pending=null;var Y=z=z.next;do c=U(c,Y.action),Y=Y.next;while(Y!==z);z0(c,E.memoizedState)||(u5=!0),E.memoizedState=c,E.baseQueue===null&&(E.baseState=c),u.lastRenderedState=c}return[c,p]}function pd(U,E,u){var p=pu,z=hp(),c=Au;if(c){if(u===void 0)throw Error(iU(407));u=u()}else u=E();var Y=!z0((Up||z).memoizedState,u);if(Y&&(z.memoizedState=u,u5=!0),z=z.queue,RX(Yd.bind(null,p,z,U),[U]),z.getSnapshot!==E||Y||Cp!==null&&Cp.memoizedState.tag&1){if(p.flags|=2048,Jn(9,{destroy:void 0},cd.bind(null,p,z,u,E),null),Yp===null)throw Error(iU(349));c||(w4&127)!==0||zd(p,E,u)}return u}function zd(U,E,u){U.flags|=16384,U={getSnapshot:E,value:u},E=pu.updateQueue,E===null?(E=Cy(),pu.updateQueue=E,E.stores=[U]):(u=E.stores,u===null?E.stores=[U]:u.push(U))}function cd(U,E,u,p){E.value=u,E.getSnapshot=p,Zd(E)&&Pd(U)}function Yd(U,E,u){return u(function(){Zd(E)&&Pd(U)})}function Zd(U){var E=U.getSnapshot;U=U.value;try{var u=E();return!z0(U,u)}catch(p){return!0}}function Pd(U){var E=oP(U,2);E!==null&&iz(E,U,2)}function R2(U){var E=zz();if(typeof U==="function"){var u=U;if(U=u(),NP){tY(!0);try{u()}finally{tY(!1)}}}return E.memoizedState=E.baseState=U,E.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v4,lastRenderedState:U},E}function xd(U,E,u,p){return U.baseState=u,SX(U,Up,typeof p==="function"?p:v4)}function CK(U,E,u,p,z){if(u8(U))throw Error(iU(485));if(U=E.action,U!==null){var c={payload:z,action:U,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){c.listeners.push(Y)}};aE.T!==null?u(!0):c.isTransition=!1,p(c),u=E.pending,u===null?(c.next=E.pending=c,nd(E,c)):(c.next=u.next,E.pending=u.next=c)}}function nd(U,E){var{action:u,payload:p}=E,z=U.state;if(E.isTransition){var c=aE.T,Y={};aE.T=Y;try{var P=u(z,p),n=aE.S;n!==null&&n(Y,P),jG(U,E,P)}catch(j){D2(U,E,j)}finally{c!==null&&Y.types!==null&&(c.types=Y.types),aE.T=c}}else try{c=u(z,p),jG(U,E,c)}catch(j){D2(U,E,j)}}function jG(U,E,u){u!==null&&typeof u==="object"&&typeof u.then==="function"?u.then(function(p){qG(U,E,p)},function(p){return D2(U,E,p)}):qG(U,E,u)}function qG(U,E,u){E.status="fulfilled",E.value=u,jd(E),U.state=u,E=U.pending,E!==null&&(u=E.next,u===E?U.pending=null:(u=u.next,E.next=u,nd(U,u)))}function D2(U,E,u){var p=U.pending;if(U.pending=null,p!==null){p=p.next;do E.status="rejected",E.reason=u,jd(E),E=E.next;while(E!==p)}U.action=null}function jd(U){U=U.listeners;for(var E=0;E<U.length;E++)U[E]()}function qd(U,E){return E}function HG(U,E){if(Au){var u=Yp.formState;if(u!==null){U:{var p=pu;if(Au){if($p){E:{var z=$p;for(var c=A0;z.nodeType!==8;){if(!c){z=null;break E}if(z=V0(z.nextSibling),z===null){z=null;break E}}c=z.data,z=c==="F!"||c==="F"?z:null}if(z){$p=V0(z.nextSibling),p=z.data==="F!";break U}}UZ(p)}p=!1}p&&(E=u[0])}}return u=zz(),u.memoizedState=u.baseState=E,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:E},u.queue=p,u=Ad.bind(null,pu,p),p.dispatch=u,p=R2(!1),c=hX.bind(null,pu,!1,p.queue),p=zz(),z={state:E,dispatch:null,action:U,pending:null},p.queue=z,u=CK.bind(null,pu,z,c,u),z.dispatch=u,p.memoizedState=U,[E,u,!1]}function kG(U){var E=hp();return Hd(E,Up,U)}function Hd(U,E,u){if(E=SX(U,E,qd)[0],U=Zy(v4)[0],typeof E==="object"&&E!==null&&typeof E.then==="function")try{var p=jk(E)}catch(Y){if(Y===an)throw ey;throw Y}else p=E;E=hp();var z=E.queue,c=z.dispatch;return u!==E.memoizedState&&(pu.flags|=2048,Jn(9,{destroy:void 0},Ua.bind(null,z,u),null)),[p,c,U]}function Ua(U,E){U.action=E}function QG(U){var E=hp(),u=Up;if(u!==null)return Hd(E,u,U);hp(),E=E.memoizedState,u=hp();var p=u.queue.dispatch;return u.memoizedState=U,[E,p,!1]}function Jn(U,E,u,p){return U={tag:U,create:u,deps:p,inst:E,next:null},E=pu.updateQueue,E===null&&(E=Cy(),pu.updateQueue=E),u=E.lastEffect,u===null?E.lastEffect=U.next=U:(p=u.next,u.next=U,U.next=p,E.lastEffect=U),U}function kd(){return hp().memoizedState}function Py(U,E,u,p){var z=zz();pu.flags|=U,z.memoizedState=Jn(1|E,{destroy:void 0},u,p===void 0?null:p)}function E8(U,E,u,p){var z=hp();p=p===void 0?null:p;var c=z.memoizedState.inst;Up!==null&&p!==null&&VX(p,Up.memoizedState.deps)?z.memoizedState=Jn(E,c,u,p):(pu.flags|=U,z.memoizedState=Jn(1|E,c,u,p))}function $G(U,E){Py(8390656,8,U,E)}function RX(U,E){E8(2048,8,U,E)}function Ea(U){pu.flags|=4;var E=pu.updateQueue;if(E===null)E=Cy(),pu.updateQueue=E,E.events=[U];else{var u=E.events;u===null?E.events=[U]:u.push(U)}}function Qd(U){var E=hp().memoizedState;return Ea({ref:E,nextImpl:U}),function(){if((lu&2)!==0)throw Error(iU(440));return E.impl.apply(void 0,arguments)}}function $d(U,E){return E8(4,2,U,E)}function yd(U,E){return E8(4,4,U,E)}function Id(U,E){if(typeof E==="function"){U=U();var u=E(U);return function(){typeof u==="function"?u():E(null)}}if(E!==null&&E!==void 0)return U=U(),E.current=U,function(){E.current=null}}function Od(U,E,u){u=u!==null&&u!==void 0?u.concat([U]):null,E8(4,4,Id.bind(null,E,U),u)}function DX(){}function Nd(U,E){var u=hp();E=E===void 0?null:E;var p=u.memoizedState;if(E!==null&&VX(E,p[1]))return p[0];return u.memoizedState=[U,E],U}function rd(U,E){var u=hp();E=E===void 0?null:E;var p=u.memoizedState;if(E!==null&&VX(E,p[1]))return p[0];if(p=U(),NP){tY(!0);try{U()}finally{tY(!1)}}return u.memoizedState=[p,E],p}function tX(U,E,u){if(u===void 0||(w4&1073741824)!==0&&(Tu&261930)===0)return U.memoizedState=E;return U.memoizedState=u,U=xw(),pu.lanes|=U,uZ|=U,u}function Ld(U,E,u,p){if(z0(u,E))return u;if(tn.current!==null)return U=tX(U,u,p),z0(U,E)||(u5=!0),U;if((w4&42)===0||(w4&1073741824)!==0&&(Tu&261930)===0)return u5=!0,U.memoizedState=u;return U=xw(),pu.lanes|=U,uZ|=U,E}function Xd(U,E,u,p,z){var c=Mu.p;Mu.p=c!==0&&8>c?c:8;var Y=aE.T,P={};aE.T=P,hX(U,!1,E,u);try{var n=z(),j=aE.S;if(j!==null&&j(P,n),n!==null&&typeof n==="object"&&typeof n.then==="function"){var H=_K(n,p);DH(U,E,H,p0(U))}else DH(U,E,p,p0(U))}catch(k){DH(U,E,{then:function(){},status:"rejected",reason:k},p0())}finally{Mu.p=c,Y!==null&&P.types!==null&&(Y.types=P.types),aE.T=Y}}function ua(){}function t2(U,E,u,p){if(U.tag!==5)throw Error(iU(476));var z=Td(U).queue;Xd(U,z,E,qP,u===null?ua:function(){return od(U),u(p)})}function Td(U){var E=U.memoizedState;if(E!==null)return E;E={memoizedState:qP,baseState:qP,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:v4,lastRenderedState:qP},next:null};var u={};return E.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:v4,lastRenderedState:u},next:null},U.memoizedState=E,U=U.alternate,U!==null&&(U.memoizedState=E),E}function od(U){var E=Td(U);E.next===null&&(E=U.alternate.memoizedState),DH(U,E.next.queue,{},p0())}function JX(){return R5(Ek)}function id(){return hp().memoizedState}function Fd(){return hp().memoizedState}function pa(U){for(var E=U.return;E!==null;){switch(E.tag){case 24:case 3:var u=p0();U=fY(u);var p=sY(E,U,u);p!==null&&(iz(p,E,u),vH(p,E,u)),E={cache:oX()},U.payload=E;return}E=E.return}}function za(U,E,u){var p=p0();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},u8(U)?md(E,u):(u=rX(U,E,u,p),u!==null&&(iz(u,U,p),Vd(u,E,p)))}function Ad(U,E,u){var p=p0();DH(U,E,u,p)}function DH(U,E,u,p){var z={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(u8(U))md(E,z);else{var c=U.alternate;if(U.lanes===0&&(c===null||c.lanes===0)&&(c=E.lastRenderedReducer,c!==null))try{var Y=E.lastRenderedState,P=c(Y,u);if(z.hasEagerState=!0,z.eagerState=P,z0(P,Y))return gy(U,E,z,0),Yp===null&&_y(),!1}catch(n){}finally{}if(u=rX(U,E,z,p),u!==null)return iz(u,U,p),Vd(u,E,p),!0}return!1}function hX(U,E,u,p){if(p={lane:2,revertLane:_X(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},u8(U)){if(E)throw Error(iU(479))}else E=rX(U,u,p,2),E!==null&&iz(E,U,2)}function u8(U){var E=U.alternate;return U===pu||E!==null&&E===pu}function md(U,E){dn=Ay=!0;var u=U.pending;u===null?E.next=E:(E.next=u.next,u.next=E),U.pending=E}function Vd(U,E,u){if((u&4194048)!==0){var p=E.lanes;p&=U.pendingLanes,u|=p,E.lanes=u,QB(U,u)}}function KL(U,E,u,p){E=U.memoizedState,u=u(p,E),u=u===null||u===void 0?E:yp({},E,u),U.memoizedState=u,U.lanes===0&&(U.updateQueue.baseState=u)}function yG(U,E,u,p,z,c,Y){return U=U.stateNode,typeof U.shouldComponentUpdate==="function"?U.shouldComponentUpdate(p,c,Y):E.prototype&&E.prototype.isPureReactComponent?!sH(u,p)||!sH(z,c):!0}function IG(U,E,u,p){U=E.state,typeof E.componentWillReceiveProps==="function"&&E.componentWillReceiveProps(u,p),typeof E.UNSAFE_componentWillReceiveProps==="function"&&E.UNSAFE_componentWillReceiveProps(u,p),E.state!==U&&J2.enqueueReplaceState(E,E.state,null)}function rP(U,E){var u=E;if("ref"in E){u={};for(var p in E)p!=="ref"&&(u[p]=E[p])}if(U=U.defaultProps){u===E&&(u=yp({},u));for(var z in U)u[z]===void 0&&(u[z]=U[z])}return u}function dd(U){ry(U)}function wd(U){console.error(U)}function vd(U){ry(U)}function Vy(U,E){try{var u=U.onUncaughtError;u(E.value,{componentStack:E.stack})}catch(p){setTimeout(function(){throw p})}}function OG(U,E,u){try{var p=U.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:E.tag===1?E.stateNode:null})}catch(z){setTimeout(function(){throw z})}}function h2(U,E,u){return u=fY(u),u.tag=3,u.payload={element:null},u.callback=function(){Vy(U,E)},u}function Sd(U){return U=fY(U),U.tag=3,U}function Rd(U,E,u,p){var z=u.type.getDerivedStateFromError;if(typeof z==="function"){var c=p.value;U.payload=function(){return z(c)},U.callback=function(){OG(E,u,p)}}var Y=u.stateNode;Y!==null&&typeof Y.componentDidCatch==="function"&&(U.callback=function(){OG(E,u,p),typeof z!=="function"&&(KY===null?KY=new Set([this]):KY.add(this));var P=p.stack;this.componentDidCatch(p.value,{componentStack:P!==null?P:""})})}function ca(U,E,u,p,z){if(u.flags|=32768,p!==null&&typeof p==="object"&&typeof p.then==="function"){if(E=u.alternate,E!==null&&Kn(E,u,z,!0),u=c0.current,u!==null){switch(u.tag){case 31:case 13:return m0===null?vy():u.alternate===null&&dp===0&&(dp=3),u.flags&=-257,u.flags|=65536,u.lanes=z,p===oy?u.flags|=16384:(E=u.updateQueue,E===null?u.updateQueue=new Set([p]):E.add(p),c2(U,p,z)),!1;case 22:return u.flags|=65536,p===oy?u.flags|=16384:(E=u.updateQueue,E===null?(E={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=E):(u=E.retryQueue,u===null?E.retryQueue=new Set([p]):u.add(p)),c2(U,p,z)),!1}throw Error(iU(435,u.tag))}return c2(U,p,z),vy(),!1}if(Au)return E=c0.current,E!==null?((E.flags&65536)===0&&(E.flags|=256),E.flags|=65536,E.lanes=z,p!==A2&&(U=Error(iU(422),{cause:p}),aH(F0(U,u)))):(p!==A2&&(E=Error(iU(423),{cause:p}),aH(F0(E,u))),U=U.current.alternate,U.flags|=65536,z&=-z,U.lanes|=z,p=F0(p,u),z=h2(U.stateNode,p,z),fL(U,z),dp!==4&&(dp=2)),!1;var c=Error(iU(520),{cause:p});if(c=F0(c,u),hH===null?hH=[c]:hH.push(c),dp!==4&&(dp=2),E===null)return!0;p=F0(p,u),u=E;do{switch(u.tag){case 3:return u.flags|=65536,U=z&-z,u.lanes|=U,U=h2(u.stateNode,p,U),fL(u,U),!1;case 1:if(E=u.type,c=u.stateNode,(u.flags&128)===0&&(typeof E.getDerivedStateFromError==="function"||c!==null&&typeof c.componentDidCatch==="function"&&(KY===null||!KY.has(c))))return u.flags|=65536,z&=-z,u.lanes|=z,z=Sd(z),Rd(z,U,u,p),fL(u,z),!1}u=u.return}while(u!==null);return!1}function w5(U,E,u,p){E.child=U===null?gB(E,null,u,p):OP(E,U.child,u,p)}function NG(U,E,u,p,z){u=u.render;var c=E.ref;if("ref"in p){var Y={};for(var P in p)P!=="ref"&&(Y[P]=p[P])}else Y=p;if(IP(E),p=GX(U,E,u,Y,c,z),P=BX(),U!==null&&!u5)return dX(U,E,z),S4(U,E,z);return Au&&P&&XX(E),E.flags|=1,w5(U,E,p,z),E.child}function rG(U,E,u,p,z){if(U===null){var c=u.type;if(typeof c==="function"&&!LX(c)&&c.defaultProps===void 0&&u.compare===null)return E.tag=15,E.type=c,Dd(U,E,c,p,z);return U=cy(u.type,null,p,E,E.mode,z),U.ref=E.ref,U.return=E,E.child=U}if(c=U.child,!MX(U,z)){var Y=c.memoizedProps;if(u=u.compare,u=u!==null?u:sH,u(Y,p)&&U.ref===E.ref)return S4(U,E,z)}return E.flags|=1,U=V4(c,p),U.ref=E.ref,U.return=E,E.child=U}function Dd(U,E,u,p,z){if(U!==null){var c=U.memoizedProps;if(sH(c,p)&&U.ref===E.ref)if(u5=!1,E.pendingProps=p=c,MX(U,z))(U.flags&131072)!==0&&(u5=!0);else return E.lanes=U.lanes,S4(U,E,z)}return b2(U,E,u,p,z)}function td(U,E,u,p){var z=p.children,c=U!==null?U.memoizedState:null;if(U===null&&E.stateNode===null&&(E.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((E.flags&128)!==0){if(c=c!==null?c.baseLanes|u:u,U!==null){p=E.child=U.child;for(z=0;p!==null;)z=z|p.lanes|p.childLanes,p=p.sibling;p=z&~c}else p=0,E.child=null;return LG(U,E,c,u,p)}if((u&536870912)!==0)E.memoizedState={baseLanes:0,cachePool:null},U!==null&&Yy(E,c!==null?c.cachePool:null),c!==null?nG(E,c):v2(),Ud(E);else return p=E.lanes=536870912,LG(U,E,c!==null?c.baseLanes|u:u,u,p)}else c!==null?(Yy(E,c.cachePool),nG(E,c),RY(E),E.memoizedState=null):(U!==null&&Yy(E,null),v2(),RY(E));return w5(U,E,z,u),E.child}function FH(U,E){return U!==null&&U.tag===22||E.stateNode!==null||(E.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.sibling}function LG(U,E,u,p,z){var c=iX();return c=c===null?null:{parent:E5._currentValue,pool:c},E.memoizedState={baseLanes:u,cachePool:c},U!==null&&Yy(E,null),v2(),Ud(E),U!==null&&Kn(U,E,p,!0),E.childLanes=z,null}function xy(U,E){return E=Gy({mode:E.mode,children:E.children},U.mode),E.ref=U.ref,U.child=E,E.return=U,E}function XG(U,E,u){return OP(E,U.child,null,u),U=xy(E,E.pendingProps),U.flags|=2,gz(E),E.memoizedState=null,U}function Ya(U,E,u){var p=E.pendingProps,z=(E.flags&128)!==0;if(E.flags&=-129,U===null){if(Au){if(p.mode==="hidden")return U=xy(E,p),E.lanes=536870912,FH(null,U);if(S2(E),(U=$p)?(U=Gw(U,A0),U=U!==null&&U.data==="&"?U:null,U!==null&&(E.memoizedState={dehydrated:U,treeContext:CY!==null?{id:wc,overflow:vc}:null,retryLane:536870912,hydrationErrors:null},u=MB(U),u.return=E,E.child=u,S5=E,$p=null)):U=null,U===null)throw UZ(E);return E.lanes=536870912,null}return xy(E,p)}var c=U.memoizedState;if(c!==null){var Y=c.dehydrated;if(S2(E),z)if(E.flags&256)E.flags&=-257,E=XG(U,E,u);else if(E.memoizedState!==null)E.child=U.child,E.flags|=128,E=null;else throw Error(iU(558));else if(u5||Kn(U,E,u,!1),z=(u&U.childLanes)!==0,u5||z){if(p=Yp,p!==null&&(Y=$B(p,u),Y!==0&&Y!==c.retryLane))throw c.retryLane=Y,oP(U,Y),iz(p,U,Y),lX;vy(),E=XG(U,E,u)}else U=c.treeContext,$p=V0(Y.nextSibling),S5=E,Au=!0,WY=null,A0=!1,U!==null&&fB(E,U),E=xy(E,p),E.flags|=4096;return E}return U=V4(U.child,{mode:p.mode,children:p.children}),U.ref=E.ref,E.child=U,U.return=E,U}function ny(U,E){var u=E.ref;if(u===null)U!==null&&U.ref!==null&&(E.flags|=4194816);else{if(typeof u!=="function"&&typeof u!=="object")throw Error(iU(284));if(U===null||U.ref!==u)E.flags|=4194816}}function b2(U,E,u,p,z){if(IP(E),u=GX(U,E,u,p,void 0,z),p=BX(),U!==null&&!u5)return dX(U,E,z),S4(U,E,z);return Au&&p&&XX(E),E.flags|=1,w5(U,E,u,z),E.child}function TG(U,E,u,p,z,c){if(IP(E),E.updateQueue=null,u=ud(E,p,u,z),Ed(U),p=BX(),U!==null&&!u5)return dX(U,E,c),S4(U,E,c);return Au&&p&&XX(E),E.flags|=1,w5(U,E,u,c),E.child}function oG(U,E,u,p,z){if(IP(E),E.stateNode===null){var c=Xn,Y=u.contextType;typeof Y==="object"&&Y!==null&&(c=R5(Y)),c=new u(p,c),E.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=J2,E.stateNode=c,c._reactInternals=E,c=E.stateNode,c.props=p,c.state=E.memoizedState,c.refs={},AX(E),Y=u.contextType,c.context=typeof Y==="object"&&Y!==null?R5(Y):Xn,c.state=E.memoizedState,Y=u.getDerivedStateFromProps,typeof Y==="function"&&(KL(E,u,Y,p),c.state=E.memoizedState),typeof u.getDerivedStateFromProps==="function"||typeof c.getSnapshotBeforeUpdate==="function"||typeof c.UNSAFE_componentWillMount!=="function"&&typeof c.componentWillMount!=="function"||(Y=c.state,typeof c.componentWillMount==="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount==="function"&&c.UNSAFE_componentWillMount(),Y!==c.state&&J2.enqueueReplaceState(c,c.state,null),RH(E,p,c,z),SH(),c.state=E.memoizedState),typeof c.componentDidMount==="function"&&(E.flags|=4194308),p=!0}else if(U===null){c=E.stateNode;var P=E.memoizedProps,n=rP(u,P);c.props=n;var j=c.context,H=u.contextType;Y=Xn,typeof H==="object"&&H!==null&&(Y=R5(H));var k=u.getDerivedStateFromProps;H=typeof k==="function"||typeof c.getSnapshotBeforeUpdate==="function",P=E.pendingProps!==P,H||typeof c.UNSAFE_componentWillReceiveProps!=="function"&&typeof c.componentWillReceiveProps!=="function"||(P||j!==Y)&&IG(E,c,p,Y),wY=!1;var Q=E.memoizedState;c.state=Q,RH(E,p,c,z),SH(),j=E.memoizedState,P||Q!==j||wY?(typeof k==="function"&&(KL(E,u,k,p),j=E.memoizedState),(n=wY||yG(E,u,n,p,Q,j,Y))?(H||typeof c.UNSAFE_componentWillMount!=="function"&&typeof c.componentWillMount!=="function"||(typeof c.componentWillMount==="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount==="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount==="function"&&(E.flags|=4194308)):(typeof c.componentDidMount==="function"&&(E.flags|=4194308),E.memoizedProps=p,E.memoizedState=j),c.props=p,c.state=j,c.context=Y,p=n):(typeof c.componentDidMount==="function"&&(E.flags|=4194308),p=!1)}else{c=E.stateNode,d2(U,E),Y=E.memoizedProps,H=rP(u,Y),c.props=H,k=E.pendingProps,Q=c.context,j=u.contextType,n=Xn,typeof j==="object"&&j!==null&&(n=R5(j)),P=u.getDerivedStateFromProps,(j=typeof P==="function"||typeof c.getSnapshotBeforeUpdate==="function")||typeof c.UNSAFE_componentWillReceiveProps!=="function"&&typeof c.componentWillReceiveProps!=="function"||(Y!==k||Q!==n)&&IG(E,c,p,n),wY=!1,Q=E.memoizedState,c.state=Q,RH(E,p,c,z),SH();var y=E.memoizedState;Y!==k||Q!==y||wY||U!==null&&U.dependencies!==null&&Ty(U.dependencies)?(typeof P==="function"&&(KL(E,u,P,p),y=E.memoizedState),(H=wY||yG(E,u,H,p,Q,y,n)||U!==null&&U.dependencies!==null&&Ty(U.dependencies))?(j||typeof c.UNSAFE_componentWillUpdate!=="function"&&typeof c.componentWillUpdate!=="function"||(typeof c.componentWillUpdate==="function"&&c.componentWillUpdate(p,y,n),typeof c.UNSAFE_componentWillUpdate==="function"&&c.UNSAFE_componentWillUpdate(p,y,n)),typeof c.componentDidUpdate==="function"&&(E.flags|=4),typeof c.getSnapshotBeforeUpdate==="function"&&(E.flags|=1024)):(typeof c.componentDidUpdate!=="function"||Y===U.memoizedProps&&Q===U.memoizedState||(E.flags|=4),typeof c.getSnapshotBeforeUpdate!=="function"||Y===U.memoizedProps&&Q===U.memoizedState||(E.flags|=1024),E.memoizedProps=p,E.memoizedState=y),c.props=p,c.state=y,c.context=n,p=H):(typeof c.componentDidUpdate!=="function"||Y===U.memoizedProps&&Q===U.memoizedState||(E.flags|=4),typeof c.getSnapshotBeforeUpdate!=="function"||Y===U.memoizedProps&&Q===U.memoizedState||(E.flags|=1024),p=!1)}return c=p,ny(U,E),p=(E.flags&128)!==0,c||p?(c=E.stateNode,u=p&&typeof u.getDerivedStateFromError!=="function"?null:c.render(),E.flags|=1,U!==null&&p?(E.child=OP(E,U.child,null,z),E.child=OP(E,null,u,z)):w5(U,E,u,z),E.memoizedState=c.state,U=E.child):U=S4(U,E,z),U}function iG(U,E,u,p){return yP(),E.flags|=256,w5(U,E,u,p),E.child}function _L(U){return{baseLanes:U,cachePool:KB()}}function gL(U,E,u){return U=U!==null?U.childLanes&~u:0,E&&(U|=Cz),U}function Jd(U,E,u){var p=E.pendingProps,z=!1,c=(E.flags&128)!==0,Y;if((Y=c)||(Y=U!==null&&U.memoizedState===null?!1:(Jp.current&2)!==0),Y&&(z=!0,E.flags&=-129),Y=(E.flags&32)!==0,E.flags&=-33,U===null){if(Au){if(z?SY(E):RY(E),(U=$p)?(U=Gw(U,A0),U=U!==null&&U.data!=="&"?U:null,U!==null&&(E.memoizedState={dehydrated:U,treeContext:CY!==null?{id:wc,overflow:vc}:null,retryLane:536870912,hydrationErrors:null},u=MB(U),u.return=E,E.child=u,S5=E,$p=null)):U=null,U===null)throw UZ(E);return zX(U)?E.lanes=32:E.lanes=536870912,null}var P=p.children;if(p=p.fallback,z)return RY(E),z=E.mode,P=Gy({mode:"hidden",children:P},z),p=HP(p,z,u,null),P.return=E,p.return=E,P.sibling=p,E.child=P,p=E.child,p.memoizedState=_L(u),p.childLanes=gL(U,Y,u),E.memoizedState=aL,FH(null,p);return SY(E),l2(E,P)}var n=U.memoizedState;if(n!==null&&(P=n.dehydrated,P!==null)){if(c)E.flags&256?(SY(E),E.flags&=-257,E=eL(U,E,u)):E.memoizedState!==null?(RY(E),E.child=U.child,E.flags|=128,E=null):(RY(E),P=p.fallback,z=E.mode,p=Gy({mode:"visible",children:p.children},z),P=HP(P,z,u,null),P.flags|=2,p.return=E,P.return=E,p.sibling=P,E.child=p,OP(E,U.child,null,u),p=E.child,p.memoizedState=_L(u),p.childLanes=gL(U,Y,u),E.memoizedState=aL,E=FH(null,p));else if(SY(E),zX(P)){if(Y=P.nextSibling&&P.nextSibling.dataset,Y)var j=Y.dgst;Y=j,p=Error(iU(419)),p.stack="",p.digest=Y,aH({value:p,source:null,stack:null}),E=eL(U,E,u)}else if(u5||Kn(U,E,u,!1),Y=(u&U.childLanes)!==0,u5||Y){if(Y=Yp,Y!==null&&(p=$B(Y,u),p!==0&&p!==n.retryLane))throw n.retryLane=p,oP(U,p),iz(Y,U,p),lX;pX(P)||vy(),E=eL(U,E,u)}else pX(P)?(E.flags|=192,E.child=U.child,E=null):(U=n.treeContext,$p=V0(P.nextSibling),S5=E,Au=!0,WY=null,A0=!1,U!==null&&fB(E,U),E=l2(E,p.children),E.flags|=4096);return E}if(z)return RY(E),P=p.fallback,z=E.mode,n=U.child,j=n.sibling,p=V4(n,{mode:"hidden",children:p.children}),p.subtreeFlags=n.subtreeFlags&65011712,j!==null?P=V4(j,P):(P=HP(P,z,u,null),P.flags|=2),P.return=E,p.return=E,p.sibling=P,E.child=p,FH(null,p),p=E.child,P=U.child.memoizedState,P===null?P=_L(u):(z=P.cachePool,z!==null?(n=E5._currentValue,z=z.parent!==n?{parent:n,pool:n}:z):z=KB(),P={baseLanes:P.baseLanes|u,cachePool:z}),p.memoizedState=P,p.childLanes=gL(U,Y,u),E.memoizedState=aL,FH(U.child,p);return SY(E),u=U.child,U=u.sibling,u=V4(u,{mode:"visible",children:p.children}),u.return=E,u.sibling=null,U!==null&&(Y=E.deletions,Y===null?(E.deletions=[U],E.flags|=16):Y.push(U)),E.child=u,E.memoizedState=null,u}function l2(U,E){return E=Gy({mode:"visible",children:E},U.mode),E.return=U,U.child=E}function Gy(U,E){return U=ez(22,U,null,E),U.lanes=0,U}function eL(U,E,u){return OP(E,U.child,null,u),U=l2(E,E.pendingProps.children),U.flags|=2,E.memoizedState=null,U}function FG(U,E,u){U.lanes|=E;var p=U.alternate;p!==null&&(p.lanes|=E),V2(U.return,E,u)}function CL(U,E,u,p,z,c){var Y=U.memoizedState;Y===null?U.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:z,treeForkCount:c}:(Y.isBackwards=E,Y.rendering=null,Y.renderingStartTime=0,Y.last=p,Y.tail=u,Y.tailMode=z,Y.treeForkCount=c)}function hd(U,E,u){var p=E.pendingProps,z=p.revealOrder,c=p.tail;p=p.children;var Y=Jp.current,P=(Y&2)!==0;if(P?(Y=Y&1|2,E.flags|=128):Y&=1,xp(Jp,Y),w5(U,E,p,u),p=Au?KH:0,!P&&U!==null&&(U.flags&128)!==0)U:for(U=E.child;U!==null;){if(U.tag===13)U.memoizedState!==null&&FG(U,u,E);else if(U.tag===19)FG(U,u,E);else if(U.child!==null){U.child.return=U,U=U.child;continue}if(U===E)break U;for(;U.sibling===null;){if(U.return===null||U.return===E)break U;U=U.return}U.sibling.return=U.return,U=U.sibling}switch(z){case"forwards":u=E.child;for(z=null;u!==null;)U=u.alternate,U!==null&&Fy(U)===null&&(z=u),u=u.sibling;u=z,u===null?(z=E.child,E.child=null):(z=u.sibling,u.sibling=null),CL(E,!1,z,u,c,p);break;case"backwards":case"unstable_legacy-backwards":u=null,z=E.child;for(E.child=null;z!==null;){if(U=z.alternate,U!==null&&Fy(U)===null){E.child=z;break}U=z.sibling,z.sibling=u,u=z,z=U}CL(E,!0,u,null,c,p);break;case"together":CL(E,!1,null,null,void 0,p);break;default:E.memoizedState=null}return E.child}function S4(U,E,u){if(U!==null&&(E.dependencies=U.dependencies),uZ|=E.lanes,(u&E.childLanes)===0)if(U!==null){if(Kn(U,E,u,!1),(u&E.childLanes)===0)return null}else return null;if(U!==null&&E.child!==U.child)throw Error(iU(153));if(E.child!==null){U=E.child,u=V4(U,U.pendingProps),E.child=u;for(u.return=E;U.sibling!==null;)U=U.sibling,u=u.sibling=V4(U,U.pendingProps),u.return=E;u.sibling=null}return E.child}function MX(U,E){if((U.lanes&E)!==0)return!0;return U=U.dependencies,U!==null&&Ty(U)?!0:!1}function Za(U,E,u){switch(E.tag){case 3:yy(E,E.stateNode.containerInfo),vY(E,E5,U.memoizedState.cache),yP();break;case 27:case 5:y2(E);break;case 4:yy(E,E.stateNode.containerInfo);break;case 10:vY(E,E.type,E.memoizedProps.value);break;case 31:if(E.memoizedState!==null)return E.flags|=128,S2(E),null;break;case 13:var p=E.memoizedState;if(p!==null){if(p.dehydrated!==null)return SY(E),E.flags|=128,null;if((u&E.child.childLanes)!==0)return Jd(U,E,u);return SY(E),U=S4(U,E,u),U!==null?U.sibling:null}SY(E);break;case 19:var z=(U.flags&128)!==0;if(p=(u&E.childLanes)!==0,p||(Kn(U,E,u,!1),p=(u&E.childLanes)!==0),z){if(p)return hd(U,E,u);E.flags|=128}if(z=E.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),xp(Jp,Jp.current),p)break;else return null;case 22:return E.lanes=0,td(U,E,u,E.pendingProps);case 24:vY(E,E5,U.memoizedState.cache)}return S4(U,E,u)}function bd(U,E,u){if(U!==null)if(U.memoizedProps!==E.pendingProps)u5=!0;else{if(!MX(U,u)&&(E.flags&128)===0)return u5=!1,Za(U,E,u);u5=(U.flags&131072)!==0?!0:!1}else u5=!1,Au&&(E.flags&1048576)!==0&&WB(E,KH,E.index);switch(E.lanes=0,E.tag){case 16:U:{var p=E.pendingProps;if(U=nP(E.elementType),E.type=U,typeof U==="function")LX(U)?(p=rP(U,p),E.tag=1,E=oG(null,E,U,p,u)):(E.tag=0,E=b2(null,E,U,p,u));else{if(U!==void 0&&U!==null){var z=U.$$typeof;if(z===PX){E.tag=11,E=NG(null,E,U,p,u);break U}else if(z===xX){E.tag=14,E=rG(null,E,U,p,u);break U}}throw E=Q2(U)||U,Error(iU(306,E,""))}}return E;case 0:return b2(U,E,E.type,E.pendingProps,u);case 1:return p=E.type,z=rP(p,E.pendingProps),oG(U,E,p,z,u);case 3:U:{if(yy(E,E.stateNode.containerInfo),U===null)throw Error(iU(387));p=E.pendingProps;var c=E.memoizedState;z=c.element,d2(U,E),RH(E,p,null,u);var Y=E.memoizedState;if(p=Y.cache,vY(E,E5,p),p!==c.cache&&G2(E,[E5],u,!0),SH(),p=Y.element,c.isDehydrated)if(c={element:p,isDehydrated:!1,cache:Y.cache},E.updateQueue.baseState=c,E.memoizedState=c,E.flags&256){E=iG(U,E,p,u);break U}else if(p!==z){z=F0(Error(iU(424)),E),aH(z),E=iG(U,E,p,u);break U}else{switch(U=E.stateNode.containerInfo,U.nodeType){case 9:U=U.body;break;default:U=U.nodeName==="HTML"?U.ownerDocument.body:U}$p=V0(U.firstChild),S5=E,Au=!0,WY=null,A0=!0,u=gB(E,null,p,u);for(E.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(yP(),p===z){E=S4(U,E,u);break U}w5(U,E,p,u)}E=E.child}return E;case 26:return ny(U,E),U===null?(u=sG(E.type,null,E.pendingProps,null))?E.memoizedState=u:Au||(u=E.type,U=E.pendingProps,p=ty(MY.current).createElement(u),p[v5]=E,p[Fz]=U,D5(p,u,U),T5(p),E.stateNode=p):E.memoizedState=sG(E.type,U.memoizedProps,E.pendingProps,U.memoizedState),null;case 27:return y2(E),U===null&&Au&&(p=E.stateNode=Bw(E.type,E.pendingProps,MY.current),S5=E,A0=!0,z=$p,zZ(E.type)?(cX=z,$p=V0(p.firstChild)):$p=z),w5(U,E,E.pendingProps.children,u),ny(U,E),U===null&&(E.flags|=4194304),E.child;case 5:if(U===null&&Au){if(z=p=$p)p=va(p,E.type,E.pendingProps,A0),p!==null?(E.stateNode=p,S5=E,$p=V0(p.firstChild),A0=!1,z=!0):z=!1;z||UZ(E)}return y2(E),z=E.type,c=E.pendingProps,Y=U!==null?U.memoizedProps:null,p=c.children,EX(z,c)?p=null:Y!==null&&EX(z,Y)&&(E.flags|=32),E.memoizedState!==null&&(z=GX(U,E,eK,null,null,u),Ek._currentValue=z),ny(U,E),w5(U,E,p,u),E.child;case 6:if(U===null&&Au){if(U=u=$p)u=Sa(u,E.pendingProps,A0),u!==null?(E.stateNode=u,S5=E,$p=null,U=!0):U=!1;U||UZ(E)}return null;case 13:return Jd(U,E,u);case 4:return yy(E,E.stateNode.containerInfo),p=E.pendingProps,U===null?E.child=OP(E,null,p,u):w5(U,E,p,u),E.child;case 11:return NG(U,E,E.type,E.pendingProps,u);case 7:return w5(U,E,E.pendingProps,u),E.child;case 8:return w5(U,E,E.pendingProps.children,u),E.child;case 12:return w5(U,E,E.pendingProps.children,u),E.child;case 10:return p=E.pendingProps,vY(E,E.type,p.value),w5(U,E,p.children,u),E.child;case 9:return z=E.type._context,p=E.pendingProps.children,IP(E),z=R5(z),p=p(z),E.flags|=1,w5(U,E,p,u),E.child;case 14:return rG(U,E,E.type,E.pendingProps,u);case 15:return Dd(U,E,E.type,E.pendingProps,u);case 19:return hd(U,E,u);case 31:return Ya(U,E,u);case 22:return td(U,E,u,E.pendingProps);case 24:return IP(E),p=R5(E5),U===null?(z=iX(),z===null&&(z=Yp,c=oX(),z.pooledCache=c,c.refCount++,c!==null&&(z.pooledCacheLanes|=u),z=c),E.memoizedState={parent:p,cache:z},AX(E),vY(E,E5,z)):((U.lanes&u)!==0&&(d2(U,E),RH(E,null,null,u),SH()),z=U.memoizedState,c=E.memoizedState,z.parent!==p?(z={parent:p,cache:p},E.memoizedState=z,E.lanes===0&&(E.memoizedState=E.updateQueue.baseState=z),vY(E,E5,p)):(p=c.cache,vY(E,E5,p),p!==z.cache&&G2(E,[E5],u,!0))),w5(U,E,E.pendingProps.children,u),E.child;case 29:throw E.pendingProps}throw Error(iU(156,E.tag))}function r4(U){U.flags|=4}function U2(U,E,u,p,z){if(E=(U.mode&32)!==0)E=!1;if(E){if(U.flags|=16777216,(z&335544128)===z)if(U.stateNode.complete)U.flags|=8192;else if(qw())U.flags|=8192;else throw QP=oy,FX}else U.flags&=-16777217}function AG(U,E){if(E.type!=="stylesheet"||(E.state.loading&4)!==0)U.flags&=-16777217;else if(U.flags|=16777216,!vw(E))if(qw())U.flags|=8192;else throw QP=oy,FX}function a$(U,E){E!==null&&(U.flags|=4),U.flags&16384&&(E=U.tag!==22?HB():536870912,U.lanes|=E,hn|=E)}function OH(U,E){if(!Au)switch(U.tailMode){case"hidden":E=U.tail;for(var u=null;E!==null;)E.alternate!==null&&(u=E),E=E.sibling;u===null?U.tail=null:u.sibling=null;break;case"collapsed":u=U.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?E||U.tail===null?U.tail=null:U.tail.sibling=null:p.sibling=null}}function Qp(U){var E=U.alternate!==null&&U.alternate.child===U.child,u=0,p=0;if(E)for(var z=U.child;z!==null;)u|=z.lanes|z.childLanes,p|=z.subtreeFlags&65011712,p|=z.flags&65011712,z.return=U,z=z.sibling;else for(z=U.child;z!==null;)u|=z.lanes|z.childLanes,p|=z.subtreeFlags,p|=z.flags,z.return=U,z=z.sibling;return U.subtreeFlags|=p,U.childLanes=u,E}function Pa(U,E,u){var p=E.pendingProps;switch(TX(E),E.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qp(E),null;case 1:return Qp(E),null;case 3:if(u=E.stateNode,p=null,U!==null&&(p=U.memoizedState.cache),E.memoizedState.cache!==p&&(E.flags|=2048),G4(E5),vn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),U===null||U.child===null)nn(E)?r4(E):U===null||U.memoizedState.isDehydrated&&(E.flags&256)===0||(E.flags|=1024,WL());return Qp(E),null;case 26:var{type:z,memoizedState:c}=E;return U===null?(r4(E),c!==null?(Qp(E),AG(E,c)):(Qp(E),U2(E,z,null,p,u))):c?c!==U.memoizedState?(r4(E),Qp(E),AG(E,c)):(Qp(E),E.flags&=-16777217):(U=U.memoizedProps,U!==p&&r4(E),Qp(E),U2(E,z,U,p,u)),null;case 27:if(Iy(E),u=MY.current,z=E.type,U!==null&&E.stateNode!=null)U.memoizedProps!==p&&r4(E);else{if(!p){if(E.stateNode===null)throw Error(iU(166));return Qp(E),null}U=Rc.current,nn(E)?pG(E,U):(U=Bw(z,p,u),E.stateNode=U,r4(E))}return Qp(E),null;case 5:if(Iy(E),z=E.type,U!==null&&E.stateNode!=null)U.memoizedProps!==p&&r4(E);else{if(!p){if(E.stateNode===null)throw Error(iU(166));return Qp(E),null}if(c=Rc.current,nn(E))pG(E,c);else{var Y=ty(MY.current);switch(c){case 1:c=Y.createElementNS("http://www.w3.org/2000/svg",z);break;case 2:c=Y.createElementNS("http://www.w3.org/1998/Math/MathML",z);break;default:switch(z){case"svg":c=Y.createElementNS("http://www.w3.org/2000/svg",z);break;case"math":c=Y.createElementNS("http://www.w3.org/1998/Math/MathML",z);break;case"script":c=Y.createElement("div"),c.innerHTML="<script></script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof p.is==="string"?Y.createElement("select",{is:p.is}):Y.createElement("select"),p.multiple?c.multiple=!0:p.size&&(c.size=p.size);break;default:c=typeof p.is==="string"?Y.createElement(z,{is:p.is}):Y.createElement(z)}}c[v5]=E,c[Fz]=p;U:for(Y=E.child;Y!==null;){if(Y.tag===5||Y.tag===6)c.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===E)break U;for(;Y.sibling===null;){if(Y.return===null||Y.return===E)break U;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}E.stateNode=c;U:switch(D5(c,z,p),z){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break U;case"img":p=!0;break U;default:p=!1}p&&r4(E)}}return Qp(E),U2(E,E.type,U===null?null:U.memoizedProps,E.pendingProps,u),null;case 6:if(U&&E.stateNode!=null)U.memoizedProps!==p&&r4(E);else{if(typeof p!=="string"&&E.stateNode===null)throw Error(iU(166));if(U=MY.current,nn(E)){if(U=E.stateNode,u=E.memoizedProps,p=null,z=S5,z!==null)switch(z.tag){case 27:case 5:p=z.memoizedProps}U[v5]=E,U=U.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||Aw(U.nodeValue,u)?!0:!1,U||UZ(E,!0)}else U=ty(U).createTextNode(p),U[v5]=E,E.stateNode=U}return Qp(E),null;case 31:if(u=E.memoizedState,U===null||U.memoizedState!==null){if(p=nn(E),u!==null){if(U===null){if(!p)throw Error(iU(318));if(U=E.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(iU(557));U[v5]=E}else yP(),(E.flags&128)===0&&(E.memoizedState=null),E.flags|=4;Qp(E),U=!1}else u=WL(),U!==null&&U.memoizedState!==null&&(U.memoizedState.hydrationErrors=u),U=!0;if(!U){if(E.flags&256)return gz(E),E;return gz(E),null}if((E.flags&128)!==0)throw Error(iU(558))}return Qp(E),null;case 13:if(p=E.memoizedState,U===null||U.memoizedState!==null&&U.memoizedState.dehydrated!==null){if(z=nn(E),p!==null&&p.dehydrated!==null){if(U===null){if(!z)throw Error(iU(318));if(z=E.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(iU(317));z[v5]=E}else yP(),(E.flags&128)===0&&(E.memoizedState=null),E.flags|=4;Qp(E),z=!1}else z=WL(),U!==null&&U.memoizedState!==null&&(U.memoizedState.hydrationErrors=z),z=!0;if(!z){if(E.flags&256)return gz(E),E;return gz(E),null}}if(gz(E),(E.flags&128)!==0)return E.lanes=u,E;return u=p!==null,U=U!==null&&U.memoizedState!==null,u&&(p=E.child,z=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(z=p.alternate.memoizedState.cachePool.pool),c=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(c=p.memoizedState.cachePool.pool),c!==z&&(p.flags|=2048)),u!==U&&u&&(E.child.flags|=8192),a$(E,E.updateQueue),Qp(E),null;case 4:return vn(),U===null&&gX(E.stateNode.containerInfo),Qp(E),null;case 10:return G4(E.type),Qp(E),null;case 19:if(o5(Jp),p=E.memoizedState,p===null)return Qp(E),null;if(z=(E.flags&128)!==0,c=p.rendering,c===null)if(z)OH(p,!1);else{if(dp!==0||U!==null&&(U.flags&128)!==0)for(U=E.child;U!==null;){if(c=Fy(U),c!==null){E.flags|=128,OH(p,!1),U=c.updateQueue,E.updateQueue=U,a$(E,U),E.subtreeFlags=0,U=u;for(u=E.child;u!==null;)lB(u,U),u=u.sibling;return xp(Jp,Jp.current&1|2),Au&&o4(E,p.treeForkCount),E.child}U=U.sibling}p.tail!==null&&U0()>dy&&(E.flags|=128,z=!0,OH(p,!1),E.lanes=4194304)}else{if(!z)if(U=Fy(c),U!==null){if(E.flags|=128,z=!0,U=U.updateQueue,E.updateQueue=U,a$(E,U),OH(p,!0),p.tail===null&&p.tailMode==="hidden"&&!c.alternate&&!Au)return Qp(E),null}else 2*U0()-p.renderingStartTime>dy&&u!==536870912&&(E.flags|=128,z=!0,OH(p,!1),E.lanes=4194304);p.isBackwards?(c.sibling=E.child,E.child=c):(U=p.last,U!==null?U.sibling=c:E.child=c,p.last=c)}if(p.tail!==null)return U=p.tail,p.rendering=U,p.tail=U.sibling,p.renderingStartTime=U0(),U.sibling=null,u=Jp.current,xp(Jp,z?u&1|2:u&1),Au&&o4(E,p.treeForkCount),U;return Qp(E),null;case 22:case 23:return gz(E),mX(),p=E.memoizedState!==null,U!==null?U.memoizedState!==null!==p&&(E.flags|=8192):p&&(E.flags|=8192),p?(u&536870912)!==0&&(E.flags&128)===0&&(Qp(E),E.subtreeFlags&6&&(E.flags|=8192)):Qp(E),u=E.updateQueue,u!==null&&a$(E,u.retryQueue),u=null,U!==null&&U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(u=U.memoizedState.cachePool.pool),p=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(p=E.memoizedState.cachePool.pool),p!==u&&(E.flags|=2048),U!==null&&o5(kP),null;case 24:return u=null,U!==null&&(u=U.memoizedState.cache),E.memoizedState.cache!==u&&(E.flags|=2048),G4(E5),Qp(E),null;case 25:return null;case 30:return null}throw Error(iU(156,E.tag))}function xa(U,E){switch(TX(E),E.tag){case 1:return U=E.flags,U&65536?(E.flags=U&-65537|128,E):null;case 3:return G4(E5),vn(),U=E.flags,(U&65536)!==0&&(U&128)===0?(E.flags=U&-65537|128,E):null;case 26:case 27:case 5:return Iy(E),null;case 31:if(E.memoizedState!==null){if(gz(E),E.alternate===null)throw Error(iU(340));yP()}return U=E.flags,U&65536?(E.flags=U&-65537|128,E):null;case 13:if(gz(E),U=E.memoizedState,U!==null&&U.dehydrated!==null){if(E.alternate===null)throw Error(iU(340));yP()}return U=E.flags,U&65536?(E.flags=U&-65537|128,E):null;case 19:return o5(Jp),null;case 4:return vn(),null;case 10:return G4(E.type),null;case 22:case 23:return gz(E),mX(),U!==null&&o5(kP),U=E.flags,U&65536?(E.flags=U&-65537|128,E):null;case 24:return G4(E5),null;case 25:return null;default:return null}}function ld(U,E){switch(TX(E),E.tag){case 3:G4(E5),vn();break;case 26:case 27:case 5:Iy(E);break;case 4:vn();break;case 31:E.memoizedState!==null&&gz(E);break;case 13:gz(E);break;case 19:o5(Jp);break;case 10:G4(E.type);break;case 22:case 23:gz(E),mX(),U!==null&&o5(kP);break;case 24:G4(E5)}}function qk(U,E){try{var u=E.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var z=p.next;u=z;do{if((u.tag&U)===U){p=void 0;var{create:c,inst:Y}=u;p=c(),Y.destroy=p}u=u.next}while(u!==z)}}catch(P){gu(E,E.return,P)}}function EZ(U,E,u){try{var p=E.updateQueue,z=p!==null?p.lastEffect:null;if(z!==null){var c=z.next;p=c;do{if((p.tag&U)===U){var Y=p.inst,P=Y.destroy;if(P!==void 0){Y.destroy=void 0,z=E;var n=u,j=P;try{j()}catch(H){gu(z,n,H)}}}p=p.next}while(p!==c)}}catch(H){gu(E,E.return,H)}}function Md(U){var E=U.updateQueue;if(E!==null){var u=U.stateNode;try{CB(E,u)}catch(p){gu(U,U.return,p)}}}function Wd(U,E,u){u.props=rP(U.type,U.memoizedProps),u.state=U.memoizedState;try{u.componentWillUnmount()}catch(p){gu(U,E,p)}}function tH(U,E){try{var u=U.ref;if(u!==null){switch(U.tag){case 26:case 27:case 5:var p=U.stateNode;break;case 30:p=U.stateNode;break;default:p=U.stateNode}typeof u==="function"?U.refCleanup=u(p):u.current=p}}catch(z){gu(U,E,z)}}function Sc(U,E){var{ref:u,refCleanup:p}=U;if(u!==null)if(typeof p==="function")try{p()}catch(z){gu(U,E,z)}finally{U.refCleanup=null,U=U.alternate,U!=null&&(U.refCleanup=null)}else if(typeof u==="function")try{u(null)}catch(z){gu(U,E,z)}else u.current=null}function fd(U){var{type:E,memoizedProps:u,stateNode:p}=U;try{U:switch(E){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break U;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(z){gu(U,U.return,z)}}function E2(U,E,u){try{var p=U.stateNode;ma(p,U.type,u,E),p[Fz]=E}catch(z){gu(U,U.return,z)}}function sd(U){return U.tag===5||U.tag===3||U.tag===26||U.tag===27&&zZ(U.type)||U.tag===4}function u2(U){U:for(;;){for(;U.sibling===null;){if(U.return===null||sd(U.return))return null;U=U.return}U.sibling.return=U.return;for(U=U.sibling;U.tag!==5&&U.tag!==6&&U.tag!==18;){if(U.tag===27&&zZ(U.type))continue U;if(U.flags&2)continue U;if(U.child===null||U.tag===4)continue U;else U.child.return=U,U=U.child}if(!(U.flags&2))return U.stateNode}}function M2(U,E,u){var p=U.tag;if(p===5||p===6)U=U.stateNode,E?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(U,E):(E=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,E.appendChild(U),u=u._reactRootContainer,u!==null&&u!==void 0||E.onclick!==null||(E.onclick=A4));else if(p!==4&&(p===27&&zZ(U.type)&&(u=U.stateNode,E=null),U=U.child,U!==null))for(M2(U,E,u),U=U.sibling;U!==null;)M2(U,E,u),U=U.sibling}function By(U,E,u){var p=U.tag;if(p===5||p===6)U=U.stateNode,E?u.insertBefore(U,E):u.appendChild(U);else if(p!==4&&(p===27&&zZ(U.type)&&(u=U.stateNode),U=U.child,U!==null))for(By(U,E,u),U=U.sibling;U!==null;)By(U,E,u),U=U.sibling}function Kd(U){var{stateNode:E,memoizedProps:u}=U;try{for(var p=U.type,z=E.attributes;z.length;)E.removeAttributeNode(z[0]);D5(E,p,u),E[v5]=U,E[Fz]=u}catch(c){gu(U,U.return,c)}}function na(U,E){if(U=U.containerInfo,C2=ly,U=vB(U),OX(U)){if("selectionStart"in U)var u={start:U.selectionStart,end:U.selectionEnd};else U:{u=(u=U.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var{anchorOffset:z,focusNode:c}=p;p=p.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break U}var Y=0,P=-1,n=-1,j=0,H=0,k=U,Q=null;E:for(;;){for(var y;;){if(k!==u||z!==0&&k.nodeType!==3||(P=Y+z),k!==c||p!==0&&k.nodeType!==3||(n=Y+p),k.nodeType===3&&(Y+=k.nodeValue.length),(y=k.firstChild)===null)break;Q=k,k=y}for(;;){if(k===U)break E;if(Q===u&&++j===z&&(P=Y),Q===c&&++H===p&&(n=Y),(y=k.nextSibling)!==null)break;k=Q,Q=k.parentNode}k=y}u=P===-1||n===-1?null:{start:P,end:n}}else u=null}u=u||{start:0,end:0}}else u=null;UX={focusedElem:U,selectionRange:u},ly=!1;for(X5=E;X5!==null;)if(E=X5,U=E.child,(E.subtreeFlags&1028)!==0&&U!==null)U.return=E,X5=U;else for(;X5!==null;){switch(E=X5,c=E.alternate,U=E.flags,E.tag){case 0:if((U&4)!==0&&(U=E.updateQueue,U=U!==null?U.events:null,U!==null))for(u=0;u<U.length;u++)z=U[u],z.ref.impl=z.nextImpl;break;case 11:case 15:break;case 1:if((U&1024)!==0&&c!==null){U=void 0,u=E,z=c.memoizedProps,c=c.memoizedState,p=u.stateNode;try{var r=rP(u.type,z);U=p.getSnapshotBeforeUpdate(r,c),p.__reactInternalSnapshotBeforeUpdate=U}catch(T){gu(u,u.return,T)}}break;case 3:if((U&1024)!==0){if(U=E.stateNode.containerInfo,u=U.nodeType,u===9)uX(U);else if(u===1)switch(U.nodeName){case"HEAD":case"HTML":case"BODY":uX(U);break;default:U.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((U&1024)!==0)throw Error(iU(163))}if(U=E.sibling,U!==null){U.return=E.return,X5=U;break}X5=E.return}}function ad(U,E,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:X4(U,u),p&4&&qk(5,u);break;case 1:if(X4(U,u),p&4)if(U=u.stateNode,E===null)try{U.componentDidMount()}catch(Y){gu(u,u.return,Y)}else{var z=rP(u.type,E.memoizedProps);E=E.memoizedState;try{U.componentDidUpdate(z,E,U.__reactInternalSnapshotBeforeUpdate)}catch(Y){gu(u,u.return,Y)}}p&64&&Md(u),p&512&&tH(u,u.return);break;case 3:if(X4(U,u),p&64&&(U=u.updateQueue,U!==null)){if(E=null,u.child!==null)switch(u.child.tag){case 27:case 5:E=u.child.stateNode;break;case 1:E=u.child.stateNode}try{CB(U,E)}catch(Y){gu(u,u.return,Y)}}break;case 27:E===null&&p&4&&Kd(u);case 26:case 5:X4(U,u),E===null&&p&4&&fd(u),p&512&&tH(u,u.return);break;case 12:X4(U,u);break;case 31:X4(U,u),p&4&&ed(U,u);break;case 13:X4(U,u),p&4&&Cd(U,u),p&64&&(U=u.memoizedState,U!==null&&(U=U.dehydrated,U!==null&&(u=Oa.bind(null,u),Ra(U,u))));break;case 22:if(p=u.memoizedState!==null||i4,!p){E=E!==null&&E.memoizedState!==null||U5,z=i4;var c=U5;i4=p,(U5=E)&&!c?T4(U,u,(u.subtreeFlags&8772)!==0):X4(U,u),i4=z,U5=c}break;case 30:break;default:X4(U,u)}}function _d(U){var E=U.alternate;E!==null&&(U.alternate=null,_d(E)),U.child=null,U.deletions=null,U.sibling=null,U.tag===5&&(E=U.stateNode,E!==null&&HX(E)),U.stateNode=null,U.return=null,U.dependencies=null,U.memoizedProps=null,U.memoizedState=null,U.pendingProps=null,U.stateNode=null,U.updateQueue=null}function L4(U,E,u){for(u=u.child;u!==null;)gd(U,E,u),u=u.sibling}function gd(U,E,u){if(E0&&typeof E0.onCommitFiberUnmount==="function")try{E0.onCommitFiberUnmount(ck,u)}catch(c){}switch(u.tag){case 26:U5||Sc(u,E),L4(U,E,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:U5||Sc(u,E);var p=Np,z=Tz;zZ(u.type)&&(Np=u.stateNode,Tz=!1),L4(U,E,u),lH(u.stateNode),Np=p,Tz=z;break;case 5:U5||Sc(u,E);case 6:if(p=Np,z=Tz,Np=null,L4(U,E,u),Np=p,Tz=z,Np!==null)if(Tz)try{(Np.nodeType===9?Np.body:Np.nodeName==="HTML"?Np.ownerDocument.body:Np).removeChild(u.stateNode)}catch(c){gu(u,E,c)}else try{Np.removeChild(u.stateNode)}catch(c){gu(u,E,c)}break;case 18:Np!==null&&(Tz?(U=Np,bG(U.nodeType===9?U.body:U.nodeName==="HTML"?U.ownerDocument.body:U,u.stateNode),Wn(U)):bG(Np,u.stateNode));break;case 4:p=Np,z=Tz,Np=u.stateNode.containerInfo,Tz=!0,L4(U,E,u),Np=p,Tz=z;break;case 0:case 11:case 14:case 15:EZ(2,u,E),U5||EZ(4,u,E),L4(U,E,u);break;case 1:U5||(Sc(u,E),p=u.stateNode,typeof p.componentWillUnmount==="function"&&Wd(u,E,p)),L4(U,E,u);break;case 21:L4(U,E,u);break;case 22:U5=(p=U5)||u.memoizedState!==null,L4(U,E,u),U5=p;break;default:L4(U,E,u)}}function ed(U,E){if(E.memoizedState===null&&(U=E.alternate,U!==null&&(U=U.memoizedState,U!==null))){U=U.dehydrated;try{Wn(U)}catch(u){gu(E,E.return,u)}}}function Cd(U,E){if(E.memoizedState===null&&(U=E.alternate,U!==null&&(U=U.memoizedState,U!==null&&(U=U.dehydrated,U!==null))))try{Wn(U)}catch(u){gu(E,E.return,u)}}function ja(U){switch(U.tag){case 31:case 13:case 19:var E=U.stateNode;return E===null&&(E=U.stateNode=new mG),E;case 22:return U=U.stateNode,E=U._retryCache,E===null&&(E=U._retryCache=new mG),E;default:throw Error(iU(435,U.tag))}}function _$(U,E){var u=ja(U);E.forEach(function(p){if(!u.has(p)){u.add(p);var z=Na.bind(null,U,p);p.then(z,z)}})}function Lz(U,E){var u=E.deletions;if(u!==null)for(var p=0;p<u.length;p++){var z=u[p],c=U,Y=E,P=Y;U:for(;P!==null;){switch(P.tag){case 27:if(zZ(P.type)){Np=P.stateNode,Tz=!1;break U}break;case 5:Np=P.stateNode,Tz=!1;break U;case 3:case 4:Np=P.stateNode.containerInfo,Tz=!0;break U}P=P.return}if(Np===null)throw Error(iU(160));gd(c,Y,z),Np=null,Tz=!1,c=z.alternate,c!==null&&(c.return=null),z.return=null}if(E.subtreeFlags&13886)for(E=E.child;E!==null;)Uw(E,U),E=E.sibling}function Uw(U,E){var{alternate:u,flags:p}=U;switch(U.tag){case 0:case 11:case 14:case 15:Lz(E,U),Xz(U),p&4&&(EZ(3,U,U.return),qk(3,U),EZ(5,U,U.return));break;case 1:Lz(E,U),Xz(U),p&512&&(U5||u===null||Sc(u,u.return)),p&64&&i4&&(U=U.updateQueue,U!==null&&(p=U.callbacks,p!==null&&(u=U.shared.hiddenCallbacks,U.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var z=Yc;if(Lz(E,U),Xz(U),p&512&&(U5||u===null||Sc(u,u.return)),p&4){var c=u!==null?u.memoizedState:null;if(p=U.memoizedState,u===null)if(p===null)if(U.stateNode===null){U:{p=U.type,u=U.memoizedProps,z=z.ownerDocument||z;E:switch(p){case"title":if(c=z.getElementsByTagName("title")[0],!c||c[Pk]||c[v5]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))c=z.createElement(p),z.head.insertBefore(c,z.querySelector("head > title"));D5(c,p,u),c[v5]=U,T5(c),p=c;break U;case"link":var Y=aG("link","href",z).get(p+(u.href||""));if(Y){for(var P=0;P<Y.length;P++)if(c=Y[P],c.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&c.getAttribute("rel")===(u.rel==null?null:u.rel)&&c.getAttribute("title")===(u.title==null?null:u.title)&&c.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){Y.splice(P,1);break E}}c=z.createElement(p),D5(c,p,u),z.head.appendChild(c);break;case"meta":if(Y=aG("meta","content",z).get(p+(u.content||""))){for(P=0;P<Y.length;P++)if(c=Y[P],c.getAttribute("content")===(u.content==null?null:""+u.content)&&c.getAttribute("name")===(u.name==null?null:u.name)&&c.getAttribute("property")===(u.property==null?null:u.property)&&c.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&c.getAttribute("charset")===(u.charSet==null?null:u.charSet)){Y.splice(P,1);break E}}c=z.createElement(p),D5(c,p,u),z.head.appendChild(c);break;default:throw Error(iU(468,p))}c[v5]=U,T5(c),p=c}U.stateNode=p}else _G(z,U.type,U.stateNode);else U.stateNode=KG(z,p,U.memoizedProps);else c!==p?(c===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):c.count--,p===null?_G(z,U.type,U.stateNode):KG(z,p,U.memoizedProps)):p===null&&U.stateNode!==null&&E2(U,U.memoizedProps,u.memoizedProps)}break;case 27:Lz(E,U),Xz(U),p&512&&(U5||u===null||Sc(u,u.return)),u!==null&&p&4&&E2(U,U.memoizedProps,u.memoizedProps);break;case 5:if(Lz(E,U),Xz(U),p&512&&(U5||u===null||Sc(u,u.return)),U.flags&32){z=U.stateNode;try{Rn(z,"")}catch(r){gu(U,U.return,r)}}p&4&&U.stateNode!=null&&(z=U.memoizedProps,E2(U,z,u!==null?u.memoizedProps:z)),p&1024&&(p2=!0);break;case 6:if(Lz(E,U),Xz(U),p&4){if(U.stateNode===null)throw Error(iU(162));p=U.memoizedProps,u=U.stateNode;try{u.nodeValue=p}catch(r){gu(U,U.return,r)}}break;case 3:if(Hy=null,z=Yc,Yc=Jy(E.containerInfo),Lz(E,U),Yc=z,Xz(U),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Wn(E.containerInfo)}catch(r){gu(U,U.return,r)}p2&&(p2=!1,Ew(U));break;case 4:p=Yc,Yc=Jy(U.stateNode.containerInfo),Lz(E,U),Xz(U),Yc=p;break;case 12:Lz(E,U),Xz(U);break;case 31:Lz(E,U),Xz(U),p&4&&(p=U.updateQueue,p!==null&&(U.updateQueue=null,_$(U,p)));break;case 13:Lz(E,U),Xz(U),U.child.flags&8192&&U.memoizedState!==null!==(u!==null&&u.memoizedState!==null)&&(p8=U0()),p&4&&(p=U.updateQueue,p!==null&&(U.updateQueue=null,_$(U,p)));break;case 22:z=U.memoizedState!==null;var n=u!==null&&u.memoizedState!==null,j=i4,H=U5;if(i4=j||z,U5=H||n,Lz(E,U),U5=H,i4=j,Xz(U),p&8192)U:for(E=U.stateNode,E._visibility=z?E._visibility&-2:E._visibility|1,z&&(u===null||n||i4||U5||jP(U)),u=null,E=U;;){if(E.tag===5||E.tag===26){if(u===null){n=u=E;try{if(c=n.stateNode,z)Y=c.style,typeof Y.setProperty==="function"?Y.setProperty("display","none","important"):Y.display="none";else{P=n.stateNode;var k=n.memoizedProps.style,Q=k!==void 0&&k!==null&&k.hasOwnProperty("display")?k.display:null;P.style.display=Q==null||typeof Q==="boolean"?"":(""+Q).trim()}}catch(r){gu(n,n.return,r)}}}else if(E.tag===6){if(u===null){n=E;try{n.stateNode.nodeValue=z?"":n.memoizedProps}catch(r){gu(n,n.return,r)}}}else if(E.tag===18){if(u===null){n=E;try{var y=n.stateNode;z?lG(y,!0):lG(n.stateNode,!1)}catch(r){gu(n,n.return,r)}}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===U)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===U)break U;for(;E.sibling===null;){if(E.return===null||E.return===U)break U;u===E&&(u=null),E=E.return}u===E&&(u=null),E.sibling.return=E.return,E=E.sibling}p&4&&(p=U.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,_$(U,u))));break;case 19:Lz(E,U),Xz(U),p&4&&(p=U.updateQueue,p!==null&&(U.updateQueue=null,_$(U,p)));break;case 30:break;case 21:break;default:Lz(E,U),Xz(U)}}function Xz(U){var E=U.flags;if(E&2){try{for(var u,p=U.return;p!==null;){if(sd(p)){u=p;break}p=p.return}if(u==null)throw Error(iU(160));switch(u.tag){case 27:var z=u.stateNode,c=u2(U);By(U,c,z);break;case 5:var Y=u.stateNode;u.flags&32&&(Rn(Y,""),u.flags&=-33);var P=u2(U);By(U,P,Y);break;case 3:case 4:var n=u.stateNode.containerInfo,j=u2(U);M2(U,j,n);break;default:throw Error(iU(161))}}catch(H){gu(U,U.return,H)}U.flags&=-3}E&4096&&(U.flags&=-4097)}function Ew(U){if(U.subtreeFlags&1024)for(U=U.child;U!==null;){var E=U;Ew(E),E.tag===5&&E.flags&1024&&E.stateNode.reset(),U=U.sibling}}function X4(U,E){if(E.subtreeFlags&8772)for(E=E.child;E!==null;)ad(U,E.alternate,E),E=E.sibling}function jP(U){for(U=U.child;U!==null;){var E=U;switch(E.tag){case 0:case 11:case 14:case 15:EZ(4,E,E.return),jP(E);break;case 1:Sc(E,E.return);var u=E.stateNode;typeof u.componentWillUnmount==="function"&&Wd(E,E.return,u),jP(E);break;case 27:lH(E.stateNode);case 26:case 5:Sc(E,E.return),jP(E);break;case 22:E.memoizedState===null&&jP(E);break;case 30:jP(E);break;default:jP(E)}U=U.sibling}}function T4(U,E,u){u=u&&(E.subtreeFlags&8772)!==0;for(E=E.child;E!==null;){var p=E.alternate,z=U,c=E,Y=c.flags;switch(c.tag){case 0:case 11:case 15:T4(z,c,u),qk(4,c);break;case 1:if(T4(z,c,u),p=c,z=p.stateNode,typeof z.componentDidMount==="function")try{z.componentDidMount()}catch(j){gu(p,p.return,j)}if(p=c,z=p.updateQueue,z!==null){var P=p.stateNode;try{var n=z.shared.hiddenCallbacks;if(n!==null)for(z.shared.hiddenCallbacks=null,z=0;z<n.length;z++)eB(n[z],P)}catch(j){gu(p,p.return,j)}}u&&Y&64&&Md(c),tH(c,c.return);break;case 27:Kd(c);case 26:case 5:T4(z,c,u),u&&p===null&&Y&4&&fd(c),tH(c,c.return);break;case 12:T4(z,c,u);break;case 31:T4(z,c,u),u&&Y&4&&ed(z,c);break;case 13:T4(z,c,u),u&&Y&4&&Cd(z,c);break;case 22:c.memoizedState===null&&T4(z,c,u),tH(c,c.return);break;case 30:break;default:T4(z,c,u)}E=E.sibling}}function WX(U,E){var u=null;U!==null&&U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(u=U.memoizedState.cachePool.pool),U=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(U=E.memoizedState.cachePool.pool),U!==u&&(U!=null&&U.refCount++,u!=null&&nk(u))}function fX(U,E){U=null,E.alternate!==null&&(U=E.alternate.memoizedState.cache),E=E.memoizedState.cache,E!==U&&(E.refCount++,U!=null&&nk(U))}function cc(U,E,u,p){if(E.subtreeFlags&10256)for(E=E.child;E!==null;)uw(U,E,u,p),E=E.sibling}function uw(U,E,u,p){var z=E.flags;switch(E.tag){case 0:case 11:case 15:cc(U,E,u,p),z&2048&&qk(9,E);break;case 1:cc(U,E,u,p);break;case 3:cc(U,E,u,p),z&2048&&(U=null,E.alternate!==null&&(U=E.alternate.memoizedState.cache),E=E.memoizedState.cache,E!==U&&(E.refCount++,U!=null&&nk(U)));break;case 12:if(z&2048){cc(U,E,u,p),U=E.stateNode;try{var c=E.memoizedProps,Y=c.id,P=c.onPostCommit;typeof P==="function"&&P(Y,E.alternate===null?"mount":"update",U.passiveEffectDuration,-0)}catch(n){gu(E,E.return,n)}}else cc(U,E,u,p);break;case 31:cc(U,E,u,p);break;case 13:cc(U,E,u,p);break;case 23:break;case 22:c=E.stateNode,Y=E.alternate,E.memoizedState!==null?c._visibility&2?cc(U,E,u,p):JH(U,E):c._visibility&2?cc(U,E,u,p):(c._visibility|=2,qn(U,E,u,p,(E.subtreeFlags&10256)!==0||!1)),z&2048&&WX(Y,E);break;case 24:cc(U,E,u,p),z&2048&&fX(E.alternate,E);break;default:cc(U,E,u,p)}}function qn(U,E,u,p,z){z=z&&((E.subtreeFlags&10256)!==0||!1);for(E=E.child;E!==null;){var c=U,Y=E,P=u,n=p,j=Y.flags;switch(Y.tag){case 0:case 11:case 15:qn(c,Y,P,n,z),qk(8,Y);break;case 23:break;case 22:var H=Y.stateNode;Y.memoizedState!==null?H._visibility&2?qn(c,Y,P,n,z):JH(c,Y):(H._visibility|=2,qn(c,Y,P,n,z)),z&&j&2048&&WX(Y.alternate,Y);break;case 24:qn(c,Y,P,n,z),z&&j&2048&&fX(Y.alternate,Y);break;default:qn(c,Y,P,n,z)}E=E.sibling}}function JH(U,E){if(E.subtreeFlags&10256)for(E=E.child;E!==null;){var u=U,p=E,z=p.flags;switch(p.tag){case 22:JH(u,p),z&2048&&WX(p.alternate,p);break;case 24:JH(u,p),z&2048&&fX(p.alternate,p);break;default:JH(u,p)}E=E.sibling}}function jn(U,E,u){if(U.subtreeFlags&AH)for(U=U.child;U!==null;)pw(U,E,u),U=U.sibling}function pw(U,E,u){switch(U.tag){case 26:jn(U,E,u),U.flags&AH&&U.memoizedState!==null&&aa(u,Yc,U.memoizedState,U.memoizedProps);break;case 5:jn(U,E,u);break;case 3:case 4:var p=Yc;Yc=Jy(U.stateNode.containerInfo),jn(U,E,u),Yc=p;break;case 22:U.memoizedState===null&&(p=U.alternate,p!==null&&p.memoizedState!==null?(p=AH,AH=16777216,jn(U,E,u),AH=p):jn(U,E,u));break;default:jn(U,E,u)}}function zw(U){var E=U.alternate;if(E!==null&&(U=E.child,U!==null)){E.child=null;do E=U.sibling,U.sibling=null,U=E;while(U!==null)}}function NH(U){var E=U.deletions;if((U.flags&16)!==0){if(E!==null)for(var u=0;u<E.length;u++){var p=E[u];X5=p,Yw(p,U)}zw(U)}if(U.subtreeFlags&10256)for(U=U.child;U!==null;)cw(U),U=U.sibling}function cw(U){switch(U.tag){case 0:case 11:case 15:NH(U),U.flags&2048&&EZ(9,U,U.return);break;case 3:NH(U);break;case 12:NH(U);break;case 22:var E=U.stateNode;U.memoizedState!==null&&E._visibility&2&&(U.return===null||U.return.tag!==13)?(E._visibility&=-3,jy(U)):NH(U);break;default:NH(U)}}function jy(U){var E=U.deletions;if((U.flags&16)!==0){if(E!==null)for(var u=0;u<E.length;u++){var p=E[u];X5=p,Yw(p,U)}zw(U)}for(U=U.child;U!==null;){switch(E=U,E.tag){case 0:case 11:case 15:EZ(8,E,E.return),jy(E);break;case 22:u=E.stateNode,u._visibility&2&&(u._visibility&=-3,jy(E));break;default:jy(E)}U=U.sibling}}function Yw(U,E){for(;X5!==null;){var u=X5;switch(u.tag){case 0:case 11:case 15:EZ(8,u,E);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:nk(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,X5=p;else U:for(u=U;X5!==null;){p=X5;var{sibling:z,return:c}=p;if(_d(p),p===u){X5=null;break U}if(z!==null){z.return=c,X5=z;break U}X5=c}}}function p0(){return(lu&2)!==0&&Tu!==0?Tu&-Tu:aE.T!==null?_X():yB()}function xw(){if(Cz===0)if((Tu&536870912)===0||Au){var U=b$;b$<<=1,(b$&3932160)===0&&(b$=262144),Cz=U}else Cz=536870912;return U=c0.current,U!==null&&(U.flags|=32),Cz}function iz(U,E,u){if(U===Yp&&(_u===2||_u===9)||U.cancelPendingCommit!==null)ln(U,0),bY(U,Tu,Cz,!1);if(Zk(U,u),(lu&2)===0||U!==Yp)U===Yp&&((lu&2)===0&&($P|=u),dp===4&&bY(U,Tu,Cz,!1)),tc(U)}function nw(U,E,u){if((lu&6)!==0)throw Error(iU(327));var p=!u&&(E&127)===0&&(E&U.expiredLanes)===0||Yk(U,E),z=p?$a(U,E):z2(U,E,!0),c=p;do{if(z===0){_n&&!p&&bY(U,E,0,!1);break}else{if(u=U.current.alternate,c&&!ka(u)){z=z2(U,E,!1),c=!1;continue}if(z===2){if(c=E,U.errorRecoveryDisabledLanes&c)var Y=0;else Y=U.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){E=Y;U:{var P=U;z=hH;var n=P.current.memoizedState.isDehydrated;if(n&&(ln(P,Y).flags|=256),Y=z2(P,Y,!1),Y!==2){if(sX&&!n){P.errorRecoveryDisabledLanes|=c,$P|=c,z=4;break U}c=oz,oz=z,c!==null&&(oz===null?oz=c:oz.push.apply(oz,c))}z=Y}if(c=!1,z!==2)continue}}if(z===1){ln(U,0),bY(U,E,0,!0);break}U:{switch(p=U,c=z,c){case 0:case 1:throw Error(iU(345));case 4:if((E&4194048)!==E)break;case 6:bY(p,E,Cz,!hY);break U;case 2:oz=null;break;case 3:case 5:break;default:throw Error(iU(329))}if((E&62914560)===E&&(z=p8+300-U0(),10<z)){if(bY(p,E,Cz,!hY),fy(p,0,!0)!==0)break U;B4=E,p.timeoutHandle=Vw(VG.bind(null,p,u,oz,wy,W2,E,Cz,$P,hn,hY,c,"Throttled",-0,0),z);break U}VG(p,u,oz,wy,W2,E,Cz,$P,hn,hY,c,null,-0,0)}}break}while(1);tc(U)}function VG(U,E,u,p,z,c,Y,P,n,j,H,k,Q,y){if(U.timeoutHandle=-1,k=E.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:A4},pw(E,c,k);var r=(c&62914560)===c?p8-U0():(c&4194048)===c?Zw-U0():0;if(r=_a(k,r),r!==null){B4=c,U.cancelPendingCommit=r(BG.bind(null,U,E,c,u,p,z,Y,P,n,H,k,null,Q,y)),bY(U,c,Y,!j);return}}BG(U,E,c,u,p,z,Y,P,n)}function ka(U){for(var E=U;;){var u=E.tag;if((u===0||u===11||u===15)&&E.flags&16384&&(u=E.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var z=u[p],c=z.getSnapshot;z=z.value;try{if(!z0(c(),z))return!1}catch(Y){return!1}}if(u=E.child,E.subtreeFlags&16384&&u!==null)u.return=E,E=u;else{if(E===U)break;for(;E.sibling===null;){if(E.return===null||E.return===U)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function bY(U,E,u,p){E&=~KX,E&=~$P,U.suspendedLanes|=E,U.pingedLanes&=~E,p&&(U.warmLanes|=E),p=U.expirationTimes;for(var z=E;0<z;){var c=31-u0(z),Y=1<<c;p[c]=-1,z&=~Y}u!==0&&kB(U,u,E)}function z8(){return(lu&6)===0?(Hk(0,!1),!1):!0}function aX(){if(Iu!==null){if(_u===0)var U=Iu.return;else U=Iu,m4=iP=null,wX(U),Bn=null,_H=0,U=Iu;for(;U!==null;)ld(U.alternate,U),U=U.return;Iu=null}}function ln(U,E){var u=U.timeoutHandle;u!==-1&&(U.timeoutHandle=-1,Ba(u)),u=U.cancelPendingCommit,u!==null&&(U.cancelPendingCommit=null,u()),B4=0,aX(),Yp=U,Iu=u=V4(U.current,null),Tu=E,_u=0,_z=null,hY=!1,_n=Yk(U,E),sX=!1,hn=Cz=KX=$P=uZ=dp=0,oz=hH=null,W2=!1,(E&8)!==0&&(E|=E&32);var p=U.entangledLanes;if(p!==0)for(U=U.entanglements,p&=E;0<p;){var z=31-u0(p),c=1<<z;E|=U[z],p&=~c}return R4=E,_y(),u}function jw(U,E){pu=null,aE.H=eH,E===an||E===ey?(E=PG(),_u=3):E===FX?(E=PG(),_u=4):_u=E===lX?8:E!==null&&typeof E==="object"&&typeof E.then==="function"?6:1,_z=E,Iu===null&&(dp=1,Vy(U,F0(E,U.current)))}function qw(){var U=c0.current;return U===null?!0:(Tu&4194048)===Tu?m0===null?!0:!1:(Tu&62914560)===Tu||(Tu&536870912)!==0?U===m0:!1}function Hw(){var U=aE.H;return aE.H=eH,U===null?eH:U}function kw(){var U=aE.A;return aE.A=qa,U}function vy(){dp=4,hY||(Tu&4194048)!==Tu&&c0.current!==null||(_n=!0),(uZ&134217727)===0&&($P&134217727)===0||Yp===null||bY(Yp,Tu,Cz,!1)}function z2(U,E,u){var p=lu;lu|=2;var z=Hw(),c=kw();if(Yp!==U||Tu!==E)wy=null,ln(U,E);E=!1;var Y=dp;U:do try{if(_u!==0&&Iu!==null){var P=Iu,n=_z;switch(_u){case 8:aX(),Y=6;break U;case 3:case 2:case 9:case 6:c0.current===null&&(E=!0);var j=_u;if(_u=0,_z=null,Fn(U,P,n,j),u&&_n){Y=0;break U}break;default:j=_u,_u=0,_z=null,Fn(U,P,n,j)}}Qa(),Y=dp;break}catch(H){jw(U,H)}while(1);return E&&U.shellSuspendCounter++,m4=iP=null,lu=p,aE.H=z,aE.A=c,Iu===null&&(Yp=null,Tu=0,_y()),Y}function Qa(){for(;Iu!==null;)Qw(Iu)}function $a(U,E){var u=lu;lu|=2;var p=Hw(),z=kw();Yp!==U||Tu!==E?(wy=null,dy=U0()+500,ln(U,E)):_n=Yk(U,E);U:do try{if(_u!==0&&Iu!==null){E=Iu;var c=_z;E:switch(_u){case 1:_u=0,_z=null,Fn(U,E,c,1);break;case 2:case 9:if(ZG(c)){_u=0,_z=null,GG(E);break}E=function(){_u!==2&&_u!==9||Yp!==U||(_u=7),tc(U)},c.then(E,E);break U;case 3:_u=7;break U;case 4:_u=5;break U;case 7:ZG(c)?(_u=0,_z=null,GG(E)):(_u=0,_z=null,Fn(U,E,c,7));break;case 5:var Y=null;switch(Iu.tag){case 26:Y=Iu.memoizedState;case 5:case 27:var P=Iu;if(Y?vw(Y):P.stateNode.complete){_u=0,_z=null;var n=P.sibling;if(n!==null)Iu=n;else{var j=P.return;j!==null?(Iu=j,c8(j)):Iu=null}break E}}_u=0,_z=null,Fn(U,E,c,5);break;case 6:_u=0,_z=null,Fn(U,E,c,6);break;case 8:aX(),dp=6;break U;default:throw Error(iU(462))}}ya();break}catch(H){jw(U,H)}while(1);if(m4=iP=null,aE.H=p,aE.A=z,lu=u,Iu!==null)return 0;return Yp=null,Tu=0,_y(),dp}function ya(){for(;Iu!==null&&!J7();)Qw(Iu)}function Qw(U){var E=bd(U.alternate,U,R4);U.memoizedProps=U.pendingProps,E===null?c8(U):Iu=E}function GG(U){var E=U,u=E.alternate;switch(E.tag){case 15:case 0:E=TG(u,E,E.pendingProps,E.type,void 0,Tu);break;case 11:E=TG(u,E,E.pendingProps,E.type.render,E.ref,Tu);break;case 5:wX(E);default:ld(u,E),E=Iu=lB(E,R4),E=bd(u,E,R4)}U.memoizedProps=U.pendingProps,E===null?c8(U):Iu=E}function Fn(U,E,u,p){m4=iP=null,wX(E),Bn=null,_H=0;var z=E.return;try{if(ca(U,z,E,u,Tu)){dp=1,Vy(U,F0(u,U.current)),Iu=null;return}}catch(c){if(z!==null)throw Iu=z,c;dp=1,Vy(U,F0(u,U.current)),Iu=null;return}if(E.flags&32768){if(Au||p===1)U=!0;else if(_n||(Tu&536870912)!==0)U=!1;else if(hY=U=!0,p===2||p===9||p===3||p===6)p=c0.current,p!==null&&p.tag===13&&(p.flags|=16384);$w(E,U)}else c8(E)}function c8(U){var E=U;do{if((E.flags&32768)!==0){$w(E,hY);return}U=E.return;var u=Pa(E.alternate,E,R4);if(u!==null){Iu=u;return}if(E=E.sibling,E!==null){Iu=E;return}Iu=E=U}while(E!==null);dp===0&&(dp=5)}function $w(U,E){do{var u=xa(U.alternate,U);if(u!==null){u.flags&=32767,Iu=u;return}if(u=U.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!E&&(U=U.sibling,U!==null)){Iu=U;return}Iu=U=u}while(U!==null);dp=6,Iu=null}function BG(U,E,u,p,z,c,Y,P,n){U.cancelPendingCommit=null;do Y8();while(x5!==0);if((lu&6)!==0)throw Error(iU(327));if(E!==null){if(E===U.current)throw Error(iU(177));if(c=E.lanes|E.childLanes,c|=NX,_7(U,u,c,Y,P,n),U===Yp&&(Iu=Yp=null,Tu=0),bn=E,aY=U,B4=u,f2=c,s2=z,Pw=p,(E.subtreeFlags&10256)!==0||(E.flags&10256)!==0?(U.callbackNode=null,U.callbackPriority=0,ra(Oy,function(){return rw(),null})):(U.callbackNode=null,U.callbackPriority=0),p=(E.flags&13878)!==0,(E.subtreeFlags&13878)!==0||p){p=aE.T,aE.T=null,z=Mu.p,Mu.p=2,Y=lu,lu|=4;try{na(U,E,u)}finally{lu=Y,Mu.p=z,aE.T=p}}x5=1,yw(),Iw(),Ow()}}function yw(){if(x5===1){x5=0;var U=aY,E=bn,u=(E.flags&13878)!==0;if((E.subtreeFlags&13878)!==0||u){u=aE.T,aE.T=null;var p=Mu.p;Mu.p=2;var z=lu;lu|=4;try{Uw(E,U);var c=UX,Y=vB(U.containerInfo),P=c.focusedElem,n=c.selectionRange;if(Y!==P&&P&&P.ownerDocument&&wB(P.ownerDocument.documentElement,P)){if(n!==null&&OX(P)){var{start:j,end:H}=n;if(H===void 0&&(H=j),"selectionStart"in P)P.selectionStart=j,P.selectionEnd=Math.min(H,P.value.length);else{var k=P.ownerDocument||document,Q=k&&k.defaultView||window;if(Q.getSelection){var y=Q.getSelection(),r=P.textContent.length,T=Math.min(n.start,r),N=n.end===void 0?T:Math.min(n.end,r);!y.extend&&T>N&&(Y=N,N=T,T=Y);var O=UG(P,T),L=UG(P,N);if(O&&L&&(y.rangeCount!==1||y.anchorNode!==O.node||y.anchorOffset!==O.offset||y.focusNode!==L.node||y.focusOffset!==L.offset)){var X=k.createRange();X.setStart(O.node,O.offset),y.removeAllRanges(),T>N?(y.addRange(X),y.extend(L.node,L.offset)):(X.setEnd(L.node,L.offset),y.addRange(X))}}}}k=[];for(y=P;y=y.parentNode;)y.nodeType===1&&k.push({element:y,left:y.scrollLeft,top:y.scrollTop});typeof P.focus==="function"&&P.focus();for(P=0;P<k.length;P++){var i=k[P];i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}ly=!!C2,UX=C2=null}finally{lu=z,Mu.p=p,aE.T=u}}U.current=E,x5=2}}function Iw(){if(x5===2){x5=0;var U=aY,E=bn,u=(E.flags&8772)!==0;if((E.subtreeFlags&8772)!==0||u){u=aE.T,aE.T=null;var p=Mu.p;Mu.p=2;var z=lu;lu|=4;try{ad(U,E.alternate,E)}finally{lu=z,Mu.p=p,aE.T=u}}x5=3}}function Ow(){if(x5===4||x5===3){x5=0,h7();var U=aY,E=bn,u=B4,p=Pw;(E.subtreeFlags&10256)!==0||(E.flags&10256)!==0?x5=5:(x5=0,bn=aY=null,Nw(U,U.pendingLanes));var z=U.pendingLanes;if(z===0&&(KY=null),qX(u),E=E.stateNode,E0&&typeof E0.onCommitFiberRoot==="function")try{E0.onCommitFiberRoot(ck,E,void 0,(E.current.flags&128)===128)}catch(n){}if(p!==null){E=aE.T,z=Mu.p,Mu.p=2,aE.T=null;try{for(var c=U.onRecoverableError,Y=0;Y<p.length;Y++){var P=p[Y];c(P.value,{componentStack:P.stack})}}finally{aE.T=E,Mu.p=z}}(B4&3)!==0&&Y8(),tc(U),z=U.pendingLanes,(u&261930)!==0&&(z&42)!==0?U===K2?bH++:(bH=0,K2=U):bH=0,Hk(0,!1)}}function Nw(U,E){(U.pooledCacheLanes&=E)===0&&(E=U.pooledCache,E!=null&&(U.pooledCache=null,nk(E)))}function Y8(){return yw(),Iw(),Ow(),rw()}function rw(){if(x5!==5)return!1;var U=aY,E=f2;f2=0;var u=qX(B4),p=aE.T,z=Mu.p;try{Mu.p=32>u?32:u,aE.T=null,u=s2,s2=null;var c=aY,Y=B4;if(x5=0,bn=aY=null,B4=0,(lu&6)!==0)throw Error(iU(331));var P=lu;if(lu|=4,cw(c.current),uw(c,c.current,Y,u),lu=P,Hk(0,!1),E0&&typeof E0.onPostCommitFiberRoot==="function")try{E0.onPostCommitFiberRoot(ck,c)}catch(n){}return!0}finally{Mu.p=z,aE.T=p,Nw(U,E)}}function dG(U,E,u){E=F0(u,E),E=h2(U.stateNode,E,2),U=sY(U,E,2),U!==null&&(Zk(U,2),tc(U))}function gu(U,E,u){if(U.tag===3)dG(U,U,u);else for(;E!==null;){if(E.tag===3){dG(E,U,u);break}else if(E.tag===1){var p=E.stateNode;if(typeof E.type.getDerivedStateFromError==="function"||typeof p.componentDidCatch==="function"&&(KY===null||!KY.has(p))){U=F0(u,U),u=Sd(2),p=sY(E,u,2),p!==null&&(Rd(u,p,E,U),Zk(p,2),tc(p));break}}E=E.return}}function c2(U,E,u){var p=U.pingCache;if(p===null){p=U.pingCache=new Ha;var z=new Set;p.set(E,z)}else z=p.get(E),z===void 0&&(z=new Set,p.set(E,z));z.has(u)||(sX=!0,z.add(u),U=Ia.bind(null,U,E,u),E.then(U,U))}function Ia(U,E,u){var p=U.pingCache;p!==null&&p.delete(E),U.pingedLanes|=U.suspendedLanes&u,U.warmLanes&=~u,Yp===U&&(Tu&u)===u&&(dp===4||dp===3&&(Tu&62914560)===Tu&&300>U0()-p8?(lu&2)===0&&ln(U,0):KX|=u,hn===Tu&&(hn=0)),tc(U)}function Lw(U,E){E===0&&(E=HB()),U=oP(U,E),U!==null&&(Zk(U,E),tc(U))}function Oa(U){var E=U.memoizedState,u=0;E!==null&&(u=E.retryLane),Lw(U,u)}function Na(U,E){var u=0;switch(U.tag){case 31:case 13:var{stateNode:p,memoizedState:z}=U;z!==null&&(u=z.retryLane);break;case 19:p=U.stateNode;break;case 22:p=U.stateNode._retryCache;break;default:throw Error(iU(314))}p!==null&&p.delete(E),Lw(U,u)}function ra(U,E){return nX(U,E)}function tc(U){U!==Hn&&U.next===null&&(Hn===null?Sy=Hn=U:Hn=Hn.next=U),Ry=!0,a2||(a2=!0,Xa())}function Hk(U,E){if(!Y2&&Ry){Y2=!0;do{var u=!1;for(var p=Sy;p!==null;){if(!E)if(U!==0){var z=p.pendingLanes;if(z===0)var c=0;else{var{suspendedLanes:Y,pingedLanes:P}=p;c=(1<<31-u0(42|U)+1)-1,c&=z&~(Y&~P),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(u=!0,wG(p,c))}else c=Tu,c=fy(p,p===Yp?c:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(c&3)===0||Yk(p,c)||(u=!0,wG(p,c));p=p.next}}while(u);Y2=!1}}function La(){Xw()}function Xw(){Ry=a2=!1;var U=0;lY!==0&&Ga()&&(U=lY);for(var E=U0(),u=null,p=Sy;p!==null;){var z=p.next,c=Tw(p,E);if(c===0)p.next=null,u===null?Sy=z:u.next=z,z===null&&(Hn=u);else if(u=p,U!==0||(c&3)!==0)Ry=!0;p=z}x5!==0&&x5!==5||Hk(U,!1),lY!==0&&(lY=0)}function Tw(U,E){for(var{suspendedLanes:u,pingedLanes:p,expirationTimes:z}=U,c=U.pendingLanes&-62914561;0<c;){var Y=31-u0(c),P=1<<Y,n=z[Y];if(n===-1){if((P&u)===0||(P&p)!==0)z[Y]=a7(P,E)}else n<=E&&(U.expiredLanes|=P);c&=~P}if(E=Yp,u=Tu,u=fy(U,U===E?u:0,U.cancelPendingCommit!==null||U.timeoutHandle!==-1),p=U.callbackNode,u===0||U===E&&(_u===2||_u===9)||U.cancelPendingCommit!==null)return p!==null&&p!==null&&SL(p),U.callbackNode=null,U.callbackPriority=0;if((u&3)===0||Yk(U,u)){if(E=u&-u,E===U.callbackPriority)return E;switch(p!==null&&SL(p),qX(u)){case 2:case 8:u=jB;break;case 32:u=Oy;break;case 268435456:u=qB;break;default:u=Oy}return p=ow.bind(null,U),u=nX(u,p),U.callbackPriority=E,U.callbackNode=u,E}return p!==null&&p!==null&&SL(p),U.callbackPriority=2,U.callbackNode=null,2}function ow(U,E){if(x5!==0&&x5!==5)return U.callbackNode=null,U.callbackPriority=0,null;var u=U.callbackNode;if(Y8()&&U.callbackNode!==u)return null;var p=Tu;if(p=fy(U,U===Yp?p:0,U.cancelPendingCommit!==null||U.timeoutHandle!==-1),p===0)return null;return nw(U,p,E),Tw(U,U0()),U.callbackNode!=null&&U.callbackNode===u?ow.bind(null,U):null}function wG(U,E){if(Y8())return null;nw(U,E,!0)}function Xa(){da(function(){(lu&6)!==0?nX(nB,La):Xw()})}function _X(){if(lY===0){var U=Dn;U===0&&(U=h$,h$<<=1,(h$&261888)===0&&(h$=256)),lY=U}return lY}function vG(U){return U==null||typeof U==="symbol"||typeof U==="boolean"?null:typeof U==="function"?U:Ey(""+U)}function SG(U,E){var u=E.ownerDocument.createElement("input");return u.name=E.name,u.value=E.value,U.id&&u.setAttribute("form",U.id),E.parentNode.insertBefore(u,E),U=new FormData(U),u.parentNode.removeChild(u),U}function Ta(U,E,u,p,z){if(E==="submit"&&u&&u.stateNode===z){var c=vG((z[Fz]||null).action),Y=p.submitter;Y&&(E=(E=Y[Fz]||null)?vG(E.formAction):Y.getAttribute("formAction"),E!==null&&(c=E,Y=null));var P=new sy("action","action",null,p,z);U.push({event:P,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(lY!==0){var n=Y?SG(z,Y):new FormData(z);t2(u,{pending:!0,data:n,method:z.method,action:c},null,n)}}else typeof c==="function"&&(P.preventDefault(),n=Y?SG(z,Y):new FormData(z),t2(u,{pending:!0,data:n,method:z.method,action:c},c,n))},currentTarget:z}]})}}function iw(U,E){E=(E&4)!==0;for(var u=0;u<U.length;u++){var p=U[u],z=p.event;p=p.listeners;U:{var c=void 0;if(E)for(var Y=p.length-1;0<=Y;Y--){var P=p[Y],n=P.instance,j=P.currentTarget;if(P=P.listener,n!==c&&z.isPropagationStopped())break U;c=P,z.currentTarget=j;try{c(z)}catch(H){ry(H)}z.currentTarget=null,c=n}else for(Y=0;Y<p.length;Y++){if(P=p[Y],n=P.instance,j=P.currentTarget,P=P.listener,n!==c&&z.isPropagationStopped())break U;c=P,z.currentTarget=j;try{c(z)}catch(H){ry(H)}z.currentTarget=null,c=n}}}}function yu(U,E){var u=E[O2];u===void 0&&(u=E[O2]=new Set);var p=U+"__bubble";u.has(p)||(Fw(E,U,2,!1),u.add(p))}function Z2(U,E,u){var p=0;E&&(p|=4),Fw(u,U,p,E)}function gX(U){if(!U[g$]){U[g$]=!0,IB.forEach(function(u){u!=="selectionchange"&&(oa.has(u)||Z2(u,!1,U),Z2(u,!0,U))});var E=U.nodeType===9?U:U.ownerDocument;E===null||E[g$]||(E[g$]=!0,Z2("selectionchange",!1,E))}}function Fw(U,E,u,p){switch(Jw(E)){case 2:var z=Ca;break;case 8:z=U_;break;default:z=ET}u=z.bind(null,E,u,U),z=void 0,!T2||E!=="touchstart"&&E!=="touchmove"&&E!=="wheel"||(z=!0),p?z!==void 0?U.addEventListener(E,u,{capture:!0,passive:z}):U.addEventListener(E,u,!0):z!==void 0?U.addEventListener(E,u,{passive:z}):U.addEventListener(E,u,!1)}function P2(U,E,u,p,z){var c=p;if((E&1)===0&&(E&2)===0&&p!==null)U:for(;;){if(p===null)return;var Y=p.tag;if(Y===3||Y===4){var P=p.stateNode.containerInfo;if(P===z)break;if(Y===4)for(Y=p.return;Y!==null;){var n=Y.tag;if((n===3||n===4)&&Y.stateNode.containerInfo===z)return;Y=Y.return}for(;P!==null;){if(Y=yn(P),Y===null)return;if(n=Y.tag,n===5||n===6||n===26||n===27){p=c=Y;continue U}P=P.parentNode}}p=p.return}iB(function(){var j=c,H=QX(u),k=[];U:{var Q=hB.get(U);if(Q!==void 0){var y=sy,r=U;switch(U){case"keypress":if(py(u)===0)break U;case"keydown":case"keyup":y=NK;break;case"focusin":r="focus",y=hL;break;case"focusout":r="blur",y=hL;break;case"beforeblur":case"afterblur":y=hL;break;case"click":if(u.button===2)break U;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=WV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=PK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=XK;break;case RB:case DB:case tB:y=jK;break;case JB:y=oK;break;case"scroll":case"scrollend":y=YK;break;case"wheel":y=FK;break;case"copy":case"cut":case"paste":y=HK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=sV;break;case"toggle":case"beforetoggle":y=mK}var T=(E&4)!==0,N=!T&&(U==="scroll"||U==="scrollend"),O=T?Q!==null?Q+"Capture":null:Q;T=[];for(var L=j,X;L!==null;){var i=L;if(X=i.stateNode,i=i.tag,i!==5&&i!==26&&i!==27||X===null||O===null||(i=WH(L,O),i!=null&&T.push(Uk(L,i,X))),N)break;L=L.return}0<T.length&&(Q=new y(Q,r,null,u,H),k.push({event:Q,listeners:T}))}}if((E&7)===0){U:{if(Q=U==="mouseover"||U==="pointerover",y=U==="mouseout"||U==="pointerout",Q&&u!==X2&&(r=u.relatedTarget||u.fromElement)&&(yn(r)||r[fn]))break U;if(y||Q){if(Q=H.window===H?H:(Q=H.ownerDocument)?Q.defaultView||Q.parentWindow:window,y){if(r=u.relatedTarget||u.toElement,y=j,r=r?yn(r):null,r!==null&&(N=zk(r),T=r.tag,r!==N||T!==5&&T!==27&&T!==6))r=null}else y=null,r=j;if(y!==r){if(T=WV,i="onMouseLeave",O="onMouseEnter",L="mouse",U==="pointerout"||U==="pointerover")T=sV,i="onPointerLeave",O="onPointerEnter",L="pointer";if(N=y==null?Q:TH(y),X=r==null?Q:TH(r),Q=new T(i,L+"leave",y,u,H),Q.target=N,Q.relatedTarget=X,i=null,yn(H)===j&&(T=new T(O,L+"enter",r,u,H),T.target=X,T.relatedTarget=N,i=T),N=i,y&&r)E:{T=ia,O=y,L=r,X=0;for(i=O;i;i=T(i))X++;i=0;for(var B=L;B;B=T(B))i++;for(;0<X-i;)O=T(O),X--;for(;0<i-X;)L=T(L),i--;for(;X--;){if(O===L||L!==null&&O===L.alternate){T=O;break E}O=T(O),L=T(L)}T=null}else T=null;y!==null&&RG(k,Q,y,T,!1),r!==null&&N!==null&&RG(k,N,r,T,!0)}}}U:{if(Q=j?TH(j):window,y=Q.nodeName&&Q.nodeName.toLowerCase(),y==="select"||y==="input"&&Q.type==="file")var G=gV;else if(_V(Q))if(BB)G=tK;else{G=RK;var d=SK}else y=Q.nodeName,!y||y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?j&&kX(j.elementType)&&(G=gV):G=DK;if(G&&(G=G(U,j))){GB(k,G,u,H);break U}d&&d(U,Q,j),U==="focusout"&&j&&Q.type==="number"&&j.memoizedProps.value!=null&&L2(Q,"number",Q.value)}switch(d=j?TH(j):window,U){case"focusin":if(_V(d)||d.contentEditable==="true")Nn=d,o2=j,dH=null;break;case"focusout":dH=o2=Nn=null;break;case"mousedown":i2=!0;break;case"contextmenu":case"mouseup":case"dragend":i2=!1,EG(k,u,H);break;case"selectionchange":if(hK)break;case"keydown":case"keyup":EG(k,u,H)}var m;if(IX)U:{switch(U){case"compositionstart":var V="onCompositionStart";break U;case"compositionend":V="onCompositionEnd";break U;case"compositionupdate":V="onCompositionUpdate";break U}V=void 0}else On?mB(U,u)&&(V="onCompositionEnd"):U==="keydown"&&u.keyCode===229&&(V="onCompositionStart");if(V&&(AB&&u.locale!=="ko"&&(On||V!=="onCompositionStart"?V==="onCompositionEnd"&&On&&(m=FB()):(JY=H,$X=("value"in JY)?JY.value:JY.textContent,On=!0)),d=Dy(j,V),0<d.length&&(V=new fV(V,U,null,u,H),k.push({event:V,listeners:d}),m?V.data=m:(m=VB(u),m!==null&&(V.data=m)))),m=GK?BK(U,u):dK(U,u))V=Dy(j,"onBeforeInput"),0<V.length&&(d=new fV("onBeforeInput","beforeinput",null,u,H),k.push({event:d,listeners:V}),d.data=m);Ta(k,U,j,u,H)}iw(k,E)})}function Uk(U,E,u){return{instance:U,listener:E,currentTarget:u}}function Dy(U,E){for(var u=E+"Capture",p=[];U!==null;){var z=U,c=z.stateNode;if(z=z.tag,z!==5&&z!==26&&z!==27||c===null||(z=WH(U,u),z!=null&&p.unshift(Uk(U,z,c)),z=WH(U,E),z!=null&&p.push(Uk(U,z,c))),U.tag===3)return p;U=U.return}return[]}function ia(U){if(U===null)return null;do U=U.return;while(U&&U.tag!==5&&U.tag!==27);return U?U:null}function RG(U,E,u,p,z){for(var c=E._reactName,Y=[];u!==null&&u!==p;){var P=u,n=P.alternate,j=P.stateNode;if(P=P.tag,n!==null&&n===p)break;P!==5&&P!==26&&P!==27||j===null||(n=j,z?(j=WH(u,c),j!=null&&Y.unshift(Uk(u,j,n))):z||(j=WH(u,c),j!=null&&Y.push(Uk(u,j,n)))),u=u.return}Y.length!==0&&U.push({event:E,listeners:Y})}function DG(U){return(typeof U==="string"?U:""+U).replace(Fa,`
`).replace(Aa,"")}function Aw(U,E){return E=DG(E),DG(U)===E?!0:!1}function Cu(U,E,u,p,z,c){switch(u){case"children":typeof p==="string"?E==="body"||E==="textarea"&&p===""||Rn(U,p):(typeof p==="number"||typeof p==="bigint")&&E!=="body"&&Rn(U,""+p);break;case"className":M$(U,"class",p);break;case"tabIndex":M$(U,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":M$(U,u,p);break;case"style":oB(U,p,c);break;case"data":if(E!=="object"){M$(U,"data",p);break}case"src":case"href":if(p===""&&(E!=="a"||u!=="href")){U.removeAttribute(u);break}if(p==null||typeof p==="function"||typeof p==="symbol"||typeof p==="boolean"){U.removeAttribute(u);break}p=Ey(""+p),U.setAttribute(u,p);break;case"action":case"formAction":if(typeof p==="function"){U.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c==="function"&&(u==="formAction"?(E!=="input"&&Cu(U,E,"name",z.name,z,null),Cu(U,E,"formEncType",z.formEncType,z,null),Cu(U,E,"formMethod",z.formMethod,z,null),Cu(U,E,"formTarget",z.formTarget,z,null)):(Cu(U,E,"encType",z.encType,z,null),Cu(U,E,"method",z.method,z,null),Cu(U,E,"target",z.target,z,null)));if(p==null||typeof p==="symbol"||typeof p==="boolean"){U.removeAttribute(u);break}p=Ey(""+p),U.setAttribute(u,p);break;case"onClick":p!=null&&(U.onclick=A4);break;case"onScroll":p!=null&&yu("scroll",U);break;case"onScrollEnd":p!=null&&yu("scrollend",U);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!=="object"||!("__html"in p))throw Error(iU(61));if(u=p.__html,u!=null){if(z.children!=null)throw Error(iU(60));U.innerHTML=u}}break;case"multiple":U.multiple=p&&typeof p!=="function"&&typeof p!=="symbol";break;case"muted":U.muted=p&&typeof p!=="function"&&typeof p!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p==="function"||typeof p==="boolean"||typeof p==="symbol"){U.removeAttribute("xlink:href");break}u=Ey(""+p),U.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!=="function"&&typeof p!=="symbol"?U.setAttribute(u,""+p):U.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!=="function"&&typeof p!=="symbol"?U.setAttribute(u,""):U.removeAttribute(u);break;case"capture":case"download":p===!0?U.setAttribute(u,""):p!==!1&&p!=null&&typeof p!=="function"&&typeof p!=="symbol"?U.setAttribute(u,p):U.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!=="function"&&typeof p!=="symbol"&&!isNaN(p)&&1<=p?U.setAttribute(u,p):U.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p==="function"||typeof p==="symbol"||isNaN(p)?U.removeAttribute(u):U.setAttribute(u,p);break;case"popover":yu("beforetoggle",U),yu("toggle",U),Uy(U,"popover",p);break;case"xlinkActuate":N4(U,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":N4(U,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":N4(U,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":N4(U,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":N4(U,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":N4(U,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":N4(U,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":N4(U,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":N4(U,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Uy(U,"is",p);break;case"innerText":case"textContent":break;default:if(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")u=zK.get(u)||u,Uy(U,u,p)}}function e2(U,E,u,p,z,c){switch(u){case"style":oB(U,p,c);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!=="object"||!("__html"in p))throw Error(iU(61));if(u=p.__html,u!=null){if(z.children!=null)throw Error(iU(60));U.innerHTML=u}}break;case"children":typeof p==="string"?Rn(U,p):(typeof p==="number"||typeof p==="bigint")&&Rn(U,""+p);break;case"onScroll":p!=null&&yu("scroll",U);break;case"onScrollEnd":p!=null&&yu("scrollend",U);break;case"onClick":p!=null&&(U.onclick=A4);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!OB.hasOwnProperty(u))U:{if(u[0]==="o"&&u[1]==="n"&&(z=u.endsWith("Capture"),E=u.slice(2,z?u.length-7:void 0),c=U[Fz]||null,c=c!=null?c[u]:null,typeof c==="function"&&U.removeEventListener(E,c,z),typeof p==="function")){typeof c!=="function"&&c!==null&&(u in U?U[u]=null:U.hasAttribute(u)&&U.removeAttribute(u)),U.addEventListener(E,p,z);break U}u in U?U[u]=p:p===!0?U.setAttribute(u,""):Uy(U,u,p)}}}function D5(U,E,u){switch(E){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yu("error",U),yu("load",U);var p=!1,z=!1,c;for(c in u)if(u.hasOwnProperty(c)){var Y=u[c];if(Y!=null)switch(c){case"src":p=!0;break;case"srcSet":z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(iU(137,E));default:Cu(U,E,c,Y,u,null)}}z&&Cu(U,E,"srcSet",u.srcSet,u,null),p&&Cu(U,E,"src",u.src,u,null);return;case"input":yu("invalid",U);var P=c=Y=z=null,n=null,j=null;for(p in u)if(u.hasOwnProperty(p)){var H=u[p];if(H!=null)switch(p){case"name":z=H;break;case"type":Y=H;break;case"checked":n=H;break;case"defaultChecked":j=H;break;case"value":c=H;break;case"defaultValue":P=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(iU(137,E));break;default:Cu(U,E,p,H,u,null)}}LB(U,c,P,n,j,Y,z,!1);return;case"select":yu("invalid",U),p=Y=c=null;for(z in u)if(u.hasOwnProperty(z)&&(P=u[z],P!=null))switch(z){case"value":c=P;break;case"defaultValue":Y=P;break;case"multiple":p=P;default:Cu(U,E,z,P,u,null)}E=c,u=Y,U.multiple=!!p,E!=null?mn(U,!!p,E,!1):u!=null&&mn(U,!!p,u,!0);return;case"textarea":yu("invalid",U),c=z=p=null;for(Y in u)if(u.hasOwnProperty(Y)&&(P=u[Y],P!=null))switch(Y){case"value":p=P;break;case"defaultValue":z=P;break;case"children":c=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(iU(91));break;default:Cu(U,E,Y,P,u,null)}TB(U,p,z,c);return;case"option":for(n in u)if(u.hasOwnProperty(n)&&(p=u[n],p!=null))switch(n){case"selected":U.selected=p&&typeof p!=="function"&&typeof p!=="symbol";break;default:Cu(U,E,n,p,u,null)}return;case"dialog":yu("beforetoggle",U),yu("toggle",U),yu("cancel",U),yu("close",U);break;case"iframe":case"object":yu("load",U);break;case"video":case"audio":for(p=0;p<CH.length;p++)yu(CH[p],U);break;case"image":yu("error",U),yu("load",U);break;case"details":yu("toggle",U);break;case"embed":case"source":case"link":yu("error",U),yu("load",U);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in u)if(u.hasOwnProperty(j)&&(p=u[j],p!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(iU(137,E));default:Cu(U,E,j,p,u,null)}return;default:if(kX(E)){for(H in u)u.hasOwnProperty(H)&&(p=u[H],p!==void 0&&e2(U,E,H,p,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(p=u[P],p!=null&&Cu(U,E,P,p,u,null))}function ma(U,E,u,p){switch(E){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var z=null,c=null,Y=null,P=null,n=null,j=null,H=null;for(y in u){var k=u[y];if(u.hasOwnProperty(y)&&k!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":n=k;default:p.hasOwnProperty(y)||Cu(U,E,y,null,p,k)}}for(var Q in p){var y=p[Q];if(k=u[Q],p.hasOwnProperty(Q)&&(y!=null||k!=null))switch(Q){case"type":c=y;break;case"name":z=y;break;case"checked":j=y;break;case"defaultChecked":H=y;break;case"value":Y=y;break;case"defaultValue":P=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(iU(137,E));break;default:y!==k&&Cu(U,E,Q,y,p,k)}}r2(U,Y,P,n,j,H,c,z);return;case"select":y=Y=P=Q=null;for(c in u)if(n=u[c],u.hasOwnProperty(c)&&n!=null)switch(c){case"value":break;case"multiple":y=n;default:p.hasOwnProperty(c)||Cu(U,E,c,null,p,n)}for(z in p)if(c=p[z],n=u[z],p.hasOwnProperty(z)&&(c!=null||n!=null))switch(z){case"value":Q=c;break;case"defaultValue":P=c;break;case"multiple":Y=c;default:c!==n&&Cu(U,E,z,c,p,n)}E=P,u=Y,p=y,Q!=null?mn(U,!!u,Q,!1):!!p!==!!u&&(E!=null?mn(U,!!u,E,!0):mn(U,!!u,u?[]:"",!1));return;case"textarea":y=Q=null;for(P in u)if(z=u[P],u.hasOwnProperty(P)&&z!=null&&!p.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Cu(U,E,P,null,p,z)}for(Y in p)if(z=p[Y],c=u[Y],p.hasOwnProperty(Y)&&(z!=null||c!=null))switch(Y){case"value":Q=z;break;case"defaultValue":y=z;break;case"children":break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(iU(91));break;default:z!==c&&Cu(U,E,Y,z,p,c)}XB(U,Q,y);return;case"option":for(var r in u)if(Q=u[r],u.hasOwnProperty(r)&&Q!=null&&!p.hasOwnProperty(r))switch(r){case"selected":U.selected=!1;break;default:Cu(U,E,r,null,p,Q)}for(n in p)if(Q=p[n],y=u[n],p.hasOwnProperty(n)&&Q!==y&&(Q!=null||y!=null))switch(n){case"selected":U.selected=Q&&typeof Q!=="function"&&typeof Q!=="symbol";break;default:Cu(U,E,n,Q,p,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in u)Q=u[T],u.hasOwnProperty(T)&&Q!=null&&!p.hasOwnProperty(T)&&Cu(U,E,T,null,p,Q);for(j in p)if(Q=p[j],y=u[j],p.hasOwnProperty(j)&&Q!==y&&(Q!=null||y!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(iU(137,E));break;default:Cu(U,E,j,Q,p,y)}return;default:if(kX(E)){for(var N in u)Q=u[N],u.hasOwnProperty(N)&&Q!==void 0&&!p.hasOwnProperty(N)&&e2(U,E,N,void 0,p,Q);for(H in p)Q=p[H],y=u[H],!p.hasOwnProperty(H)||Q===y||Q===void 0&&y===void 0||e2(U,E,H,Q,p,y);return}}for(var O in u)Q=u[O],u.hasOwnProperty(O)&&Q!=null&&!p.hasOwnProperty(O)&&Cu(U,E,O,null,p,Q);for(k in p)Q=p[k],y=u[k],!p.hasOwnProperty(k)||Q===y||Q==null&&y==null||Cu(U,E,k,Q,p,y)}function tG(U){switch(U){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Va(){if(typeof performance.getEntriesByType==="function"){for(var U=0,E=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var z=u[p],c=z.transferSize,Y=z.initiatorType,P=z.duration;if(c&&P&&tG(Y)){Y=0,P=z.responseEnd;for(p+=1;p<u.length;p++){var n=u[p],j=n.startTime;if(j>P)break;var{transferSize:H,initiatorType:k}=n;H&&tG(k)&&(n=n.responseEnd,Y+=H*(n<P?1:(P-j)/(n-j)))}if(--p,E+=8*(c+Y)/(z.duration/1000),U++,10<U)break}}if(0<U)return E/U/1e6}return navigator.connection&&(U=navigator.connection.downlink,typeof U==="number")?U:5}function ty(U){return U.nodeType===9?U:U.ownerDocument}function JG(U){switch(U){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mw(U,E){if(U===0)switch(E){case"svg":return 1;case"math":return 2;default:return 0}return U===1&&E==="foreignObject"?0:U}function EX(U,E){return U==="textarea"||U==="noscript"||typeof E.children==="string"||typeof E.children==="number"||typeof E.children==="bigint"||typeof E.dangerouslySetInnerHTML==="object"&&E.dangerouslySetInnerHTML!==null&&E.dangerouslySetInnerHTML.__html!=null}function Ga(){var U=window.event;if(U&&U.type==="popstate"){if(U===x2)return!1;return x2=U,!0}return x2=null,!1}function wa(U){setTimeout(function(){throw U})}function zZ(U){return U==="head"}function bG(U,E){var u=E,p=0;do{var z=u.nextSibling;if(U.removeChild(u),z&&z.nodeType===8)if(u=z.data,u==="/$"||u==="/&"){if(p===0){U.removeChild(z),Wn(E);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")lH(U.ownerDocument.documentElement);else if(u==="head"){u=U.ownerDocument.head,lH(u);for(var c=u.firstChild;c;){var{nextSibling:Y,nodeName:P}=c;c[Pk]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&c.rel.toLowerCase()==="stylesheet"||u.removeChild(c),c=Y}}else u==="body"&&lH(U.ownerDocument.body);u=z}while(u);Wn(E)}function lG(U,E){var u=U;U=0;do{var p=u.nextSibling;if(u.nodeType===1?E?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(E?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$")if(U===0)break;else U--;else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||U++;u=p}while(u)}function uX(U){var E=U.firstChild;E&&E.nodeType===10&&(E=E.nextSibling);for(;E;){var u=E;switch(E=E.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":uX(u),HX(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}U.removeChild(u)}}function va(U,E,u,p){for(;U.nodeType===1;){var z=u;if(U.nodeName.toLowerCase()!==E.toLowerCase()){if(!p&&(U.nodeName!=="INPUT"||U.type!=="hidden"))break}else if(!p)if(E==="input"&&U.type==="hidden"){var c=z.name==null?null:""+z.name;if(z.type==="hidden"&&U.getAttribute("name")===c)return U}else return U;else if(!U[Pk])switch(E){case"meta":if(!U.hasAttribute("itemprop"))break;return U;case"link":if(c=U.getAttribute("rel"),c==="stylesheet"&&U.hasAttribute("data-precedence"))break;else if(c!==z.rel||U.getAttribute("href")!==(z.href==null||z.href===""?null:z.href)||U.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin)||U.getAttribute("title")!==(z.title==null?null:z.title))break;return U;case"style":if(U.hasAttribute("data-precedence"))break;return U;case"script":if(c=U.getAttribute("src"),(c!==(z.src==null?null:z.src)||U.getAttribute("type")!==(z.type==null?null:z.type)||U.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin))&&c&&U.hasAttribute("async")&&!U.hasAttribute("itemprop"))break;return U;default:return U}if(U=V0(U.nextSibling),U===null)break}return null}function Sa(U,E,u){if(E==="")return null;for(;U.nodeType!==3;){if((U.nodeType!==1||U.nodeName!=="INPUT"||U.type!=="hidden")&&!u)return null;if(U=V0(U.nextSibling),U===null)return null}return U}function Gw(U,E){for(;U.nodeType!==8;){if((U.nodeType!==1||U.nodeName!=="INPUT"||U.type!=="hidden")&&!E)return null;if(U=V0(U.nextSibling),U===null)return null}return U}function pX(U){return U.data==="$?"||U.data==="$~"}function zX(U){return U.data==="$!"||U.data==="$?"&&U.ownerDocument.readyState!=="loading"}function Ra(U,E){var u=U.ownerDocument;if(U.data==="$~")U._reactRetry=E;else if(U.data!=="$?"||u.readyState!=="loading")E();else{var p=function(){E(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),U._reactRetry=p}}function V0(U){for(;U!=null;U=U.nextSibling){var E=U.nodeType;if(E===1||E===3)break;if(E===8){if(E=U.data,E==="$"||E==="$!"||E==="$?"||E==="$~"||E==="&"||E==="F!"||E==="F")break;if(E==="/$"||E==="/&")return null}}return U}function MG(U){U=U.nextSibling;for(var E=0;U;){if(U.nodeType===8){var u=U.data;if(u==="/$"||u==="/&"){if(E===0)return V0(U.nextSibling);E--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||E++}U=U.nextSibling}return null}function WG(U){U=U.previousSibling;for(var E=0;U;){if(U.nodeType===8){var u=U.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(E===0)return U;E--}else u!=="/$"&&u!=="/&"||E++}U=U.previousSibling}return null}function Bw(U,E,u){switch(E=ty(u),U){case"html":if(U=E.documentElement,!U)throw Error(iU(452));return U;case"head":if(U=E.head,!U)throw Error(iU(453));return U;case"body":if(U=E.body,!U)throw Error(iU(454));return U;default:throw Error(iU(451))}}function lH(U){for(var E=U.attributes;E.length;)U.removeAttributeNode(E[0]);HX(U)}function Jy(U){return typeof U.getRootNode==="function"?U.getRootNode():U.nodeType===9?U:U.ownerDocument}function Da(){var U=D4.f(),E=z8();return U||E}function ta(U){var E=sn(U);E!==null&&E.tag===5&&E.type==="form"?od(E):D4.r(U)}function dw(U,E,u){var p=gn;if(p&&typeof E==="string"&&E){var z=i0(E);z='link[rel="'+U+'"][href="'+z+'"]',typeof u==="string"&&(z+='[crossorigin="'+u+'"]'),fG.has(z)||(fG.add(z),U={rel:U,crossOrigin:u,href:E},p.querySelector(z)===null&&(E=p.createElement("link"),D5(E,"link",U),T5(E),p.head.appendChild(E)))}}function Ja(U){D4.D(U),dw("dns-prefetch",U,null)}function ha(U,E){D4.C(U,E),dw("preconnect",U,E)}function ba(U,E,u){D4.L(U,E,u);var p=gn;if(p&&U&&E){var z='link[rel="preload"][as="'+i0(E)+'"]';E==="image"?u&&u.imageSrcSet?(z+='[imagesrcset="'+i0(u.imageSrcSet)+'"]',typeof u.imageSizes==="string"&&(z+='[imagesizes="'+i0(u.imageSizes)+'"]')):z+='[href="'+i0(U)+'"]':z+='[href="'+i0(U)+'"]';var c=z;switch(E){case"style":c=Mn(U);break;case"script":c=en(U)}G0.has(c)||(U=yp({rel:"preload",href:E==="image"&&u&&u.imageSrcSet?void 0:U,as:E},u),G0.set(c,U),p.querySelector(z)!==null||E==="style"&&p.querySelector(kk(c))||E==="script"&&p.querySelector(Qk(c))||(E=p.createElement("link"),D5(E,"link",U),T5(E),p.head.appendChild(E)))}}function la(U,E){D4.m(U,E);var u=gn;if(u&&U){var p=E&&typeof E.as==="string"?E.as:"script",z='link[rel="modulepreload"][as="'+i0(p)+'"][href="'+i0(U)+'"]',c=z;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=en(U)}if(!G0.has(c)&&(U=yp({rel:"modulepreload",href:U},E),G0.set(c,U),u.querySelector(z)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Qk(c)))return}p=u.createElement("link"),D5(p,"link",U),T5(p),u.head.appendChild(p)}}}function Ma(U,E,u){D4.S(U,E,u);var p=gn;if(p&&U){var z=An(p).hoistableStyles,c=Mn(U);E=E||"default";var Y=z.get(c);if(!Y){var P={loading:0,preload:null};if(Y=p.querySelector(kk(c)))P.loading=5;else{U=yp({rel:"stylesheet",href:U,"data-precedence":E},u),(u=G0.get(c))&&eX(U,u);var n=Y=p.createElement("link");T5(n),D5(n,"link",U),n._p=new Promise(function(j,H){n.onload=j,n.onerror=H}),n.addEventListener("load",function(){P.loading|=1}),n.addEventListener("error",function(){P.loading|=2}),P.loading|=4,qy(Y,E,p)}Y={type:"stylesheet",instance:Y,count:1,state:P},z.set(c,Y)}}}function Wa(U,E){D4.X(U,E);var u=gn;if(u&&U){var p=An(u).hoistableScripts,z=en(U),c=p.get(z);c||(c=u.querySelector(Qk(z)),c||(U=yp({src:U,async:!0},E),(E=G0.get(z))&&CX(U,E),c=u.createElement("script"),T5(c),D5(c,"link",U),u.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},p.set(z,c))}}function fa(U,E){D4.M(U,E);var u=gn;if(u&&U){var p=An(u).hoistableScripts,z=en(U),c=p.get(z);c||(c=u.querySelector(Qk(z)),c||(U=yp({src:U,async:!0,type:"module"},E),(E=G0.get(z))&&CX(U,E),c=u.createElement("script"),T5(c),D5(c,"link",U),u.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},p.set(z,c))}}function sG(U,E,u,p){var z=(z=MY.current)?Jy(z):null;if(!z)throw Error(iU(446));switch(U){case"meta":case"title":return null;case"style":return typeof u.precedence==="string"&&typeof u.href==="string"?(E=Mn(u.href),u=An(z).hoistableStyles,p=u.get(E),p||(p={type:"style",instance:null,count:0,state:null},u.set(E,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href==="string"&&typeof u.precedence==="string"){U=Mn(u.href);var c=An(z).hoistableStyles,Y=c.get(U);if(Y||(z=z.ownerDocument||z,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(U,Y),(c=z.querySelector(kk(U)))&&!c._p&&(Y.instance=c,Y.state.loading=5),G0.has(U)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},G0.set(U,u),c||sa(z,U,u,Y.state))),E&&p===null)throw Error(iU(528,""));return Y}if(E&&p!==null)throw Error(iU(529,""));return null;case"script":return E=u.async,u=u.src,typeof u==="string"&&E&&typeof E!=="function"&&typeof E!=="symbol"?(E=en(u),u=An(z).hoistableScripts,p=u.get(E),p||(p={type:"script",instance:null,count:0,state:null},u.set(E,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(iU(444,U))}}function Mn(U){return'href="'+i0(U)+'"'}function kk(U){return'link[rel="stylesheet"]['+U+"]"}function ww(U){return yp({},U,{"data-precedence":U.precedence,precedence:null})}function sa(U,E,u,p){U.querySelector('link[rel="preload"][as="style"]['+E+"]")?p.loading=1:(E=U.createElement("link"),p.preload=E,E.addEventListener("load",function(){return p.loading|=1}),E.addEventListener("error",function(){return p.loading|=2}),D5(E,"link",u),T5(E),U.head.appendChild(E))}function en(U){return'[src="'+i0(U)+'"]'}function Qk(U){return"script[async]"+U}function KG(U,E,u){if(E.count++,E.instance===null)switch(E.type){case"style":var p=U.querySelector('style[data-href~="'+i0(u.href)+'"]');if(p)return E.instance=p,T5(p),p;var z=yp({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(U.ownerDocument||U).createElement("style"),T5(p),D5(p,"style",z),qy(p,u.precedence,U),E.instance=p;case"stylesheet":z=Mn(u.href);var c=U.querySelector(kk(z));if(c)return E.state.loading|=4,E.instance=c,T5(c),c;p=ww(u),(z=G0.get(z))&&eX(p,z),c=(U.ownerDocument||U).createElement("link"),T5(c);var Y=c;return Y._p=new Promise(function(P,n){Y.onload=P,Y.onerror=n}),D5(c,"link",p),E.state.loading|=4,qy(c,u.precedence,U),E.instance=c;case"script":if(c=en(u.src),z=U.querySelector(Qk(c)))return E.instance=z,T5(z),z;if(p=u,z=G0.get(c))p=yp({},u),CX(p,z);return U=U.ownerDocument||U,z=U.createElement("script"),T5(z),D5(z,"link",p),U.head.appendChild(z),E.instance=z;case"void":return null;default:throw Error(iU(443,E.type))}else E.type==="stylesheet"&&(E.state.loading&4)===0&&(p=E.instance,E.state.loading|=4,qy(p,u.precedence,U));return E.instance}function qy(U,E,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),z=p.length?p[p.length-1]:null,c=z,Y=0;Y<p.length;Y++){var P=p[Y];if(P.dataset.precedence===E)c=P;else if(c!==z)break}c?c.parentNode.insertBefore(U,c.nextSibling):(E=u.nodeType===9?u.head:u,E.insertBefore(U,E.firstChild))}function eX(U,E){U.crossOrigin==null&&(U.crossOrigin=E.crossOrigin),U.referrerPolicy==null&&(U.referrerPolicy=E.referrerPolicy),U.title==null&&(U.title=E.title)}function CX(U,E){U.crossOrigin==null&&(U.crossOrigin=E.crossOrigin),U.referrerPolicy==null&&(U.referrerPolicy=E.referrerPolicy),U.integrity==null&&(U.integrity=E.integrity)}function aG(U,E,u){if(Hy===null){var p=new Map,z=Hy=new Map;z.set(u,p)}else z=Hy,p=z.get(u),p||(p=new Map,z.set(u,p));if(p.has(U))return p;p.set(U,null),u=u.getElementsByTagName(U);for(z=0;z<u.length;z++){var c=u[z];if(!(c[Pk]||c[v5]||U==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=c.getAttribute(E)||"";Y=U+Y;var P=p.get(Y);P?P.push(c):p.set(Y,[c])}}return p}function _G(U,E,u){U=U.ownerDocument||U,U.head.insertBefore(u,E==="title"?U.querySelector("head > title"):null)}function Ka(U,E,u){if(u===1||E.itemProp!=null)return!1;switch(U){case"meta":case"title":return!0;case"style":if(typeof E.precedence!=="string"||typeof E.href!=="string"||E.href==="")break;return!0;case"link":if(typeof E.rel!=="string"||typeof E.href!=="string"||E.href===""||E.onLoad||E.onError)break;switch(E.rel){case"stylesheet":return U=E.disabled,typeof E.precedence==="string"&&U==null;default:return!0}case"script":if(E.async&&typeof E.async!=="function"&&typeof E.async!=="symbol"&&!E.onLoad&&!E.onError&&E.src&&typeof E.src==="string")return!0}return!1}function vw(U){return U.type==="stylesheet"&&(U.state.loading&3)===0?!1:!0}function aa(U,E,u,p){if(u.type==="stylesheet"&&(typeof p.media!=="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var z=Mn(p.href),c=E.querySelector(kk(z));if(c){E=c._p,E!==null&&typeof E==="object"&&typeof E.then==="function"&&(U.count++,U=hy.bind(U),E.then(U,U)),u.state.loading|=4,u.instance=c,T5(c);return}c=E.ownerDocument||E,p=ww(p),(z=G0.get(z))&&eX(p,z),c=c.createElement("link"),T5(c);var Y=c;Y._p=new Promise(function(P,n){Y.onload=P,Y.onerror=n}),D5(c,"link",p),u.instance=c}U.stylesheets===null&&(U.stylesheets=new Map),U.stylesheets.set(u,E),(E=u.state.preload)&&(u.state.loading&3)===0&&(U.count++,u=hy.bind(U),E.addEventListener("load",u),E.addEventListener("error",u))}}function _a(U,E){return U.stylesheets&&U.count===0&&ky(U,U.stylesheets),0<U.count||0<U.imgCount?function(u){var p=setTimeout(function(){if(U.stylesheets&&ky(U,U.stylesheets),U.unsuspend){var c=U.unsuspend;U.unsuspend=null,c()}},60000+E);0<U.imgBytes&&n2===0&&(n2=62500*Va());var z=setTimeout(function(){if(U.waitingForImages=!1,U.count===0&&(U.stylesheets&&ky(U,U.stylesheets),U.unsuspend)){var c=U.unsuspend;U.unsuspend=null,c()}},(U.imgBytes>n2?50:800)+E);return U.unsuspend=u,function(){U.unsuspend=null,clearTimeout(p),clearTimeout(z)}}:null}function hy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ky(this,this.stylesheets);else if(this.unsuspend){var U=this.unsuspend;this.unsuspend=null,U()}}}function ky(U,E){U.stylesheets=null,U.unsuspend!==null&&(U.count++,by=new Map,E.forEach(ga,U),by=null,hy.call(U))}function ga(U,E){if(!(E.state.loading&4)){var u=by.get(U);if(u)var p=u.get(null);else{u=new Map,by.set(U,u);for(var z=U.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<z.length;c++){var Y=z[c];if(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")u.set(Y.dataset.precedence,Y),p=Y}p&&u.set(null,p)}z=E.instance,Y=z.getAttribute("data-precedence"),c=u.get(Y)||p,c===p&&u.set(null,z),u.set(Y,z),this.count++,p=hy.bind(this),z.addEventListener("load",p),z.addEventListener("error",p),c?c.parentNode.insertBefore(z,c.nextSibling):(U=U.nodeType===9?U.head:U,U.insertBefore(z,U.firstChild)),E.state.loading|=4}}function ea(U,E,u,p,z,c,Y,P,n){this.tag=1,this.containerInfo=U,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=RL(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RL(0),this.hiddenUpdates=RL(null),this.identifierPrefix=p,this.onUncaughtError=z,this.onCaughtError=c,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=n,this.incompleteTransitions=new Map}function Sw(U,E,u,p,z,c,Y,P,n,j,H,k){return U=new ea(U,E,u,Y,n,j,H,k,P),E=1,c===!0&&(E|=24),c=ez(3,null,null,E),U.current=c,c.stateNode=U,E=oX(),E.refCount++,U.pooledCache=E,E.refCount++,c.memoizedState={element:p,isDehydrated:u,cache:E},AX(c),U}function Rw(U){if(!U)return Xn;return U=Xn,U}function Dw(U,E,u,p,z,c){z=Rw(z),p.context===null?p.context=z:p.pendingContext=z,p=fY(E),p.payload={element:u},c=c===void 0?null:c,c!==null&&(p.callback=c),u=sY(U,p,E),u!==null&&(iz(u,U,E),vH(u,U,E))}function gG(U,E){if(U=U.memoizedState,U!==null&&U.dehydrated!==null){var u=U.retryLane;U.retryLane=u!==0&&u<E?u:E}}function UT(U,E){gG(U,E),(U=U.alternate)&&gG(U,E)}function tw(U){if(U.tag===13||U.tag===31){var E=oP(U,67108864);E!==null&&iz(E,U,67108864),UT(U,67108864)}}function eG(U){if(U.tag===13||U.tag===31){var E=p0();E=jX(E);var u=oP(U,E);u!==null&&iz(u,U,E),UT(U,E)}}function Ca(U,E,u,p){var z=aE.T;aE.T=null;var c=Mu.p;try{Mu.p=2,ET(U,E,u,p)}finally{Mu.p=c,aE.T=z}}function U_(U,E,u,p){var z=aE.T;aE.T=null;var c=Mu.p;try{Mu.p=8,ET(U,E,u,p)}finally{Mu.p=c,aE.T=z}}function ET(U,E,u,p){if(ly){var z=YX(p);if(z===null)P2(U,E,p,My,u),CG(U,p);else if(u_(z,U,E,u,p))p.stopPropagation();else if(CG(U,p),E&4&&-1<E_.indexOf(U)){for(;z!==null;){var c=sn(z);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var Y=PP(c.pendingLanes);if(Y!==0){var P=c;P.pendingLanes|=2;for(P.entangledLanes|=2;Y;){var n=1<<31-u0(Y);P.entanglements[1]|=n,Y&=~n}tc(c),(lu&6)===0&&(dy=U0()+500,Hk(0,!1))}}break;case 31:case 13:P=oP(c,2),P!==null&&iz(P,c,2),z8(),UT(c,2)}if(c=YX(p),c===null&&P2(U,E,p,My,u),c===z)break;z=c}z!==null&&p.stopPropagation()}else P2(U,E,p,null,u)}}function YX(U){return U=QX(U),uT(U)}function uT(U){if(My=null,U=yn(U),U!==null){var E=zk(U);if(E===null)U=null;else{var u=E.tag;if(u===13){if(U=cB(E),U!==null)return U;U=null}else if(u===31){if(U=YB(E),U!==null)return U;U=null}else if(u===3){if(E.stateNode.current.memoizedState.isDehydrated)return E.tag===3?E.stateNode.containerInfo:null;U=null}else E!==U&&(U=null)}}return My=U,null}function Jw(U){switch(U){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(b7()){case nB:return 2;case jB:return 8;case Oy:case l7:return 32;case qB:return 268435456;default:return 32}default:return 32}}function CG(U,E){switch(U){case"focusin":case"focusout":_Y=null;break;case"dragenter":case"dragleave":gY=null;break;case"mouseover":case"mouseout":eY=null;break;case"pointerover":case"pointerout":uk.delete(E.pointerId);break;case"gotpointercapture":case"lostpointercapture":pk.delete(E.pointerId)}}function rH(U,E,u,p,z,c){if(U===null||U.nativeEvent!==c)return U={blockedOn:E,domEventName:u,eventSystemFlags:p,nativeEvent:c,targetContainers:[z]},E!==null&&(E=sn(E),E!==null&&tw(E)),U;return U.eventSystemFlags|=p,E=U.targetContainers,z!==null&&E.indexOf(z)===-1&&E.push(z),U}function u_(U,E,u,p,z){switch(E){case"focusin":return _Y=rH(_Y,U,E,u,p,z),!0;case"dragenter":return gY=rH(gY,U,E,u,p,z),!0;case"mouseover":return eY=rH(eY,U,E,u,p,z),!0;case"pointerover":var c=z.pointerId;return uk.set(c,rH(uk.get(c)||null,U,E,u,p,z)),!0;case"gotpointercapture":return c=z.pointerId,pk.set(c,rH(pk.get(c)||null,U,E,u,p,z)),!0}return!1}function hw(U){var E=yn(U.target);if(E!==null){var u=zk(E);if(u!==null){if(E=u.tag,E===13){if(E=cB(u),E!==null){U.blockedOn=E,DV(U.priority,function(){eG(u)});return}}else if(E===31){if(E=YB(u),E!==null){U.blockedOn=E,DV(U.priority,function(){eG(u)});return}}else if(E===3&&u.stateNode.current.memoizedState.isDehydrated){U.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}U.blockedOn=null}function Qy(U){if(U.blockedOn!==null)return!1;for(var E=U.targetContainers;0<E.length;){var u=YX(U.nativeEvent);if(u===null){u=U.nativeEvent;var p=new u.constructor(u.type,u);X2=p,u.target.dispatchEvent(p),X2=null}else return E=sn(u),E!==null&&tw(E),U.blockedOn=u,!1;E.shift()}return!0}function UB(U,E,u){Qy(U)&&u.delete(E)}function p_(){ZX=!1,_Y!==null&&Qy(_Y)&&(_Y=null),gY!==null&&Qy(gY)&&(gY=null),eY!==null&&Qy(eY)&&(eY=null),uk.forEach(UB),pk.forEach(UB)}function e$(U,E){U.blockedOn===E&&(U.blockedOn=null,ZX||(ZX=!0,Du.unstable_scheduleCallback(Du.unstable_NormalPriority,p_)))}function EB(U){C$!==U&&(C$=U,Du.unstable_scheduleCallback(Du.unstable_NormalPriority,function(){C$===U&&(C$=null);for(var E=0;E<U.length;E+=3){var u=U[E],p=U[E+1],z=U[E+2];if(typeof p!=="function")if(uT(p||u)===null)continue;else break;var c=sn(u);c!==null&&(U.splice(E,3),E-=3,t2(c,{pending:!0,data:z,method:u.method,action:p},p,z))}}))}function Wn(U){function E(n){return e$(n,U)}_Y!==null&&e$(_Y,U),gY!==null&&e$(gY,U),eY!==null&&e$(eY,U),uk.forEach(E),pk.forEach(E);for(var u=0;u<DY.length;u++){var p=DY[u];p.blockedOn===U&&(p.blockedOn=null)}for(;0<DY.length&&(u=DY[0],u.blockedOn===null);)hw(u),u.blockedOn===null&&DY.shift();if(u=(U.ownerDocument||U).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var z=u[p],c=u[p+1],Y=z[Fz]||null;if(typeof c==="function")Y||EB(u);else if(Y){var P=null;if(c&&c.hasAttribute("formAction")){if(z=c,Y=c[Fz]||null)P=Y.formAction;else if(uT(z)!==null)continue}else P=Y.action;typeof P==="function"?u[p+1]=P:(u.splice(p,3),p-=3),EB(u)}}}function bw(){function U(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(Y){return z=Y})},focusReset:"manual",scroll:"manual"})}function E(){z!==null&&(z(),z=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation==="object"){var p=!1,z=null;return navigation.addEventListener("navigate",U),navigation.addEventListener("navigatesuccess",E),navigation.addEventListener("navigateerror",E),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",U),navigation.removeEventListener("navigatesuccess",E),navigation.removeEventListener("navigateerror",E),z!==null&&(z(),z=null)}}}function pT(U){this._internalRoot=U}function Z8(U){this._internalRoot=U}var Du,Wy,pB,yp,S7,J$,LH,Qn,PB,j2,xB,F4,PX,q2,H2,xX,dY,k2,R7,vV,D7,XH,aE,Mu,qP,$2,$n=-1,Rc,MH,MY,$y,dL,SV,wL=!1,I2,nX,SL,J7,h7,U0,b7,nB,jB,Oy,l7,qB,M7,W7,ck=null,E0=null,u0,f7,s7,h$=256,b$=262144,l$=4194304,pZ,v5,Fz,fn,O2,g7,e7,tV,Pk,IB,OB,C7,JV,hV,uK,pK,zK,cK,X2=null,In=null,Vn=null,DL=!1,d4,T2=!1,xP,JY=null,$X=null,uy=null,XP,sy,xk,YK,tL,JL,yH,Ky,WV,ZK,PK,xK,hL,nK,jK,qK,HK,kK,fV,QK,$K,yK,OK,NK,rK,sV,LK,XK,TK,oK,iK,FK,AK,mK,VK,IX,GH=null,GK,AB,KV,aV=!1,On=!1,wK,BH=null,fH=null,BB=!1,oH,iH,zy,z0,hK,Nn=null,o2=null,dH=null,i2=!1,rn,bL,SB,RB,DB,tB,bK,lK,MK,JB,hB,F2,ry,L0,Ln=0,NX=0,Xn,uG,Tn,on=0,Xy=null,KH=0,T0,o0=0,CY=null,wc=1,vc="",S5=null,$p=null,Au=!1,WY=null,A0=!1,A2,m2,iP=null,m4=null,fK,sK,KK,E5,wH=null,B2=0,Dn=0,Gn=null,YG,kP,an,FX,ey,oy,QP=null,Bn=null,_H=0,OP,gB,wY=!1,w2=!1,tn,iy,c0,m0=null,Jp,w4=0,pu=null,Up=null,Cp=null,Ay=!1,dn=!1,NP=!1,my=0,gH=0,wn=null,gK=0,eH,Gd,bX,Bd,J2,lX,u5=!1,aL,i4=!1,U5=!1,p2=!1,mG,X5=null,Np=null,Tz=!1,Yc=null,AH=8192,qa,Ha,lu=0,Yp=null,Iu=null,Tu=0,_u=0,_z=null,hY=!1,_n=!1,sX=!1,R4=0,dp=0,uZ=0,$P=0,KX=0,Cz=0,hn=0,hH=null,oz=null,W2=!1,p8=0,Zw=0,dy=1/0,wy=null,KY=null,x5=0,aY=null,bn=null,B4=0,f2=0,s2=null,Pw=null,bH=0,K2=null,Sy=null,Hn=null,a2=!1,Ry=!1,Y2=!1,lY=0,VH,_2,g2,mH,CH,oa,g$,Fa,Aa,C2=null,UX=null,x2=null,Vw,Ba,hG,da,cX=null,G0,fG,D4,gn,Hy=null,n2=0,by=null,Ek,ly=!0,My=null,ZX=!1,_Y=null,gY=null,eY=null,uk,pk,DY,E_,C$=null,uB,z_,kn,lw=function(U,E){if(!zB(U))throw Error(iU(299));var u=!1,p="",z=dd,c=wd,Y=vd;return E!==null&&E!==void 0&&(E.unstable_strictMode===!0&&(u=!0),E.identifierPrefix!==void 0&&(p=E.identifierPrefix),E.onUncaughtError!==void 0&&(z=E.onUncaughtError),E.onCaughtError!==void 0&&(c=E.onCaughtError),E.onRecoverableError!==void 0&&(Y=E.onRecoverableError)),E=Sw(U,1,!1,null,null,u,p,null,z,c,Y,bw),U[fn]=E.current,gX(U),new pT(E)},Mw=function(U,E,u){if(!zB(U))throw Error(iU(299));var p=!1,z="",c=dd,Y=wd,P=vd,n=null;return u!==null&&u!==void 0&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(z=u.identifierPrefix),u.onUncaughtError!==void 0&&(c=u.onUncaughtError),u.onCaughtError!==void 0&&(Y=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.formState!==void 0&&(n=u.formState)),E=Sw(U,1,!0,E,u!=null?u:null,p,z,n,c,Y,P,bw),E.context=Rw(null),u=E.current,p=p0(),p=jX(p),z=fY(p),z.callback=null,sY(u,z,p),u=p,E.current.lanes=u,Zk(E,u),tc(E),U[fn]=E.current,gX(U),new Z8(E)},Ww="19.2.3";var fw=cU(()=>{Du=OE(R$(),1),Wy=OE(TE(),1),pB=OE(t$(),1);yp=Object.assign,S7=Symbol.for("react.element"),J$=Symbol.for("react.transitional.element"),LH=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),PB=Symbol.for("react.strict_mode"),j2=Symbol.for("react.profiler"),xB=Symbol.for("react.consumer"),F4=Symbol.for("react.context"),PX=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),H2=Symbol.for("react.suspense_list"),xX=Symbol.for("react.memo"),dY=Symbol.for("react.lazy");Symbol.for("react.scope");k2=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");R7=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");vV=Symbol.iterator;D7=Symbol.for("react.client.reference");XH=Array.isArray,aE=Wy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mu=pB.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qP={pending:!1,data:null,method:null,action:null},$2=[];Rc=Dc(null),MH=Dc(null),MY=Dc(null),$y=Dc(null);I2=Object.prototype.hasOwnProperty,nX=Du.unstable_scheduleCallback,SL=Du.unstable_cancelCallback,J7=Du.unstable_shouldYield,h7=Du.unstable_requestPaint,U0=Du.unstable_now,b7=Du.unstable_getCurrentPriorityLevel,nB=Du.unstable_ImmediatePriority,jB=Du.unstable_UserBlockingPriority,Oy=Du.unstable_NormalPriority,l7=Du.unstable_LowPriority,qB=Du.unstable_IdlePriority,M7=Du.log,W7=Du.unstable_setDisableYieldValue;u0=Math.clz32?Math.clz32:K7,f7=Math.log,s7=Math.LN2;pZ=Math.random().toString(36).slice(2),v5="__reactFiber$"+pZ,Fz="__reactProps$"+pZ,fn="__reactContainer$"+pZ,O2="__reactEvents$"+pZ,g7="__reactListeners$"+pZ,e7="__reactHandles$"+pZ,tV="__reactResources$"+pZ,Pk="__reactMarker$"+pZ;IB=new Set,OB={};C7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),JV={},hV={};uK=/[\n"\\]/g;pK=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));zK=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cK=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;d4=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined");if(d4)try{xP={},Object.defineProperty(xP,"passive",{get:function(){T2=!0}}),window.addEventListener("test",xP,xP),window.removeEventListener("test",xP,xP)}catch(U){T2=!1}XP={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(U){return U.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sy=Az(XP),xk=yp({},XP,{view:0,detail:0}),YK=Az(xk),Ky=yp({},xk,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yX,button:0,buttons:0,relatedTarget:function(U){return U.relatedTarget===void 0?U.fromElement===U.srcElement?U.toElement:U.fromElement:U.relatedTarget},movementX:function(U){if("movementX"in U)return U.movementX;return U!==yH&&(yH&&U.type==="mousemove"?(tL=U.screenX-yH.screenX,JL=U.screenY-yH.screenY):JL=tL=0,yH=U),tL},movementY:function(U){return"movementY"in U?U.movementY:JL}}),WV=Az(Ky),ZK=yp({},Ky,{dataTransfer:0}),PK=Az(ZK),xK=yp({},xk,{relatedTarget:0}),hL=Az(xK),nK=yp({},XP,{animationName:0,elapsedTime:0,pseudoElement:0}),jK=Az(nK),qK=yp({},XP,{clipboardData:function(U){return"clipboardData"in U?U.clipboardData:window.clipboardData}}),HK=Az(qK),kK=yp({},XP,{data:0}),fV=Az(kK),QK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};OK=yp({},xk,{key:function(U){if(U.key){var E=QK[U.key]||U.key;if(E!=="Unidentified")return E}return U.type==="keypress"?(U=py(U),U===13?"Enter":String.fromCharCode(U)):U.type==="keydown"||U.type==="keyup"?$K[U.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yX,charCode:function(U){return U.type==="keypress"?py(U):0},keyCode:function(U){return U.type==="keydown"||U.type==="keyup"?U.keyCode:0},which:function(U){return U.type==="keypress"?py(U):U.type==="keydown"||U.type==="keyup"?U.keyCode:0}}),NK=Az(OK),rK=yp({},Ky,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sV=Az(rK),LK=yp({},xk,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yX}),XK=Az(LK),TK=yp({},XP,{propertyName:0,elapsedTime:0,pseudoElement:0}),oK=Az(TK),iK=yp({},Ky,{deltaX:function(U){return"deltaX"in U?U.deltaX:("wheelDeltaX"in U)?-U.wheelDeltaX:0},deltaY:function(U){return"deltaY"in U?U.deltaY:("wheelDeltaY"in U)?-U.wheelDeltaY:("wheelDelta"in U)?-U.wheelDelta:0},deltaZ:0,deltaMode:0}),FK=Az(iK),AK=yp({},XP,{newState:0,oldState:0}),mK=Az(AK),VK=[9,13,27,32],IX=d4&&"CompositionEvent"in window;d4&&"documentMode"in document&&(GH=document.documentMode);GK=d4&&"TextEvent"in window&&!GH,AB=d4&&(!IX||GH&&8<GH&&11>=GH),KV=String.fromCharCode(32);wK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};if(d4){if(d4){if(iH="oninput"in document,!iH)zy=document.createElement("div"),zy.setAttribute("oninput","return;"),iH=typeof zy.oninput==="function";oH=iH}else oH=!1;BB=oH&&(!document.documentMode||9<document.documentMode)}z0=typeof Object.is==="function"?Object.is:JK;hK=d4&&"documentMode"in document&&11>=document.documentMode;rn={animationend:YP("Animation","AnimationEnd"),animationiteration:YP("Animation","AnimationIteration"),animationstart:YP("Animation","AnimationStart"),transitionrun:YP("Transition","TransitionRun"),transitionstart:YP("Transition","TransitionStart"),transitioncancel:YP("Transition","TransitionCancel"),transitionend:YP("Transition","TransitionEnd")},bL={},SB={};d4&&(SB=document.createElement("div").style,("AnimationEvent"in window)||(delete rn.animationend.animation,delete rn.animationiteration.animation,delete rn.animationstart.animation),("TransitionEvent"in window)||delete rn.transitionend.transition);RB=TP("animationend"),DB=TP("animationiteration"),tB=TP("animationstart"),bK=TP("transitionrun"),lK=TP("transitionstart"),MK=TP("transitioncancel"),JB=TP("transitionend"),hB=new Map,F2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");F2.push("scrollEnd");ry=typeof reportError==="function"?reportError:function(U){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U==="object"&&U!==null&&typeof U.message==="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(E))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",U);return}console.error(U)},L0=[];Xn={};uG=new WeakMap;Tn=[],T0=[];A2=Error(iU(519));m2=Dc(null);fK=typeof AbortController!=="undefined"?AbortController:function(){var U=[],E=this.signal={aborted:!1,addEventListener:function(u,p){U.push(p)}};this.abort=function(){E.aborted=!0,U.forEach(function(u){return u()})}},sK=Du.unstable_scheduleCallback,KK=Du.unstable_NormalPriority,E5={$$typeof:F4,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};YG=aE.S;aE.S=function(U,E){Zw=U0(),typeof E==="object"&&E!==null&&typeof E.then==="function"&&aK(U,E),YG!==null&&YG(U,E)};kP=Dc(null);an=Error(iU(460)),FX=Error(iU(474)),ey=Error(iU(542)),oy={then:function(){}};OP=_B(!0),gB=_B(!1);tn=Dc(null),iy=Dc(0);c0=Dc(null);Jp=Dc(0);eH={readContext:R5,use:U8,useCallback:Bp,useContext:Bp,useEffect:Bp,useImperativeHandle:Bp,useLayoutEffect:Bp,useInsertionEffect:Bp,useMemo:Bp,useReducer:Bp,useRef:Bp,useState:Bp,useDebugValue:Bp,useDeferredValue:Bp,useTransition:Bp,useSyncExternalStore:Bp,useId:Bp,useHostTransitionStatus:Bp,useFormState:Bp,useActionState:Bp,useOptimistic:Bp,useMemoCache:Bp,useCacheRefresh:Bp};eH.useEffectEvent=Bp;Gd={readContext:R5,use:U8,useCallback:function(U,E){return zz().memoizedState=[U,E===void 0?null:E],U},useContext:R5,useEffect:$G,useImperativeHandle:function(U,E,u){u=u!==null&&u!==void 0?u.concat([U]):null,Py(4194308,4,Id.bind(null,E,U),u)},useLayoutEffect:function(U,E){return Py(4194308,4,U,E)},useInsertionEffect:function(U,E){Py(4,2,U,E)},useMemo:function(U,E){var u=zz();E=E===void 0?null:E;var p=U();if(NP){tY(!0);try{U()}finally{tY(!1)}}return u.memoizedState=[p,E],p},useReducer:function(U,E,u){var p=zz();if(u!==void 0){var z=u(E);if(NP){tY(!0);try{u(E)}finally{tY(!1)}}}else z=E;return p.memoizedState=p.baseState=z,U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U,lastRenderedState:z},p.queue=U,U=U.dispatch=za.bind(null,pu,U),[p.memoizedState,U]},useRef:function(U){var E=zz();return U={current:U},E.memoizedState=U},useState:function(U){U=R2(U);var E=U.queue,u=Ad.bind(null,pu,E);return E.dispatch=u,[U.memoizedState,u]},useDebugValue:DX,useDeferredValue:function(U,E){var u=zz();return tX(u,U,E)},useTransition:function(){var U=R2(!1);return U=Xd.bind(null,pu,U.queue,!0,!1),zz().memoizedState=U,[!1,U]},useSyncExternalStore:function(U,E,u){var p=pu,z=zz();if(Au){if(u===void 0)throw Error(iU(407));u=u()}else{if(u=E(),Yp===null)throw Error(iU(349));(Tu&127)!==0||zd(p,E,u)}z.memoizedState=u;var c={value:u,getSnapshot:E};return z.queue=c,$G(Yd.bind(null,p,c,U),[U]),p.flags|=2048,Jn(9,{destroy:void 0},cd.bind(null,p,c,u,E),null),u},useId:function(){var U=zz(),E=Yp.identifierPrefix;if(Au){var u=vc,p=wc;u=(p&~(1<<32-u0(p)-1)).toString(32)+u,E="_"+E+"R_"+u,u=my++,0<u&&(E+="H"+u.toString(32)),E+="_"}else u=gK++,E="_"+E+"r_"+u.toString(32)+"_";return U.memoizedState=E},useHostTransitionStatus:JX,useFormState:HG,useActionState:HG,useOptimistic:function(U){var E=zz();E.memoizedState=E.baseState=U;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return E.queue=u,E=hX.bind(null,pu,!0,u),u.dispatch=E,[U,E]},useMemoCache:vX,useCacheRefresh:function(){return zz().memoizedState=pa.bind(null,pu)},useEffectEvent:function(U){var E=zz(),u={impl:U};return E.memoizedState=u,function(){if((lu&2)!==0)throw Error(iU(440));return u.impl.apply(void 0,arguments)}}},bX={readContext:R5,use:U8,useCallback:Nd,useContext:R5,useEffect:RX,useImperativeHandle:Od,useInsertionEffect:$d,useLayoutEffect:yd,useMemo:rd,useReducer:Zy,useRef:kd,useState:function(){return Zy(v4)},useDebugValue:DX,useDeferredValue:function(U,E){var u=hp();return Ld(u,Up.memoizedState,U,E)},useTransition:function(){var U=Zy(v4)[0],E=hp().memoizedState;return[typeof U==="boolean"?U:jk(U),E]},useSyncExternalStore:pd,useId:id,useHostTransitionStatus:JX,useFormState:kG,useActionState:kG,useOptimistic:function(U,E){var u=hp();return xd(u,Up,U,E)},useMemoCache:vX,useCacheRefresh:Fd};bX.useEffectEvent=Qd;Bd={readContext:R5,use:U8,useCallback:Nd,useContext:R5,useEffect:RX,useImperativeHandle:Od,useInsertionEffect:$d,useLayoutEffect:yd,useMemo:rd,useReducer:sL,useRef:kd,useState:function(){return sL(v4)},useDebugValue:DX,useDeferredValue:function(U,E){var u=hp();return Up===null?tX(u,U,E):Ld(u,Up.memoizedState,U,E)},useTransition:function(){var U=sL(v4)[0],E=hp().memoizedState;return[typeof U==="boolean"?U:jk(U),E]},useSyncExternalStore:pd,useId:id,useHostTransitionStatus:JX,useFormState:QG,useActionState:QG,useOptimistic:function(U,E){var u=hp();if(Up!==null)return xd(u,Up,U,E);return u.baseState=U,[U,u.queue.dispatch]},useMemoCache:vX,useCacheRefresh:Fd};Bd.useEffectEvent=Qd;J2={enqueueSetState:function(U,E,u){U=U._reactInternals;var p=p0(),z=fY(p);z.payload=E,u!==void 0&&u!==null&&(z.callback=u),E=sY(U,z,p),E!==null&&(iz(E,U,p),vH(E,U,p))},enqueueReplaceState:function(U,E,u){U=U._reactInternals;var p=p0(),z=fY(p);z.tag=1,z.payload=E,u!==void 0&&u!==null&&(z.callback=u),E=sY(U,z,p),E!==null&&(iz(E,U,p),vH(E,U,p))},enqueueForceUpdate:function(U,E){U=U._reactInternals;var u=p0(),p=fY(u);p.tag=2,E!==void 0&&E!==null&&(p.callback=E),E=sY(U,p,u),E!==null&&(iz(E,U,u),vH(E,U,u))}};lX=Error(iU(461));aL={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};mG=typeof WeakSet==="function"?WeakSet:Set;qa={getCacheForType:function(U){var E=R5(E5),u=E.data.get(U);return u===void 0&&(u=U(),E.data.set(U,u)),u},cacheSignal:function(){return R5(E5).controller.signal}},Ha=typeof WeakMap==="function"?WeakMap:Map;for(mH=0;mH<F2.length;mH++)VH=F2[mH],_2=VH.toLowerCase(),g2=VH[0].toUpperCase()+VH.slice(1),Zc(_2,"on"+g2);Zc(RB,"onAnimationEnd");Zc(DB,"onAnimationIteration");Zc(tB,"onAnimationStart");Zc("dblclick","onDoubleClick");Zc("focusin","onFocus");Zc("focusout","onBlur");Zc(bK,"onTransitionRun");Zc(lK,"onTransitionStart");Zc(MK,"onTransitionCancel");Zc(JB,"onTransitionEnd");Sn("onMouseEnter",["mouseout","mouseover"]);Sn("onMouseLeave",["mouseout","mouseover"]);Sn("onPointerEnter",["pointerout","pointerover"]);Sn("onPointerLeave",["pointerout","pointerover"]);LP("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));LP("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));LP("onBeforeInput",["compositionend","keypress","textInput","paste"]);LP("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));LP("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));LP("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));CH="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oa=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(CH));g$="_reactListening"+Math.random().toString(36).slice(2);Fa=/\r\n?/g,Aa=/\u0000|\uFFFD/g;Vw=typeof setTimeout==="function"?setTimeout:void 0,Ba=typeof clearTimeout==="function"?clearTimeout:void 0,hG=typeof Promise==="function"?Promise:void 0,da=typeof queueMicrotask==="function"?queueMicrotask:typeof hG!=="undefined"?function(U){return hG.resolve(null).then(U).catch(wa)}:Vw;G0=new Map,fG=new Set;D4=Mu.d;Mu.d={f:Da,r:ta,D:Ja,C:ha,L:ba,m:la,X:Wa,S:Ma,M:fa};gn=typeof document==="undefined"?null:document;Ek={$$typeof:F4,Provider:null,Consumer:null,_currentValue:qP,_currentValue2:qP,_threadCount:0};uk=new Map,pk=new Map,DY=[],E_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");Z8.prototype.render=pT.prototype.render=function(U){var E=this._internalRoot;if(E===null)throw Error(iU(409));var u=E.current,p=p0();Dw(u,p,U,E,null,null)};Z8.prototype.unmount=pT.prototype.unmount=function(){var U=this._internalRoot;if(U!==null){this._internalRoot=null;var E=U.containerInfo;Dw(U.current,2,null,U,null,null),z8(),E[fn]=null}};Z8.prototype.unstable_scheduleHydration=function(U){if(U){var E=yB();U={blockedOn:null,target:U,priority:E};for(var u=0;u<DY.length&&E!==0&&E<DY[u].priority;u++);DY.splice(u,0,U),u===0&&hw(U)}};uB=Wy.version;if(uB!=="19.2.3")throw Error(iU(527,uB,"19.2.3"));Mu.findDOMNode=function(U){var E=U._reactInternals;if(E===void 0){if(typeof U.render==="function")throw Error(iU(188));throw U=Object.keys(U).join(","),Error(iU(268,U))}return U=v7(E),U=U!==null?ZB(U):null,U=U===null?null:U.stateNode,U};z_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:aE,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"){if(kn=__REACT_DEVTOOLS_GLOBAL_HOOK__,!kn.isDisabled&&kn.supportsFiber)try{ck=kn.inject(z_),E0=kn}catch(U){}}});var aw=cn((MZU,Kw)=>{fw();function sw(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sw)}catch(U){console.error(U)}}sw(),Kw.exports=zT});var P8=(...U)=>U.filter((E,u,p)=>{return Boolean(E)&&E.trim()!==""&&p.indexOf(E)===u}).join(" ").trim();var cT=()=>{};var _w=(U)=>U.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var gw=()=>{};var ew=(U)=>U.replace(/^([A-Z])|[\s-_]+(\w)/g,(E,u,p)=>p?p.toUpperCase():u.toLowerCase());var Cw=()=>{};var YT=(U)=>{let E=ew(U);return E.charAt(0).toUpperCase()+E.slice(1)};var Uv=cU(()=>{Cw()});var Ev;var uv=cU(()=>{Ev={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}});var pv=(U)=>{for(let E in U)if(E.startsWith("aria-")||E==="role"||E==="title")return!0;return!1};var zv=()=>{};var $k,cv;var Yv=cU(()=>{$k=OE(TE(),1);uv();zv();cT();cv=$k.forwardRef(({color:U="currentColor",size:E=24,strokeWidth:u=2,absoluteStrokeWidth:p,className:z="",children:c,iconNode:Y,...P},n)=>$k.createElement("svg",{ref:n,...Ev,width:E,height:E,stroke:U,strokeWidth:p?Number(u)*24/Number(E):u,className:P8("lucide",z),...!c&&!pv(P)&&{"aria-hidden":"true"},...P},[...Y.map(([j,H])=>$k.createElement(j,H)),...Array.isArray(c)?c:[c]]))});var x8,rU=(U,E)=>{let u=x8.forwardRef(({className:p,...z},c)=>x8.createElement(cv,{ref:c,iconNode:E,className:P8(`lucide-${_w(YT(U))}`,`lucide-${U}`,p),...z}));return u.displayName=YT(U),u};var GE=cU(()=>{x8=OE(TE(),1);cT();gw();Uv();Yv()});var c_,yk;var Zv=cU(()=>{GE();c_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yk=rU("activity",c_)});var Y_,Cn;var Pv=cU(()=>{GE();Y_=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Cn=rU("archive",Y_)});var Z_,FP;var xv=cU(()=>{GE();Z_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FP=rU("arrow-right",Z_)});var P_,AP;var nv=cU(()=>{GE();P_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],AP=rU("award",P_)});var x_,t4;var jv=cU(()=>{GE();x_=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],t4=rU("box",x_)});var n_,B0;var qv=cU(()=>{GE();n_=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],B0=rU("boxes",n_)});var j_,Ik;var Hv=cU(()=>{GE();j_=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ik=rU("building-2",j_)});var q_,Uj;var kv=cU(()=>{GE();q_=[["path",{d:"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z",key:"trhst0"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10",key:"1mo9zo"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z",key:"1dd30t"}],["path",{d:"M7 5V3",key:"1t1388"}]],Uj=rU("cable",q_)});var H_,Ok;var Qv=cU(()=>{GE();H_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ok=rU("calculator",H_)});var k_,Nk;var $v=cU(()=>{GE();k_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nk=rU("calendar",k_)});var Q_,rk;var yv=cU(()=>{GE();Q_=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],rk=rU("camera",Q_)});var $_,cZ;var Iv=cU(()=>{GE();$_=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cZ=rU("chart-column",$_)});var y_,Ej;var Ov=cU(()=>{GE();y_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ej=rU("check",y_)});var I_,Lk;var Nv=cU(()=>{GE();I_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Lk=rU("chevron-left",I_)});var O_,Xk;var rv=cU(()=>{GE();O_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xk=rU("chevron-right",O_)});var N_,d0;var Lv=cU(()=>{GE();N_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d0=rU("circle-alert",N_)});var r_,YZ;var Xv=cU(()=>{GE();r_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YZ=rU("circle-check",r_)});var L_,mP;var Tv=cU(()=>{GE();L_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mP=rU("clock",L_)});var X_,Tk;var ov=cU(()=>{GE();X_=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Tk=rU("coins",X_)});var T_,p5;var iv=cU(()=>{GE();T_=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],p5=rU("cpu",T_)});var o_,w0;var Fv=cU(()=>{GE();o_=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],w0=rU("database",o_)});var i_,cz;var Av=cU(()=>{GE();i_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],cz=rU("dollar-sign",i_)});var F_,VP;var mv=cU(()=>{GE();F_=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],VP=rU("droplets",F_)});var A_,ZZ;var Vv=cU(()=>{GE();A_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ZZ=rU("external-link",A_)});var m_,ok;var Gv=cU(()=>{GE();m_=[["path",{d:"M15 6.5V3a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3.5",key:"sqyvz"}],["path",{d:"M9 18h8",key:"i7pszb"}],["path",{d:"M18 3h-3",key:"7idoqj"}],["path",{d:"M11 3a6 6 0 0 0-6 6v11",key:"1v5je3"}],["path",{d:"M5 13h4",key:"svpcxo"}],["path",{d:"M17 10a4 4 0 0 0-8 0v10a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2Z",key:"vsjego"}]],ok=rU("fire-extinguisher",m_)});var V_,uj;var Bv=cU(()=>{GE();V_=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],uj=rU("flame",V_)});var G_,s5;var dv=cU(()=>{GE();G_=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],s5=rU("gauge",G_)});var B_,ik;var wv=cU(()=>{GE();B_=[["path",{d:"M2 21V3",key:"1bzk4w"}],["path",{d:"M2 5h18a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2.26",key:"1d64pi"}],["path",{d:"M7 17v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3",key:"5hbqbf"}],["circle",{cx:"16",cy:"11",r:"2",key:"qt15rb"}],["circle",{cx:"8",cy:"11",r:"2",key:"ssideg"}]],ik=rU("gpu",B_)});var d_,v0;var vv=cU(()=>{GE();d_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],v0=rU("grid-3x3",d_)});var w_,PZ;var Sv=cU(()=>{GE();w_=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],PZ=rU("hard-drive",w_)});var v_,J4;var Rv=cU(()=>{GE();v_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],J4=rU("house",v_)});var S_,S0;var Dv=cU(()=>{GE();S_=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],S0=rU("layers",S_)});var R_,pj;var tv=cU(()=>{GE();R_=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],pj=rU("link-2",R_)});var D_,zj;var Jv=cU(()=>{GE();D_=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],zj=rU("list-checks",D_)});var t_,cj;var hv=cU(()=>{GE();t_=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],cj=rU("map",t_)});var J_,Fk;var bv=cU(()=>{GE();J_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Fk=rU("maximize-2",J_)});var h_,Ak;var lv=cU(()=>{GE();h_=[["path",{d:"M12 12v-2",key:"fwoke6"}],["path",{d:"M12 18v-2",key:"qj6yno"}],["path",{d:"M16 12v-2",key:"heuere"}],["path",{d:"M16 18v-2",key:"s1ct0w"}],["path",{d:"M2 11h1.5",key:"15p63e"}],["path",{d:"M20 18v-2",key:"12ehxp"}],["path",{d:"M20.5 11H22",key:"khsy7a"}],["path",{d:"M4 18v-2",key:"1c3oqr"}],["path",{d:"M8 12v-2",key:"1mwtfd"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["rect",{x:"2",y:"6",width:"20",height:"10",rx:"2",key:"1qcswk"}]],Ak=rU("memory-stick",h_)});var b_,mk;var Mv=cU(()=>{GE();b_=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],mk=rU("menu",b_)});var l_,Vk;var Wv=cU(()=>{GE();l_=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vk=rU("message-square",l_)});var M_,Gk;var fv=cU(()=>{GE();M_=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 17h4",key:"pvmtpo"}],["path",{d:"M10 7h4",key:"1vgcok"}],["path",{d:"M18 12h2",key:"quuxs7"}],["path",{d:"M18 18h2",key:"4scel"}],["path",{d:"M18 6h2",key:"1ptzki"}],["path",{d:"M4 12h2",key:"1ltxp0"}],["path",{d:"M4 18h2",key:"1xrofg"}],["path",{d:"M4 6h2",key:"1cx33n"}],["rect",{x:"6",y:"2",width:"12",height:"20",rx:"2",key:"749fme"}]],Gk=rU("microchip",M_)});var W_,Bk;var sv=cU(()=>{GE();W_=[["path",{d:"M5 12h14",key:"1ays0h"}]],Bk=rU("minus",W_)});var f_,GP;var Kv=cU(()=>{GE();f_=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],GP=rU("monitor-play",f_)});var s_,h4;var av=cU(()=>{GE();s_=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],h4=rU("network",s_)});var K_,BP;var _v=cU(()=>{GE();K_=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],BP=rU("rocket",K_)});var a_,Yj;var gv=cU(()=>{GE();a_=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Yj=rU("ruler",a_)});var __,R0;var ev=cU(()=>{GE();__=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],R0=rU("server",__)});var g_,Pc;var Cv=cU(()=>{GE();g_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pc=rU("settings",g_)});var e_,Jc;var US=cU(()=>{GE();e_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Jc=rU("shield",e_)});var C_,Zj;var ES=cU(()=>{GE();C_=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Zj=rU("shopping-cart",C_)});var Ug,Pj;var uS=cU(()=>{GE();Ug=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"M10.585 15H10",key:"4nqulp"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h2",key:"1bbqgq"}]],Pj=rU("thermometer-snowflake",Ug)});var Eg,xj;var pS=cU(()=>{GE();Eg=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 8a4 4 0 0 0-1.645 7.647",key:"wz5p04"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}]],xj=rU("thermometer-sun",Eg)});var ug,dk;var zS=cU(()=>{GE();ug=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],dk=rU("thermometer",ug)});var pg,nj;var cS=cU(()=>{GE();pg=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],nj=rU("timer",pg)});var zg,i5;var YS=cU(()=>{GE();zg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i5=rU("triangle-alert",zg)});var cg,wk;var ZS=cU(()=>{GE();cg=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wk=rU("user",cg)});var Yg,xZ;var PS=cU(()=>{GE();Yg=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],xZ=rU("volume-2",Yg)});var Zg,mz;var xS=cU(()=>{GE();Zg=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],mz=rU("wind",Zg)});var Pg,vk;var nS=cU(()=>{GE();Pg=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],vk=rU("wrench",Pg)});var xg,Sk;var jS=cU(()=>{GE();xg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sk=rU("x",xg)});var ng,Ip;var qS=cU(()=>{GE();ng=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ip=rU("zap",ng)});var t5=cU(()=>{Iv();Lv();Xv();vv();Rv();Dv();YS();Zv();Pv();xv();nv();jv();qv();Hv();kv();Qv();$v();yv();Ov();Nv();rv();Tv();ov();iv();Fv();Av();mv();Vv();Gv();Bv();dv();wv();Sv();tv();Jv();hv();bv();lv();Mv();Wv();fv();sv();Kv();av();_v();gv();ev();Cv();US();ES();uS();pS();zS();cS();ZS();PS();xS();nS();jS();qS()});function HS(U,E){if(typeof U==="function")return U(E);else if(U!==null&&U!==void 0)U.current=E}function dP(...U){return(E)=>{let u=!1,p=U.map((z)=>{let c=HS(z,E);if(!u&&typeof c=="function")u=!0;return c});if(u)return()=>{for(let z=0;z<p.length;z++){let c=p[z];if(typeof c=="function")c();else HS(U[z],null)}}}}function hc(...U){return kS.useCallback(dP(...U),U)}var kS;var nZ=cU(()=>{kS=OE(TE(),1)});function QS(U,E,u){var p=null;if(u!==void 0&&(p=""+u),E.key!==void 0&&(p=""+E.key),"key"in E){u={};for(var z in E)z!=="key"&&(u[z]=E[z])}else u=E;return E=u.ref,{$$typeof:jg,type:U,key:p,ref:E!==void 0?E:null,props:u}}var jg,qg,qu,$,A;var JU=cU(()=>{jg=Symbol.for("react.transitional.element"),qg=Symbol.for("react.fragment");qu=qg,$=QS,A=QS});function kg(U){return typeof U==="object"&&U!==null&&"then"in U}function $S(U){return U!=null&&typeof U==="object"&&"$$typeof"in U&&U.$$typeof===Hg&&"_payload"in U&&kg(U._payload)}function ZT(U){let E=Qg(U),u=z5.forwardRef((p,z)=>{let{children:c,...Y}=p;if($S(c)&&typeof n8==="function")c=n8(c._payload);let P=z5.Children.toArray(c),n=P.find(yg);if(n){let j=n.props.children,H=P.map((k)=>{if(k===n){if(z5.Children.count(j)>1)return z5.Children.only(null);return z5.isValidElement(j)?j.props.children:null}else return k});return $(E,{...Y,ref:z,children:z5.isValidElement(j)?z5.cloneElement(j,void 0,H):null})}return $(E,{...Y,ref:z,children:c})});return u.displayName=`${U}.Slot`,u}function Qg(U){let E=z5.forwardRef((u,p)=>{let{children:z,...c}=u;if($S(z)&&typeof n8==="function")z=n8(z._payload);if(z5.isValidElement(z)){let Y=Og(z),P=Ig(c,z.props);if(z.type!==z5.Fragment)P.ref=p?dP(p,Y):Y;return z5.cloneElement(z,P)}return z5.Children.count(z)>1?z5.Children.only(null):null});return E.displayName=`${U}.SlotClone`,E}function yg(U){return z5.isValidElement(U)&&typeof U.type==="function"&&"__radixId"in U.type&&U.type.__radixId===$g}function Ig(U,E){let u={...E};for(let p in E){let z=U[p],c=E[p];if(/^on[A-Z]/.test(p)){if(z&&c)u[p]=(...P)=>{let n=c(...P);return z(...P),n};else if(z)u[p]=z}else if(p==="style")u[p]={...z,...c};else if(p==="className")u[p]=[z,c].filter(Boolean).join(" ")}return{...U,...u}}function Og(U){let E=Object.getOwnPropertyDescriptor(U.props,"ref")?.get,u=E&&"isReactWarning"in E&&E.isReactWarning;if(u)return U.ref;if(E=Object.getOwnPropertyDescriptor(U,"ref")?.get,u=E&&"isReactWarning"in E&&E.isReactWarning,u)return U.props.ref;return U.props.ref||U.ref}var z5,Hg,n8,j8,$g;var q8=cU(()=>{z5=OE(TE(),1);nZ();JU();Hg=Symbol.for("react.lazy"),n8=z5[" use ".trim().toString()];j8=ZT("Slot");$g=Symbol("radix.slottable")});function yS(U){var E,u,p="";if(typeof U=="string"||typeof U=="number")p+=U;else if(typeof U=="object")if(Array.isArray(U)){var z=U.length;for(E=0;E<z;E++)U[E]&&(u=yS(U[E]))&&(p&&(p+=" "),p+=u)}else for(u in U)U[u]&&(p&&(p+=" "),p+=u);return p}function H8(){for(var U,E,u=0,p="",z=arguments.length;u<z;u++)(U=arguments[u])&&(E=yS(U))&&(p&&(p+=" "),p+=E);return p}var PT=()=>{};var IS=(U)=>typeof U==="boolean"?`${U}`:U===0?"0":U,OS,jj=(U,E)=>(u)=>{var p;if((E===null||E===void 0?void 0:E.variants)==null)return OS(U,u===null||u===void 0?void 0:u.class,u===null||u===void 0?void 0:u.className);let{variants:z,defaultVariants:c}=E,Y=Object.keys(z).map((j)=>{let H=u===null||u===void 0?void 0:u[j],k=c===null||c===void 0?void 0:c[j];if(H===null)return null;let Q=IS(H)||IS(k);return z[j][Q]}),P=u&&Object.entries(u).reduce((j,H)=>{let[k,Q]=H;if(Q===void 0)return j;return j[k]=Q,j},{}),n=E===null||E===void 0?void 0:(p=E.compoundVariants)===null||p===void 0?void 0:p.reduce((j,H)=>{let{class:k,className:Q,...y}=H;return Object.entries(y).every((r)=>{let[T,N]=r;return Array.isArray(N)?N.includes({...c,...P}[T]):{...c,...P}[T]===N})?[...j,k,Q]:j},[]);return OS(U,Y,n,u===null||u===void 0?void 0:u.class,u===null||u===void 0?void 0:u.className)};var k8=cU(()=>{PT();OS=H8});var Ng=(U,E)=>{let u=new Array(U.length+E.length);for(let p=0;p<U.length;p++)u[p]=U[p];for(let p=0;p<E.length;p++)u[U.length+p]=E[p];return u},rg=(U,E)=>({classGroupId:U,validator:E}),TS=(U=new Map,E=null,u)=>({nextPart:U,validators:E,classGroupId:u}),NS,Lg=(U)=>{let E=Tg(U),{conflictingClassGroups:u,conflictingClassGroupModifiers:p}=U;return{getClassGroupId:(Y)=>{if(Y.startsWith("[")&&Y.endsWith("]"))return Xg(Y);let P=Y.split("-"),n=P[0]===""&&P.length>1?1:0;return oS(P,n,E)},getConflictingClassGroupIds:(Y,P)=>{if(P){let n=p[Y],j=u[Y];if(n){if(j)return Ng(j,n);return n}return j||NS}return u[Y]||NS}}},oS=(U,E,u)=>{if(U.length-E===0)return u.classGroupId;let z=U[E],c=u.nextPart.get(z);if(c){let j=oS(U,E+1,c);if(j)return j}let Y=u.validators;if(Y===null)return;let P=E===0?U.join("-"):U.slice(E).join("-"),n=Y.length;for(let j=0;j<n;j++){let H=Y[j];if(H.validator(P))return H.classGroupId}return},Xg=(U)=>U.slice(1,-1).indexOf(":")===-1?void 0:(()=>{let E=U.slice(1,-1),u=E.indexOf(":"),p=E.slice(0,u);return p?"arbitrary.."+p:void 0})(),Tg=(U)=>{let{theme:E,classGroups:u}=U;return og(u,E)},og=(U,E)=>{let u=TS();for(let p in U){let z=U[p];jT(z,u,p,E)}return u},jT=(U,E,u,p)=>{let z=U.length;for(let c=0;c<z;c++){let Y=U[c];ig(Y,E,u,p)}},ig=(U,E,u,p)=>{if(typeof U==="string"){Fg(U,E,u);return}if(typeof U==="function"){Ag(U,E,u,p);return}mg(U,E,u,p)},Fg=(U,E,u)=>{let p=U===""?E:iS(E,U);p.classGroupId=u},Ag=(U,E,u,p)=>{if(Vg(U)){jT(U(p),E,u,p);return}if(E.validators===null)E.validators=[];E.validators.push(rg(u,U))},mg=(U,E,u,p)=>{let z=Object.entries(U),c=z.length;for(let Y=0;Y<c;Y++){let[P,n]=z[Y];jT(n,iS(E,P),u,p)}},iS=(U,E)=>{let u=U,p=E.split("-"),z=p.length;for(let c=0;c<z;c++){let Y=p[c],P=u.nextPart.get(Y);if(!P)P=TS(),u.nextPart.set(Y,P);u=P}return u},Vg=(U)=>("isThemeGetter"in U)&&U.isThemeGetter===!0,Gg=(U)=>{if(U<1)return{get:()=>{return},set:()=>{}};let E=0,u=Object.create(null),p=Object.create(null),z=(c,Y)=>{if(u[c]=Y,E++,E>U)E=0,p=u,u=Object.create(null)};return{get(c){let Y=u[c];if(Y!==void 0)return Y;if((Y=p[c])!==void 0)return z(c,Y),Y},set(c,Y){if(c in u)u[c]=Y;else z(c,Y)}}},Bg,rS=(U,E,u,p,z)=>({modifiers:U,hasImportantModifier:E,baseClassName:u,maybePostfixModifierPosition:p,isExternal:z}),dg=(U)=>{let{prefix:E,experimentalParseClassName:u}=U,p=(z)=>{let c=[],Y=0,P=0,n=0,j,H=z.length;for(let T=0;T<H;T++){let N=z[T];if(Y===0&&P===0){if(N===":"){c.push(z.slice(n,T)),n=T+1;continue}if(N==="/"){j=T;continue}}if(N==="[")Y++;else if(N==="]")Y--;else if(N==="(")P++;else if(N===")")P--}let k=c.length===0?z:z.slice(n),Q=k,y=!1;if(k.endsWith("!"))Q=k.slice(0,-1),y=!0;else if(k.startsWith("!"))Q=k.slice(1),y=!0;let r=j&&j>n?j-n:void 0;return rS(c,y,Q,r)};if(E){let z=E+":",c=p;p=(Y)=>Y.startsWith(z)?c(Y.slice(z.length)):rS(Bg,!1,Y,void 0,!0)}if(u){let z=p;p=(c)=>u({className:c,parseClassName:z})}return p},wg=(U)=>{let E=new Map;return U.orderSensitiveModifiers.forEach((u,p)=>{E.set(u,1e6+p)}),(u)=>{let p=[],z=[];for(let c=0;c<u.length;c++){let Y=u[c],P=Y[0]==="[",n=E.has(Y);if(P||n){if(z.length>0)z.sort(),p.push(...z),z=[];p.push(Y)}else z.push(Y)}if(z.length>0)z.sort(),p.push(...z);return p}},vg=(U)=>({cache:Gg(U.cacheSize),parseClassName:dg(U),sortModifiers:wg(U),...Lg(U)}),Sg,Rg=(U,E)=>{let{parseClassName:u,getClassGroupId:p,getConflictingClassGroupIds:z,sortModifiers:c}=E,Y=[],P=U.trim().split(Sg),n="";for(let j=P.length-1;j>=0;j-=1){let H=P[j],{isExternal:k,modifiers:Q,hasImportantModifier:y,baseClassName:r,maybePostfixModifierPosition:T}=u(H);if(k){n=H+(n.length>0?" "+n:n);continue}let N=!!T,O=p(N?r.substring(0,T):r);if(!O){if(!N){n=H+(n.length>0?" "+n:n);continue}if(O=p(r),!O){n=H+(n.length>0?" "+n:n);continue}N=!1}let L=Q.length===0?"":Q.length===1?Q[0]:c(Q).join(":"),X=y?L+"!":L,i=X+O;if(Y.indexOf(i)>-1)continue;Y.push(i);let B=z(O,N);for(let G=0;G<B.length;++G){let d=B[G];Y.push(X+d)}n=H+(n.length>0?" "+n:n)}return n},Dg=(...U)=>{let E=0,u,p,z="";while(E<U.length)if(u=U[E++]){if(p=FS(u))z&&(z+=" "),z+=p}return z},FS=(U)=>{if(typeof U==="string")return U;let E,u="";for(let p=0;p<U.length;p++)if(U[p]){if(E=FS(U[p]))u&&(u+=" "),u+=E}return u},tg=(U,...E)=>{let u,p,z,c,Y=(n)=>{let j=E.reduce((H,k)=>k(H),U());return u=vg(j),p=u.cache.get,z=u.cache.set,c=P,P(n)},P=(n)=>{let j=p(n);if(j)return j;let H=Rg(n,u);return z(n,H),H};return c=Y,(...n)=>c(Dg(...n))},Jg,n5=(U)=>{let E=(u)=>u[U]||Jg;return E.isThemeGetter=!0,E},AS,mS,hg,bg,lg,Mg,Wg,fg,qj=(U)=>hg.test(U),nu=(U)=>!!U&&!Number.isNaN(Number(U)),jZ=(U)=>!!U&&Number.isInteger(Number(U)),xT=(U)=>U.endsWith("%")&&nu(U.slice(0,-1)),b4=(U)=>bg.test(U),sg=()=>!0,Kg=(U)=>lg.test(U)&&!Mg.test(U),VS=()=>!1,ag=(U)=>Wg.test(U),_g=(U)=>fg.test(U),gg=(U)=>!oE(U)&&!iE(U),eg=(U)=>Hj(U,dS,VS),oE=(U)=>AS.test(U),wP=(U)=>Hj(U,wS,Kg),nT=(U)=>Hj(U,pe,nu),LS=(U)=>Hj(U,GS,VS),Cg=(U)=>Hj(U,BS,_g),Q8=(U)=>Hj(U,vS,ag),iE=(U)=>mS.test(U),Rk=(U)=>kj(U,wS),Ue=(U)=>kj(U,ze),XS=(U)=>kj(U,GS),Ee=(U)=>kj(U,dS),ue=(U)=>kj(U,BS),$8=(U)=>kj(U,vS,!0),Hj=(U,E,u)=>{let p=AS.exec(U);if(p){if(p[1])return E(p[1]);return u(p[2])}return!1},kj=(U,E,u=!1)=>{let p=mS.exec(U);if(p){if(p[1])return E(p[1]);return u}return!1},GS=(U)=>U==="position"||U==="percentage",BS=(U)=>U==="image"||U==="url",dS=(U)=>U==="length"||U==="size"||U==="bg-size",wS=(U)=>U==="length",pe=(U)=>U==="number",ze=(U)=>U==="family-name",vS=(U)=>U==="shadow",ce=()=>{let U=n5("color"),E=n5("font"),u=n5("text"),p=n5("font-weight"),z=n5("tracking"),c=n5("leading"),Y=n5("breakpoint"),P=n5("container"),n=n5("spacing"),j=n5("radius"),H=n5("shadow"),k=n5("inset-shadow"),Q=n5("text-shadow"),y=n5("drop-shadow"),r=n5("blur"),T=n5("perspective"),N=n5("aspect"),O=n5("ease"),L=n5("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],i=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...i(),iE,oE],G=()=>["auto","hidden","clip","visible","scroll"],d=()=>["auto","contain","none"],m=()=>[iE,oE,n],V=()=>[qj,"full","auto",...m()],w=()=>[jZ,"none","subgrid",iE,oE],h=()=>["auto",{span:["full",jZ,iE,oE]},jZ,iE,oE],_=()=>[jZ,"auto",iE,oE],f=()=>["auto","min","max","fr",iE,oE],a=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],uU=()=>["start","end","center","stretch","center-safe","end-safe"],UU=()=>["auto",...m()],ZU=()=>[qj,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...m()],EU=()=>[U,iE,oE],OU=()=>[...i(),XS,LS,{position:[iE,oE]}],NU=()=>["no-repeat",{repeat:["","x","y","space","round"]}],yU=()=>["auto","cover","contain",Ee,eg,{size:[iE,oE]}],wU=()=>[xT,Rk,wP],QE=()=>["","none","full",j,iE,oE],$E=()=>["",nu,Rk,wP],PU=()=>["solid","dashed","dotted","double"],vU=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],TU=()=>[nu,xT,XS,LS],HE=()=>["","none",r,iE,oE],yE=()=>["none",nu,iE,oE],DE=()=>["none",nu,iE,oE],Pu=()=>[nu,iE,oE],tE=()=>[qj,"full",...m()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[b4],breakpoint:[b4],color:[sg],container:[b4],"drop-shadow":[b4],ease:["in","out","in-out"],font:[gg],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[b4],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[b4],shadow:[b4],spacing:["px",nu],text:[b4],"text-shadow":[b4],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qj,oE,iE,N]}],container:["container"],columns:[{columns:[nu,oE,iE,P]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:d()}],"overscroll-x":[{"overscroll-x":d()}],"overscroll-y":[{"overscroll-y":d()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[jZ,"auto",iE,oE]}],basis:[{basis:[qj,"full","auto",P,...m()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nu,qj,"auto","initial","none",oE]}],grow:[{grow:["",nu,iE,oE]}],shrink:[{shrink:["",nu,iE,oE]}],order:[{order:[jZ,"first","last","none",iE,oE]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:h()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:h()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":f()}],"auto-rows":[{"auto-rows":f()}],gap:[{gap:m()}],"gap-x":[{"gap-x":m()}],"gap-y":[{"gap-y":m()}],"justify-content":[{justify:[...a(),"normal"]}],"justify-items":[{"justify-items":[...uU(),"normal"]}],"justify-self":[{"justify-self":["auto",...uU()]}],"align-content":[{content:["normal",...a()]}],"align-items":[{items:[...uU(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...uU(),{baseline:["","last"]}]}],"place-content":[{"place-content":a()}],"place-items":[{"place-items":[...uU(),"baseline"]}],"place-self":[{"place-self":["auto",...uU()]}],p:[{p:m()}],px:[{px:m()}],py:[{py:m()}],ps:[{ps:m()}],pe:[{pe:m()}],pt:[{pt:m()}],pr:[{pr:m()}],pb:[{pb:m()}],pl:[{pl:m()}],m:[{m:UU()}],mx:[{mx:UU()}],my:[{my:UU()}],ms:[{ms:UU()}],me:[{me:UU()}],mt:[{mt:UU()}],mr:[{mr:UU()}],mb:[{mb:UU()}],ml:[{ml:UU()}],"space-x":[{"space-x":m()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":m()}],"space-y-reverse":["space-y-reverse"],size:[{size:ZU()}],w:[{w:[P,"screen",...ZU()]}],"min-w":[{"min-w":[P,"screen","none",...ZU()]}],"max-w":[{"max-w":[P,"screen","none","prose",{screen:[Y]},...ZU()]}],h:[{h:["screen","lh",...ZU()]}],"min-h":[{"min-h":["screen","lh","none",...ZU()]}],"max-h":[{"max-h":["screen","lh",...ZU()]}],"font-size":[{text:["base",u,Rk,wP]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[p,iE,nT]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xT,oE]}],"font-family":[{font:[Ue,oE,E]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[z,iE,oE]}],"line-clamp":[{"line-clamp":[nu,"none",iE,nT]}],leading:[{leading:[c,...m()]}],"list-image":[{"list-image":["none",iE,oE]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",iE,oE]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:EU()}],"text-color":[{text:EU()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...PU(),"wavy"]}],"text-decoration-thickness":[{decoration:[nu,"from-font","auto",iE,wP]}],"text-decoration-color":[{decoration:EU()}],"underline-offset":[{"underline-offset":[nu,"auto",iE,oE]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:m()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",iE,oE]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",iE,oE]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:OU()}],"bg-repeat":[{bg:NU()}],"bg-size":[{bg:yU()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jZ,iE,oE],radial:["",iE,oE],conic:[jZ,iE,oE]},ue,Cg]}],"bg-color":[{bg:EU()}],"gradient-from-pos":[{from:wU()}],"gradient-via-pos":[{via:wU()}],"gradient-to-pos":[{to:wU()}],"gradient-from":[{from:EU()}],"gradient-via":[{via:EU()}],"gradient-to":[{to:EU()}],rounded:[{rounded:QE()}],"rounded-s":[{"rounded-s":QE()}],"rounded-e":[{"rounded-e":QE()}],"rounded-t":[{"rounded-t":QE()}],"rounded-r":[{"rounded-r":QE()}],"rounded-b":[{"rounded-b":QE()}],"rounded-l":[{"rounded-l":QE()}],"rounded-ss":[{"rounded-ss":QE()}],"rounded-se":[{"rounded-se":QE()}],"rounded-ee":[{"rounded-ee":QE()}],"rounded-es":[{"rounded-es":QE()}],"rounded-tl":[{"rounded-tl":QE()}],"rounded-tr":[{"rounded-tr":QE()}],"rounded-br":[{"rounded-br":QE()}],"rounded-bl":[{"rounded-bl":QE()}],"border-w":[{border:$E()}],"border-w-x":[{"border-x":$E()}],"border-w-y":[{"border-y":$E()}],"border-w-s":[{"border-s":$E()}],"border-w-e":[{"border-e":$E()}],"border-w-t":[{"border-t":$E()}],"border-w-r":[{"border-r":$E()}],"border-w-b":[{"border-b":$E()}],"border-w-l":[{"border-l":$E()}],"divide-x":[{"divide-x":$E()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$E()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...PU(),"hidden","none"]}],"divide-style":[{divide:[...PU(),"hidden","none"]}],"border-color":[{border:EU()}],"border-color-x":[{"border-x":EU()}],"border-color-y":[{"border-y":EU()}],"border-color-s":[{"border-s":EU()}],"border-color-e":[{"border-e":EU()}],"border-color-t":[{"border-t":EU()}],"border-color-r":[{"border-r":EU()}],"border-color-b":[{"border-b":EU()}],"border-color-l":[{"border-l":EU()}],"divide-color":[{divide:EU()}],"outline-style":[{outline:[...PU(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nu,iE,oE]}],"outline-w":[{outline:["",nu,Rk,wP]}],"outline-color":[{outline:EU()}],shadow:[{shadow:["","none",H,$8,Q8]}],"shadow-color":[{shadow:EU()}],"inset-shadow":[{"inset-shadow":["none",k,$8,Q8]}],"inset-shadow-color":[{"inset-shadow":EU()}],"ring-w":[{ring:$E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:EU()}],"ring-offset-w":[{"ring-offset":[nu,wP]}],"ring-offset-color":[{"ring-offset":EU()}],"inset-ring-w":[{"inset-ring":$E()}],"inset-ring-color":[{"inset-ring":EU()}],"text-shadow":[{"text-shadow":["none",Q,$8,Q8]}],"text-shadow-color":[{"text-shadow":EU()}],opacity:[{opacity:[nu,iE,oE]}],"mix-blend":[{"mix-blend":[...vU(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":vU()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nu]}],"mask-image-linear-from-pos":[{"mask-linear-from":TU()}],"mask-image-linear-to-pos":[{"mask-linear-to":TU()}],"mask-image-linear-from-color":[{"mask-linear-from":EU()}],"mask-image-linear-to-color":[{"mask-linear-to":EU()}],"mask-image-t-from-pos":[{"mask-t-from":TU()}],"mask-image-t-to-pos":[{"mask-t-to":TU()}],"mask-image-t-from-color":[{"mask-t-from":EU()}],"mask-image-t-to-color":[{"mask-t-to":EU()}],"mask-image-r-from-pos":[{"mask-r-from":TU()}],"mask-image-r-to-pos":[{"mask-r-to":TU()}],"mask-image-r-from-color":[{"mask-r-from":EU()}],"mask-image-r-to-color":[{"mask-r-to":EU()}],"mask-image-b-from-pos":[{"mask-b-from":TU()}],"mask-image-b-to-pos":[{"mask-b-to":TU()}],"mask-image-b-from-color":[{"mask-b-from":EU()}],"mask-image-b-to-color":[{"mask-b-to":EU()}],"mask-image-l-from-pos":[{"mask-l-from":TU()}],"mask-image-l-to-pos":[{"mask-l-to":TU()}],"mask-image-l-from-color":[{"mask-l-from":EU()}],"mask-image-l-to-color":[{"mask-l-to":EU()}],"mask-image-x-from-pos":[{"mask-x-from":TU()}],"mask-image-x-to-pos":[{"mask-x-to":TU()}],"mask-image-x-from-color":[{"mask-x-from":EU()}],"mask-image-x-to-color":[{"mask-x-to":EU()}],"mask-image-y-from-pos":[{"mask-y-from":TU()}],"mask-image-y-to-pos":[{"mask-y-to":TU()}],"mask-image-y-from-color":[{"mask-y-from":EU()}],"mask-image-y-to-color":[{"mask-y-to":EU()}],"mask-image-radial":[{"mask-radial":[iE,oE]}],"mask-image-radial-from-pos":[{"mask-radial-from":TU()}],"mask-image-radial-to-pos":[{"mask-radial-to":TU()}],"mask-image-radial-from-color":[{"mask-radial-from":EU()}],"mask-image-radial-to-color":[{"mask-radial-to":EU()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":i()}],"mask-image-conic-pos":[{"mask-conic":[nu]}],"mask-image-conic-from-pos":[{"mask-conic-from":TU()}],"mask-image-conic-to-pos":[{"mask-conic-to":TU()}],"mask-image-conic-from-color":[{"mask-conic-from":EU()}],"mask-image-conic-to-color":[{"mask-conic-to":EU()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:OU()}],"mask-repeat":[{mask:NU()}],"mask-size":[{mask:yU()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",iE,oE]}],filter:[{filter:["","none",iE,oE]}],blur:[{blur:HE()}],brightness:[{brightness:[nu,iE,oE]}],contrast:[{contrast:[nu,iE,oE]}],"drop-shadow":[{"drop-shadow":["","none",y,$8,Q8]}],"drop-shadow-color":[{"drop-shadow":EU()}],grayscale:[{grayscale:["",nu,iE,oE]}],"hue-rotate":[{"hue-rotate":[nu,iE,oE]}],invert:[{invert:["",nu,iE,oE]}],saturate:[{saturate:[nu,iE,oE]}],sepia:[{sepia:["",nu,iE,oE]}],"backdrop-filter":[{"backdrop-filter":["","none",iE,oE]}],"backdrop-blur":[{"backdrop-blur":HE()}],"backdrop-brightness":[{"backdrop-brightness":[nu,iE,oE]}],"backdrop-contrast":[{"backdrop-contrast":[nu,iE,oE]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nu,iE,oE]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nu,iE,oE]}],"backdrop-invert":[{"backdrop-invert":["",nu,iE,oE]}],"backdrop-opacity":[{"backdrop-opacity":[nu,iE,oE]}],"backdrop-saturate":[{"backdrop-saturate":[nu,iE,oE]}],"backdrop-sepia":[{"backdrop-sepia":["",nu,iE,oE]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":m()}],"border-spacing-x":[{"border-spacing-x":m()}],"border-spacing-y":[{"border-spacing-y":m()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",iE,oE]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nu,"initial",iE,oE]}],ease:[{ease:["linear","initial",O,iE,oE]}],delay:[{delay:[nu,iE,oE]}],animate:[{animate:["none",L,iE,oE]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,iE,oE]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:yE()}],"rotate-x":[{"rotate-x":yE()}],"rotate-y":[{"rotate-y":yE()}],"rotate-z":[{"rotate-z":yE()}],scale:[{scale:DE()}],"scale-x":[{"scale-x":DE()}],"scale-y":[{"scale-y":DE()}],"scale-z":[{"scale-z":DE()}],"scale-3d":["scale-3d"],skew:[{skew:Pu()}],"skew-x":[{"skew-x":Pu()}],"skew-y":[{"skew-y":Pu()}],transform:[{transform:[iE,oE,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tE()}],"translate-x":[{"translate-x":tE()}],"translate-y":[{"translate-y":tE()}],"translate-z":[{"translate-z":tE()}],"translate-none":["translate-none"],accent:[{accent:EU()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:EU()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",iE,oE]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":m()}],"scroll-mx":[{"scroll-mx":m()}],"scroll-my":[{"scroll-my":m()}],"scroll-ms":[{"scroll-ms":m()}],"scroll-me":[{"scroll-me":m()}],"scroll-mt":[{"scroll-mt":m()}],"scroll-mr":[{"scroll-mr":m()}],"scroll-mb":[{"scroll-mb":m()}],"scroll-ml":[{"scroll-ml":m()}],"scroll-p":[{"scroll-p":m()}],"scroll-px":[{"scroll-px":m()}],"scroll-py":[{"scroll-py":m()}],"scroll-ps":[{"scroll-ps":m()}],"scroll-pe":[{"scroll-pe":m()}],"scroll-pt":[{"scroll-pt":m()}],"scroll-pr":[{"scroll-pr":m()}],"scroll-pb":[{"scroll-pb":m()}],"scroll-pl":[{"scroll-pl":m()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",iE,oE]}],fill:[{fill:["none",...EU()]}],"stroke-w":[{stroke:[nu,Rk,wP,nT]}],stroke:[{stroke:["none",...EU()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SS;var RS=cU(()=>{NS=[],Bg=[],Sg=/\s+/,Jg=[],AS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hg=/^\d+\/\d+$/,bg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Wg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,SS=tg(ce)});function Ep(...U){return SS(H8(U))}var qZ=cU(()=>{PT();RS()});function fu({className:U,variant:E,size:u,asChild:p=!1,...z}){return $(p?j8:"button",{"data-slot":"button",className:Ep(Ye({variant:E,size:u,className:U})),...z})}var Ye;var vP=cU(()=>{q8();k8();qZ();JU();Ye=jj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 focus-visible:ring-4 focus-visible:outline-1 aria-invalid:focus-visible:ring-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}})});function Qj({label:U}){return $("div",{className:"z-40 absolute flex justify-center items-end w-screen h-screen pointer-events-none",children:$("div",{className:"absolute p-7 font-mono text-[var(--gray-5)] text-xs uppercase tracking-wider",children:U})})}var y8=cU(()=>{JU()});var s3=cn((K5U)=>{var Nc=OE(TE(),1);function t5U(U,E){return U===E&&(U!==0||1/U===1/E)||U!==U&&E!==E}var J5U=typeof Object.is==="function"?Object.is:t5U,h5U=Nc.useState,b5U=Nc.useEffect,l5U=Nc.useLayoutEffect,M5U=Nc.useDebugValue;function W5U(U,E){var u=E(),p=h5U({inst:{value:u,getSnapshot:E}}),z=p[0].inst,c=p[1];return l5U(function(){z.value=u,z.getSnapshot=E,_1(z)&&c({inst:z})},[U,u,E]),b5U(function(){return _1(z)&&c({inst:z}),U(function(){_1(z)&&c({inst:z})})},[U]),M5U(u),u}function _1(U){var E=U.getSnapshot;U=U.value;try{var u=E();return!J5U(U,u)}catch(p){return!0}}function f5U(U,E){return E()}var s5U=typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"?f5U:W5U;K5U.useSyncExternalStore=Nc.useSyncExternalStore!==void 0?Nc.useSyncExternalStore:s5U});var K3=cn((zzU)=>{var wZ=OE(TE(),1),_5U=s3();function g5U(U,E){return U===E&&(U!==0||1/U===1/E)||U!==U&&E!==E}var e5U=typeof Object.is==="function"?Object.is:g5U,C5U=_5U.useSyncExternalStore,UzU=wZ.useRef,EzU=wZ.useEffect,uzU=wZ.useMemo,pzU=wZ.useDebugValue;zzU.useSyncExternalStoreWithSelector=function(U,E,u,p,z){var c=UzU(null);if(c.current===null){var Y={hasValue:!1,value:null};c.current=Y}else Y=c.current;c=uzU(function(){function n(y){if(!j){if(j=!0,H=y,y=p(y),z!==void 0&&Y.hasValue){var r=Y.value;if(z(r,y))return k=r}return k=y}if(r=k,e5U(H,y))return r;var T=p(y);if(z!==void 0&&z(r,T))return H=y,r;return H=y,k=T}var j=!1,H,k,Q=u===void 0?null:u;return[function(){return n(E())},Q===null?void 0:function(){return n(Q())}]},[E,u,p,z]);var P=C5U(U,c[0],c[1]);return EzU(function(){Y.hasValue=!0,Y.value=P},[P]),pzU(P),P}});var nh={};Pp(nh,{Hero:()=>Z4U});function Z4U({scrollTo:U}){return $("section",{id:"hero",className:"relative flex justify-center items-center bg-gradient-to-br from-gray-7 to-gray-8 w-full h-screen snap-start",children:A("div",{className:"space-y-8 text-center",children:[A("div",{className:"space-y-4",children:[A("h1",{className:"overflow-visible font-black text-gray-1 text-5xl md:text-8xl leading-tight tracking-tighter",children:["BUILDING A PC ",$("br",{}),$("span",{className:"bg-[image:var(--grad-a)] bg-clip-text p-1 overflow-visible text-transparent",children:"IN 2026"})]}),$("p",{className:"mx-auto max-w-2xl font-light text-gray-4 text-xl md:text-2xl leading-relaxed",children:"From market realities to server racks. A comprehensive guide for first-time builders and upgraders in the modern hardware era."})]}),$("div",{className:"flex sm:flex-row flex-col justify-center items-center gap-4 pt-4",children:A(fu,{variant:"outline",size:"lg",onClick:()=>U("disclaimer"),className:"shadow-lg hover:shadow-xl px-8 h-14 text-lg transition-all hover:translate-y-[-2px] duration-300",children:["Start the Session",$(FP,{className:"ml-2 w-5 h-5"})]})})]})})}var jh=cU(()=>{vP();t5();JU()});function tU({className:U,...E}){return $("div",{"data-slot":"card",className:Ep("bg-card text-card-foreground rounded-xl border shadow-sm",U),...E})}function FE({className:U,...E}){return $("div",{"data-slot":"card-header",className:Ep("flex flex-col gap-1.5 p-6",U),...E})}function AE({className:U,...E}){return $("div",{"data-slot":"card-title",className:Ep("leading-none font-semibold tracking-tight",U),...E})}function iu({className:U,...E}){return $("div",{"data-slot":"card-description",className:Ep("text-muted-foreground text-sm",U),...E})}function KU({className:U,...E}){return $("div",{"data-slot":"card-content",className:Ep("p-6 pt-0",U),...E})}function QF({className:U,...E}){return $("div",{"data-slot":"card-footer",className:Ep("flex items-center p-6 pt-0",U),...E})}var Ez=cU(()=>{qZ();JU()});var qh={};Pp(qh,{Disclaimer:()=>P4U});function P4U(){return $("section",{id:"disclaimer",className:"relative flex justify-center items-center bg-gray-7 px-6 w-full h-screen snap-start",children:A("div",{className:"space-y-6 w-full max-w-3xl",children:[$("h2",{className:"mb-12 font-bold text-gray-1 text-4xl md:text-5xl text-center",children:"Welcome!"}),A(tU,{className:"bg-corp-white border-gray-6",children:[$(FE,{children:A(AE,{className:"flex items-center gap-2 text-gray-1",children:[$(rk,{className:"w-5 h-5 text-red-3"}),"Recording Notice"]})}),$(KU,{className:"text-gray-3",children:$("p",{children:"This session was recorded January 28, 2026."})})]}),A(tU,{className:"bg-corp-white border-gray-6",children:[$(FE,{children:A(AE,{className:"flex items-center gap-2 text-gray-1",children:[$(Vk,{className:"w-5 h-5 text-red-3"}),"Questions?"]})}),$(KU,{className:"text-gray-3",children:$("p",{children:"Submit your questions via chat. Questions will be handled at a suitable time during the presentation."})})]}),A(tU,{className:"bg-corp-white border-gray-6",children:[$(FE,{children:A(AE,{className:"flex items-center gap-2 text-gray-1",children:[$(wk,{className:"w-5 h-5 text-red-3"}),"Today's Chat Moderator"]})}),$(KU,{className:"",children:$("span",{className:"bg-[image:var(--grad-a)] bg-clip-text p-1 overflow-visible text-transparent text-xl",children:"Redacted"})})]})]})})}var Hh=cU(()=>{Ez();t5();JU()});var kh={};Pp(kh,{NextEvent:()=>x4U});function x4U(){let[U,E]=hZ.useState(!1),[u,p]=hZ.useState(!1),[z,c]=hZ.useState(!1),Y=hZ.useRef(null);return hZ.useEffect(()=>{let P=new IntersectionObserver((n)=>{n.forEach((j)=>{if(j.isIntersecting)E(!1),p(!1),c(!1),setTimeout(()=>E(!0),300),setTimeout(()=>p(!0),1000),setTimeout(()=>c(!0),1500)})},{threshold:0.5});if(Y.current)P.observe(Y.current);return()=>{if(Y.current)P.unobserve(Y.current)}},[]),$("section",{ref:Y,id:"next-event",className:"relative flex justify-center items-center bg-[var(--gray-7)] px-6 w-full h-screen snap-start",children:A("div",{className:"space-y-8 text-center",children:[A("div",{className:"flex flex-col items-center gap-4",children:[$("div",{className:`
              w-32 h-32 border-4 rounded-lg
              flex items-center justify-center
              transition-all duration-700 ease-out
              ${U?"rotate-0 opacity-100 scale-100 border-red-3":"rotate-180 opacity-0 scale-50 border-transparent"}
            `,children:$("span",{className:`
                text-7xl font-black text-red-3
                transition-all duration-500 delay-200
                ${u?"opacity-100 scale-100":"opacity-0 scale-50"}
              `,children:"X"})}),$("h2",{className:`
              text-3xl font-bold text-gray-2 uppercase tracking-wider
              transition-all duration-500
              ${z?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
            `,children:"xxx 2026"})]}),$("div",{className:`
            transition-all duration-700 delay-300
            ${z?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}
          `,children:$(tU,{className:"bg-[var(--corp-white)] mx-auto border-[var(--gray-6)] max-w-2xl",children:$(KU,{className:"pt-6",children:A("div",{className:"space-y-4",children:[A("div",{className:"flex justify-center items-center gap-2 text-red-3",children:[$(Nk,{className:"w-6 h-6"}),$("span",{className:"font-semibold text-sm uppercase tracking-wide",children:"Next Event"})]}),$("h3",{className:"font-black text-gray-1 text-4xl md:text-5xl",children:"xxx 2026"}),A("p",{className:"text-gray-3 text-lg",children:["Organized by ",$("span",{className:"font-semibold text-gray-1",children:"redacted"})," and ",$("span",{className:"font-semibold text-gray-1",children:"Redacted"})]})]})})})})]})})}var hZ;var Qh=cU(()=>{hZ=OE(TE(),1);Ez();t5();JU()});var $h={};Pp($h,{Schedule:()=>n4U});function n4U(){return A("section",{id:"schedule",className:"relative flex justify-center items-center bg-gradient-to-br from-gray-7 to-gray-8 px-6 w-full h-screen snap-start",children:[A("div",{className:"w-full max-w-4xl",children:[$("h2",{className:"mb-12 font-bold text-gray-1 text-4xl md:text-5xl text-center",children:"What We're Covering Today"}),$("div",{className:"gap-4 grid md:grid-cols-2",children:[{id:1,title:"Market Reality",description:"Current state of PC hardware market and pricing"},{id:2,title:"Component Overview",description:"A quick overview of the components within the PC"},{id:3,title:"Planning Your Build",description:"Budget considerations and compatibility checks"},{id:4,title:"Component Deep Dive",description:"We will cover all computer parts u will need one by one"},{id:5,title:"Workstations",description:"What if u have too much money too spare"},{id:6,title:"Servers",description:"A quick look into how we can apply what we have learned on home servers"},{id:7,title:"Next Time ? Build Session ?",description:"Let us know!"},{id:8,title:"Q&A Session",description:"Your questions answered"}].map((E,u)=>A(tU,{className:"bg-corp-white/95 hover:shadow-lg border-gray-6 hover:border-red-3 transition-all duration-300",style:{animation:`fadeInUp 0.5s ease-out ${u*0.1}s both`},children:[$(FE,{className:"pb-3",children:A(AE,{className:"flex items-start gap-3 text-gray-1",children:[$("span",{className:"inline-flex justify-center items-center bg-red-3 mt-0.5 rounded-full w-6 h-6 font-semibold text-white text-sm",children:u+1}),$("span",{className:"text-lg",children:E.title})]})}),$(KU,{children:$("p",{className:"ml-9 text-gray-3 text-sm",children:E.description})})]},E.id))})]}),$("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}var yh=cU(()=>{Ez();JU()});var Ih={};Pp(Ih,{ComputerSceneUI:()=>j4U});function j4U(){let[U,E]=Vx.useState(null),[u,p]=Vx.useState(null),z=Vx.useMemo(()=>[{id:"cpu",name:"CPU"},{id:"gpu",name:"GPU"},{id:"ram",name:"RAM"},{id:"storage",name:"Storage"},{id:"motherboard",name:"Motherboard"},{id:"psu",name:"PSU"},{id:"case",name:"Case"},{id:"cooling",name:"Cooling"},{id:"fans",name:"Fans"}],[]),c=Vx.useMemo(()=>({cpu:{top:"38vh",left:"calc((100vw - 75vh) / 2 + 3vw + 19vh)",width:"10vh",height:"10vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},gpu:{top:"54vh",left:"calc((100vw - 75vh) / 2 + 3vw + 3vh)",width:"30vh",height:"5vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},ram:{top:"34vh",left:"calc((100vw - 75vh) / 2 + 3vw + 30vh)",width:"6vh",height:"17vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},storage:[{top:"50vh",left:"calc((100vw - 75vh) / 2 + 3vw + 7vh)",width:"20vh",height:"5vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},{top:"62vh",left:"calc((100vw - 75vh) / 2 + 3vw + 12vh)",width:"20vh",height:"4vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"}],motherboard:{top:"30vh",left:"calc((100vw - 75vh) / 2 + 3vw + 7vh)",width:"30vh",height:"40vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},psu:{top:"75vh",left:"calc((100vw - 75vh) / 2 + 3vw)",width:"30vh",height:"15vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},case:{top:"18vh",left:"calc((100vw - 75vh) / 2 + 3vw)",width:"75vh",height:"75vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},cooling:{top:"20vh",left:"calc((100vw - 75vh) / 2 + 3vw + 12vh)",width:"40vh",height:"10vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},fans:[{top:"28vh",left:"calc((100vw - 75vh) / 2 + 3vw + 2vh)",width:"10vh",height:"20vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"},{top:"24vh",left:"calc((100vw - 75vh) / 2 + 3vw + 56vh)",width:"14vh",height:"60vh",background:"var(--color-red-3)",border:"2px solid var(--color-red-5)"}]}),[]),Y=(n)=>{let j=c[n];if(!j)return[];return Array.isArray(j)?j:[j]},P=Vx.useMemo(()=>$("div",{className:"z-15 absolute inset-0 pointer-events-none",children:z.map((n)=>{let j=U===n.id||u===n.id;return Y(n.id).map((k,Q)=>$("div",{className:`absolute transition-opacity duration-300 rounded-md 
                            ${j?"opacity-50":"opacity-0"}`,style:k},`${n.id}-${Q}`))})}),[z,U,u]);return A(qu,{children:[P,$("div",{className:"z-40 absolute inset-0 flex gap-8 mx-auto w-full pointer-events-none",children:A("div",{className:"space-y-2 mt-20 p-7 w-1/4 pointer-events-auto",children:[$("h2",{className:"mb-4 font-bold text-black text-2xl",children:"Inspect Components"}),z.map((n)=>$(fu,{variant:"secondary",className:`justify-start w-full ${u===n.id?"pointer-events-auto":""}`,onMouseEnter:()=>{if(u===null)E(n.id)},onMouseLeave:()=>{if(u===null)E(null)},onClick:()=>p((j)=>j===n.id?null:n.id),style:u===n.id?{background:"var(--color-red-3)",borderColor:"var(--color-red-3)",color:"var(--color-foreground, #fff)"}:U===n.id&&u===null?{outline:"2px solid var(--color-red-3)",outlineOffset:"2px"}:void 0,children:n.name},n.id))]})})]})}var Vx;var Oh=cU(()=>{vP();Vx=OE(TE(),1);JU()});var vN;var Nh=cU(()=>{vN=[{date:"2025-01-01",price:233},{date:"2025-01-02",price:233},{date:"2025-01-03",price:233.5},{date:"2025-01-04",price:233.5},{date:"2025-01-05",price:233.5},{date:"2025-01-06",price:233},{date:"2025-01-07",price:233},{date:"2025-01-08",price:233.5},{date:"2025-01-09",price:240.99},{date:"2025-01-10",price:240.99},{date:"2025-01-11",price:233},{date:"2025-01-12",price:230.99},{date:"2025-01-13",price:230.99},{date:"2025-01-14",price:230.99},{date:"2025-01-15",price:230.99},{date:"2025-01-16",price:230.99},{date:"2025-01-17",price:230.99},{date:"2025-01-18",price:230.99},{date:"2025-01-19",price:233},{date:"2025-01-20",price:233},{date:"2025-01-21",price:225.5},{date:"2025-01-22",price:225.5},{date:"2025-01-23",price:225},{date:"2025-01-24",price:225.5},{date:"2025-01-25",price:225.95},{date:"2025-01-26",price:225.99},{date:"2025-01-27",price:225.99},{date:"2025-01-28",price:250},{date:"2025-01-29",price:250},{date:"2025-01-30",price:230.99},{date:"2025-01-31",price:237.5},{date:"2025-02-01",price:237},{date:"2025-02-02",price:237},{date:"2025-02-03",price:230},{date:"2025-02-04",price:230.5},{date:"2025-02-05",price:230.95},{date:"2025-02-06",price:230.5},{date:"2025-02-07",price:230.5},{date:"2025-02-08",price:230},{date:"2025-02-09",price:230.5},{date:"2025-02-10",price:230.5},{date:"2025-02-11",price:230.5},{date:"2025-02-12",price:223},{date:"2025-02-13",price:223},{date:"2025-02-14",price:223.5},{date:"2025-02-15",price:223.5},{date:"2025-02-16",price:223.5},{date:"2025-02-17",price:223.5},{date:"2025-02-18",price:223},{date:"2025-02-19",price:223},{date:"2025-02-20",price:223},{date:"2025-02-21",price:223},{date:"2025-02-22",price:223},{date:"2025-02-23",price:223},{date:"2025-02-24",price:223},{date:"2025-02-25",price:229.5},{date:"2025-02-26",price:237},{date:"2025-02-27",price:237},{date:"2025-02-28",price:237},{date:"2025-03-01",price:237},{date:"2025-03-02",price:237},{date:"2025-03-03",price:237.5},{date:"2025-03-04",price:237.5},{date:"2025-03-05",price:237.5},{date:"2025-03-06",price:237.5},{date:"2025-03-07",price:237.5},{date:"2025-03-08",price:237.5},{date:"2025-03-09",price:237.5},{date:"2025-03-10",price:237.5},{date:"2025-03-11",price:237.5},{date:"2025-03-12",price:237.5},{date:"2025-03-13",price:237.99},{date:"2025-03-14",price:220.5},{date:"2025-03-15",price:219.99},{date:"2025-03-16",price:219.5},{date:"2025-03-17",price:219.5},{date:"2025-03-18",price:219.5},{date:"2025-03-19",price:219.5},{date:"2025-03-20",price:219.5},{date:"2025-03-21",price:219.5},{date:"2025-03-22",price:219.5},{date:"2025-03-23",price:219.95},{date:"2025-03-24",price:227.5},{date:"2025-03-25",price:227.5},{date:"2025-03-26",price:227},{date:"2025-03-27",price:227},{date:"2025-03-28",price:227.5},{date:"2025-03-29",price:227.5},{date:"2025-03-30",price:227.95},{date:"2025-03-30",price:230.5},{date:"2025-03-31",price:230.5},{date:"2025-04-01",price:230.5},{date:"2025-04-02",price:249.95},{date:"2025-04-03",price:249.5},{date:"2025-04-04",price:249},{date:"2025-04-05",price:249},{date:"2025-04-06",price:249},{date:"2025-04-07",price:249.5},{date:"2025-04-08",price:249.5},{date:"2025-04-09",price:220.99},{date:"2025-04-10",price:220.99},{date:"2025-04-11",price:220.99},{date:"2025-04-12",price:227.5},{date:"2025-04-13",price:227.5},{date:"2025-04-14",price:227.5},{date:"2025-04-15",price:227.5},{date:"2025-04-16",price:227.95},{date:"2025-04-17",price:227.99},{date:"2025-04-18",price:229},{date:"2025-04-19",price:229},{date:"2025-04-20",price:227.99},{date:"2025-04-21",price:227.95},{date:"2025-04-22",price:227.95},{date:"2025-04-23",price:227.99},{date:"2025-04-24",price:219},{date:"2025-04-25",price:219},{date:"2025-04-26",price:217.99},{date:"2025-04-27",price:217.99},{date:"2025-04-28",price:219},{date:"2025-04-29",price:217.99},{date:"2025-04-30",price:217.95},{date:"2025-05-01",price:217.5},{date:"2025-05-02",price:217.5},{date:"2025-05-03",price:247.99},{date:"2025-05-04",price:230},{date:"2025-05-05",price:230},{date:"2025-05-06",price:230},{date:"2025-05-07",price:227.95},{date:"2025-05-08",price:227.95},{date:"2025-05-09",price:227.95},{date:"2025-05-10",price:227.95},{date:"2025-05-11",price:227.5},{date:"2025-05-12",price:233.95},{date:"2025-05-13",price:233.99},{date:"2025-05-14",price:233.99},{date:"2025-05-15",price:233.99},{date:"2025-05-16",price:233.95},{date:"2025-05-17",price:233.5},{date:"2025-05-18",price:233.5},{date:"2025-05-19",price:233.5},{date:"2025-05-20",price:217.5},{date:"2025-05-21",price:217},{date:"2025-05-22",price:217},{date:"2025-05-23",price:217.5},{date:"2025-05-24",price:239.5},{date:"2025-05-25",price:239.5},{date:"2025-05-26",price:239.5},{date:"2025-05-27",price:239},{date:"2025-05-28",price:239},{date:"2025-05-29",price:239.5},{date:"2025-05-30",price:239.99},{date:"2025-05-31",price:240},{date:"2025-06-01",price:240},{date:"2025-06-02",price:240},{date:"2025-06-03",price:240},{date:"2025-06-04",price:239.95},{date:"2025-06-05",price:239.5},{date:"2025-06-06",price:237},{date:"2025-06-07",price:237},{date:"2025-06-08",price:237},{date:"2025-06-09",price:237.5},{date:"2025-06-10",price:237.5},{date:"2025-06-11",price:237.5},{date:"2025-06-12",price:230.99},{date:"2025-06-13",price:223},{date:"2025-06-14",price:223},{date:"2025-06-15",price:223},{date:"2025-06-16",price:223},{date:"2025-06-17",price:223},{date:"2025-06-18",price:223},{date:"2025-06-19",price:223.5},{date:"2025-06-20",price:223.95},{date:"2025-06-21",price:223.5},{date:"2025-06-22",price:223},{date:"2025-06-23",price:223},{date:"2025-06-24",price:223},{date:"2025-06-25",price:223},{date:"2025-06-26",price:223},{date:"2025-06-27",price:223},{date:"2025-06-28",price:223},{date:"2025-06-29",price:223},{date:"2025-06-30",price:223},{date:"2025-07-01",price:223},{date:"2025-07-02",price:223},{date:"2025-07-03",price:240.5},{date:"2025-07-04",price:240.95},{date:"2025-07-05",price:240.99},{date:"2025-07-06",price:240.99},{date:"2025-07-07",price:240.99},{date:"2025-07-08",price:240.99},{date:"2025-07-09",price:240.99},{date:"2025-07-10",price:240.99},{date:"2025-07-11",price:240.99},{date:"2025-07-12",price:240.99},{date:"2025-07-13",price:240.99},{date:"2025-07-14",price:240.99},{date:"2025-07-15",price:237.99},{date:"2025-07-16",price:239},{date:"2025-07-17",price:237.99},{date:"2025-07-18",price:237.99},{date:"2025-07-19",price:237.5},{date:"2025-07-20",price:237.5},{date:"2025-07-21",price:227.99},{date:"2025-07-22",price:227.99},{date:"2025-07-23",price:227.99},{date:"2025-07-24",price:227.99},{date:"2025-07-25",price:229},{date:"2025-07-26",price:229},{date:"2025-07-27",price:217.99},{date:"2025-07-28",price:217.99},{date:"2025-07-29",price:217.95},{date:"2025-07-30",price:217.95},{date:"2025-07-31",price:239.95},{date:"2025-08-01",price:240.5},{date:"2025-08-02",price:227.5},{date:"2025-08-03",price:227},{date:"2025-08-04",price:227},{date:"2025-08-05",price:227},{date:"2025-08-06",price:227},{date:"2025-08-07",price:240.5},{date:"2025-08-08",price:240.5},{date:"2025-08-09",price:240},{date:"2025-08-10",price:240.5},{date:"2025-08-11",price:240.5},{date:"2025-08-12",price:240.95},{date:"2025-08-13",price:233.5},{date:"2025-08-14",price:233},{date:"2025-08-15",price:217},{date:"2025-08-16",price:217},{date:"2025-08-17",price:217},{date:"2025-08-18",price:239},{date:"2025-08-19",price:239},{date:"2025-08-20",price:239.5},{date:"2025-08-21",price:239.95},{date:"2025-08-22",price:240},{date:"2025-08-23",price:239.95},{date:"2025-08-24",price:239.5},{date:"2025-08-25",price:239},{date:"2025-08-26",price:239.5},{date:"2025-08-27",price:239.5},{date:"2025-08-28",price:239.5},{date:"2025-08-29",price:239.5},{date:"2025-08-30",price:239},{date:"2025-08-31",price:239.5},{date:"2025-09-01",price:239.5},{date:"2025-09-02",price:239},{date:"2025-09-03",price:239},{date:"2025-09-04",price:237.99},{date:"2025-09-05",price:239},{date:"2025-09-06",price:239},{date:"2025-09-07",price:230.99},{date:"2025-09-08",price:225.5},{date:"2025-09-09",price:230.5},{date:"2025-09-10",price:230.95},{date:"2025-09-11",price:230.95},{date:"2025-09-12",price:230.95},{date:"2025-09-13",price:230.5},{date:"2025-09-14",price:230.5},{date:"2025-09-15",price:230.5},{date:"2025-09-16",price:230.99},{date:"2025-09-17",price:230.99},{date:"2025-09-18",price:230.95},{date:"2025-09-19",price:230.5},{date:"2025-09-20",price:230},{date:"2025-09-21",price:230},{date:"2025-09-22",price:230},{date:"2025-09-23",price:243},{date:"2025-09-24",price:243},{date:"2025-09-25",price:243},{date:"2025-09-26",price:243.5},{date:"2025-09-27",price:243.5},{date:"2025-09-28",price:243.5},{date:"2025-09-29",price:243},{date:"2025-09-30",price:243},{date:"2025-10-01",price:243},{date:"2025-10-02",price:243.5},{date:"2025-10-03",price:243.95},{date:"2025-10-04",price:243.95},{date:"2025-10-05",price:243.95},{date:"2025-10-06",price:243.95},{date:"2025-10-07",price:243.95},{date:"2025-10-08",price:243.5},{date:"2025-10-09",price:243.5},{date:"2025-10-10",price:243},{date:"2025-10-11",price:305.99},{date:"2025-10-12",price:305.99},{date:"2025-10-13",price:307},{date:"2025-10-14",price:307},{date:"2025-10-15",price:330.99},{date:"2025-10-16",price:330.95},{date:"2025-10-17",price:330.95},{date:"2025-10-18",price:340.99},{date:"2025-10-19",price:340.99},{date:"2025-10-20",price:340.99},{date:"2025-10-21",price:340.99},{date:"2025-10-22",price:360.99},{date:"2025-10-23",price:363},{date:"2025-10-24",price:363},{date:"2025-10-25",price:393.95},{date:"2025-10-27",price:405},{date:"2025-10-28",price:405},{date:"2025-10-29",price:405},{date:"2025-10-30",price:405.5},{date:"2025-10-31",price:405},{date:"2025-11-01",price:405},{date:"2025-11-02",price:405},{date:"2025-11-03",price:440.99},{date:"2025-11-04",price:440.99},{date:"2025-11-05",price:440.99},{date:"2025-11-06",price:443},{date:"2025-11-07",price:443},{date:"2025-11-08",price:463.99},{date:"2025-11-09",price:465},{date:"2025-11-10",price:465},{date:"2025-11-11",price:480.5},{date:"2025-11-12",price:480.5},{date:"2025-11-13",price:480.5},{date:"2025-11-14",price:480.5},{date:"2025-11-15",price:480.5},{date:"2025-11-16",price:593},{date:"2025-11-17",price:620.95},{date:"2025-11-18",price:620.99},{date:"2025-11-19",price:620.99},{date:"2025-11-20",price:667},{date:"2025-11-21",price:667},{date:"2025-11-22",price:665.99},{date:"2025-11-23",price:665.95},{date:"2025-11-24",price:665.95},{date:"2025-11-25",price:665.95},{date:"2025-11-26",price:665.95},{date:"2025-11-27",price:665.5},{date:"2025-11-28",price:790.99},{date:"2025-11-29",price:793},{date:"2025-11-30",price:787.95},{date:"2025-12-01",price:787.5},{date:"2025-12-02",price:787.5},{date:"2025-12-03",price:787},{date:"2025-12-04",price:787.5},{date:"2025-12-05",price:920.99},{date:"2025-12-06",price:920.99},{date:"2025-12-07",price:920.99},{date:"2025-12-08",price:909.95},{date:"2025-12-09",price:909.95},{date:"2025-12-10",price:909.95},{date:"2025-12-11",price:909.5},{date:"2025-12-12",price:909},{date:"2025-12-13",price:909},{date:"2025-12-14",price:909},{date:"2025-12-15",price:909},{date:"2025-12-16",price:909.5},{date:"2025-12-17",price:909.5},{date:"2025-12-18",price:900.5},{date:"2025-12-19",price:900.5},{date:"2025-12-20",price:900.5},{date:"2025-12-21",price:900.5},{date:"2025-12-22",price:900.5},{date:"2025-12-23",price:900.5},{date:"2025-12-24",price:900.95},{date:"2025-12-25",price:900.99},{date:"2025-12-26",price:945.95},{date:"2025-12-27",price:945.95},{date:"2025-12-28",price:945.5},{date:"2025-12-29",price:945},{date:"2025-12-30",price:945},{date:"2025-12-31",price:945},{date:"2026-01-01",price:945.5}]});var Lh={};Pp(Lh,{MarketGraph:()=>H4U});function rh(U){let E=U.trim().split("/");if(E.length!==3)return null;let[u,p,z]=E,c=parseInt(u,10),Y=parseInt(p,10)-1,P=parseInt(z,10);if(z.length===2)P+=P<70?2000:1900;return new Date(P,Y,c)}function H4U(){let[U,E]=Gx.useState([]),[u,p]=Gx.useState(null),z=null,c=async(j)=>{p(null);try{let H=await j.text();if(j.type.includes("json")||j.name.endsWith(".json")){let k=JSON.parse(H);if(!Array.isArray(k))throw new Error("JSON must be an array of {date,value}");let Q=k.map((y)=>({date:rh(String(y.date))||new Date(y.date),value:Number(y.value)}));E(Q.filter((y)=>y.date instanceof Date&&!isNaN(y.date.getTime())&&Number.isFinite(y.value)))}else{let k=H.split(/\r?\n/).map((y)=>y.trim()).filter(Boolean),Q=[];for(let y of k){let r=y.split(/[,;\t]/).map((O)=>O.trim());if(r.length<2)continue;if(Q.length===0&&isNaN(Number(r[1])))continue;let T=rh(r[0])||new Date(r[0]),N=Number(r[1]);if(T instanceof Date&&!isNaN(T.getTime())&&Number.isFinite(N))Q.push({date:T,value:N})}E(Q)}}catch(H){p(H?.message||String(H))}};Gx.useEffect(()=>{try{if((!U||U.length===0)&&Array.isArray(vN)&&vN.length){let j=vN.map((H)=>({date:new Date(H.date),value:Number(H.price??H.value)}));E(j.filter((H)=>H.date instanceof Date&&!isNaN(H.date.getTime())&&Number.isFinite(H.value)))}}catch(j){}},[]);let Y={width:1200,height:600},P={top:20,right:30,bottom:40,left:70},n=Gx.useMemo(()=>{if(!U||U.length===0)return{path:"",xTicks:[],yTicks:[],xFormat:()=>""};let j=U.slice().sort((V,w)=>V.date.getTime()-w.date.getTime()),H=j[0].date.getTime(),k=j[j.length-1].date.getTime(),Q=j.map((V)=>V.value),y=Math.min(...Q),r=Math.max(...Q),T=Y.width-P.left-P.right,N=Y.height-P.top-P.bottom,O=(V)=>P.left+(V-H)/(k-H||1)*T,L=(V)=>P.top+N-(V-y)/(r-y||1)*N,X=j.map((V,w)=>`${w===0?"M":"L"} ${O(V.date.getTime()).toFixed(2)} ${L(V.value).toFixed(2)}`).join(" "),i=10,B=Array.from({length:i+1},(V,w)=>new Date(H+w/i*(k-H))),G=6,d=Array.from({length:G+1},(V,w)=>y+w/G*(r-y));return{path:X,xTickVals:B,yTickVals:d,xScale:O,yScale:L,xFormat:(V)=>`${String(V.getDate()).padStart(2,"0")}/${String(V.getMonth()+1).padStart(2,"0")}/${String(V.getFullYear()).slice(-2)}`}},[U]);return $("section",{id:"market-graph",className:"relative flex flex-col justify-center items-center bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-8)] px-6 w-full h-screen snap-start pointer-events-auto",children:A("div",{className:"w-full max-w-[1300px]",children:[$("h2",{className:"mb-4 font-bold text-[var(--gray-1)] text-4xl",children:"Market Reality  Price Over Time"}),$("div",{className:"flex items-center gap-4 mb-4",children:$("div",{className:"text-[var(--gray-3)]",children:"Showing DDR5 2x32GB 6000 prices (Jan 2025Jan 2026)."})}),u&&$("div",{className:"mb-4 text-red-5",children:u}),A("div",{className:"bg-white p-3 rounded-md",children:[A("svg",{width:Y.width,height:Y.height,children:[$("rect",{x:0,y:0,width:Y.width,height:Y.height,fill:"transparent"}),A("g",{children:[n.yTickVals&&n.yTickVals.map((j,H)=>{let k=n.yScale?n.yScale(j):0;return A("g",{children:[$("line",{x1:P.left,x2:Y.width-P.right,y1:k,y2:k,stroke:"#eee"}),A("text",{x:P.left-10,y:k+4,textAnchor:"end",fontSize:12,fill:"#666",children:[j.toFixed(2),""]})]},H)}),n.xTickVals&&n.xTickVals.map((j,H)=>{let k=n.xScale?n.xScale(j.getTime()):0;return A("g",{children:[$("line",{x1:k,x2:k,y1:Y.height-P.bottom,y2:P.top,stroke:"#f6f6f6"}),$("text",{x:k,y:Y.height-8,textAnchor:"middle",fontSize:12,fill:"#666",children:n.xFormat?n.xFormat(j):""})]},H)}),n.path&&$("path",{d:n.path,fill:"none",stroke:"#e11",strokeWidth:2})]})]}),A("div",{className:"mt-3 text-[var(--gray-3)] text-sm",children:["Source: ",$("a",{href:"https://tweakers.net/pricewatch/2210706/corsair-vengeance-rgb-cmh64gx5m2b6000z28.html",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Tweakers  Corsair Vengeance RGB CMH64GX5M2B6000Z28"})]})]})]})})}var Gx;var Xh=cU(()=>{Gx=OE(TE(),1);Nh();JU()});function _E({className:U,variant:E="default",asChild:u=!1,...p}){return $(u?j8:"span",{"data-slot":"badge","data-variant":E,className:Ep(k4U({variant:E}),U),...p})}var k4U;var kz=cU(()=>{q8();k8();qZ();JU();k4U=jj("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}})});var Th,Q4U,$4U,oh;var ih=cU(()=>{Th=OE(TE(),1),Q4U=OE(t$(),1);q8();JU();$4U=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oh=$4U.reduce((U,E)=>{let u=ZT(`Primitive.${E}`),p=Th.forwardRef((z,c)=>{let{asChild:Y,...P}=z,n=Y?u:E;if(typeof window!=="undefined")window[Symbol.for("radix-ui")]=!0;return $(n,{...P,ref:c})});return p.displayName=`Primitive.${E}`,{...U,[E]:p}},{})});function O4U(U){return I4U.includes(U)}var Ah,y4U="Separator",Fh="horizontal",I4U,mh,Vh;var Gh=cU(()=>{Ah=OE(TE(),1);ih();JU();I4U=["horizontal","vertical"],mh=Ah.forwardRef((U,E)=>{let{decorative:u,orientation:p=Fh,...z}=U,c=O4U(p)?p:Fh,P=u?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return $(oh.div,{"data-orientation":c,...P,...z,ref:E})});mh.displayName=y4U;Vh=mh});function Ku({className:U,orientation:E="horizontal",decorative:u=!0,...p}){return $(Vh,{"data-slot":"separator",decorative:u,orientation:E,className:Ep("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",U),...p})}var Qz=cU(()=>{Gh();qZ();JU()});var dh="./nvidia_stock-2w1nk8hc.png";var Bh=()=>{};var wh={};Pp(wh,{AIBubble:()=>L4U});function L4U(){return A("section",{id:"ai-bubble",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/3 absolute bg-[var(--color-purple-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"right-1/3 bottom-1/4 absolute bg-[var(--color-red-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"The AI Gold Rush"}),$(_E,{variant:"outline",className:"border-[var(--color-red-3)] text-[var(--color-red-3)] text-xs",children:"Market Analysis"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"NVIDIA's meteoric rise and the question: Is AI a bubble or the next computing revolution?"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),$("div",{className:"flex flex-1 justify-center items-center w-full min-h-0 align-middle",children:A("div",{className:"relative flex justify-center items-center shadow-2xl border-[var(--gray-5)] border-2 rounded-xl w-250 h-full overflow-hidden",children:[$("div",{className:"flex justify-center items-center bg-white rounded-md w-full h-full overflow-hidden",children:$("img",{src:dh,alt:"NVIDIA Stock Chart",className:"block max-w-full max-h-full object-contain",onError:(U)=>{U.currentTarget.style.display="none"}})}),$("div",{className:"absolute inset-0 bg-gradient-to-t from-[var(--gray-7)]/60 via-transparent to-transparent"})]})})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}var vh=cU(()=>{kz();Qz();Bh();JU()});function k0(U,E,{checkForDefaultPrevented:u=!0}={}){return function p(z){if(U?.(z),u===!1||!z.defaultPrevented)return E?.(z)}}var tQU;var SN=cU(()=>{tQU=!!(typeof window!=="undefined"&&window.document&&window.document.createElement)});function bZ(U,E=[]){let u=[];function p(c,Y){let P=kY.createContext(Y),n=u.length;u=[...u,Y];let j=(k)=>{let{scope:Q,children:y,...r}=k,T=Q?.[U]?.[n]||P,N=kY.useMemo(()=>r,Object.values(r));return $(T.Provider,{value:N,children:y})};j.displayName=c+"Provider";function H(k,Q){let y=Q?.[U]?.[n]||P,r=kY.useContext(y);if(r)return r;if(Y!==void 0)return Y;throw new Error(`\`${k}\` must be used within \`${c}\``)}return[j,H]}let z=()=>{let c=u.map((Y)=>{return kY.createContext(Y)});return function Y(P){let n=P?.[U]||c;return kY.useMemo(()=>({[`__scope${U}`]:{...P,[U]:n}}),[P,n])}};return z.scopeName=U,[p,X4U(z,...E)]}function X4U(...U){let E=U[0];if(U.length===1)return E;let u=()=>{let p=U.map((z)=>({useScope:z(),scopeName:z.scopeName}));return function z(c){let Y=p.reduce((P,{useScope:n,scopeName:j})=>{let k=n(c)[`__scope${j}`];return{...P,...k}},{});return kY.useMemo(()=>({[`__scope${E.scopeName}`]:Y}),[Y])}};return u.scopeName=E.scopeName,u}var kY;var hQ=cU(()=>{kY=OE(TE(),1);JU()});var Sh,QY;var bQ=cU(()=>{Sh=OE(TE(),1),QY=globalThis?.document?Sh.useLayoutEffect:()=>{}});function Jq({prop:U,defaultProp:E,onChange:u=()=>{},caller:p}){let[z,c,Y]=o4U({defaultProp:E,onChange:u}),P=U!==void 0,n=P?U:z;{let H=g0.useRef(U!==void 0);g0.useEffect(()=>{let k=H.current;if(k!==P)console.warn(`${p} is changing from ${k?"controlled":"uncontrolled"} to ${P?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`);H.current=P},[P,p])}let j=g0.useCallback((H)=>{if(P){let k=i4U(H)?H(U):H;if(k!==U)Y.current?.(k)}else c(H)},[P,U,c,Y]);return[n,j]}function o4U({defaultProp:U,onChange:E}){let[u,p]=g0.useState(U),z=g0.useRef(u),c=g0.useRef(E);return T4U(()=>{c.current=E},[E]),g0.useEffect(()=>{if(z.current!==u)c.current?.(u),z.current=u},[u,z]),[u,p,c]}function i4U(U){return typeof U==="function"}var g0,RN,T4U,WQU;var DN=cU(()=>{g0=OE(TE(),1);bQ();RN=OE(TE(),1),T4U=g0[" useInsertionEffect ".trim().toString()]||QY;WQU=Symbol("RADIX:SYNC_STATE")});function Rh(U){let E=tN.useRef({value:U,previous:U});return tN.useMemo(()=>{if(E.current.value!==U)E.current.previous=E.current.value,E.current.value=U;return E.current.previous},[U])}var tN;var Dh=cU(()=>{tN=OE(TE(),1)});function Jh(U){let[E,u]=th.useState(void 0);return QY(()=>{if(U){u({width:U.offsetWidth,height:U.offsetHeight});let p=new ResizeObserver((z)=>{if(!Array.isArray(z))return;if(!z.length)return;let c=z[0],Y,P;if("borderBoxSize"in c){let n=c.borderBoxSize,j=Array.isArray(n)?n[0]:n;Y=j.inlineSize,P=j.blockSize}else Y=U.offsetWidth,P=U.offsetHeight;u({width:Y,height:P})});return p.observe(U,{box:"border-box"}),()=>p.unobserve(U)}else u(void 0)},[U]),E}var th;var hh=cU(()=>{th=OE(TE(),1);bQ()});function bh(U){let E=F4U(U),u=$5.forwardRef((p,z)=>{let{children:c,...Y}=p,P=$5.Children.toArray(c),n=P.find(m4U);if(n){let j=n.props.children,H=P.map((k)=>{if(k===n){if($5.Children.count(j)>1)return $5.Children.only(null);return $5.isValidElement(j)?j.props.children:null}else return k});return $(E,{...Y,ref:z,children:$5.isValidElement(j)?$5.cloneElement(j,void 0,H):null})}return $(E,{...Y,ref:z,children:c})});return u.displayName=`${U}.Slot`,u}function F4U(U){let E=$5.forwardRef((u,p)=>{let{children:z,...c}=u;if($5.isValidElement(z)){let Y=G4U(z),P=V4U(c,z.props);if(z.type!==$5.Fragment)P.ref=p?dP(p,Y):Y;return $5.cloneElement(z,P)}return $5.Children.count(z)>1?$5.Children.only(null):null});return E.displayName=`${U}.SlotClone`,E}function m4U(U){return $5.isValidElement(U)&&typeof U.type==="function"&&"__radixId"in U.type&&U.type.__radixId===A4U}function V4U(U,E){let u={...E};for(let p in E){let z=U[p],c=E[p];if(/^on[A-Z]/.test(p)){if(z&&c)u[p]=(...P)=>{let n=c(...P);return z(...P),n};else if(z)u[p]=z}else if(p==="style")u[p]={...z,...c};else if(p==="className")u[p]=[z,c].filter(Boolean).join(" ")}return{...U,...u}}function G4U(U){let E=Object.getOwnPropertyDescriptor(U.props,"ref")?.get,u=E&&"isReactWarning"in E&&E.isReactWarning;if(u)return U.ref;if(E=Object.getOwnPropertyDescriptor(U,"ref")?.get,u=E&&"isReactWarning"in E&&E.isReactWarning,u)return U.props.ref;return U.props.ref||U.ref}var $5,A4U;var lh=cU(()=>{$5=OE(TE(),1);nZ();JU();A4U=Symbol("radix.slottable")});var Mh,B4U,d4U,oc;var JN=cU(()=>{Mh=OE(TE(),1),B4U=OE(t$(),1);lh();JU();d4U=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oc=d4U.reduce((U,E)=>{let u=bh(`Primitive.${E}`),p=Mh.forwardRef((z,c)=>{let{asChild:Y,...P}=z,n=Y?u:E;if(typeof window!=="undefined")window[Symbol.for("radix-ui")]=!0;return $(n,{...P,ref:c})});return p.displayName=`Primitive.${E}`,{...U,[E]:p}},{})});function ah(U){return U?"checked":"unchecked"}var ic,hN="Switch",w4U,n$U,v4U,S4U,Wh,fh="SwitchThumb",sh,R4U="SwitchBubbleInput",Kh,_h,gh;var eh=cU(()=>{ic=OE(TE(),1);SN();nZ();hQ();DN();Dh();hh();JN();JU();[w4U,n$U]=bZ(hN),[v4U,S4U]=w4U(hN),Wh=ic.forwardRef((U,E)=>{let{__scopeSwitch:u,name:p,checked:z,defaultChecked:c,required:Y,disabled:P,value:n="on",onCheckedChange:j,form:H,...k}=U,[Q,y]=ic.useState(null),r=hc(E,(X)=>y(X)),T=ic.useRef(!1),N=Q?H||!!Q.closest("form"):!0,[O,L]=Jq({prop:z,defaultProp:c??!1,onChange:j,caller:hN});return A(v4U,{scope:u,checked:O,disabled:P,children:[$(oc.button,{type:"button",role:"switch","aria-checked":O,"aria-required":Y,"data-state":ah(O),"data-disabled":P?"":void 0,disabled:P,value:n,...k,ref:r,onClick:k0(U.onClick,(X)=>{if(L((i)=>!i),N){if(T.current=X.isPropagationStopped(),!T.current)X.stopPropagation()}})}),N&&$(Kh,{control:Q,bubbles:!T.current,name:p,value:n,checked:O,required:Y,disabled:P,form:H,style:{transform:"translateX(-100%)"}})]})});Wh.displayName=hN;sh=ic.forwardRef((U,E)=>{let{__scopeSwitch:u,...p}=U,z=S4U(fh,u);return $(oc.span,{"data-state":ah(z.checked),"data-disabled":z.disabled?"":void 0,...p,ref:E})});sh.displayName=fh;Kh=ic.forwardRef(({__scopeSwitch:U,control:E,checked:u,bubbles:p=!0,...z},c)=>{let Y=ic.useRef(null),P=hc(Y,c),n=Rh(u),j=Jh(E);return ic.useEffect(()=>{let H=Y.current;if(!H)return;let k=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(k,"checked").set;if(n!==u&&y){let r=new Event("click",{bubbles:p});y.call(H,u),H.dispatchEvent(r)}},[n,u,p]),$("input",{type:"checkbox","aria-hidden":!0,defaultChecked:u,...z,tabIndex:-1,ref:P,style:{...z.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Kh.displayName=R4U;_h=Wh,gh=sh});function lZ({className:U,size:E="default",...u}){return $(_h,{"data-slot":"switch","data-size":E,className:Ep("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",U),...u,children:$(gh,{"data-slot":"switch-thumb",className:Ep("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var Ch=cU(()=>{eh();qZ();JU()});function Ub({className:U,...E}){return $("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:$("table",{"data-slot":"table",className:Ep("w-full caption-bottom text-sm",U),...E})})}function Eb({className:U,...E}){return $("thead",{"data-slot":"table-header",className:Ep("[&_tr]:border-b",U),...E})}function ub({className:U,...E}){return $("tbody",{"data-slot":"table-body",className:Ep("[&_tr:last-child]:border-0",U),...E})}function $F({className:U,...E}){return $("tr",{"data-slot":"table-row",className:Ep("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",U),...E})}function Q0({className:U,...E}){return $("th",{"data-slot":"table-head",className:Ep("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",U),...E})}function $0({className:U,...E}){return $("td",{"data-slot":"table-cell",className:Ep("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",U),...E})}var pb=cU(()=>{qZ();JU()});var zb={};Pp(zb,{CPU:()=>J4U});function J4U(){let[U,E]=bN.useState({brand:!0,cores:!0,threads:!1,clockSpeed:!0,coreTypes:!0,socket:!0,graphics:!1}),u=(n)=>E((j)=>({...j,[n]:!j[n]})),[p,z]=bN.useState("none"),[c,Y]=bN.useState("Select a control label to see a short description."),P=()=>{let n=[...t4U],j=(k)=>Number(k.replace(/[^0-9.]/g,"")),H=(k)=>parseFloat(k.replace(/[^0-9.]/g,""))||0;switch(p){case"price_asc":n.sort((k,Q)=>j(k.price)-j(Q.price));break;case"price_desc":n.sort((k,Q)=>j(Q.price)-j(k.price));break;case"cores_asc":n.sort((k,Q)=>k.cores-Q.cores);break;case"cores_desc":n.sort((k,Q)=>Q.cores-k.cores);break;case"boost_asc":n.sort((k,Q)=>H(k.boostClock)-H(Q.boostClock));break;case"boost_desc":n.sort((k,Q)=>H(Q.boostClock)-H(k.boostClock));break;case"threads_asc":n.sort((k,Q)=>k.threads-Q.threads);break;case"threads_desc":n.sort((k,Q)=>Q.threads-k.threads);break;case"brand_asc":n.sort((k,Q)=>k.brand.localeCompare(Q.brand));break;case"brand_desc":n.sort((k,Q)=>Q.brand.localeCompare(k.brand));break;case"socket_asc":n.sort((k,Q)=>k.socket.localeCompare(Q.socket));break;case"socket_desc":n.sort((k,Q)=>Q.socket.localeCompare(k.socket));break;case"coreTypes_asc":n.sort((k,Q)=>k.pCores-Q.pCores);break;case"coreTypes_desc":n.sort((k,Q)=>Q.pCores-k.pCores);break;case"graphics_asc":n.sort((k,Q)=>Number(k.igpu)-Number(Q.igpu));break;case"graphics_desc":n.sort((k,Q)=>Number(Q.igpu)-Number(k.igpu));break;case"generation_asc":n.sort((k,Q)=>Number(k.generation)-Number(Q.generation));break;case"generation_desc":n.sort((k,Q)=>Number(Q.generation)-Number(k.generation));break;default:break}return n};return A("section",{id:"cpu",className:"relative flex flex-col p-4 md:p-8 w-full min-h-screen snap-start",children:[A("div",{className:"flex flex-col gap-2 mt-20 mb-8 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"CPUs (Processors)"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"The Brain"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"What to look for when buying a processor. Compare specs, prices, and architecture to find the heart of your next build."})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30 mb-6"}),A("div",{className:"flex flex-row gap-4",children:[A("div",{className:"w-80",children:[A(tU,{children:[$(FE,{children:$(AE,{children:"Compare Specs"})}),A(KU,{className:"space-y-2",children:[A("div",{className:"flex justify-between items-center",children:[A("div",{className:"flex items-center gap-3",children:[$(t4,{className:"w-4 h-4 text-muted-foreground"}),$(fu,{variant:"ghost",size:"sm",onClick:()=>Y("Brand indicates the manufacturer (Intel or AMD). Use this to filter or prioritize vendor-specific features."),children:"Brand Identity"})]}),A("div",{className:"flex justify-between items-center gap-2",children:[$(lZ,{checked:U.brand,onCheckedChange:()=>u("brand")}),$(fu,{size:"sm",variant:"outline",onClick:()=>z("brand_asc"),children:"Sort"})]})]}),A("div",{className:"flex justify-between items-center",children:[A("div",{className:"flex items-center gap-3",children:[$(S0,{className:"w-4 h-4 text-muted-foreground"}),$(fu,{variant:"ghost",size:"sm",onClick:()=>Y("Core count is total physical cores  higher counts help parallel workloads and productivity tasks."),children:"Core Counts"})]}),A("div",{className:"flex items-center gap-2",children:[$(lZ,{checked:U.cores,onCheckedChange:()=>u("cores")}),$(fu,{size:"sm",variant:"outline",onClick:()=>z("cores_desc"),children:"Sort"})]})]}),A("div",{className:"flex justify-between items-center",children:[A("div",{className:"flex items-center gap-3",children:[$(yk,{className:"w-4 h-4 text-muted-foreground"}),$(fu,{variant:"ghost",size:"sm",onClick:()=>Y("Thread count represents logical threads; simultaneous multithreading adds threads per core and improves multitasking."),children:"Thread Count"})]}),A("div",{className:"flex items-center gap-2",children:[$(lZ,{checked:U.threads,onCheckedChange:()=>u("threads")}),$(fu,{size:"sm",variant:"outline",onClick:()=>z("threads_desc"),children:"Sort"})]})]}),A("div",{className:"flex justify-between items-center",children:[A("div",{className:"flex items-center gap-3",children:[$(Ip,{className:"w-4 h-4 text-muted-foreground"}),$(fu,{variant:"ghost",size:"sm",onClick:()=>Y("Clock speeds include base and boost frequencies; single-threaded performance often benefits from higher boost clocks."),children:"Clock Speeds"})]}),A("div",{className:"flex items-center gap-2",children:[$(lZ,{checked:U.clockSpeed,onCheckedChange:()=>u("clockSpeed")}),$(fu,{size:"sm",variant:"outline",onClick:()=>z("boost_desc"),children:"Sort"})]})]}),A("div",{className:"flex justify-between items-center",children:[A("div",{className:"flex items-center gap-3",children:[$(Gk,{className:"w-4 h-4 text-muted-foreground"}),$(fu,{variant:"ghost",size:"sm",onClick:()=>Y("P-Cores (performance) are optimized for single-thread throughput; E-Cores (efficiency) are for background and parallel tasks."),children:"P-Cores / E-Cores"})]}),A("div",{className:"flex items-center gap-2",children:[$(lZ,{checked:U.coreTypes,onCheckedChange:()=>u("coreTypes")}),$(fu,{size:"sm",variant:"outline",onClick:()=>z("coreTypes_desc"),children:"Sort"})]})]}),A("div",{className:"flex justify-between items-center",children:[A("div",{className:"flex items-center gap-3",children:[$(Ej,{className:"w-4 h-4 text-muted-foreground"}),$(fu,{variant:"ghost",size:"sm",onClick:()=>Y("Socket type determines motherboard compatibility  LGA/AM sockets are vendor-specific."),children:"Socket Type"})]}),A("div",{className:"flex items-center gap-2",children:[$(lZ,{checked:U.socket,onCheckedChange:()=>u("socket")}),$(fu,{size:"sm",variant:"outline",onClick:()=>z("socket_desc"),children:"Sort"})]})]}),A("div",{className:"flex justify-between items-center",children:[A("div",{className:"flex items-center gap-3",children:[$(t4,{className:"w-4 h-4 text-muted-foreground"}),$(fu,{variant:"ghost",size:"sm",onClick:()=>Y("Integrated Graphics (iGPU) indicates whether the CPU includes an on-die GPU for display and light graphics workloads."),children:"Integrated Graphics"})]}),A("div",{className:"flex items-center gap-2",children:[$(lZ,{checked:U.graphics,onCheckedChange:()=>u("graphics")}),$(fu,{size:"sm",variant:"outline",onClick:()=>z("graphics_asc"),children:"Sort"})]})]})]}),$(QF,{className:"pt-4 border-t",children:A("a",{href:"https://www.cpubenchmark.net/power_performance.html",target:"_blank",rel:"noreferrer",className:"flex justify-between items-center w-full",children:[A("div",{className:"flex flex-col text-sm",children:[$("span",{className:"opacity-70 font-bold text-xs uppercase",children:"External Data"}),$("span",{className:"font-semibold",children:"Power vs Performance"})]}),$(ZZ,{className:"w-4 h-4 text-muted-foreground"})]})})]}),$("div",{className:"mt-4",children:A(tU,{children:[$(FE,{children:$(AE,{children:"Control Description"})}),$(KU,{children:$("p",{className:"text-muted-foreground text-sm",children:c})})]})})]}),$("div",{className:"flex flex-col lg:col-span-6 h-full",children:A(tU,{className:"flex flex-col flex-1 h-full overflow-hidden",children:[$(KU,{className:"flex-1 p-0 overflow-hidden",children:A(Ub,{children:[$(Eb,{className:"bg-muted text-muted-foreground text-xs uppercase",children:A($F,{children:[$(Q0,{className:"px-4 py-3 font-medium",children:"Model"}),$(Q0,{className:"px-4 py-3 font-medium text-right",children:"Price"}),$(Q0,{className:"px-4 py-3 font-medium text-center",children:"Generation"}),U.brand&&$(Q0,{className:"px-4 py-3 font-medium text-center",children:"Brand"}),U.cores&&$(Q0,{className:"px-4 py-3 font-medium text-center",children:"Cores"}),U.threads&&$(Q0,{className:"px-4 py-3 font-medium text-center",children:"Threads"}),U.clockSpeed&&A(qu,{children:[$(Q0,{className:"px-4 py-3 font-medium text-center",children:"Base Clock"}),$(Q0,{className:"px-4 py-3 font-medium text-primary text-center",children:"Boost"})]}),U.coreTypes&&A(qu,{children:[$(Q0,{className:"px-4 py-3 font-medium text-center",children:"P-Cores"}),$(Q0,{className:"px-4 py-3 font-medium text-center",children:"E-Cores"})]}),U.socket&&$(Q0,{className:"px-4 py-3 font-medium text-center",children:"Socket"}),U.graphics&&$(Q0,{className:"px-4 py-3 font-medium text-center",children:"iGPU"})]})}),$(ub,{className:"divide-y",children:P().map((n)=>A($F,{className:"bg-card hover:bg-muted/30 transition-colors",children:[$($0,{className:"px-4 py-3 font-medium whitespace-nowrap",children:n.model}),$($0,{className:"px-4 py-3 font-bold text-primary text-right",children:n.price}),$($0,{className:"px-4 py-3 text-center",children:n.generation}),U.brand&&$($0,{className:"px-4 py-3 text-center",children:n.brand==="Intel"?$(_E,{variant:"outline",className:"bg-blue-300 border-blue-600 text-blue-600",children:"INTEL"}):$(_E,{variant:"outline",className:"bg-red-300 border-red-600 text-red-600",children:"AMD"})}),U.cores&&$($0,{className:"px-4 py-3 text-muted-foreground text-center",children:n.cores}),U.threads&&$($0,{className:"px-4 py-3 text-muted-foreground text-center",children:n.threads}),U.clockSpeed&&A(qu,{children:[$($0,{className:"px-4 py-3 text-muted-foreground text-center",children:n.baseClock}),$($0,{className:"px-4 py-3 font-semibold text-primary text-center",children:n.boostClock})]}),U.coreTypes&&A(qu,{children:[$($0,{className:"px-4 py-3 text-muted-foreground text-center",children:n.pCores}),$($0,{className:"px-4 py-3 text-muted-foreground text-center",children:n.eCores>0?n.eCores:$("span",{className:"text-muted",children:"-"})})]}),U.socket&&$($0,{className:"px-4 py-3 text-center",children:$(_E,{variant:"outline",children:n.socket})}),U.graphics&&$($0,{className:"px-4 py-3 text-center",children:n.igpu?$(Ej,{className:"mx-auto w-4 h-4 text-primary"}):$(Bk,{className:"mx-auto w-4 h-4 text-muted-foreground"})})]},n.id))})]})}),$(QF,{className:"mt-auto p-4 border-t",children:A("div",{className:"flex items-center gap-2 w-full text-muted-foreground text-xs",children:[$(dk,{className:"w-3 h-3"}),"Ensure your cooling solution matches the TDP of high-core-count models."]})})]})})]}),$(Qj,{label:"cpu"})]})}var bN,t4U;var cb=cU(()=>{bN=OE(TE(),1);y8();Ez();kz();Ch();Qz();t5();pb();vP();JU();t4U=[{id:1,brand:"Intel",model:"Core i9-14900K",price:"$549",cores:24,threads:32,baseClock:"3.2 GHz",boostClock:"6.0 GHz",pCores:8,eCores:16,socket:"LGA1700",igpu:!0,generation:"14"},{id:2,brand:"AMD",model:"Ryzen 9 9950X3D",price:"$599",cores:16,threads:32,baseClock:"4.3 GHz",boostClock:"5.7 GHz",pCores:16,eCores:0,socket:"AM5",igpu:!0,generation:"5"},{id:3,brand:"Intel",model:"Core i7-14700K",price:"$389",cores:20,threads:28,baseClock:"3.4 GHz",boostClock:"5.6 GHz",pCores:8,eCores:12,socket:"LGA1700",igpu:!0,generation:"14"},{id:4,brand:"AMD",model:"Ryzen 7 9800X3D",price:"$369",cores:8,threads:16,baseClock:"4.7 GHz",boostClock:"5.2 GHz",pCores:8,eCores:0,socket:"AM5",igpu:!0,generation:"4"},{id:5,brand:"Intel",model:"Core i5-14600K",price:"$299",cores:14,threads:20,baseClock:"3.5 GHz",boostClock:"5.3 GHz",pCores:6,eCores:8,socket:"LGA1700",igpu:!0,generation:"14"},{id:6,brand:"AMD",model:"Ryzen 5 7600X",price:"$229",cores:6,threads:12,baseClock:"4.7 GHz",boostClock:"5.3 GHz",pCores:6,eCores:0,socket:"AM5",igpu:!0,generation:"6"},{id:7,brand:"Intel",model:"Core i5-13400F",price:"$185",cores:10,threads:16,baseClock:"2.5 GHz",boostClock:"4.6 GHz",pCores:6,eCores:4,socket:"LGA1700",igpu:!1,generation:"13"}]});function yF(U){let E=h4U(U),u=y5.forwardRef((p,z)=>{let{children:c,...Y}=p,P=y5.Children.toArray(c),n=P.find(l4U);if(n){let j=n.props.children,H=P.map((k)=>{if(k===n){if(y5.Children.count(j)>1)return y5.Children.only(null);return y5.isValidElement(j)?j.props.children:null}else return k});return $(E,{...Y,ref:z,children:y5.isValidElement(j)?y5.cloneElement(j,void 0,H):null})}return $(E,{...Y,ref:z,children:c})});return u.displayName=`${U}.Slot`,u}function h4U(U){let E=y5.forwardRef((u,p)=>{let{children:z,...c}=u;if(y5.isValidElement(z)){let Y=W4U(z),P=M4U(c,z.props);if(z.type!==y5.Fragment)P.ref=p?dP(p,Y):Y;return y5.cloneElement(z,P)}return y5.Children.count(z)>1?y5.Children.only(null):null});return E.displayName=`${U}.SlotClone`,E}function l4U(U){return y5.isValidElement(U)&&typeof U.type==="function"&&"__radixId"in U.type&&U.type.__radixId===b4U}function M4U(U,E){let u={...E};for(let p in E){let z=U[p],c=E[p];if(/^on[A-Z]/.test(p)){if(z&&c)u[p]=(...P)=>{let n=c(...P);return z(...P),n};else if(z)u[p]=z}else if(p==="style")u[p]={...z,...c};else if(p==="className")u[p]=[z,c].filter(Boolean).join(" ")}return{...U,...u}}function W4U(U){let E=Object.getOwnPropertyDescriptor(U.props,"ref")?.get,u=E&&"isReactWarning"in E&&E.isReactWarning;if(u)return U.ref;if(E=Object.getOwnPropertyDescriptor(U,"ref")?.get,u=E&&"isReactWarning"in E&&E.isReactWarning,u)return U.props.ref;return U.props.ref||U.ref}var y5,b4U;var Yb=cU(()=>{y5=OE(TE(),1);nZ();JU();b4U=Symbol("radix.slottable")});function Pb(U){let E=U+"CollectionProvider",[u,p]=bZ(E),[z,c]=u(E,{collectionRef:{current:null},itemMap:new Map}),Y=(T)=>{let{scope:N,children:O}=T,L=MZ.default.useRef(null),X=MZ.default.useRef(new Map).current;return $(z,{scope:N,itemMap:X,collectionRef:L,children:O})};Y.displayName=E;let P=U+"CollectionSlot",n=yF(P),j=MZ.default.forwardRef((T,N)=>{let{scope:O,children:L}=T,X=c(P,O),i=hc(N,X.collectionRef);return $(n,{ref:i,children:L})});j.displayName=P;let H=U+"CollectionItemSlot",k="data-radix-collection-item",Q=yF(H),y=MZ.default.forwardRef((T,N)=>{let{scope:O,children:L,...X}=T,i=MZ.default.useRef(null),B=hc(N,i),G=c(H,O);return MZ.default.useEffect(()=>{return G.itemMap.set(i,{ref:i,...X}),()=>void G.itemMap.delete(i)}),$(Q,{...{[k]:""},ref:B,children:L})});y.displayName=H;function r(T){let N=c(U+"CollectionConsumer",T);return MZ.default.useCallback(()=>{let L=N.collectionRef.current;if(!L)return[];let X=Array.from(L.querySelectorAll(`[${k}]`));return Array.from(N.itemMap.values()).sort((G,d)=>X.indexOf(G.ref.current)-X.indexOf(d.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:Y,Slot:j,ItemSlot:y},r,p]}function IF(U,E){if("at"in Array.prototype)return Array.prototype.at.call(U,E);let u=s4U(U,E);return u===-1?void 0:U[u]}function s4U(U,E){let u=U.length,p=xb(E),z=p>=0?p:u+p;return z<0||z>=u?-1:z}function xb(U){return U!==U||U===0?0:Math.trunc(U)}var MZ,f4U,Zb,S$U;var nb=cU(()=>{MZ=OE(TE(),1);hQ();nZ();Yb();JU();f4U=OE(TE(),1);JU();Zb=new WeakMap,S$U=class U extends Map{#U;constructor(E){super(E);this.#U=[...super.keys()],Zb.set(this,!0)}set(E,u){if(Zb.get(this))if(this.has(E))this.#U[this.#U.indexOf(E)]=E;else this.#U.push(E);return super.set(E,u),this}insert(E,u,p){let z=this.has(u),c=this.#U.length,Y=xb(E),P=Y>=0?Y:c+Y,n=P<0||P>=c?-1:P;if(n===this.size||z&&n===this.size-1||n===-1)return this.set(u,p),this;let j=this.size+(z?0:1);if(Y<0)P++;let H=[...this.#U],k,Q=!1;for(let y=P;y<j;y++)if(P===y){let r=H[y];if(H[y]===u)r=H[y+1];if(z)this.delete(u);k=this.get(r),this.set(u,p)}else{if(!Q&&H[y-1]===u)Q=!0;let r=H[Q?y:y-1],T=k;k=this.get(r),this.delete(r),this.set(r,T)}return this}with(E,u,p){let z=new U(this);return z.insert(E,u,p),z}before(E){let u=this.#U.indexOf(E)-1;if(u<0)return;return this.entryAt(u)}setBefore(E,u,p){let z=this.#U.indexOf(E);if(z===-1)return this;return this.insert(z,u,p)}after(E){let u=this.#U.indexOf(E);if(u=u===-1||u===this.size-1?-1:u+1,u===-1)return;return this.entryAt(u)}setAfter(E,u,p){let z=this.#U.indexOf(E);if(z===-1)return this;return this.insert(z+1,u,p)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#U=[],super.clear()}delete(E){let u=super.delete(E);if(u)this.#U.splice(this.#U.indexOf(E),1);return u}deleteAt(E){let u=this.keyAt(E);if(u!==void 0)return this.delete(u);return!1}at(E){let u=IF(this.#U,E);if(u!==void 0)return this.get(u)}entryAt(E){let u=IF(this.#U,E);if(u!==void 0)return[u,this.get(u)]}indexOf(E){return this.#U.indexOf(E)}keyAt(E){return IF(this.#U,E)}from(E,u){let p=this.indexOf(E);if(p===-1)return;let z=p+u;if(z<0)z=0;if(z>=this.size)z=this.size-1;return this.at(z)}keyFrom(E,u){let p=this.indexOf(E);if(p===-1)return;let z=p+u;if(z<0)z=0;if(z>=this.size)z=this.size-1;return this.keyAt(z)}find(E,u){let p=0;for(let z of this){if(Reflect.apply(E,u,[z,p,this]))return z;p++}return}findIndex(E,u){let p=0;for(let z of this){if(Reflect.apply(E,u,[z,p,this]))return p;p++}return-1}filter(E,u){let p=[],z=0;for(let c of this){if(Reflect.apply(E,u,[c,z,this]))p.push(c);z++}return new U(p)}map(E,u){let p=[],z=0;for(let c of this)p.push([c[0],Reflect.apply(E,u,[c,z,this])]),z++;return new U(p)}reduce(...E){let[u,p]=E,z=0,c=p??this.at(0);for(let Y of this){if(z===0&&E.length===1)c=Y;else c=Reflect.apply(u,this,[c,Y,z,this]);z++}return c}reduceRight(...E){let[u,p]=E,z=p??this.at(-1);for(let c=this.size-1;c>=0;c--){let Y=this.at(c);if(c===this.size-1&&E.length===1)z=Y;else z=Reflect.apply(u,this,[z,Y,c,this])}return z}toSorted(E){let u=[...this.entries()].sort(E);return new U(u)}toReversed(){let E=new U;for(let u=this.size-1;u>=0;u--){let p=this.keyAt(u),z=this.get(p);E.set(p,z)}return E}toSpliced(...E){let u=[...this.entries()];return u.splice(...E),new U(u)}slice(E,u){let p=new U,z=this.size-1;if(E===void 0)return p;if(E<0)E=E+this.size;if(u!==void 0&&u>0)z=u-1;for(let c=E;c<=z;c++){let Y=this.keyAt(c),P=this.get(Y);p.set(Y,P)}return p}every(E,u){let p=0;for(let z of this){if(!Reflect.apply(E,u,[z,p,this]))return!1;p++}return!0}some(E,u){let p=0;for(let z of this){if(Reflect.apply(E,u,[z,p,this]))return!0;p++}return!1}}});function lN(U){let[E,u]=OF.useState(K4U());return QY(()=>{if(!U)u((p)=>p??String(a4U++))},[U]),U||(E?`radix-${E}`:"")}var OF,K4U,a4U=0;var NF=cU(()=>{OF=OE(TE(),1);bQ();K4U=OF[" useId ".trim().toString()]||(()=>{return})});function jb(U){let E=hq.useRef(U);return hq.useEffect(()=>{E.current=U}),hq.useMemo(()=>(...u)=>E.current?.(...u),[])}var hq;var qb=cU(()=>{hq=OE(TE(),1)});function WN(U){let E=MN.useContext(_4U);return U||E||"ltr"}var MN,_4U;var rF=cU(()=>{MN=OE(TE(),1);JU();_4U=MN.createContext(void 0)});function zYU(U,E){if(E!=="rtl")return U;return U==="ArrowLeft"?"ArrowRight":U==="ArrowRight"?"ArrowLeft":U}function cYU(U,E,u){let p=zYU(U.key,u);if(E==="vertical"&&["ArrowLeft","ArrowRight"].includes(p))return;if(E==="horizontal"&&["ArrowUp","ArrowDown"].includes(p))return;return pYU[p]}function yb(U,E=!1){let u=document.activeElement;for(let p of U){if(p===u)return;if(p.focus({preventScroll:E}),document.activeElement!==u)return}}function YYU(U,E){return U.map((u,p)=>U[(E+p)%U.length])}var m5,LF="rovingFocusGroup.onEntryFocus",g4U,lQ="RovingFocusGroup",XF,Hb,e4U,C4U,TF,UYU,EYU,kb,uYU,Qb="RovingFocusGroupItem",$b,pYU,Ib,Ob;var oF=cU(()=>{m5=OE(TE(),1);SN();nb();nZ();hQ();NF();JN();qb();DN();rF();JU();g4U={bubbles:!1,cancelable:!0},[XF,Hb,e4U]=Pb(lQ),[C4U,TF]=bZ(lQ,[e4U]),[UYU,EYU]=C4U(lQ),kb=m5.forwardRef((U,E)=>{return $(XF.Provider,{scope:U.__scopeRovingFocusGroup,children:$(XF.Slot,{scope:U.__scopeRovingFocusGroup,children:$(uYU,{...U,ref:E})})})});kb.displayName=lQ;uYU=m5.forwardRef((U,E)=>{let{__scopeRovingFocusGroup:u,orientation:p,loop:z=!1,dir:c,currentTabStopId:Y,defaultCurrentTabStopId:P,onCurrentTabStopIdChange:n,onEntryFocus:j,preventScrollOnEntryFocus:H=!1,...k}=U,Q=m5.useRef(null),y=hc(E,Q),r=WN(c),[T,N]=Jq({prop:Y,defaultProp:P??null,onChange:n,caller:lQ}),[O,L]=m5.useState(!1),X=jb(j),i=Hb(u),B=m5.useRef(!1),[G,d]=m5.useState(0);return m5.useEffect(()=>{let m=Q.current;if(m)return m.addEventListener(LF,X),()=>m.removeEventListener(LF,X)},[X]),$(UYU,{scope:u,orientation:p,dir:r,loop:z,currentTabStopId:T,onItemFocus:m5.useCallback((m)=>N(m),[N]),onItemShiftTab:m5.useCallback(()=>L(!0),[]),onFocusableItemAdd:m5.useCallback(()=>d((m)=>m+1),[]),onFocusableItemRemove:m5.useCallback(()=>d((m)=>m-1),[]),children:$(oc.div,{tabIndex:O||G===0?-1:0,"data-orientation":p,...k,ref:y,style:{outline:"none",...U.style},onMouseDown:k0(U.onMouseDown,()=>{B.current=!0}),onFocus:k0(U.onFocus,(m)=>{let V=!B.current;if(m.target===m.currentTarget&&V&&!O){let w=new CustomEvent(LF,g4U);if(m.currentTarget.dispatchEvent(w),!w.defaultPrevented){let h=i().filter((UU)=>UU.focusable),_=h.find((UU)=>UU.active),f=h.find((UU)=>UU.id===T),uU=[_,f,...h].filter(Boolean).map((UU)=>UU.ref.current);yb(uU,H)}}B.current=!1}),onBlur:k0(U.onBlur,()=>L(!1))})})}),$b=m5.forwardRef((U,E)=>{let{__scopeRovingFocusGroup:u,focusable:p=!0,active:z=!1,tabStopId:c,children:Y,...P}=U,n=lN(),j=c||n,H=EYU(Qb,u),k=H.currentTabStopId===j,Q=Hb(u),{onFocusableItemAdd:y,onFocusableItemRemove:r,currentTabStopId:T}=H;return m5.useEffect(()=>{if(p)return y(),()=>r()},[p,y,r]),$(XF.ItemSlot,{scope:u,id:j,focusable:p,active:z,children:$(oc.span,{tabIndex:k?0:-1,"data-orientation":H.orientation,...P,ref:E,onMouseDown:k0(U.onMouseDown,(N)=>{if(!p)N.preventDefault();else H.onItemFocus(j)}),onFocus:k0(U.onFocus,()=>H.onItemFocus(j)),onKeyDown:k0(U.onKeyDown,(N)=>{if(N.key==="Tab"&&N.shiftKey){H.onItemShiftTab();return}if(N.target!==N.currentTarget)return;let O=cYU(N,H.orientation,H.dir);if(O!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let X=Q().filter((i)=>i.focusable).map((i)=>i.ref.current);if(O==="last")X.reverse();else if(O==="prev"||O==="next"){if(O==="prev")X.reverse();let i=X.indexOf(N.currentTarget);X=H.loop?YYU(X,i+1):X.slice(i+1)}setTimeout(()=>yb(X))}}),children:typeof Y==="function"?Y({isCurrentTabStop:k,hasTabStop:T!=null}):Y})})});$b.displayName=Qb;pYU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};Ib=kb,Ob=$b});function PYU(U,E){return Nb.useReducer((u,p)=>{return E[u][p]??u},U)}function xYU(U){let[E,u]=Dz.useState(),p=Dz.useRef(null),z=Dz.useRef(U),c=Dz.useRef("none"),Y=U?"mounted":"unmounted",[P,n]=PYU(Y,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Dz.useEffect(()=>{let j=fN(p.current);c.current=P==="mounted"?j:"none"},[P]),QY(()=>{let j=p.current,H=z.current;if(H!==U){let Q=c.current,y=fN(j);if(U)n("MOUNT");else if(y==="none"||j?.display==="none")n("UNMOUNT");else if(H&&Q!==y)n("ANIMATION_OUT");else n("UNMOUNT");z.current=U}},[U,n]),QY(()=>{if(E){let j,H=E.ownerDocument.defaultView??window,k=(y)=>{let T=fN(p.current).includes(CSS.escape(y.animationName));if(y.target===E&&T){if(n("ANIMATION_END"),!z.current){let N=E.style.animationFillMode;E.style.animationFillMode="forwards",j=H.setTimeout(()=>{if(E.style.animationFillMode==="forwards")E.style.animationFillMode=N})}}},Q=(y)=>{if(y.target===E)c.current=fN(p.current)};return E.addEventListener("animationstart",Q),E.addEventListener("animationcancel",k),E.addEventListener("animationend",k),()=>{H.clearTimeout(j),E.removeEventListener("animationstart",Q),E.removeEventListener("animationcancel",k),E.removeEventListener("animationend",k)}}else n("ANIMATION_END")},[E,n]),{isPresent:["mounted","unmountSuspended"].includes(P),ref:Dz.useCallback((j)=>{p.current=j?getComputedStyle(j):null,u(j)},[])}}function fN(U){return U?.animationName||"none"}function nYU(U){let E=Object.getOwnPropertyDescriptor(U.props,"ref")?.get,u=E&&"isReactWarning"in E&&E.isReactWarning;if(u)return U.ref;if(E=Object.getOwnPropertyDescriptor(U,"ref")?.get,u=E&&"isReactWarning"in E&&E.isReactWarning,u)return U.props.ref;return U.props.ref||U.ref}var Dz,Nb,iF=(U)=>{let{present:E,children:u}=U,p=xYU(E),z=typeof u==="function"?u({present:p.isPresent}):Dz.Children.only(u),c=hc(p.ref,nYU(z));return typeof u==="function"||p.isPresent?Dz.cloneElement(z,{ref:c}):null};var rb=cU(()=>{Dz=OE(TE(),1);nZ();bQ();Nb=OE(TE(),1);iF.displayName="Presence"});function Vb(U,E){return`${U}-trigger-${E}`}function Gb(U,E){return`${U}-content-${E}`}var $Y,sN="Tabs",jYU,qyU,Lb,qYU,FF,Xb,Tb="TabsList",ob,ib="TabsTrigger",Fb,Ab="TabsContent",mb,Bb,db,wb,vb;var Sb=cU(()=>{$Y=OE(TE(),1);SN();hQ();oF();rb();JN();oF();rF();DN();NF();JU();[jYU,qyU]=bZ(sN,[TF]),Lb=TF(),[qYU,FF]=jYU(sN),Xb=$Y.forwardRef((U,E)=>{let{__scopeTabs:u,value:p,onValueChange:z,defaultValue:c,orientation:Y="horizontal",dir:P,activationMode:n="automatic",...j}=U,H=WN(P),[k,Q]=Jq({prop:p,onChange:z,defaultProp:c??"",caller:sN});return $(qYU,{scope:u,baseId:lN(),value:k,onValueChange:Q,orientation:Y,dir:H,activationMode:n,children:$(oc.div,{dir:H,"data-orientation":Y,...j,ref:E})})});Xb.displayName=sN;ob=$Y.forwardRef((U,E)=>{let{__scopeTabs:u,loop:p=!0,...z}=U,c=FF(Tb,u),Y=Lb(u);return $(Ib,{asChild:!0,...Y,orientation:c.orientation,dir:c.dir,loop:p,children:$(oc.div,{role:"tablist","aria-orientation":c.orientation,...z,ref:E})})});ob.displayName=Tb;Fb=$Y.forwardRef((U,E)=>{let{__scopeTabs:u,value:p,disabled:z=!1,...c}=U,Y=FF(ib,u),P=Lb(u),n=Vb(Y.baseId,p),j=Gb(Y.baseId,p),H=p===Y.value;return $(Ob,{asChild:!0,...P,focusable:!z,active:H,children:$(oc.button,{type:"button",role:"tab","aria-selected":H,"aria-controls":j,"data-state":H?"active":"inactive","data-disabled":z?"":void 0,disabled:z,id:n,...c,ref:E,onMouseDown:k0(U.onMouseDown,(k)=>{if(!z&&k.button===0&&k.ctrlKey===!1)Y.onValueChange(p);else k.preventDefault()}),onKeyDown:k0(U.onKeyDown,(k)=>{if([" ","Enter"].includes(k.key))Y.onValueChange(p)}),onFocus:k0(U.onFocus,()=>{let k=Y.activationMode!=="manual";if(!H&&!z&&k)Y.onValueChange(p)})})})});Fb.displayName=ib;mb=$Y.forwardRef((U,E)=>{let{__scopeTabs:u,value:p,forceMount:z,children:c,...Y}=U,P=FF(Ab,u),n=Vb(P.baseId,p),j=Gb(P.baseId,p),H=p===P.value,k=$Y.useRef(H);return $Y.useEffect(()=>{let Q=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(Q)},[]),$(iF,{present:z||H,children:({present:Q})=>$(oc.div,{"data-state":H?"active":"inactive","data-orientation":P.orientation,role:"tabpanel","aria-labelledby":n,hidden:!Q,id:j,tabIndex:0,...Y,ref:E,style:{...U.style,animationDuration:k.current?"0s":void 0},children:Q&&c})})});mb.displayName=Ab;Bb=Xb,db=ob,wb=Fb,vb=mb});function Y4({className:U,orientation:E="horizontal",...u}){return $(Bb,{"data-slot":"tabs","data-orientation":E,orientation:E,className:Ep("group/tabs flex gap-2 data-[orientation=horizontal]:flex-col",U),...u})}function Z4({className:U,variant:E="default",...u}){return $(db,{"data-slot":"tabs-list","data-variant":E,className:Ep(kYU({variant:E}),U),...u})}function e0({className:U,...E}){return $(wb,{"data-slot":"tabs-trigger",className:Ep("focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:border-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent","data-[state=active]:bg-background dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 data-[state=active]:text-foreground","after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100",U),...E})}function Zp({className:U,...E}){return $(vb,{"data-slot":"tabs-content",className:Ep("flex-1 outline-none",U),...E})}var kYU;var bq=cU(()=>{Sb();k8();qZ();JU();kYU=jj("rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",{variants:{variant:{default:"bg-muted",line:"gap-1 bg-transparent"}},defaultVariants:{variant:"default"}})});var Db="./GPU-Dimensions-Case-Clearance-4z0p15mq.webp";var Rb=()=>{};var Jb="./vertical_gpu_slot-bxsaq71b.jpg";var tb=()=>{};var bb="./generations2-6gef4s7d.webp";var hb=()=>{};var Mb="./5090-m38d1cj4.webp";var lb=()=>{};var fb={};Pp(fb,{GPU:()=>OYU});function OYU(){let[U,E]=Wb.useState("guide"),u={guide:{name:"Buying Guide",icon:GP,color:"from-[var(--color-purple-2)] to-[var(--color-purple-3)]",accentColor:"var(--color-purple-3)"},specs:{name:"Key Specs",icon:S0,color:"from-[var(--color-magenta-2)] to-[var(--color-red-2)]",accentColor:"var(--color-magenta-2)"},power:{name:"Power & PCIe",icon:Ip,color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)"},dimensions:{name:"Size & Mounting",icon:Yj,color:"from-[var(--color-purple-4)] to-[var(--color-magenta-2)]",accentColor:"var(--color-purple-4)"},tiers:{name:"GPU Tiers",icon:B0,color:"from-[var(--color-red-3)] to-[var(--color-red-4)]",accentColor:"var(--color-red-3)"}},p=[{icon:S0,title:"VRAM (Video Memory)",description:"More VRAM = higher resolutions & textures. 8GB minimum for 1080p, 12GB for 1440p, 16GB+ for 4K or content creation. VRAM type matters: GDDR6X > GDDR6.",examples:"RTX 5060: 8GB, RTX 5070 Ti: 12GB, RTX 5090: 24GB"},{icon:p5,title:"AI Upscaling",description:"DLSS, nvidia's AI upscaling tech, is only available on nvidia graphics cards. Look for DLSS 3 support in nvidia cards for best results.",examples:"DLSS, Frame Generation, AMD FidelityFX Super Resolution"},{icon:Ip,title:"Power Requirements",description:"Check TDP (Thermal Design Power) and real-world power consumption. High-end GPUs can spike 50-100W above TDP. Factor into PSU calculations.",examples:"RTX 5060: 115W, RTX 5080: 320W, RTX 5090: 450W"},{icon:ok,title:"Cooler Design",description:"Larger card, often provide better cooling and lower noise. Consider case airflow and ambient temps.",examples:"look for graphics card slot height"},{icon:Tk,title:"Brands",description:"Brands are the biggest impact for gpu quality and pricing",examples:"Asus > MSI > Gigabyte > Zotac"}],z=[{generation:"PCIe 3.0",bandwidth:"~16 GB/s",notes:"Older standard. May bottleneck high-end GPUs slightly (5-10% loss)."},{generation:"PCIe 4.0",bandwidth:"~32 GB/s",notes:"Current standard. Sufficient for all GPUs including RTX 5090."},{generation:"PCIe 5.0",bandwidth:"~64 GB/s",notes:"RTX 50 series supports it but doesn't fully utilize it yet. Future-proofing."}],c={nvidia:[{tier:"Entry",models:["RTX 5060","RTX 5060 Ti 8GB"],vram:"8GB"},{tier:"Mid-Range",models:["RTX 5060 Ti 16GB","RTX 5070","RTX 5070 Super"],vram:"12-16GB"},{tier:"High-End",models:["RTX 5070 Ti","RTX 5070 Ti Super","RTX 5080","RTX 5080 Super"],vram:"12-16GB"},{tier:"Enthusiast",models:["RTX 5090"],vram:"24GB"}],amd:[{tier:"Entry",models:["RX 7600","RX 7600 XT"],vram:"8-16GB"},{tier:"Mid-Range",models:["RX 7700 XT","RX 7800 XT"],vram:"12-16GB"},{tier:"High-End",models:["RX 7900 GRE","RX 7900 XT","RX 7900 XTX"],vram:"16-24GB"}],intel:[{tier:"Entry",models:["Arc A580","Arc A750"],vram:"8GB"},{tier:"Mid-Range",models:["Arc A770 8GB","Arc A770 16GB"],vram:"8-16GB"}]},Y={nvidia50:["RTX 5050","RTX 5060","RTX 5060 Ti","RTX 5070","RTX 5070 Ti","RTX 5080","RTX 5080 Ti","RTX 5090","RTX 5090 Ti"],amd6000:["RX 6500 XT","RX 6600","RX 6600 XT","RX 6650 XT","RX 6700 XT","RX 6750 XT","RX 6800","RX 6800 XT","RX 6900 XT","RX 6950 XT"]};return A("section",{id:"gpu",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/3 absolute bg-[var(--color-purple-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"right-1/3 bottom-1/4 absolute bg-[var(--color-red-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Graphics Cards"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"Performance Powerhouse"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Choosing the right GPU for your resolution, performance targets, and budget"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),A(Y4,{value:U,onValueChange:E,className:"flex flex-col flex-1 min-h-0",children:[$(Z4,{className:"grid grid-cols-5 bg-[var(--gray-6)] border border-[var(--gray-5)] w-full h-12",children:Object.entries(u).map(([P,n])=>{let j=n.icon;return A(e0,{value:P,className:"data-[state=active]:bg-gradient-to-r data-[state=active]:text-white text-xs transition-all duration-300",style:{["--tw-gradient-from"]:n.accentColor,["--tw-gradient-to"]:n.accentColor},children:[$(j,{className:"mr-1 w-4 h-4"}),n.name]},P)})}),$(Zp,{value:"guide",className:"flex-1 mt-6 min-h-0 overflow-hidden",children:A("div",{className:"flex gap-4 h-full",children:[$("div",{className:"w-2/3",children:A(tU,{className:"flex flex-col border-[var(--gray-5)] border-2 h-full overflow-hidden",children:[$(FE,{className:"flex-shrink-0 pb-3",children:A("div",{className:"flex justify-between items-start",children:[A("div",{children:[A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"bg-[var(--corp-purple)] rounded-full w-2 h-2 animate-pulse"}),"Tom's Hardware GPU Buying Guide"]}),$(iu,{className:"mt-1 text-xs",children:"Comprehensive reviews and recommendations"})]}),$(_E,{variant:"outline",className:"text-xs",children:"Interactive"})]})}),$(KU,{className:"flex-1 p-0 min-h-0",children:A("div",{className:"relative p-0 w-full h-full overflow-hidden",children:[$("img",{src:Mb,alt:"GPU 5090 background",className:"absolute inset-0 w-300 h-full object-cover pointer-events-none"}),$("a",{href:"https://www.tomshardware.com/reviews/gpu-buying-guide,5844.html",target:"_blank",rel:"noopener noreferrer",className:"inline-block right-4 bottom-4 z-10 absolute bg-[var(--color-purple-3)] hover:opacity-90 shadow-lg px-4 py-2 rounded-md text-white",children:"Open Tom's Hardware GPU Buying Guide"})]})})]})}),$("div",{className:"w-1/3",children:A(tU,{className:"flex flex-col bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"flex-shrink-0 pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-purple-3)] rounded-full w-2 h-2"}),"Generational Comparison"]}),$(iu,{className:"text-xs",children:"Performance improvements by generation"})]}),$(KU,{className:"flex-1 p-2 min-h-0 overflow-hidden",children:$("div",{className:"flex justify-center items-center bg-white border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:bb,alt:"GPU generational performance comparison",className:"p-2 w-full h-full object-contain",onError:(P)=>{P.currentTarget.style.display="none"}})})})]})})]})}),A(Zp,{value:"specs",className:"flex flex-col flex-1 gap-4 mt-6 pr-2 min-h-0 overflow-y-auto custom-scrollbar",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-magenta-2)] rounded-full w-2 h-2"}),"Critical GPU Specifications"]})}),$(KU,{className:"space-y-2",children:p.map((P,n)=>{let j=P.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-3 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-md transition-all duration-200",children:[$("div",{className:"flex flex-shrink-0 justify-center items-center bg-gradient-to-br from-[var(--color-magenta-2)] to-[var(--color-red-2)] shadow rounded-md w-10 h-10 group-hover:scale-105 transition-transform duration-200",children:$(j,{className:"w-5 h-5 text-white"})}),A("div",{className:"flex-1 space-y-1 min-w-0",children:[$("h4",{className:"font-semibold group-hover:text-[var(--color-purple-3)] text-sm transition-colors",children:P.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:P.description}),$("div",{className:"pt-1",children:$(_E,{variant:"outline",className:"font-mono text-xs",children:P.examples})})]})]},n)})})]}),$(tU,{className:"bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] border-[var(--color-magenta-2)]/40 border-2",children:$(KU,{className:"p-4",children:A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," Don't just look at VRAM amountbandwidth matters too. GDDR6X (4080/4090) has higher bandwidth than GDDR6, improving performance at high resolutions."]})})})]}),A(Zp,{value:"power",className:"flex flex-col flex-1 gap-2 mt-4 pr-2 min-h-0 overflow-y-auto custom-scrollbar",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-1",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$(Ip,{className:"w-4 h-4",style:{color:"var(--color-red-3)"}}),"Power Connectors"]})}),$(KU,{className:"space-y-2",children:A("div",{className:"gap-2 grid grid-cols-3",children:[A("div",{className:"bg-[var(--color-purple-7)] p-2 border border-[var(--color-purple-3)]/30 rounded-lg",children:[$("p",{className:"mb-1 font-semibold text-[var(--color-purple-2)] text-sm",children:"Low-End Cards (No Cables)"}),$("p",{className:"mb-1 text-[var(--gray-2)] text-xs",children:"Entry-level GPUs (75W or less) draw power entirely from PCIe slot. No additional cables needed."}),$("p",{className:"text-[var(--gray-3)] text-xs",children:"Examples: GTX 1650, RTX 4060 (some models), Arc A380"})]}),A("div",{className:"bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] rounded-lg",children:[$("p",{className:"mb-1 font-semibold text-sm",children:"Standard Cards (6/8-pin)"}),$("p",{className:"mb-1 text-[var(--gray-3)] text-xs",children:"Most mid-range GPUs use one or two 6-pin or 8-pin PCIe connectors."}),$("p",{className:"text-[var(--gray-3)] text-xs",children:"Examples: RTX 4060 Ti, RTX 4070, RX 7800 XT"})]}),A("div",{className:"bg-[var(--color-red-7)] p-2 border border-[var(--color-red-3)]/30 rounded-lg",children:[$("p",{className:"mb-1 font-semibold text-[var(--color-red-2)] text-sm",children:"High-End (12VHPWR)"}),$("p",{className:"mb-1 text-[var(--gray-2)] text-xs",children:"High-end cards use new 12VHPWR connector. Requires ATX 3.0 PSU or adapter."}),$("p",{className:"text-[var(--gray-3)] text-xs",children:"Examples: high-end models"})]})]})})]}),A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-1",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$(S0,{className:"w-4 h-4",style:{color:"var(--color-red-3)"}}),"PCIe Generations"]})}),$(KU,{children:$("div",{className:"flex flex-row gap-2 space-y-2",children:z.map((P,n)=>$("div",{className:"flex-1 items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] rounded-lg h-20",children:A("div",{className:"",children:[A("div",{className:"flex justify-between items-center mb-1",children:[$("p",{className:"font-semibold text-sm",children:P.generation}),$(_E,{variant:"outline",className:"font-mono text-xs",children:P.bandwidth})]}),$("p",{className:"text-[var(--gray-3)] text-xs",children:P.notes})]})},n))})})]}),$(tU,{className:"bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] border-[var(--color-red-3)]/40 border-2",children:$(KU,{className:"p-2",children:A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," RTX 50 series supports PCIe 5.0 but doesn't fully utilize it yet. PCIe 4.0 is sufficient for current GPUsdon't overpay for 5.0 support."]})})})]}),A(Zp,{value:"dimensions",className:"flex flex-1 gap-4 mt-6 min-h-0",children:[$("div",{className:"w-1/2",children:A(tU,{className:"flex flex-col bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"flex-shrink-0 pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$(Yj,{className:"w-4 h-4",style:{color:"var(--color-purple-4)"}}),"GPU Dimensions"]}),$(iu,{className:"text-xs",children:"Check case clearance before buying"})]}),$(KU,{className:"flex-1 p-2 min-h-0 overflow-hidden",children:$("div",{className:"flex justify-center items-center bg-white border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:Db,alt:"GPU dimension diagram showing length, height, and slots",className:"p-2 w-full h-full object-contain",onError:(P)=>{P.currentTarget.style.display="none"}})})}),A("div",{className:"bg-[var(--gray-6)]/30 p-3 border-[var(--gray-5)] border-t text-xs",children:[$("p",{className:"mb-2 text-[var(--gray-3)] leading-tight",children:$("strong",{children:"Key measurements:"})}),A("ul",{className:"space-y-0.5 text-[var(--gray-3)]",children:[$("li",{children:" Length: 250-350mm typical (check case clearance)"}),$("li",{children:" Height: 2-3.5 slot (affects adjacent PCIe slots)"}),$("li",{children:" Thickness: Standard vs wide cooler designs"})]})]})]})}),$("div",{className:"w-1/2",children:A(tU,{className:"flex flex-col bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"flex-shrink-0 pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$(ik,{className:"w-4 h-4",style:{color:"var(--color-purple-4)"}}),"Vertical GPU Mounting"]}),$(iu,{className:"text-xs",children:"Showcase your GPU with vertical brackets"})]}),$(KU,{className:"flex-1 p-2 min-h-0 overflow-hidden",children:$("div",{className:"flex justify-center items-center bg-white border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:Jb,alt:"Vertical GPU mounting bracket example",className:"p-2 w-full h-full object-contain",onError:(P)=>{P.currentTarget.style.display="none"}})})}),A("div",{className:"bg-[var(--gray-6)]/30 p-3 border-[var(--gray-5)] border-t text-xs",children:[$("p",{className:"mb-2 text-[var(--gray-3)] leading-tight",children:$("strong",{children:"Considerations:"})}),A("ul",{className:"space-y-0.5 text-[var(--gray-3)]",children:[$("li",{children:" Requires PCIe riser cable (check Gen 3/4 support)"}),$("li",{children:" May block case fans or reduce airflow"}),$("li",{children:" Shows off GPU backplate & RGB lighting"}),$("li",{children:" Check case compatibility before buying"})]})]})]})})]}),$(Zp,{value:"tiers",className:"flex flex-col flex-1 gap-4 mt-6 pr-2 min-h-0 overflow-y-auto custom-scrollbar",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[A(FE,{className:"pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--gray-4)] rounded-full w-2 h-2"}),"Reference GPUs"]}),$(iu,{className:"text-xs",children:"RTX 50 series (NVIDIA) / RX 7000/6000 series (AMD) / Intel Arc"}),A("div",{className:"flex items-center gap-2 text-[var(--gray-3)] text-xs",children:[$(FP,{className:"w-4 h-4"}),$("span",{children:"is better"})]})]}),A(KU,{className:"space-y-4",children:[A("div",{children:[$(_E,{className:"bg-green-600 mb-2 text-white",children:"NVIDIA RTX 50"}),$("div",{className:"flex flex-wrap gap-1",children:c.nvidia.flatMap((P)=>P.models).map((P,n)=>$(_E,{variant:"secondary",className:"text-xs",children:P},n))})]}),A("div",{children:[$(_E,{className:"bg-red-600 mb-2 text-white",children:"AMD Radeon RX 7000"}),$("div",{className:"flex flex-wrap gap-1",children:c.amd.flatMap((P)=>P.models).map((P,n)=>$(_E,{variant:"secondary",className:"text-xs",children:P},n))})]}),A("div",{children:[$(_E,{className:"bg-blue-600 mb-2 text-white",children:"Intel Arc"}),$("div",{className:"flex flex-wrap gap-1",children:c.intel.flatMap((P)=>P.models).map((P,n)=>$(_E,{variant:"secondary",className:"text-xs",children:P},n))})]})]})]})})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-purple-3), var(--color-red-3));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-purple-4), var(--color-red-4));
        }
      `})]})}var Wb;var sb=cU(()=>{Wb=OE(TE(),1);Ez();kz();Qz();bq();t5();Rb();tb();hb();lb();JU()});var ab="./ram_slots-595debsh.webp";var Kb=()=>{};var gb={};Pp(gb,{RAM:()=>rYU});function rYU(){let[U,E]=_b.useState("comparison"),u={comparison:{name:"DDR4 vs DDR5",icon:Ak,color:"from-[var(--color-purple-2)] to-[var(--color-purple-3)]",accentColor:"var(--color-purple-3)"},timings:{name:"Speed & Timings",icon:nj,color:"from-[var(--color-magenta-2)] to-[var(--color-red-2)]",accentColor:"var(--color-magenta-2)"},xmp:{name:"XMP Profiles",icon:Ip,color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)"},configuration:{name:"Configuration",icon:Pc,color:"from-[var(--color-purple-4)] to-[var(--color-magenta-2)]",accentColor:"var(--color-purple-4)"},placement:{name:"Slot Placement",icon:cj,color:"from-[var(--color-red-3)] to-[var(--color-red-4)]",accentColor:"var(--color-red-3)"}},p=[{type:"DDR4",generations:"Intel 6th-14th Gen, AMD Ryzen 1000-5000",speeds:"2133-3600 MHz (common)",typicalSpeed:"DDR4-3200",timings:"CL14-CL18",voltage:"1.2V - 1.35V",pros:["Mature & stable","Lower cost","Wide availability","Proven compatibility"],cons:["Lower bandwidth","Legacy platform","Lower capacity modules"]},{type:"DDR5",generations:"Intel 12th Gen+, AMD Ryzen 7000+",speeds:"4800-8000 MHz (common)",typicalSpeed:"DDR5-6000",timings:"CL30-CL40",voltage:"1.1V - 1.35V",pros:["Higher bandwidth","Future-proof","Higher capacity","On-die ECC"],cons:["Higher cost","Looser timings","4-stick stability issues"]}],z=[{term:"CL (CAS Latency)",description:"Number of clock cycles between memory request and data availability. Lower = faster. Example: CL16 @ 3200MHz  CL32 @ 6400MHz in real latency."},{term:"tRCD",description:"RAS to CAS delay. Time between row activation and column access. Part of primary timings (e.g., 16-18-18-38)."},{term:"tRP",description:"Row Precharge time. Time to close one row and open another. Affects random access performance."},{term:"MHz vs MT/s",description:'DDR = Double Data Rate. DDR4-3200 transfers data at 3200 MT/s but runs at 1600 MHz. Marketing uses MT/s as "MHz".'}];return A("section",{id:"ram",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/3 absolute bg-[var(--color-purple-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"right-1/3 bottom-1/4 absolute bg-[var(--color-red-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Memory (RAM)"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"Speed & Capacity"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Understanding DDR generations, speeds, timings, and optimal configurations"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),A(Y4,{value:U,onValueChange:E,className:"flex flex-col flex-1 min-h-0",children:[$(Z4,{className:"grid grid-cols-5 bg-[var(--gray-6)] border border-[var(--gray-5)] w-full h-12",children:Object.entries(u).map(([c,Y])=>{let P=Y.icon;return A(e0,{value:c,className:"data-[state=active]:bg-gradient-to-r data-[state=active]:text-white text-xs transition-all duration-300",style:{["--tw-gradient-from"]:Y.accentColor,["--tw-gradient-to"]:Y.accentColor},children:[$(P,{className:"mr-1 w-4 h-4"}),Y.name]},c)})}),$(Zp,{value:"comparison",className:"flex flex-1 gap-4 mt-6 min-h-0",children:$("div",{className:"flex flex-col flex-1 gap-3 pr-2 overflow-y-auto custom-scrollbar",children:p.map((c,Y)=>A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[A(FE,{className:"pb-2",children:[A("div",{className:"flex justify-between items-center",children:[$(AE,{className:"text-lg",children:c.type}),$(_E,{className:"font-mono text-xs",children:c.typicalSpeed})]}),$(iu,{className:"text-xs",children:c.generations})]}),A(KU,{className:"space-y-3",children:[A("div",{className:"gap-3 grid grid-cols-3 text-xs",children:[A("div",{children:[$("p",{className:"mb-0.5 text-[var(--gray-3)]",children:"Speed Range"}),$("p",{className:"font-mono font-semibold",children:c.speeds})]}),A("div",{children:[$("p",{className:"mb-0.5 text-[var(--gray-3)]",children:"Typical Timings"}),$("p",{className:"font-mono font-semibold",children:c.timings})]}),A("div",{children:[$("p",{className:"mb-0.5 text-[var(--gray-3)]",children:"Voltage"}),$("p",{className:"font-mono font-semibold",children:c.voltage})]})]}),$(Ku,{className:"bg-[var(--gray-5)]"}),A("div",{className:"gap-3 grid grid-cols-2",children:[A("div",{children:[$("p",{className:"mb-1 font-semibold text-[var(--gray-3)] text-xs",children:"Advantages"}),$("div",{className:"space-y-0.5",children:c.pros.map((P,n)=>A("div",{className:"flex items-start gap-1 text-xs",children:[$("span",{className:"mt-0.5 text-green-500",children:""}),$("span",{children:P})]},n))})]}),A("div",{children:[$("p",{className:"mb-1 font-semibold text-[var(--gray-3)] text-xs",children:"Drawbacks"}),$("div",{className:"space-y-0.5",children:c.cons.map((P,n)=>A("div",{className:"flex items-start gap-1 text-[var(--gray-3)] text-xs",children:[$("span",{className:"mt-0.5 text-orange-400",children:""}),$("span",{children:P})]},n))})]})]})]})]},Y))})}),A(Zp,{value:"timings",className:"flex flex-col flex-1 gap-4 mt-6 pr-2 min-h-0 overflow-y-auto custom-scrollbar",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-magenta-2)] rounded-full w-2 h-2"}),"Understanding RAM Specifications"]})}),$(KU,{className:"space-y-2",children:z.map((c,Y)=>$("div",{className:"bg-[var(--gray-6)]/30 p-3 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-lg transition-all duration-200",children:A("div",{className:"flex items-start gap-2",children:[$(_E,{variant:"outline",className:"flex-shrink-0 font-mono text-xs",children:c.term}),$("p",{className:"flex-1 text-[var(--gray-3)] text-xs leading-tight",children:c.description})]})},Y))})]}),A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-magenta-2)] rounded-full w-2 h-2"}),"Reading RAM Specifications"]})}),$(KU,{children:$("div",{className:"space-y-3",children:A("div",{className:"bg-[var(--gray-6)]/50 p-4 border-[var(--color-purple-3)]/30 border-2 rounded-lg",children:[$("p",{className:"mb-2 font-mono font-bold text-lg",children:"DDR5-6000 CL30-36-36-76"}),A("div",{className:"gap-x-4 gap-y-2 grid grid-cols-2 text-xs",children:[A("div",{className:"flex gap-2",children:[$("span",{className:"font-semibold text-[var(--color-purple-3)]",children:"DDR5-6000"}),$("span",{className:"text-[var(--gray-3)]",children:" 6000 MT/s transfer rate"})]}),A("div",{className:"flex gap-2",children:[$("span",{className:"font-semibold text-[var(--color-magenta-2)]",children:"CL30"}),$("span",{className:"text-[var(--gray-3)]",children:" CAS Latency (primary)"})]}),A("div",{className:"flex gap-2",children:[$("span",{className:"font-semibold text-[var(--color-red-2)]",children:"36-36-76"}),$("span",{className:"text-[var(--gray-3)]",children:" tRCD-tRP-tRAS timings"})]})]})]})})})]}),$(tU,{className:"bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] border-[var(--color-magenta-2)]/40 border-2",children:$(KU,{className:"p-4",children:A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," For DDR5, prioritize speed (6000+ MT/s) over tight timings. Real-world difference between CL30 and CL36 is minimal at high speeds."]})})})]}),A(Zp,{value:"xmp",className:"flex flex-col flex-1 gap-4 mt-6 pr-2 min-h-0 overflow-y-auto custom-scrollbar",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$(Ip,{className:"w-4 h-4",style:{color:"var(--color-red-3)"}}),"What is XMP/EXPO?"]})}),$(KU,{className:"space-y-3",children:A("div",{className:"space-y-2 text-xs",children:[A("p",{className:"text-[var(--gray-2)] leading-relaxed",children:[$("strong",{children:"XMP (Intel)"})," and ",$("strong",{children:"EXPO (AMD)"})," are pre-configured overclocking profiles stored on RAM modules. RAM runs at JEDEC standard (slow) speeds by defaultXMP/EXPO unlocks advertised performance."]}),A("div",{className:"gap-3 grid grid-cols-2",children:[A("div",{className:"bg-[var(--gray-6)]/30 p-3 border border-[var(--gray-5)] rounded-lg",children:[$("p",{className:"mb-1 font-semibold",children:"Without XMP/EXPO"}),$("p",{className:"text-[var(--gray-3)]",children:"DDR5-6000 kit runs at 4800 MT/s (JEDEC default)"})]}),A("div",{className:"bg-[var(--color-purple-7)] p-3 border border-[var(--color-purple-3)]/30 rounded-lg",children:[$("p",{className:"mb-1 font-semibold text-[var(--color-purple-2)]",children:"With XMP/EXPO Enabled"}),$("p",{className:"text-[var(--gray-3)]",children:"Runs at full 6000 MT/s with optimized timings"})]})]})]})})]}),A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$(Pc,{className:"w-4 h-4",style:{color:"var(--color-red-3)"}}),"How to Enable XMP/EXPO"]})}),$(KU,{children:$("div",{className:"space-y-2",children:[{step:"1",text:"Enter BIOS/UEFI (press DEL or F2 during boot)"},{step:"2",text:"Navigate to overclocking or AI Tweaker section"},{step:"3",text:'Find "XMP" (Intel) or "EXPO" (AMD) setting'},{step:"4",text:'Enable XMP/EXPO (may show as "Profile 1" or "Profile 2")'},{step:"5",text:"Save settings and exit (F10)"},{step:"6",text:"Verify in Windows: Task Manager  Performance  Memory"}].map((c,Y)=>A("div",{className:"flex items-start gap-3 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] rounded-lg",children:[$("div",{className:"flex flex-shrink-0 justify-center items-center bg-gradient-to-br from-[var(--color-red-2)] to-[var(--color-red-3)] rounded-full w-6 h-6",children:$("span",{className:"font-bold text-white text-xs",children:c.step})}),$("p",{className:"flex-1 pt-0.5 text-xs",children:c.text})]},Y))})})]}),$(tU,{className:"bg-[var(--color-red-7)] border-[var(--color-red-3)]/30 border-2",children:$(KU,{className:"p-4",children:A("div",{className:"flex items-start gap-2",children:[$(i5,{className:"flex-shrink-0 mt-0.5 w-4 h-4 text-[var(--color-red-2)]"}),A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:[$("strong",{children:"Important:"})," XMP/EXPO is technically overclocking. If system becomes unstable, disable XMP or try lower profile. DDR5 may require manual tuning for full stability."]})]})})})]}),A(Zp,{value:"configuration",className:"flex flex-col flex-1 gap-4 mt-6 pr-2 min-h-0 overflow-y-auto custom-scrollbar",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$(Pc,{className:"w-4 h-4",style:{color:"var(--color-purple-4)"}}),"2 Sticks vs 4 Sticks (Critical for DDR5)"]})}),A(KU,{className:"space-y-3",children:[$("div",{className:"bg-[var(--color-red-7)] p-4 border-[var(--color-red-3)]/40 border-2 rounded-lg",children:A("div",{className:"flex items-start gap-2 mb-2",children:[$(i5,{className:"flex-shrink-0 w-5 h-5 text-[var(--color-red-2)]"}),A("div",{children:[$("p",{className:"mb-1 font-semibold text-[var(--color-red-2)]",children:"DDR5 Warning: Avoid 4 Sticks"}),$("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:"Many DDR5 motherboards cannot run 4 sticks at advertised speeds. Memory controllers struggle with 4-DIMM configurations at high frequencies (6000+ MT/s). You may be forced to run at slower speeds (5200-5600 MT/s) or face instability."})]})]})}),A("div",{className:"gap-3 grid grid-cols-2",children:[A("div",{className:"bg-[var(--color-purple-7)] p-3 border border-[var(--color-purple-3)]/30 rounded-lg",children:[$("p",{className:"mb-2 font-semibold text-[var(--color-purple-2)]",children:" Recommended: 2 Sticks"}),A("ul",{className:"space-y-1 text-[var(--gray-2)] text-xs",children:[$("li",{children:" Runs at full advertised speed"}),$("li",{children:" Better stability & compatibility"}),$("li",{children:" Easier memory training"}),$("li",{children:" Example: 2x32GB = 64GB total"})]})]}),A("div",{className:"bg-[var(--gray-6)]/30 p-3 border border-[var(--gray-5)] rounded-lg",children:[$("p",{className:"mb-2 font-semibold text-[var(--gray-3)]",children:" Avoid: 4 Sticks (DDR5)"}),A("ul",{className:"space-y-1 text-[var(--gray-3)] text-xs",children:[$("li",{children:" May not reach rated speed"}),$("li",{children:" Stability issues common"}),$("li",{children:" Longer memory training"}),$("li",{children:" Example: 4x16GB = 64GB total"})]})]})]}),A("div",{className:"bg-[var(--gray-6)]/50 p-3 border border-[var(--gray-5)] rounded-lg text-xs",children:[$("p",{className:"mb-1 font-semibold",children:"DDR4 Exception"}),$("p",{className:"text-[var(--gray-3)]",children:"DDR4 handles 4 sticks better, but may still require speed reduction. Check motherboard QVL (Qualified Vendor List) for 4-DIMM support."})]})]})]}),A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$(nj,{className:"w-4 h-4",style:{color:"var(--color-purple-4)"}}),"DDR5 Memory Training"]})}),$(KU,{className:"space-y-3",children:A("div",{className:"space-y-2 text-xs",children:[A("p",{className:"text-[var(--gray-2)] leading-relaxed",children:["DDR5 performs ",$("strong",{children:"memory training"})," on first boot or after RAM changes. The system tests timings and voltages to find stable settings."]}),A("div",{className:"space-y-2 bg-[var(--gray-6)]/30 p-3 border border-[var(--gray-5)] rounded-lg",children:[$("p",{className:"font-semibold",children:"What to Expect:"}),A("ul",{className:"space-y-1 text-[var(--gray-3)]",children:[$("li",{children:" First boot may take 2-5 minutes (or longer)"}),$("li",{children:" System may restart several times automatically"}),$("li",{children:" Monitor will stay black during training"}),$("li",{children:" This is NORMALdo not interrupt!"})]})]}),A("div",{className:"bg-[var(--color-purple-7)] p-3 border border-[var(--color-purple-3)]/30 rounded-lg",children:[$("p",{className:"mb-1 font-semibold text-[var(--color-purple-2)]",children:"Patience Required"}),$("p",{className:"text-[var(--gray-2)]",children:"Memory training is slower with 4 sticks and high-speed kits (6400+ MT/s). Allow up to 10 minutes on first boot."})]})]})})]})]}),$(Zp,{value:"placement",className:"flex-1 mt-6 min-h-0",children:A(tU,{className:"flex flex-col bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"flex-shrink-0 pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$(cj,{className:"w-4 h-4",style:{color:"var(--color-red-3)"}}),"Correct RAM Slot Usage"]}),$(iu,{className:"text-xs",children:"Always check your motherboard manual for optimal configuration"})]}),$(KU,{className:"flex-1 min-h-0 overflow-hidden",children:$("div",{className:"flex justify-center items-center bg-white p-4 border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:ab,alt:"Diagram showing correct RAM slot placement on motherboard",className:"max-w-full max-h-full object-contain",onError:(c)=>{c.currentTarget.style.display="none"}})})}),$("div",{className:"bg-[var(--gray-6)]/30 p-4 border-[var(--gray-5)] border-t",children:A("p",{className:"text-[var(--gray-3)] text-xs leading-relaxed",children:[$("strong",{children:"Typical configuration:"})," For 2 sticks, use slots A2 and B2 (2nd and 4th slots from CPU). This enables dual-channel mode for maximum performance. Consult your motherboard manualsome boards differ!"]})})]})})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-purple-3), var(--color-red-3));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-purple-4), var(--color-red-4));
        }
      `})]})}var _b;var eb=cU(()=>{_b=OE(TE(),1);Ez();kz();Qz();bq();t5();Kb();JU()});var Ul="./hdd-ex5yvn9e.webp";var Cb=()=>{};var ul="./ssd-bdh7jaq7.jpg";var El=()=>{};var zl="./mdot2-dqg8d6fz.avif";var pl=()=>{};var Yl={};Pp(Yl,{Storage:()=>oYU});function oYU(){let[U,E]=cl.useState("hdd"),u={hdd:{name:"Hard Disk Drive (HDD)",tagline:"Mass Storage on a Budget",color:"from-[var(--color-gray-4)] to-[var(--color-gray-3)]",accentColor:"var(--color-gray-3)",image:Ul,pros:["Lowest cost per GB","Massive capacity (up to 20TB+)","Long-term data reliability","No write cycle limits","Perfect for archives"],considerations:[{icon:s5,title:"Sequential Speed",description:"100-200 MB/s typical speeds. Fine for media storage, game libraries, and backups. Too slow for OS or active projects."},{icon:w0,title:"Capacity Sweet Spot",description:"2-8TB offers best value. 1TB models often cost nearly as much as SSDs. Consider RAID for redundancy on critical data."},{icon:Pj,title:"Mechanical Nature",description:"Moving parts generate noise and vibration. 7200 RPM faster but louder than 5400 RPM. Sensitive to physical shock."},{icon:B0,title:"Use Cases",description:"Ideal for: media libraries, game storage, cold backups, NAS systems. Not recommended for: OS drives, scratch disks, databases."}]},ssd:{name:'2.5" SATA SSD',tagline:"Reliable Performance Upgrade",color:"from-[var(--color-purple-2)] to-[var(--color-purple-3)]",accentColor:"var(--color-purple-3)",image:ul,pros:["Dramatic speed boost over HDD","No moving parts","Silent operation","Shock resistant","Lower power consumption"],considerations:[{icon:s5,title:"SATA Bottleneck",description:"~550 MB/s max (SATA III limit). 5-10x faster than HDDs, but slower than NVMe. Still excellent for most workloads."},{icon:cz,title:"Price vs Performance",description:"500GB-2TB most cost-effective. Often similar price to budget NVMe drives. Check M.2 prices before buying."},{icon:w0,title:"Capacity Considerations",description:"Available up to 8TB, but large capacities expensive. Better as secondary drive than primary in modern builds."},{icon:B0,title:"Best Applications",description:"Perfect for: OS on older systems, game libraries, laptops without M.2, external drives. Secondary storage in new builds."}]},nvme:{name:"M.2 NVMe SSD",tagline:"Maximum Speed & Efficiency",color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)",image:zl,pros:["Blazing fast (up to 7000 MB/s)","Tiny form factor","No cables needed","PCIe 4.0/5.0 support","Future-proof"],considerations:[{icon:BP,title:"Generation Matters",description:"Gen 3: ~3500 MB/s, Gen 4: ~7000 MB/s, Gen 5: ~14000 MB/s. Gen 3 fine for most users. Gen 4+ for pro workloads."},{icon:Pj,title:"Heat Management",description:"High-speed drives run hot under sustained load. Use motherboard heatsinks or aftermarket coolers. Some throttle without cooling."},{icon:w0,title:"Capacity & Pricing",description:"500GB-2TB mainstream. 1TB sweet spot for price/performance. Check DRAM cache and TBW ratings for endurance."},{icon:B0,title:"Compatibility Check",description:"Verify M.2 slot type (M key for NVMe). Check PCIe gen support. Some slots share bandwidth with SATA ports."}]}};return A("section",{id:"storage",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/3 absolute bg-[var(--color-purple-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"right-1/3 bottom-1/4 absolute bg-[var(--color-red-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Storage Solutions"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"Speed vs Capacity"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Balance performance, capacity, and budget for your storage needs"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),$(()=>$("div",{className:"gap-4 grid grid-cols-3 mb-6",children:Object.entries(u).map(([z,c])=>$(tU,{className:`cursor-pointer border-2 transition-all duration-300 ${U===z?"border-white/40 shadow-[0_0_30px_rgba(110,63,237,0.2)]":"border-[var(--gray-5)] hover:border-[var(--color-purple-4)]"}`,onClick:()=>E(z),children:$(KU,{className:"p-4",children:A("div",{className:"flex items-center gap-3",children:[A("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${c.color} shadow-lg`,children:[z==="hdd"&&$(PZ,{className:"w-6 h-6 text-white"}),z==="ssd"&&$(Ip,{className:"w-6 h-6 text-white"}),z==="nvme"&&$(BP,{className:"w-6 h-6 text-white"})]}),A("div",{className:"flex-1 min-w-0",children:[$("h3",{className:"font-semibold text-sm",children:c.name}),$("p",{className:"text-[var(--gray-3)] text-xs truncate",children:c.tagline})]}),U===z&&$("div",{className:"rounded-full w-2 h-2 animate-pulse",style:{backgroundColor:c.accentColor}})]})})},z))}),{}),A("div",{className:"flex flex-1 gap-6 min-h-0",children:[$("div",{className:"w-1/3",children:A(tU,{className:"group relative border-[var(--gray-5)] border-2 h-full overflow-hidden",children:[$("div",{className:`absolute inset-0 bg-gradient-to-br ${u[U].color} opacity-10 transition-all duration-700`}),A(KU,{className:"relative p-0 h-full",children:[A("div",{className:`absolute inset-0 flex justify-center items-center transition-all ${U==="nvme"?"bg-white p-6":"bg-[var(--gray-6)]"}`,children:[$("img",{src:u[U].image,alt:u[U].name,className:U==="nvme"?"max-w-[65%] max-h-[65%] object-contain":"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:(z)=>{z.currentTarget.style.display="none"}}),$("div",{className:"absolute inset-0 bg-gradient-to-t from-[var(--gray-7)] via-transparent to-transparent opacity-60"})]}),$("div",{className:"right-6 bottom-6 left-6 absolute",children:$("div",{className:"bg-[var(--gray-6)]/95 backdrop-blur-md p-4 border border-[var(--gray-5)] rounded-lg",children:A("div",{className:"flex items-center gap-3",children:[A("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${u[U].color} shadow-lg`,children:[U==="hdd"&&$(PZ,{className:"w-6 h-6 text-white"}),U==="ssd"&&$(Ip,{className:"w-6 h-6 text-white"}),U==="nvme"&&$(BP,{className:"w-6 h-6 text-white"})]}),A("div",{children:[$("h3",{className:"font-semibold text-lg",children:u[U].name}),$("p",{className:"text-[var(--gray-3)] text-xs",children:u[U].tagline})]})]})})})]})]})}),A("div",{className:"flex flex-col flex-1 gap-4 pr-2 overflow-y-auto custom-scrollbar",children:[$(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:A("div",{className:"flex items-center gap-2 p-4 border-[var(--gray-5)] border-b font-semibold",children:[A("div",{className:"flex items-center gap-2 mr-5",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:u[U].accentColor}}),"Key Advantages"]}),$("div",{className:"flex flex-wrap gap-2",children:u[U].pros.map((z,c)=>$(_E,{className:"px-3 py-1.5 border-2 text-gray-3 text-xs hover:scale-105 transition-all duration-300",style:{borderColor:u[U].accentColor,background:`${u[U].accentColor}15`},children:z},c))})]})}),A("div",{className:"flex flex-col gap-2 w-full h-full",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-3",children:A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:u[U].accentColor}}),"Important Considerations"]})}),$(KU,{className:"space-y-2",children:u[U].considerations.map((z,c)=>{let Y=z.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-md transition-all duration-200",style:{animationDelay:`${c*0.06}s`,animation:"fadeIn 0.45s ease-out"},children:[$("div",{className:`w-8 h-8 rounded-md flex items-center justify-center flex-shrink-0 bg-gradient-to-br ${u[U].color} shadow transition-transform duration-200 group-hover:scale-105`,children:$(Y,{className:"w-4 h-4 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-purple-3)] text-xs transition-colors",children:z.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:z.description})]})]},c)})})]}),$(tU,{className:"bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] border-2",style:{borderColor:`${u[U].accentColor}40`},children:$(KU,{className:"p-4",children:A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:[U==="hdd"&&A(qu,{children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," Use HDDs for bulk storage where speed isn't critical. Pair with an SSD/NVMe for OS and active projects for best value."]}),U==="ssd"&&A(qu,{children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," SATA SSDs are perfect for upgrading older systems or laptops. Check if your motherboard has M.2 slots before buyingNVMe may be same price."]}),U==="nvme"&&A(qu,{children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," Gen 3 NVMe is plenty fast for gaming and most work. Save money unless you do heavy video editing or large file transfers daily."]})]})})})]})]})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-purple-3), var(--color-red-3));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-purple-4), var(--color-red-4));
        }
      `})]})}var cl;var Zl=cU(()=>{cl=OE(TE(),1);Ez();kz();Qz();t5();Cb();El();pl();JU()});var xl="./sata-bw7nedy9.jpg";var Pl=()=>{};var jl="./rgb_vs_argb_header-fnrfm0fm.png";var nl=()=>{};var Hl="./usb_generations-k5snb2xr.jpg";var ql=()=>{};var Ql="./usb1-9aw8qsz7.jpg";var kl=()=>{};var yl="./usb2-3jst10f6.jpg";var $l=()=>{};var Ol="./24-Pin-Power-bgrq9ad0.webp";var Il=()=>{};var rl="./cpu_power_cable_connector-gby4vn2b.webp";var Nl=()=>{};var Xl="./front-panel-connector_combined-z8q59hjp.webp";var Ll=()=>{};var ol="./fan_header-1feb852v.avif";var Tl=()=>{};var MQ="./image14-rv37xh4a.gif";var il=()=>{};var Fl={};Pp(Fl,{Motherboard:()=>SYU});function SYU(){let[U,E]=WQ.useState("atx"),[u,p]=WQ.useState("sizes"),[z,c]=WQ.useState(!1),[Y,P]=WQ.useState(null),n={eatx:{label:"E-ATX",width:330,height:305,ram:8,pcie:6,pcieSpacing:30,desc:"Maximum expandability",ramX:50,ramY:20,ram2X:220,ram2Y:20},atx:{label:"ATX",width:244,height:305,ram:4,ramX:160,ramY:20,pcie:4,pcieSpacing:40,desc:"Standard full-size"},micro:{label:"Micro-ATX",width:244,height:244,ram:4,ramX:160,ramY:20,pcie:2,pcieSpacing:40,desc:"Compact powerhouse"},mini:{label:"Mini-ITX",width:170,height:170,ram:2,ramX:130,ramY:6,pcie:1,pcieSpacing:0,desc:"Ultra-compact build"},nano:{label:"Nano-ITX",width:120,height:120,ram:1,ramX:100,ramY:6,pcie:0,pcieSpacing:0,desc:"Minimal footprint"}},j=[{id:"sata",src:xl,title:"SATA Connectors",desc:"Storage device connections for HDDs and SSDs",overlaySrc:MQ},{id:"rgb",src:jl,title:"RGB vs ARGB Headers",desc:"Lighting control for RGB and addressable RGB devices",overlaySrc:MQ},{id:"usb",images:[Hl,Ql,yl],title:"USB Connectors",desc:"USB generations and headers"},{id:"power",images:[Ol,rl],title:"Power Connectors",desc:"Main and CPU power connectors"},{id:"frontend",src:Xl,title:"Front Panel Connector",desc:"Power button, reset, LEDs, and audio headers",overlaySrc:MQ},{id:"fan",src:ol,title:"Fan Headers",desc:"PWM and DC fan control connectors",overlaySrc:MQ}],H=({spec:k,size:Q})=>{let r=(Q==="nano"?88:133)*1.5;return $("div",{className:"relative flex justify-center items-center transition-all duration-500",children:A("div",{className:"relative bg-gradient-to-br from-[var(--gray-5)] to-[var(--gray-4)] shadow-2xl hover:shadow-[0_0_30px_rgba(110,63,237,0.3)] border-[var(--corp-purple)] border-2 rounded-lg transition-all duration-500",style:{width:`${k.width*1.5}px`,height:`${k.height*1.5}px`},children:[(()=>{let T=k.width*1.5,N=k.height*1.5,O=50,L=Math.max(1,Math.floor(k.width/50)),X=Math.max(1,Math.floor(k.height/50));return A(qu,{children:[$("div",{style:{position:"absolute",top:-28,left:0,width:T,height:24,pointerEvents:"none"},children:A("div",{style:{position:"relative",width:"100%",height:"100%"},children:[[...Array(L+1)].map((i,B)=>$("div",{style:{position:"absolute",left:`${B*T/L}px`,top:6,width:1,height:12,background:"var(--gray-5)",opacity:0.9}},`tick-h-${B}`)),A("div",{style:{position:"absolute",right:4,top:2},className:"text-[var(--gray-3)] text-xs",children:[k.width," mm"]})]})}),$("div",{style:{position:"absolute",left:-36,top:0,width:36,height:N,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:A("div",{style:{position:"relative",width:"100%",height:"100%"},children:[[...Array(X+1)].map((i,B)=>$("div",{style:{position:"absolute",top:`${B*N/X}px`,left:18,width:12,height:1,background:"var(--gray-5)",opacity:0.9}},`tick-v-${B}`)),A("div",{style:{position:"absolute",left:2,top:"50%",transform:"rotate(-90deg) translateY(-50%)"},className:"text-[var(--gray-3)] text-xs",children:[k.height," mm"]})]})})]})})(),$("div",{className:"absolute flex flex-col justify-end p-4 pl-4 w-min h-full",children:[...Array(k.pcie)].map((T,N)=>$("div",{className:"bg-[var(--corp-purple)] opacity-80 shadow-[0_0_8px_rgba(110,63,237,0.6)] rounded-full",style:{marginTop:"16.5px",width:"180px",height:"16.5px",animationDelay:`${N*0.1}s`,animation:"pulse 2s ease-in-out infinite"}},N))}),A(qu,{children:[$("div",{className:"flex flex-row gap-2 w-min absolute",style:{height:`${r}px`,top:`${k.ramY*1.5}px`,left:`${k.ramX*1.5}px`},children:[...Array(Math.min(k.ram,4))].map((T,N)=>$("div",{className:"bg-gradient-to-b from-[var(--color-magenta-2)] to-[var(--color-magenta-3)] shadow-[0_0_6px_rgba(168,36,101,0.5)] rounded-sm w-4 h-full",style:{animationDelay:`${N*0.15}s`,animation:"fadeIn 1s ease-out"}},`ram-prim-${N}`))}),k.ram>4&&$("div",{className:"flex flex-row gap-2 w-min absolute",style:{height:`${r}px`,top:`${k.ram2Y*1.5}px`,left:`${k.ram2X*1.5}px`},children:[...Array(k.ram-4)].map((T,N)=>$("div",{className:"flex-1 bg-gradient-to-b from-[var(--color-magenta-2)] to-[var(--color-magenta-3)] shadow-[0_0_6px_rgba(168,36,101,0.5)] rounded-sm w-4 h-full",style:{animationDelay:`${(N+4)*0.15}s`,animation:"fadeIn 1s ease-out"}},`ram-sec-${N}`))})]}),$("div",{className:"top-1/3 left-1/2 absolute -translate-x-1/2 -translate-y-1/2",children:$("div",{className:"flex justify-center items-center bg-[var(--gray-6)] shadow-[0_0_15px_rgba(227,25,55,0.4)] border-[var(--corp-red)] border-2 rounded-lg w-16 h-16",children:$("div",{className:"gap-0.5 grid grid-cols-3 bg-[var(--gray-5)] p-1 rounded w-10 h-10",children:[...Array(9)].map((T,N)=>$("div",{className:"bg-[var(--corp-red)] opacity-70 rounded-sm"},N))})})}),A("svg",{className:"absolute inset-0 opacity-20 w-full h-full pointer-events-none",children:[A("pattern",{id:`circuit-${Q}`,x:"0",y:"0",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:[$("path",{d:"M0 20 L40 20 M20 0 L20 40",stroke:"var(--corp-purple)",strokeWidth:"0.5"}),$("circle",{cx:"20",cy:"20",r:"2",fill:"var(--corp-purple)"})]}),$("rect",{width:"100%",height:"100%",fill:`url(#circuit-${Q})`})]})]})})};return A("section",{id:"motherboard",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/4 absolute bg-[var(--corp-purple)] blur-[120px] rounded-full w-96 h-96"}),$("div",{className:"right-1/4 bottom-1/4 absolute bg-[var(--corp-red)] blur-[120px] rounded-full w-96 h-96"})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full",children:[A("div",{className:"flex flex-col gap-2 animate-fadeIn",children:[A("div",{className:"flex items-center gap-3",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--corp-purple)] to-[var(--corp-red)] font-bold text-transparent text-5xl tracking-tight",children:"Motherboards"}),$(_E,{variant:"outline",className:"border-[var(--corp-purple)] text-[var(--corp-purple)] text-xs",children:"The Foundation"})]}),$("p",{className:"max-w-2xl text-[var(--gray-3)] text-sm",children:"Explore form factors, connectors, and interactive board layouts"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--corp-purple)] to-transparent opacity-30"}),A(Y4,{value:u,onValueChange:p,className:"flex flex-col flex-1 min-h-0",children:[A(Z4,{className:"grid grid-cols-3 bg-[var(--gray-6)] border border-[var(--gray-5)] w-full h-12",children:[$(e0,{value:"sizes",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[var(--color-purple-3)] data-[state=active]:to-[var(--color-purple-4)] data-[state=active]:text-white transition-all duration-300",children:"Form Factors"}),$(e0,{value:"connectors",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[var(--color-purple-3)] data-[state=active]:to-[var(--color-purple-4)] data-[state=active]:text-white transition-all duration-300",children:"Connectors"}),$(e0,{value:"layout",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[var(--color-purple-3)] data-[state=active]:to-[var(--color-purple-4)] data-[state=active]:text-white transition-all duration-300",children:"Interactive Layout"})]}),A(Zp,{value:"sizes",className:"flex flex-1 gap-6 mt-6 overflow-hidden",children:[$("div",{className:"flex flex-col gap-3 pr-2 w-88 overflow-y-auto custom-scrollbar",children:Object.entries(n).map(([k,Q])=>A(tU,{className:`flex flex-col justify-start items-start flex-1 cursor-pointer transition-all duration-300 border-2 p-0 ${U===k?"border-[var(--corp-purple)] bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] shadow-[0_0_20px_rgba(110,63,237,0.2)]":"border-[var(--gray-5)] hover:border-[var(--color-purple-5)] bg-[var(--gray-7)]"}`,onClick:()=>E(k),children:[A(FE,{className:"p-2 pl-4",children:[$(AE,{className:"flex justify-between items-center text-lg",children:Q.label}),$(iu,{className:"p-0 text-xs",children:Q.desc})]}),$(KU,{className:"flex-1 p-2 pl-4 w-full h-full",children:A("div",{className:"items-center gap-0 grid grid-cols-3 h-full text-xs",children:[A("div",{className:"flex flex-col",children:[$("span",{className:"text-[var(--gray-3)]",children:"Dimensions"}),A("span",{className:"font-mono font-semibold text-[var(--foreground)]",children:[Q.width,"",Q.height,"mm"]})]}),A("div",{className:"flex flex-col",children:[$("span",{className:"text-[var(--gray-3)]",children:"RAM Slots"}),$("span",{className:"font-mono font-semibold text-[var(--foreground)]",children:Q.ram})]}),A("div",{className:"flex flex-col",children:[$("span",{className:"text-[var(--gray-3)]",children:"PCIe Slots"}),$("span",{className:"font-mono font-semibold text-[var(--foreground)]",children:Q.pcie})]})]})})]},k))}),A("div",{className:"relative flex flex-1 justify-center items-center bg-[var(--gray-7)] p-8 border border-[var(--gray-5)] rounded-lg overflow-hidden",children:[$("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(110,63,237,0.05),transparent_70%)]"}),$(H,{spec:n[U],size:U}),A("div",{className:"bottom-6 left-6 absolute bg-[var(--gray-6)]/90 backdrop-blur-sm px-4 py-2 border border-[var(--gray-5)] rounded-lg",children:[$("p",{className:"font-medium text-[var(--gray-2)] text-sm",children:n[U].label}),$("p",{className:"mt-0.5 text-[var(--gray-3)] text-xs",children:n[U].desc})]})]})]}),$(Zp,{value:"connectors",className:"flex-1 mt-6 overflow-hidden",children:$("div",{className:"gap-4 grid grid-cols-3 pr-2 h-65% overflow-y-auto custom-scrollbar",children:j.map((k,Q)=>$(tU,{className:"group bg-[var(--gray-7)] hover:shadow-[0_0_20px_rgba(110,63,237,0.15)] border-[var(--gray-5)] border-2 hover:border-[var(--corp-purple)] overflow-hidden transition-all duration-300 cursor-pointer",style:{animationDelay:`${Q*0.05}s`,animation:"fadeIn 0.5s ease-out"},onClick:()=>{P(k),c(!0)},children:A("div",{className:"relative bg-[var(--gray-6)] aspect-video overflow-hidden",children:[$("img",{src:k.src??(k.images&&k.images[0]),alt:k.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),$("div",{className:"absolute inset-0 bg-gradient-to-t from-[var(--gray-7)] via-transparent to-transparent opacity-60"})]})},k.id))})}),$(Zp,{value:"layout",className:"flex-1 mt-6 overflow-hidden",children:$(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2 w-full h-full overflow-hidden",children:$(KU,{className:"p-0 h-full",children:$("div",{style:{height:"100%",overscrollBehavior:"contain"},children:$("div",{style:{height:"100%",overflow:"auto",overscrollBehavior:"contain"},children:$("iframe",{src:"https://mobomaps.com/board-viewer.html?board=asus-b850-max-gaming-wifi-w&dispSlots=1",className:"border-0 w-full h-full",title:"ASUS B850 Max Gaming WiFi Motherboard Layout",loading:"lazy",scrolling:"yes",style:{display:"block",height:"100%"}})})})})})})]}),z&&Y&&$("div",{className:"z-50 fixed inset-0 flex justify-center items-center p-6",style:{background:"rgba(0,0,0,0.6)"},onClick:()=>c(!1),children:A(tU,{className:"relative w-full max-w-8xl h-[80vh] overflow-hidden",onClick:(k)=>k.stopPropagation(),children:[$("div",{className:"top-4 right-4 absolute",children:$(fu,{variant:"ghost",onClick:()=>c(!1),children:""})}),A(FE,{className:"p-4",children:[$(AE,{className:"text-lg",children:Y.title}),$(iu,{className:"text-xs",children:Y.desc})]}),$(KU,{className:"p-0 h-[calc(100%-4rem)]",children:$("div",{className:"flex w-full h-full",children:Y.images?$("div",{className:"flex flex-wrap justify-center items-start gap-4 bg-[var(--gray-6)] p-4 w-full h-full overflow-auto",children:Y.images.map((k,Q)=>$("div",{className:"flex flex-1 justify-center items-center bg-[var(--gray-7)] p-2 min-w-[240px] max-w-[45%]",children:$("img",{src:k,alt:`${Y.title} ${Q+1}`,className:"max-w-full max-h-[60vh] object-contain"})},`merged-${Q}`))}):A(qu,{children:[$("div",{className:"flex justify-center items-center bg-[var(--gray-6)] w-1/2 overflow-hidden",children:$("img",{src:Y.src,alt:Y.title,className:"max-w-full max-h-full object-contain"})}),Y.overlaySrc?$("div",{className:"flex justify-center items-center bg-[var(--gray-7)] border-[var(--gray-5)] border-l w-1/2 overflow-hidden",children:$("img",{src:Y.overlaySrc,alt:`${Y.title} overlay`,className:"max-w-full max-h-full object-contain"})}):null]})})})]})})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes pulse {
          0%, 100% {
            opacity: 0.8;
            transform: scaleY(1);
          }
          50% {
            opacity: 1;
            transform: scaleY(1.1);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: var(--corp-purple);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: var(--color-purple-4);
        }
      `})]})}var WQ;var Al=cU(()=>{WQ=OE(TE(),1);Pl();nl();ql();kl();$l();Il();Nl();Ll();Tl();il();bq();Ez();kz();Qz();vP();JU()});var Vl="./80-PLUS-Badge-Group-m0es1xyg.png";var ml=()=>{};var Bl="./MeltedCable-6vd932e9.jpg";var Gl=()=>{};var wl="./psu_back_connectors-4bhhy4re.jpg";var dl=()=>{};var Sl={};Pp(Sl,{PSU:()=>JYU});function JYU(){let[U,E]=vl.useState("ratings"),u={ratings:{name:"Efficiency Ratings",icon:AP,color:"from-[var(--color-purple-2)] to-[var(--color-purple-3)]",accentColor:"var(--color-purple-3)"},wattage:{name:"Wattage Planning",icon:s5,color:"from-[var(--color-magenta-2)] to-[var(--color-red-2)]",accentColor:"var(--color-magenta-2)"},connectors:{name:"Modular Connectors",icon:Uj,color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)"},testing:{name:"PSU Testing",icon:cZ,color:"from-[var(--color-purple-4)] to-[var(--color-magenta-2)]",accentColor:"var(--color-purple-4)"},issues:{name:"Common Issues",icon:i5,color:"from-[var(--color-red-3)] to-[var(--color-red-4)]",accentColor:"var(--color-red-3)"}},p=[{name:"80 Plus",efficiency:"80%",description:"Basic certification, minimal efficiency requirements",color:"bg-gray-400"},{name:"80 Plus Bronze",efficiency:"82-85%",description:"Entry-level efficiency, good for budget builds",color:"bg-amber-700"},{name:"80 Plus Silver",efficiency:"85-88%",description:"Mid-range efficiency, less common",color:"bg-gray-300"},{name:"80 Plus Gold",efficiency:"87-90%",description:"Excellent efficiency, sweet spot for most builds",color:"bg-yellow-500"},{name:"80 Plus Platinum",efficiency:"89-92%",description:"Premium efficiency, lower heat & power bills",color:"bg-gray-200"},{name:"80 Plus Titanium",efficiency:"90-94%",description:"Top-tier efficiency, diminishing returns vs cost",color:"bg-slate-400"},{name:"80 Plus Ruby",efficiency:"94-97%",description:"Highest-tier efficiency, Very expensive & rare",color:"bg-red-3"}],z=[{icon:s5,title:"Peak vs Average Power",description:"Online calculators show average usage. GPU/CPU can spike 50-100W+ above average during transients. Add 20-30% headroom to calculated wattage."},{icon:Ip,title:"Efficiency Sweet Spot",description:"PSUs are most efficient at 50-80% load. Running a 1000W PSU at 300W wastes electricity. Match wattage to actual needs, not maximum theoretical."},{icon:AP,title:"Quality Over Wattage",description:"A quality 750W Gold PSU beats a cheap 850W Bronze. Focus on efficiency rating, brand reputation (Seasonic, Corsair, EVGA), and reviews."}];return A("section",{id:"psu",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[$("div",{className:"w-full h-full",children:A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Power Supplies"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"The Heart of Your Build"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Choose the right PSU for reliability, efficiency, and future upgrades"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),A(Y4,{value:U,onValueChange:E,className:"flex flex-col flex-1 min-h-0",children:[$(Z4,{className:"grid grid-cols-5 bg-[var(--gray-6)] border border-[var(--gray-5)] w-full h-12",children:Object.entries(u).map(([c,Y])=>{let P=Y.icon;return A(e0,{value:c,className:"data-[state=active]:bg-gradient-to-r data-[state=active]:text-white text-xs transition-all duration-300",style:{["--tw-gradient-from"]:Y.accentColor,["--tw-gradient-to"]:Y.accentColor},children:[$(P,{className:"mr-1 w-4 h-4"}),Y.name]},c)})}),A(Zp,{value:"ratings",className:"flex flex-1 gap-4 mt-6 min-h-0",children:[$("div",{className:"w-1/2",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-purple-3)] rounded-full w-2 h-2"}),"80 Plus Certification Levels"]}),$(iu,{className:"text-xs",children:"Higher ratings = better efficiency & less heat"})]}),$(KU,{className:"space-y-2 pr-2 overflow-y-auto custom-scrollbar",style:{maxHeight:"calc(100% - 5rem)"},children:p.map((c,Y)=>A("div",{className:"flex items-start gap-3 bg-[var(--gray-6)]/30 p-3 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-lg transition-all duration-200",children:[$("div",{className:`w-12 h-12 rounded-lg ${c.color} flex items-center justify-center shadow-lg flex-shrink-0`,children:$(AP,{className:"w-6 h-6 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[A("div",{className:"flex justify-between items-center mb-1",children:[$("h4",{className:"font-semibold text-sm",children:c.name}),$(_E,{variant:"outline",className:"font-mono text-xs",children:c.efficiency})]}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:c.description})]})]},Y))})]})}),$("div",{className:"w-1/2",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-purple-3)] rounded-full w-2 h-2"}),"Certification Badges"]}),$(iu,{className:"text-xs",children:"Look for these on PSU packaging"})]}),$(KU,{className:"h-[calc(100%-5rem)]",children:$("div",{className:"flex justify-center items-center bg-[var(--gray-6)] border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:Vl,alt:"80 Plus certification badges",className:"p-4 w-full h-full object-contain",onError:(c)=>{c.currentTarget.style.display="none"}})})})]})})]}),A(Zp,{value:"wattage",className:"flex flex-col flex-1 gap-4 mt-6 pr-2 min-h-0 overflow-y-auto custom-scrollbar",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{children:A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"bg-[var(--color-magenta-2)] rounded-full w-2 h-2"}),"Understanding Power Requirements"]})}),$(KU,{className:"space-y-2",children:z.map((c,Y)=>{let P=c.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-md transition-all duration-200",children:[$("div",{className:"flex flex-shrink-0 justify-center items-center bg-gradient-to-br from-[var(--color-magenta-2)] to-[var(--color-red-2)] shadow rounded-md w-8 h-8 group-hover:scale-105 transition-transform duration-200",children:$(P,{className:"w-4 h-4 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-purple-3)] text-xs transition-colors",children:c.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:c.description})]})]},Y)})})]}),A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-magenta-2)] rounded-full w-2 h-2"}),"Recommended Wattage by Build Type"]})}),$(KU,{children:$("div",{className:"space-y-2",children:[{type:"Budget Build",parts:"i3/R5 + RTX 4060",calculated:"350W",recommended:"500-550W",color:"bg-green-500"},{type:"Mid-Range",parts:"i5/R7 + RTX 4070",calculated:"450W",recommended:"650-750W",color:"bg-yellow-500"},{type:"High-End",parts:"i7/R9 + RTX 4080",calculated:"600W",recommended:"850W",color:"bg-orange-500"},{type:"Enthusiast",parts:"i9/R9X + RTX 4090",calculated:"750W",recommended:"1000W+",color:"bg-red-500"}].map((c,Y)=>A("div",{className:"flex items-center gap-3 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] rounded-lg",children:[$("div",{className:`w-2 h-12 ${c.color} rounded-full`}),A("div",{className:"flex-1 gap-2 grid grid-cols-4 text-xs",children:[A("div",{children:[$("p",{className:"font-semibold",children:c.type}),$("p",{className:"text-[var(--gray-3)]",children:c.parts})]}),A("div",{children:[$("p",{className:"text-[var(--gray-3)]",children:"Calculated"}),$("p",{className:"font-mono font-semibold",children:c.calculated})]}),A("div",{className:"col-span-2",children:[$("p",{className:"text-[var(--gray-3)]",children:"Recommended PSU"}),$("p",{className:"font-mono font-semibold text-[var(--color-purple-3)]",children:c.recommended})]})]})]},Y))})})]}),$(tU,{className:"bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] border-[var(--color-magenta-2)]/40 border-2",children:$(KU,{className:"p-4",children:A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," Add 20-30% headroom to online calculator results. PSUs last 7-10 yearsbuy for future GPU upgrades, not just current needs."]})})})]}),$(Zp,{value:"connectors",className:"flex flex-1 gap-4 mt-6 min-h-0",children:$("div",{className:"w-full",children:A(tU,{className:"flex flex-col bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"flex-shrink-0 pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$(Uj,{className:"w-4 h-4",style:{color:"var(--color-red-3)"}}),"Modular PSU Connectors"]}),$(iu,{className:"text-xs",children:"Understanding the back panel of a modular PSU"})]}),$(KU,{className:"flex-1 min-h-0 overflow-hidden",children:$("div",{className:"flex justify-center items-center bg-[var(--gray-6)] p-4 border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:wl,alt:"Modular PSU back panel showing connector types",className:"max-w-full max-h-full object-contain",onError:(c)=>{c.currentTarget.style.display="none"}})})})]})})}),$(Zp,{value:"testing",className:"flex-1 mt-6 min-h-0 overflow-hidden",children:A(tU,{className:"flex flex-col border-[var(--gray-5)] border-2 h-full overflow-hidden",children:[$(FE,{className:"flex-shrink-0 pb-3",children:A("div",{className:"flex justify-between items-start",children:[A("div",{children:[A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"bg-[var(--corp-purple)] rounded-full w-2 h-2 animate-pulse"}),"LTT Labs PSU Testing"]}),$(iu,{className:"mt-1 text-xs",children:"Comprehensive PSU reviews and test results"})]}),$(_E,{variant:"outline",className:"text-xs",children:"Interactive Database"})]})}),$(KU,{className:"flex-1 p-0 min-h-0",children:$("div",{className:"w-full h-full",style:{overscrollBehavior:"contain"},children:$("div",{style:{height:"100%",overflow:"auto",overscrollBehavior:"contain"},children:$("iframe",{src:"https://www.lttlabs.com/products/power-supplies/lian-li-sp850",className:"border-0 w-full h-full",title:"LTT Labs PSU Testing Database",loading:"lazy",scrolling:"yes",style:{display:"block",height:"100%"}})})})})]})}),A(Zp,{value:"issues",className:"flex flex-1 gap-4 mt-6 min-h-0",children:[$("div",{className:"flex flex-col gap-4 w-1/2",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[A(FE,{className:"pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$(i5,{className:"w-4 h-4 text-[var(--color-red-3)]"}),"12VHPWR Connector Issues"]}),$(iu,{className:"text-xs",children:"RTX 40-series power connector concerns"})]}),$(KU,{className:"space-y-3",children:A("div",{className:"space-y-2 text-xs",children:[A("div",{className:"bg-[var(--color-red-7)] p-2 border border-[var(--color-red-3)]/30 rounded-lg",children:[$("p",{className:"mb-1 font-semibold text-[var(--color-red-2)]",children:"Known Problem"}),$("p",{className:"text-[var(--gray-3)] leading-tight",children:"Melted 12VHPWR connectors reported on RTX 4090 cards. Caused by improper seating, excessive bending, or manufacturing defects."})]}),A("div",{className:"bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] rounded-lg",children:[$("p",{className:"mb-1 font-semibold",children:"Prevention Tips"}),A("ul",{className:"space-y-0.5 text-[var(--gray-3)]",children:[$("li",{children:" Ensure connector fully seated (clicks)"}),$("li",{children:" Avoid sharp bends near connector"}),$("li",{children:" Use native 12VHPWR cables when possible"}),$("li",{children:" Regularly inspect for discoloration"})]})]}),A("div",{className:"bg-[var(--color-purple-7)] p-2 border border-[var(--color-purple-3)]/30 rounded-lg",children:[$("p",{className:"mb-1 font-semibold text-[var(--color-purple-2)]",children:"Recommended Solution"}),$("p",{className:"text-[var(--gray-3)] leading-tight",children:"Use ATX 3.0 PSUs with native 12VHPWR cables. Newer revisions (12V-2x6) address many issues. Avoid cheap adapters."})]})]})})]})}),$("div",{className:"w-1/2",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-red-3)] rounded-full w-2 h-2"}),"Burned Connector Example"]}),$(iu,{className:"text-xs",children:"Visual reference of connector damage"})]}),$(KU,{className:"h-[calc(100%-5rem)]",children:$("div",{className:"flex justify-center items-center bg-[var(--gray-6)] border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:Bl,alt:"Example of burned 12VHPWR connector",className:"p-4 w-full h-full object-contain",onError:(c)=>{c.currentTarget.style.display="none"}})})})]})})]})]})]})}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-purple-3), var(--color-red-3));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-purple-4), var(--color-red-4));
        }
      `})]})}var vl;var Rl=cU(()=>{vl=OE(TE(),1);Ez();kz();Qz();bq();t5();ml();Gl();dl();JU()});var tl={};Pp(tl,{Case:()=>hYU});function hYU(){let[U,E]=Dl.useState("mid-tower"),u={"full-tower":{name:"Full Tower",description:"Maximum space, maximum possibilities",motherboards:["E-ATX","ATX","Micro-ATX","Mini-ITX"],psuTypes:["ATX","ATX 3.0"],maxGpuLength:"Large ",coolerHeight:"90-130",fanSlots:"10-14",storageSlots:"8-12",color:"from-[var(--color-purple-3)] to-[var(--color-purple-4)]",accentColor:"var(--color-purple-3)"},"mid-tower":{name:"Mid Tower",description:"Perfect balance of size and capability",motherboards:["ATX","Micro-ATX","Mini-ITX"],psuTypes:["ATX","ATX 3.0"],maxGpuLength:380,coolerHeight:170,fanSlots:"6-9",storageSlots:"4-6",color:"from-[var(--color-purple-2)] to-[var(--color-magenta-2)]",accentColor:"var(--color-purple-2)"},"mini-tower":{name:"Mini Tower / mATX",description:"Compact without compromise",motherboards:["Micro-ATX","Mini-ITX"],psuTypes:["ATX","SFX"],maxGpuLength:320,coolerHeight:155,fanSlots:"4-6",storageSlots:"2-4",color:"from-[var(--color-magenta-2)] to-[var(--color-red-2)]",accentColor:"var(--color-magenta-2)"},sff:{name:"Small Form Factor",description:"Minimalist builds, maximum density",motherboards:["Mini-ITX"],psuTypes:["SFX","SFX-L"],maxGpuLength:280,coolerHeight:130,fanSlots:"2-4",storageSlots:"2-3",color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-2)"}},p=[{icon:t4,title:"Motherboard Size",description:"Case determines which form factors fit",gradient:"from-[var(--color-purple-3)] to-[var(--color-purple-4)]"},{icon:Ip,title:"PSU Form Factor",description:"ATX, SFX, or SFX-L compatibility",gradient:"from-[var(--color-magenta-2)] to-[var(--color-magenta-3)]"},{icon:p5,title:"Cooler Clearance",description:"Height limits for air coolers and radiators",gradient:"from-[var(--color-red-2)] to-[var(--color-red-3)]"},{icon:Fk,title:"GPU Length",description:"Maximum graphics card dimensions",gradient:"from-[var(--color-purple-4)] to-[var(--color-magenta-2)]"},{icon:mz,title:"Airflow & Fans",description:"Fan mounting points and cooling capacity",gradient:"from-[var(--color-red-3)] to-[var(--color-red-4)]"}],z={"full-tower":"FT","mid-tower":"MT","mini-tower":"mATX",sff:"SFF"};return A("section",{id:"case",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-26 pb-10 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-auto h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/3 right-1/4 absolute bg-[var(--color-purple-3)] blur-[150px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"bottom-1/3 left-1/4 absolute bg-[var(--color-red-3)] blur-[150px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full",children:[A("div",{className:"flex flex-col gap-2 animate-fadeIn",children:[A("div",{className:"flex items-center gap-3",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] font-bold text-transparent text-5xl tracking-tight",children:"PC Cases"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"The Foundation"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Your case choice determines motherboard size, PSU type, cooling capacity, and GPU clearance"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),A("div",{className:"gap-6 grid grid-cols-[1fr_20rem] grid-rows-[auto_auto] min-h-0",children:[A("div",{className:"flex flex-col flex-1 gap-4 col-start-1 row-start-1 w-full h-min",children:[A(tU,{className:"relative flex-1 border-[var(--gray-5)] border-2 w-120 overflow-hidden",children:[$("div",{className:`absolute inset-0 bg-gradient-to-br ${u[U].color} opacity-10 transition-all duration-700`}),$(FE,{className:"z-10 relative",children:$("div",{className:"flex justify-between items-start",children:A("div",{children:[$(AE,{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] to-[var(--color-red-3)] font-bold text-transparent text-3xl",children:u[U].name}),$(iu,{className:"mt-2 text-base",children:u[U].description})]})})}),$(KU,{className:"z-10 relative space-y-6",children:A("div",{className:"space-y-3",children:[A("div",{className:"flex items-center gap-2 font-semibold text-[var(--gray-2)] text-sm",children:[$(t4,{className:"w-4 h-4",style:{color:u[U].accentColor}}),"Supported Motherboards"]}),$("div",{className:"flex flex-wrap gap-2",children:u[U].motherboards.map((c)=>$(_E,{className:"px-4 py-2 border-2 font-medium text-gray-3 text-sm hover:scale-105 transition-all duration-300",style:{borderColor:u[U].accentColor,background:`${u[U].accentColor}20`},children:c},c))})]})})]}),$("div",{className:"gap-3 grid grid-cols-[repeat(auto-fit,minmax(48px,1fr))] col-start-1 row-start-2 p-2 w-full",children:Object.entries(u).map(([c,Y],P)=>$("button",{onClick:()=>E(c),style:{animationDelay:`${P*0.05}s`,animation:"fadeIn 0.45s ease-out",borderColor:U===c?Y.accentColor:void 0,background:U===c?`${Y.accentColor}20`:void 0},className:`
                      w-full px-3 py-1 text-sm rounded-md border-2
                      transition-all duration-300 shadow-sm
                      flex items-center justify-center
                      hover:scale-105
                      ${U===c?"scale-[1.02] shadow-[0_0_18px_rgba(110,63,237,0.18)]":"bg-[var(--gray-7)]"}
                    `,children:z[c]??Y.name},c))}),$(tU,{className:"bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] mt-2 border-[var(--color-purple-3)]/30 border-2 w-120",children:$(KU,{className:"p-4",children:A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," Choose your case first! It's the most permanent decision and constrains all other component selections."]})})})]}),A("div",{className:"flex flex-col gap-3 col-start-2 row-start-1 pr-2 w-80 overflow-y-auto custom-scrollbar",children:[$(tU,{className:"bg-gradient-to-br from-[var(--color-red-7)] to-[var(--gray-7)] border-[var(--color-red-3)]/30 border-2",children:A(FE,{className:"pb-3",children:[A("div",{className:"flex items-center gap-2",children:[$(d0,{className:"w-5 h-5 text-[var(--color-red-3)]"}),$(AE,{className:"text-base",children:"Key Constraints"})]}),$(iu,{className:"text-xs",children:"Your case dictates these critical limits"})]})}),p.map((c,Y)=>{let P=c.icon;return $(tU,{className:"group bg-[var(--gray-7)] border-[var(--gray-5)] border-2 hover:border-[var(--color-purple-4)] transition-all duration-300",style:{animationDelay:`${Y*0.1+0.3}s`,animation:"fadeIn 0.6s ease-out"},children:$(KU,{className:"p-4",children:A("div",{className:"flex items-start gap-3",children:[$("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center bg-gradient-to-br ${c.gradient} shadow-lg transition-transform duration-300 group-hover:scale-110`,children:$(P,{className:"w-5 h-5 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"font-semibold group-hover:text-[var(--color-purple-3)] text-sm transition-colors",children:c.title}),$("p",{className:"mt-1 text-[var(--gray-3)] text-xs leading-relaxed",children:c.description})]})]})})},c.title)})]})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-purple-3), var(--color-red-3));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-purple-4), var(--color-red-4));
        }
      `})]})}var Dl;var Jl=cU(()=>{Dl=OE(TE(),1);Ez();kz();Qz();t5();JU()});var bl="./aio_coolers-qjdydc1k.avif";var hl=()=>{};var Ml="./aircooler-hdpp0f0f.jpeg";var ll=()=>{};var fl="./custom_water_cooling-yb7303x1.webp";var Wl=()=>{};var Kl="./radiator_placement_main-4gvyt7p9.jpg";var sl=()=>{};var _l="./radiator_placement_second-t75nbk1e.jpg";var al=()=>{};var el="./radiator_placement-tj2xed16.jpg";var gl=()=>{};var Cl={};Pp(Cl,{Cooling:()=>KYU});function KYU(){let[U,E]=KN.useState("air"),[u,p]=KN.useState(!1),[z,c]=KN.useState(0),Y=[Kl,_l,el],P={air:{name:"Air Cooling",tagline:"Reliable & Cost-Effective",color:"from-[var(--color-purple-2)] to-[var(--color-purple-3)]",accentColor:"var(--color-purple-3)",image:Ml,pros:["Long-term reliability","Often matches AIO performance","Lower cost","No pump noise","Zero maintenance"],considerations:[{icon:s5,title:"Radiator Size",description:"Larger heatsink surface area = better cooling. Look for tower coolers with 5+ heat pipes."},{icon:mz,title:"Fan Configuration",description:"Dual-fan setups (120mm or 140mm) provide best price-to-performance. Push-pull recommended."},{icon:xZ,title:"Fan Brand Matters",description:"Premium fans (Noctua, Be Quiet!, Arctic) run significantly quieter than budget options at same RPM."},{icon:xj,title:"Sustained Performance",description:"Can outperform AIOs in long-running tasks due to consistent thermal dissipation without liquid heat saturation."}]},aio:{name:"AIO (All-in-One)",tagline:"Performance Spikes & Aesthetics",color:"from-[var(--color-magenta-2)] to-[var(--color-red-2)]",accentColor:"var(--color-magenta-2)",image:bl,pros:["High thermal capacity","Best for burst workloads","Clean aesthetics","Flexible mounting","RGB integration"],considerations:[{icon:xj,title:"Thermal Capacity",description:"Excels at short performance spikes thanks to liquid thermal mass. Water absorbs heat quickly, but takes time to dissipate."},{icon:s5,title:"Radiator Size",description:"240mm minimum, 280mm recommended, 360mm for high-end CPUs. Bigger = better heat dissipation over time."},{icon:mz,title:"Fan & Rad Thickness",description:"Check total thickness (radiator + fans). Standard: 25mm fans + 27-30mm rad. Thick rads (>35mm) may not fit all cases."},{icon:i5,title:"Placement Critical",description:"Mount radiator above pump if possible. Top/front exhaust ideal. Avoid tubes-down CPU block mounting to prevent air bubbles."}]},custom:{name:"Custom Water Cooling",tagline:"Ultimate Performance & Flexibility",color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)",image:fl,pros:["Maximum cooling potential","CPU + GPU cooling","Unmatched aesthetics","Highly customizable","Enthusiast showpiece"],considerations:[{icon:cz,title:"Significant Investment",description:"Expect $500-2000+ for quality components: blocks, radiators, pump/res combo, fittings, tubing, coolant. Way more expensive than air or AIO."},{icon:mP,title:"Annual Maintenance",description:"Requires yearly drain/flush/refill. Check for leaks regularly. Replace coolant to prevent algae growth and corrosion."},{icon:VP,title:"Multi-Component Cooling",description:"Can integrate CPU, GPU, RAM, VRM, and even M.2 drives into single loop for unified thermal management."},{icon:i5,title:"Leak Risk",description:"Improper installation or aging fittings can leak. Always leak test 24hrs before powering on. Not recommended for beginners."}]}};return A("section",{id:"cooling",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/3 absolute bg-[var(--color-purple-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"right-1/3 bottom-1/4 absolute bg-[var(--color-red-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"CPU Cooling"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"Thermal Management"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Choose the right cooling solution for your performance needs and budget"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),$(()=>$("div",{className:"gap-4 grid grid-cols-3 mb-6",children:Object.entries(P).map(([j,H])=>$(tU,{className:`cursor-pointer border-2 transition-all duration-300 ${U===j?"border-white/40 shadow-[0_0_30px_rgba(110,63,237,0.2)]":"border-[var(--gray-5)] hover:border-[var(--color-purple-4)]"}`,onClick:()=>E(j),children:$(KU,{className:"p-4",children:A("div",{className:"flex items-center gap-3",children:[A("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${H.color} shadow-lg`,children:[j==="air"&&$(mz,{className:"w-6 h-6 text-white"}),j==="aio"&&$(VP,{className:"w-6 h-6 text-white"}),j==="custom"&&$(uj,{className:"w-6 h-6 text-white"})]}),A("div",{className:"flex-1 min-w-0",children:[$("h3",{className:"font-semibold text-sm",children:H.name}),$("p",{className:"text-[var(--gray-3)] text-xs truncate",children:H.tagline})]}),U===j&&$("div",{className:"rounded-full w-2 h-2 animate-pulse",style:{backgroundColor:H.accentColor}})]})})},j))}),{}),A("div",{className:"flex flex-1 gap-6 min-h-0",children:[$("div",{className:"w-1/3",children:A(tU,{className:"group relative border-[var(--gray-5)] border-2 h-full overflow-hidden",children:[$("div",{className:`absolute inset-0 bg-gradient-to-br ${P[U].color} opacity-10 transition-all duration-700`}),A(KU,{className:"relative p-0 h-full",children:[A("div",{className:"absolute inset-0 flex justify-center items-center bg-[var(--gray-6)]",children:[$("img",{src:P[U].image,alt:P[U].name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:(j)=>{j.currentTarget.style.display="none"}}),$("div",{className:"absolute inset-0 bg-gradient-to-t from-[var(--gray-7)] via-transparent to-transparent opacity-60"})]}),$("div",{className:"right-6 bottom-6 left-6 absolute",children:$("div",{className:"bg-[var(--gray-6)]/95 backdrop-blur-md p-4 border border-[var(--gray-5)] rounded-lg",children:A("div",{className:"flex items-center gap-3",children:[A("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${P[U].color} shadow-lg`,children:[U==="air"&&$(mz,{className:"w-6 h-6 text-white"}),U==="aio"&&$(VP,{className:"w-6 h-6 text-white"}),U==="custom"&&$(uj,{className:"w-6 h-6 text-white"})]}),A("div",{children:[$("h3",{className:"font-semibold text-lg",children:P[U].name}),$("p",{className:"text-[var(--gray-3)] text-xs",children:P[U].tagline})]}),U==="aio"&&$("div",{className:"ml-4",children:$(fu,{size:"sm",variant:"outline",onClick:()=>p(!0),children:"View radiator images"})})]})})})]})]})}),u&&U==="aio"&&$("div",{className:"z-50 fixed inset-0 flex justify-center items-center p-6",style:{background:"rgba(0,0,0,0.6)"},onClick:()=>p(!1),children:A(tU,{className:"relative w-full max-w-5xl h-[80vh] overflow-hidden",onClick:(j)=>j.stopPropagation(),children:[$("div",{className:"top-4 right-4 absolute",children:$(fu,{size:"icon",variant:"ghost",onClick:()=>p(!1),children:""})}),A(FE,{className:"p-4",children:[$(AE,{children:"Radiator Placement  AIO"}),$(iu,{className:"text-xs",children:"Examples of common radiator placements and orientations"})]}),$(KU,{className:"flex justify-center items-center bg-[var(--gray-7)] p-0 h-[calc(100%-4rem)]",children:A("div",{className:"relative flex justify-center items-center w-full h-full",children:[$("img",{src:Y[z],alt:`Radiator placement ${z+1}`,className:"max-w-full max-h-[calc(80vh-6rem)] object-contain"}),$("div",{className:"top-1/2 left-4 absolute -translate-y-1/2",children:$(fu,{size:"icon",variant:"ghost",onClick:()=>c((j)=>(j-1+Y.length)%Y.length),children:$(Lk,{className:"w-5 h-5"})})}),$("div",{className:"top-1/2 right-4 absolute -translate-y-1/2",children:$(fu,{size:"icon",variant:"ghost",onClick:()=>c((j)=>(j+1)%Y.length),children:$(Xk,{className:"w-5 h-5"})})}),$("div",{className:"bottom-4 left-1/2 absolute flex gap-2 -translate-x-1/2",children:Y.map((j,H)=>$("button",{onClick:()=>c(H),className:`w-3 h-3 rounded-full ${H===z?"bg-white":"bg-white/30"}`,"aria-label":`Show image ${H+1}`},H))})]})})]})}),A("div",{className:"flex flex-col flex-1 gap-4 pr-2 overflow-y-auto custom-scrollbar",children:[$(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:A("div",{className:"flex items-center gap-2 p-4 border-[var(--gray-5)] border-b font-semibold",children:[A("div",{className:"flex items-center gap-2 mr-5",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:P[U].accentColor}}),"Key Advantages"]}),$("div",{className:"flex flex-wrap gap-2",children:P[U].pros.map((j,H)=>$(_E,{className:"px-3 py-1.5 border-2 text-gray-3 text-xs hover:scale-105 transition-all duration-300",style:{borderColor:P[U].accentColor,background:`${P[U].accentColor}15`},children:j},H))})]})}),A("div",{className:"flex flex-col gap-2 w-full h-full",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-3",children:A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:P[U].accentColor}}),"Important Considerations"]})}),$(KU,{className:"space-y-2",children:P[U].considerations.map((j,H)=>{let k=j.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-md transition-all duration-200",style:{animationDelay:`${H*0.06}s`,animation:"fadeIn 0.45s ease-out"},children:[$("div",{className:`w-8 h-8 rounded-md flex items-center justify-center flex-shrink-0 bg-gradient-to-br ${P[U].color} shadow transition-transform duration-200 group-hover:scale-105`,children:$(k,{className:"w-4 h-4 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-purple-3)] text-xs transition-colors",children:j.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:j.description})]})]},H)})})]}),$(tU,{className:"bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] border-2",style:{borderColor:`${P[U].accentColor}40`},children:$(KU,{className:"p-4",children:A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:[U==="air"&&A(qu,{children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," Don't overspend on air coolers. A $40-60 tower cooler with quality fans often performs within 2-3C of $100+ models."]}),U==="aio"&&A(qu,{children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," Larger radiators (280mm/360mm) run quieter at lower fan speeds while maintaining excellent cooling. Factor in case compatibility before buying."]}),U==="custom"&&A(qu,{children:[" ",$("strong",{children:"Important:"})," Custom loops are for enthusiasts only. Budget $1000+ for quality parts and expect 4-8 hours of build time plus annual maintenance."]})]})})})]})]})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-purple-3), var(--color-red-3));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-purple-4), var(--color-red-4));
        }
      `})]})}var KN;var UM=cU(()=>{KN=OE(TE(),1);Ez();kz();vP();Qz();t5();hl();ll();Wl();sl();al();gl();JU()});var uM="./120vs140-y99t0tk3.jpg";var EM=()=>{};var zM="./vb_lianli_fan_connect-ztt6yah0.png";var pM=()=>{};var YM="./fan-hub-1ytjpv2s.webp";var cM=()=>{};var PM={};Pp(PM,{Fans:()=>eYU});function eYU(){let[U,E]=ZM.useState("basics"),u={basics:{name:"Fan Basics",icon:mz,color:"from-[var(--color-purple-2)] to-[var(--color-purple-3)]",accentColor:"var(--color-purple-3)"},noise:{name:"Noise & Performance",icon:xZ,color:"from-[var(--color-magenta-2)] to-[var(--color-red-2)]",accentColor:"var(--color-magenta-2)"},comparison:{name:"Fan Database",icon:s5,color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)"},management:{name:"Fan Management",icon:Pc,color:"from-[var(--color-purple-4)] to-[var(--color-magenta-2)]",accentColor:"var(--color-purple-4)"}},p=[{size:"120mm",image:"/path/to/120mm-fan.jpg",pros:["Universal compatibility","More mounting options","Cheaper"],cons:["Higher noise at same airflow","More fans needed"]},{size:"140mm",image:"/path/to/140mm-fan.jpg",pros:["Quieter operation","Better airflow per fan","Lower RPM needed"],cons:["More expensive","Fewer mounting points"]}],z={basics:[{icon:v0,title:"Fan Count Balance",description:"Aim for slightly positive pressure (more intake than exhaust) to reduce dust. Too many fans = diminishing returns and more noise."},{icon:s5,title:"Size Matters",description:"140mm fans move 40-50% more air than 120mm at same RPM. Bigger = quieter for same airflow. Check case mounting support."},{icon:mz,title:"Airflow Pattern",description:"Front/bottom intake, rear/top exhaust is standard. Avoid fighting natural convection. Create clear path through case."}],noise:[{icon:xZ,title:"RPM vs Noise",description:"Noise increases exponentially with RPM. Running fans at 60-70% max speed dramatically reduces noise with minimal performance loss."},{icon:s5,title:"Static Pressure vs Airflow",description:"Static pressure fans for radiators/restrictive intakes. Airflow fans for open mounting. Affects noise profile significantly."},{icon:mz,title:"Premium Fan Difference",description:"Quality fans (Noctua, Arctic, Be Quiet!) use better bearings and blade design. 10-15 dB quieter than budget fans at same airflow."}],management:[{icon:pj,title:"Daisy Chaining",description:"Lian Li and others offer daisy-chain cables. Connect multiple fans in series to single header. Limits: 1A per header (~3-4 fans)."},{icon:Pc,title:"Fan Hubs",description:"Powered hubs handle 6-10+ fans with single motherboard connection. Requires SATA/Molex power. Enables unified PWM control."},{icon:v0,title:"PWM vs DC",description:"PWM (4-pin) preferred for precise speed control. DC (3-pin) uses voltage regulation. All modern boards support PWM."}]};return A("section",{id:"fans",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/3 absolute bg-[var(--color-purple-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"right-1/3 bottom-1/4 absolute bg-[var(--color-red-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Case Fans"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"Airflow & Acoustics"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Optimize cooling performance and noise levels with the right fan setup"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),A(Y4,{value:U,onValueChange:E,className:"flex flex-col flex-1 min-h-0",children:[$(Z4,{className:"grid grid-cols-4 bg-[var(--gray-6)] border border-[var(--gray-5)] w-full h-12",children:Object.entries(u).map(([c,Y])=>{let P=Y.icon;return A(e0,{value:c,className:"data-[state=active]:bg-gradient-to-r data-[state=active]:text-white transition-all duration-300",style:{["--tw-gradient-from"]:Y.accentColor,["--tw-gradient-to"]:Y.accentColor},children:[$(P,{className:"mr-2 w-4 h-4"}),Y.name]},c)})}),A(Zp,{value:"basics",className:"flex flex-1 gap-4 mt-6 min-h-0",children:[$("div",{className:"flex flex-col gap-4 w-3/5",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-purple-3)] rounded-full w-2 h-2"}),"120mm vs 140mm"]})}),$(KU,{children:A("div",{className:"items-start gap-3 grid grid-cols-1 md:grid-cols-2",children:[$("div",{className:"flex justify-center",children:$("div",{className:"bg-[var(--gray-6)] border border-[var(--gray-5)] rounded-lg max-w-sm overflow-hidden",children:$("img",{src:uM,alt:"120mm vs 140mm",className:"w-full h-auto object-contain",onError:(c)=>{c.currentTarget.style.display="none"}})})}),$("div",{className:"flex flex-row gap-10 space-y-4",children:p.map((c,Y)=>A("div",{className:"space-y-2",children:[$("p",{className:"mb-1 font-semibold text-sm",children:c.size}),A("div",{className:"space-y-0.5 text-xs",children:[$("p",{className:"font-semibold text-[var(--gray-3)]",children:"Advantages"}),c.pros.map((P,n)=>A("div",{className:"flex items-start gap-1",children:[$("span",{className:"mt-0.5 text-green-500 text-xs",children:""}),$("span",{className:"text-xs",children:P})]},n))]}),A("div",{className:"space-y-0.5 mt-2 text-xs",children:[$("p",{className:"font-semibold text-[var(--gray-3)]",children:"Drawbacks"}),c.cons.map((P,n)=>A("div",{className:"flex items-start gap-1",children:[$("span",{className:"mt-0.5 text-orange-400 text-xs",children:""}),$("span",{className:"text-[var(--gray-3)] text-xs",children:P})]},n))]})]},Y))})]})})]})}),$("div",{className:"w-2/5",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-auto",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$("span",{className:"bg-[var(--color-purple-3)] rounded-full w-2 h-2"}),"Key Considerations"]})}),$(KU,{className:"space-y-2",children:z.basics.map((c,Y)=>{let P=c.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-md transition-all duration-200",children:[$("div",{className:"flex flex-shrink-0 justify-center items-center bg-gradient-to-br from-[var(--color-purple-2)] to-[var(--color-purple-3)] shadow rounded-md w-8 h-8 group-hover:scale-105 transition-transform duration-200",children:$(P,{className:"w-4 h-4 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-purple-3)] text-xs transition-colors",children:c.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:c.description})]})]},Y)})})]})})]}),$(Zp,{value:"noise",className:"flex flex-1 gap-6 mt-6 min-h-0",children:A("div",{className:"flex flex-col flex-1 gap-4 pr-2 overflow-y-auto custom-scrollbar",children:[A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[A(FE,{children:[A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"bg-[var(--color-magenta-2)] rounded-full w-2 h-2"}),"Noise Level Understanding"]}),$(iu,{className:"text-xs",children:"Balance between cooling and acoustics"})]}),A(KU,{className:"space-y-4",children:[A("div",{className:"space-y-2",children:[$("p",{className:"font-semibold text-sm",children:"Common dBA Levels"}),$("div",{className:"space-y-2",children:[{level:"15-20 dBA",desc:"Whisper quiet - barely audible",color:"bg-green-500"},{level:"20-25 dBA",desc:"Very quiet - ideal for silent builds",color:"bg-green-400"},{level:"25-30 dBA",desc:"Quiet - comfortable for most users",color:"bg-yellow-400"},{level:"30-35 dBA",desc:"Moderate - noticeable under load",color:"bg-orange-400"},{level:"35+ dBA",desc:"Loud - distracting for quiet environments",color:"bg-red-400"}].map((c,Y)=>A("div",{className:"flex items-center gap-3",children:[$("div",{className:`w-20 h-2 ${c.color} rounded-full`}),$("span",{className:"w-24 font-mono font-semibold text-xs",children:c.level}),$("span",{className:"text-[var(--gray-3)] text-xs",children:c.desc})]},Y))})]}),$(Ku,{className:"bg-[var(--gray-5)]"}),$("div",{className:"space-y-2",children:z.noise.map((c,Y)=>{let P=c.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-md transition-all duration-200",children:[$("div",{className:"flex flex-shrink-0 justify-center items-center bg-gradient-to-br from-[var(--color-magenta-2)] to-[var(--color-red-2)] shadow rounded-md w-8 h-8 group-hover:scale-105 transition-transform duration-200",children:$(P,{className:"w-4 h-4 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-purple-3)] text-xs transition-colors",children:c.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:c.description})]})]},Y)})})]})]}),$(tU,{className:"bg-gradient-to-br from-[var(--color-purple-7)] to-[var(--gray-7)] border-[var(--color-magenta-2)]/40 border-2",children:$(KU,{className:"p-4",children:A("p",{className:"text-[var(--gray-2)] text-xs leading-relaxed",children:["\uD83D\uDCA1 ",$("strong",{children:"Pro Tip:"})," Set fan curves in BIOS to ramp up gradually. 40% speed at idle, 70% at 60C, 100% only at 80C+. This keeps noise low while maintaining excellent cooling."]})})})]})}),$(Zp,{value:"comparison",className:"flex-1 mt-6 min-h-0 overflow-hidden",children:A(tU,{className:"flex flex-col border-[var(--gray-5)] border-2 h-full overflow-hidden",children:[$(FE,{className:"flex-shrink-0 pb-3",children:A("div",{className:"flex justify-between items-start",children:[A("div",{children:[A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"bg-[var(--corp-red)] rounded-full w-2 h-2 animate-pulse"}),"Fan Performance Database"]}),$(iu,{className:"mt-1 text-xs",children:"Comprehensive fan comparison spreadsheet"})]}),$(_E,{variant:"outline",className:"text-xs",children:"Interactive"})]})}),$(KU,{className:"flex-1 p-0 min-h-0",children:$("div",{className:"flex justify-center items-center p-6 w-full h-full",children:$("a",{href:"https://docs.google.com/spreadsheets/d/1xrG3jE_l3KeXxGqalMVvrSNNeynwiLx6xj_bmn1zj9w/edit?pli=1&gid=1026757744#gid=1026757744",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-[var(--color-purple-3)] hover:opacity-90 px-4 py-2 rounded-md text-white",children:"Open Fan Performance Database"})})})]})}),A(Zp,{value:"management",className:"flex flex-1 gap-4 mt-6 min-h-0",children:[$("div",{className:"w-1/2",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$(pj,{className:"w-4 h-4",style:{color:"var(--color-purple-4)"}}),"Daisy Chaining"]}),$(iu,{className:"text-xs",children:"Connect multiple fans in series (e.g., Lian Li)"})]}),$(KU,{className:"h-[calc(100%-5rem)]",children:$("div",{className:"bg-[var(--gray-6)] border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:zM,alt:"Fan daisy chaining example",className:"w-full h-full object-cover",onError:(c)=>{c.currentTarget.style.display="none"}})})})]})}),$("div",{className:"w-1/2",children:A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2 h-full",children:[A(FE,{className:"pb-2",children:[A(AE,{className:"flex items-center gap-2 text-base",children:[$(Pc,{className:"w-4 h-4",style:{color:"var(--color-magenta-2)"}}),"Fan Hub"]}),$(iu,{className:"text-xs",children:"Powered hub for 6-10+ fans with external power"})]}),$(KU,{className:"h-[calc(100%-5rem)]",children:$("div",{className:"flex justify-center items-center bg-white border border-[var(--gray-5)] rounded-lg w-full h-full overflow-hidden",children:$("img",{src:YM,alt:"Fan hub example",className:"max-w-full max-h-full object-contain",onError:(c)=>{c.currentTarget.style.display="none"}})})})]})})]})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-purple-3), var(--color-red-3));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-purple-4), var(--color-red-4));
        }
      `})]})}var ZM;var xM=cU(()=>{ZM=OE(TE(),1);Ez();kz();Qz();bq();t5();EM();pM();cM();JU()});var nM={};Pp(nM,{Planning:()=>CYU});function CYU(){let[U,E]=aN.useState("research"),u={research:{name:"Research & Planning",tagline:"Define Your Build",color:"from-[var(--color-purple-2)] to-[var(--color-purple-3)]",accentColor:"var(--color-purple-3)",icon:zj,steps:[{icon:GP,title:"Define Use Case",description:"Gaming? Content creation? Work? Your primary use determines CPU/GPU balance and RAM requirements."},{icon:cz,title:"Set Realistic Budget",description:"Most entry point systems will start at around 800 euros now. Don't forget peripherals, monitor, and OS."},{icon:p5,title:"Platform Selection",description:"Intel vs AMD, DDR4 vs DDR5. Your CPU choice locks in motherboard socket and RAM type for years."},{icon:i5,title:"Compatibility Check",description:"Case size vs GPU length, cooler clearance, PSU wattage, motherboard form factor. Use PCPartPicker for validation."}]},selection:{name:"Component Selection",tagline:"Choose Your Parts",color:"from-[var(--color-magenta-2)] to-[var(--color-red-2)]",accentColor:"var(--color-magenta-2)",icon:Zj,steps:[{icon:Ok,title:"Price Comparison",description:"Tools like PCPartPicker track prices across retailers. However, these are based on the american market. Use Tweakers instead! Parts can vary 50-100+ between stores."},{icon:mP,title:"Wait for Deals",description:"Black Friday, often bring 15-30% discounts. Do not buy during new release windows, as scalpers will affect the price. Set price alerts on key components."},{icon:vk,title:"Future-Proofing",description:"Only future proof if u intend to buy an upgrade within the year! Consider PCIe 4.0/5.0, DDR5 RAM, and motherboard features for longevity."},{icon:i5,title:"Avoid Bottlenecks",description:"Don't pair a high-end GPU with a budget CPU or vice versa. Balance your build for optimal performance."}]}},p=[{name:"PC Part Picker",url:"https://pcpartpicker.com",description:"Compatibility checker & price tracker",color:"var(--color-purple-3)"},{name:"BuildCores",url:"https://buildcores.com",description:"Pre-configured build guides",color:"var(--color-magenta-2)"}],z=[{name:"Megekko",url:"https://www.megekko.nl",description:"Netherlands PC parts retailer",color:"var(--color-red-3)"},{name:"Alternate",url:"https://www.alternate.nl",description:"Tech & gaming hardware",color:"var(--color-purple-4)"}];return A("section",{id:"planning",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-26 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/3 absolute bg-[var(--color-purple-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"right-1/3 bottom-1/4 absolute bg-[var(--color-magenta-2)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Planning Your Build"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"Build Strategy"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Strategic approach to planning, budgeting, and sourcing your PC components"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),$(()=>$("div",{className:"gap-4 grid grid-cols-2 mb-6",children:Object.entries(u).map(([Y,P])=>{let n=P.icon;return $(tU,{className:`cursor-pointer border-2 transition-all duration-300 ${U===Y?"border-white/40 shadow-[0_0_30px_rgba(110,63,237,0.2)]":"border-[var(--gray-5)] hover:border-[var(--color-purple-4)]"}`,onClick:()=>E(Y),children:$(KU,{className:"p-4",children:A("div",{className:"flex items-center gap-3",children:[$("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${P.color} shadow-lg`,children:$(n,{className:"w-6 h-6 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h3",{className:"font-semibold text-sm",children:P.name}),$("p",{className:"text-[var(--gray-3)] text-xs truncate",children:P.tagline})]}),U===Y&&$("div",{className:"rounded-full w-2 h-2 animate-pulse",style:{backgroundColor:P.accentColor}})]})})},Y)})}),{}),A("div",{className:"flex flex-1 gap-6 min-h-0",children:[A("div",{className:"flex flex-col gap-4 w-1/5",children:[A(tU,{className:"border-[var(--gray-5)] border-2",children:[A(FE,{className:"pb-3",children:[A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"bg-[var(--color-purple-3)] rounded-full w-2 h-2"}),"Planning Tools"]}),$(iu,{className:"text-xs",children:"Essential websites for build planning"})]}),$(KU,{className:"space-y-3",children:p.map((Y,P)=>$(tU,{className:"group bg-[var(--gray-6)]/30 hover:bg-[var(--gray-6)]/50 p-4 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] transition-all duration-200 cursor-pointer",onClick:()=>window.open(Y.url,"_blank"),children:A("div",{className:"flex justify-between items-start gap-3",children:[A("div",{className:"flex-1 min-w-0",children:[A("h4",{className:"flex items-center gap-2 mb-1 font-semibold group-hover:text-[var(--color-purple-3)] text-sm transition-colors",children:[Y.name,$(ZZ,{className:"opacity-0 group-hover:opacity-100 w-3 h-3 transition-opacity"})]}),$("p",{className:"text-[var(--gray-3)] text-xs",children:Y.description})]}),$("div",{className:"flex flex-shrink-0 justify-center items-center rounded-md w-8 h-8",style:{backgroundColor:`${Y.color}20`},children:$(zj,{className:"w-4 h-4",style:{color:Y.color}})})]})},P))})]}),A(tU,{className:"border-[var(--gray-5)] border-2",children:[A(FE,{className:"pb-3",children:[A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"bg-[var(--color-red-3)] rounded-full w-2 h-2"}),"Buy Components"]}),$(iu,{className:"text-xs",children:"Trusted retailers in the Netherlands"})]}),$(KU,{className:"space-y-3",children:z.map((Y,P)=>$(tU,{className:"group bg-[var(--gray-6)]/30 hover:bg-[var(--gray-6)]/50 p-4 border border-[var(--gray-5)] hover:border-[var(--color-red-4)] transition-all duration-200 cursor-pointer",onClick:()=>window.open(Y.url,"_blank"),children:A("div",{className:"flex justify-between items-start gap-3",children:[A("div",{className:"flex-1 min-w-0",children:[A("h4",{className:"flex items-center gap-2 mb-1 font-semibold group-hover:text-[var(--color-red-3)] text-sm transition-colors",children:[Y.name,$(ZZ,{className:"opacity-0 group-hover:opacity-100 w-3 h-3 transition-opacity"})]}),$("p",{className:"text-[var(--gray-3)] text-xs",children:Y.description})]}),$("div",{className:"flex flex-shrink-0 justify-center items-center rounded-md w-8 h-8",style:{backgroundColor:`${Y.color}20`},children:$(Zj,{className:"w-4 h-4",style:{color:Y.color}})})]})},P))})]})]}),A("div",{className:"flex flex-col gap-4 pr-2 w-3/7 overflow-y-auto custom-scrollbar",children:[$(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:$(KU,{className:"p-4",children:A("div",{className:"flex items-center gap-3",children:[$("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${u[U].color} shadow-lg`,children:aN.default.createElement(u[U].icon,{className:"w-6 h-6 text-white"})}),A("div",{children:[$("h3",{className:"font-semibold text-lg",children:u[U].name}),$("p",{className:"text-[var(--gray-3)] text-xs",children:u[U].tagline})]})]})})}),A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-3",children:A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:u[U].accentColor}}),"Key Steps"]})}),$(KU,{className:"space-y-2",children:u[U].steps.map((Y,P)=>{let n=Y.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-md transition-all duration-200",style:{animationDelay:`${P*0.06}s`,animation:"fadeIn 0.45s ease-out"},children:[$("div",{className:`w-8 h-8 rounded-md flex items-center justify-center flex-shrink-0 bg-gradient-to-br ${u[U].color} shadow transition-transform duration-200 group-hover:scale-105`,children:$(n,{className:"w-4 h-4 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-purple-3)] text-xs transition-colors",children:Y.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:Y.description})]})]},P)})})]})]})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-purple-3), var(--color-red-3));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-purple-4), var(--color-red-4));
        }
      `})]})}var aN;var jM=cU(()=>{aN=OE(TE(),1);Ez();kz();Qz();t5();JU()});var HM="./ifixit-bybxckg6.jpg";var qM=()=>{};var kM={};Pp(kM,{BuildTools:()=>EZU});function EZU(){return A("section",{id:"build-tools",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-20 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 left-1/3 absolute bg-[var(--color-purple-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"right-1/3 bottom-1/4 absolute bg-[var(--color-red-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-purple-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Build Tools"}),$(_E,{variant:"outline",className:"border-[var(--color-purple-3)] text-[var(--color-purple-3)] text-xs",children:"Assembly Kit"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"Everything you need to safely assemble your PC build"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-purple-3)] to-transparent opacity-30"}),A("div",{className:"flex flex-1 items-center gap-10 min-h-0",children:[$("div",{className:"flex-1 h-full",children:$("div",{className:"relative flex justify-center items-center bg-white shadow-2xl border-[var(--gray-5)] border-2 rounded-xl w-full h-full overflow-hidden",children:$("div",{className:"flex justify-center items-center rounded-md w-full h-full overflow-hidden",children:$("img",{src:HM,alt:"iFixit Toolkit",className:"block max-w-full max-h-full object-contain",onError:(E)=>{E.currentTarget.style.display="none"}})})})}),A("div",{className:"flex flex-col flex-1 justify-center",children:[$("h3",{className:"mb-6 font-bold text-[var(--gray-1)] text-3xl",children:"Required Items"}),$("div",{className:"space-y-3",children:["Phillips Head Screwdriver (#2)","Anti-Static Wrist Strap","Isopropyl Alcohol (90%+)","Cable Ties / Velcro Straps","USB Drive (8GB+ for Windows)","Hdmi & DisplayPort Cables","periferal Devices (Keyboard, Mouse)","display Monitor"].map((E,u)=>A("div",{className:"flex items-center gap-3 bg-[var(--gray-6)]/50 hover:bg-[var(--gray-6)]/70 backdrop-blur-sm p-4 border border-[var(--gray-5)] hover:border-[var(--color-purple-4)] rounded-lg transition-all duration-200",style:{animationDelay:`${u*0.1}s`,animation:"fadeIn 0.5s ease-out"},children:[$(YZ,{className:"flex-shrink-0 w-5 h-5 text-[var(--color-purple-3)]"}),$("span",{className:"text-[var(--gray-2)] text-lg",children:E})]},u))})]})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}var QM=cU(()=>{kz();Qz();t5();qM();JU()});var yM="./threadripper-0nvfxmcg.jpg";var $M=()=>{};var OM="./eatx-sr1thgys.jpg";var IM=()=>{};var rM="./Noctua-Threadripper-COOLER-1-xcddwv1x.jpg";var NM=()=>{};var XM="./ecc-6rg3ce5w.webp";var LM=()=>{};var TM={};Pp(TM,{ThreadripperSection:()=>YZU});function YZU(){let[U,E]=_N.useState("threadripper"),u={threadripper:{name:"AMD Threadripper",tagline:"Professional Workstation Power",color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)",icon:p5,image:yM,imageTitle:"Threadripper Processor",imageDescription:"Massive die size and TR5 socket",features:[{icon:p5,title:"Extreme Core Count",description:"Up to 96 cores and 192 threads for unparalleled multi-threaded performance in rendering, simulation, and compilation."},{icon:Ip,title:"PCIe Lanes Galore",description:"Up to 128 PCIe lanes enable multiple GPUs, NVMe drives, and high-speed peripherals without bandwidth constraints."},{icon:cz,title:"Professional Pricing",description:"Threadripper systems start at 2,500-3,000 for entry models, scaling to 10,000+ for flagship configurations."}]},eatx:{name:"EATX Platform",tagline:"Extended ATX Motherboards",color:"from-[var(--color-purple-2)] to-[var(--color-magenta-2)]",accentColor:"var(--color-magenta-2)",icon:R0,image:OM,imageTitle:"EATX Motherboard",imageDescription:"TRX50 platform with extensive expansion",features:[{icon:R0,title:"Massive Expansion",description:"Extended ATX motherboards provide more PCIe lanes, memory channels, and expansion slots for professional workloads."},{icon:p5,title:"Multi-Channel Memory",description:"Quad-channel DDR5 support with up to 8 DIMM slots for maximum memory capacity and bandwidth in professional applications."},{icon:cz,title:"Premium Platform",description:"TRX50 motherboards range from 800-1,200, providing enterprise-grade features and durability."}]},ecc:{name:"ECC Memory",tagline:"Error-Correcting Code RAM",color:"from-[var(--color-purple-3)] to-[var(--color-blue-2)]",accentColor:"var(--color-blue-2)",icon:Jc,image:XM,imageTitle:"ECC RAM Module",imageDescription:"Registered ECC DIMM with error correction",features:[{icon:Jc,title:"Data Integrity",description:"Detects and corrects single-bit memory errors in real-time, preventing crashes and data corruption in critical workflows."},{icon:d0,title:"Mission-Critical",description:"Essential for servers, scientific computing, financial systems, and any application where data accuracy is non-negotiable."},{icon:R0,title:"Workstation Standard",description:"Threadripper platforms support ECC memory, making them ideal for professional content creation and engineering work."},{icon:cz,title:"Premium Cost",description:"ECC RAM typically costs 20-40% more than standard memory, but provides invaluable peace of mind for professionals."}]},cooling:{name:"Cooling Solutions",tagline:"Taming Threadripper TDP",color:"from-[var(--color-red-3)] to-[var(--color-red-4)]",accentColor:"var(--color-red-4)",icon:d0,image:rM,imageTitle:"Noctua Threadripper Cooler",imageDescription:"Specialized cooling for high TDP CPUs",features:[{icon:d0,title:"High TDP Requirements",description:"Threadripper CPUs can consume 350W+ under load, requiring specialized cooling solutions designed for the large TR5 socket."},{icon:Ip,title:"Air vs Liquid",description:"High-end air coolers like Noctua's TR5 models compete with 360mm+ AIOs, with custom loops reserved for extreme overclocking."},{icon:cz,title:"Cooling Investment",description:"Quality Threadripper coolers range from 100-150 for air, 200-300 for AIO, and 500+ for custom loops."}]}};return A("section",{id:"threadripper",className:"relative flex flex-row justify-center items-center gap-10 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-20 pt-26 pb-20 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 right-1/3 absolute bg-[var(--color-red-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"bottom-1/4 left-1/4 absolute bg-[var(--color-magenta-2)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-6 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-red-3)] via-[var(--color-magenta-2)] to-[var(--color-purple-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Workstation Territory"}),$(_E,{variant:"outline",className:"border-[var(--color-red-3)] text-[var(--color-red-3)] text-xs",children:"Professional Grade"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"High-end workstation platforms for professionals who demand maximum performance and reliability"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-red-3)] to-transparent opacity-30"}),$(()=>$("div",{className:"gap-4 grid grid-cols-2 mb-6",children:Object.entries(u).map(([z,c])=>{let Y=c.icon;return $(tU,{className:`cursor-pointer border-2 transition-all duration-300 ${U===z?"border-white/40 shadow-[0_0_30px_rgba(237,63,110,0.2)]":"border-[var(--gray-5)] hover:border-[var(--color-red-4)]"}`,onClick:()=>E(z),children:$(KU,{className:"p-4",children:A("div",{className:"flex items-center gap-3",children:[$("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${c.color} shadow-lg`,children:$(Y,{className:"w-6 h-6 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h3",{className:"font-semibold text-sm",children:c.name}),$("p",{className:"text-[var(--gray-3)] text-xs truncate",children:c.tagline})]}),U===z&&$("div",{className:"rounded-full w-2 h-2 animate-pulse",style:{backgroundColor:c.accentColor}})]})})},z)})}),{}),A("div",{className:"flex flex-1 gap-6 min-h-0",children:[A("div",{className:"flex flex-col gap-4 pr-2 w-1/2 overflow-y-auto custom-scrollbar",children:[$(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:$(KU,{className:"p-4",children:A("div",{className:"flex items-center gap-3",children:[$("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${u[U].color} shadow-lg`,children:_N.default.createElement(u[U].icon,{className:"w-6 h-6 text-white"})}),A("div",{children:[$("h3",{className:"font-semibold text-lg",children:u[U].name}),$("p",{className:"text-[var(--gray-3)] text-xs",children:u[U].tagline})]})]})})}),A(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:[$(FE,{className:"pb-3",children:A(AE,{className:"flex items-center gap-2 text-lg",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:u[U].accentColor}}),"Key Features"]})}),$(KU,{className:"space-y-2",children:u[U].features.map((z,c)=>{let Y=z.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-red-4)] rounded-md transition-all duration-200",style:{animationDelay:`${c*0.06}s`,animation:"fadeIn 0.45s ease-out"},children:[$("div",{className:`w-8 h-8 rounded-md flex items-center justify-center flex-shrink-0 bg-gradient-to-br ${u[U].color} shadow transition-transform duration-200 group-hover:scale-105`,children:$(Y,{className:"w-4 h-4 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-red-3)] text-xs transition-colors",children:z.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:z.description})]})]},c)})})]})]}),A("div",{className:"flex flex-col gap-4 w-1/2",children:[A(tU,{className:"border-[var(--gray-5)] border-2 overflow-hidden",children:[A(FE,{className:"pb-2",children:[$(AE,{className:"text-base",children:u[U].imageTitle}),$(iu,{className:"text-xs",children:u[U].imageDescription})]}),$(KU,{className:"p-4",children:$("div",{className:"flex justify-center items-center bg-gradient-to-br from-[var(--gray-6)] to-[var(--gray-5)] shadow-inner rounded-lg w-full h-full overflow-hidden",children:$("div",{className:"flex justify-center items-center bg-white w-full h-full",children:$("img",{src:u[U].image,alt:u[U].imageTitle,className:"w-150 h-full"})})})})]}),A(tU,{className:"bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] border-[var(--color-red-3)] border-2",children:[$(FE,{className:"pb-2",children:A(AE,{className:"flex items-center gap-2 text-base",children:[$(cz,{className:"w-5 h-5 text-[var(--color-red-3)]"}),"Pricing Overview"]})}),A(KU,{className:"space-y-3",children:[U==="threadripper"&&A(qu,{children:[A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"Threadripper 7960X (24-core)"}),$("span",{className:"font-semibold text-[var(--color-red-3)] text-sm",children:"1,500"})]}),A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"Threadripper 7980X (64-core)"}),$("span",{className:"font-semibold text-[var(--color-red-3)] text-sm",children:"5,000"})]}),A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"Complete System Build"}),$("span",{className:"font-semibold text-[var(--color-red-3)] text-sm",children:"3,000-10,000+"})]})]}),U==="eatx"&&A(qu,{children:[A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"TRX50 EATX Motherboard"}),$("span",{className:"font-semibold text-[var(--color-magenta-2)] text-sm",children:"800-1,200"})]}),A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"128GB ECC DDR5 (4x32GB)"}),$("span",{className:"font-semibold text-[var(--color-magenta-2)] text-sm",children:"500-700"})]}),A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"Full-Tower EATX Case"}),$("span",{className:"font-semibold text-[var(--color-magenta-2)] text-sm",children:"200-400"})]})]}),U==="ecc"&&A(qu,{children:[A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"32GB ECC DDR5 (2x16GB)"}),$("span",{className:"font-semibold text-[var(--color-blue-2)] text-sm",children:"150-200"})]}),A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"128GB ECC DDR5 (4x32GB)"}),$("span",{className:"font-semibold text-[var(--color-blue-2)] text-sm",children:"500-700"})]}),A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"vs Standard Non-ECC"}),$("span",{className:"font-semibold text-[var(--color-blue-2)] text-sm",children:"+20-40%"})]})]}),U==="cooling"&&A(qu,{children:[A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"Noctua NH-U14S TR5-SP6"}),$("span",{className:"font-semibold text-[var(--color-red-4)] text-sm",children:"120-150"})]}),A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"360mm AIO (TR5 Compatible)"}),$("span",{className:"font-semibold text-[var(--color-red-4)] text-sm",children:"200-300"})]}),A("div",{className:"flex justify-between items-center p-3 border border-[var(--gray-5)] rounded-md",children:[$("span",{className:"text-sm",children:"Custom Water Loop"}),$("span",{className:"font-semibold text-[var(--color-red-4)] text-sm",children:"500-1,000+"})]})]})]})]})]})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-red-3), var(--color-magenta-2));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-red-4), var(--color-magenta-3));
        }
      `})]})}var _N;var oM=cU(()=>{_N=OE(TE(),1);Ez();kz();Qz();t5();$M();IM();NM();LM();JU()});var FM="./home_server_1-yr27wr5w.jpg";var iM=()=>{};var mM="./diy_server-3fbj4svt.jpg";var AM=()=>{};var GM="./nas-mzxy5spq.webp";var VM=()=>{};var BM={};Pp(BM,{ServerSection:()=>nZU});function nZU(){let[U,E]=gN.useState("industrial"),u={industrial:{name:"Industrial Server",tagline:"Enterprise Rack Infrastructure",color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)",icon:Ik,image:FM,imageTitle:"Enterprise Server Rack",imageDescription:"Full rack with redundant power, networking, and storage",components:[{name:"Rack-Mount Servers (1U-4U)",description:"Multiple redundant compute nodes",icon:R0},{name:"Network Switches",description:"10/25/40GbE networking infrastructure",icon:h4},{name:"Storage Arrays",description:"SAN/NAS with hot-swappable drives",icon:w0},{name:"Redundant PSUs",description:"Dual power supplies with battery backup",icon:Ip},{name:"Management Hardware",description:"KVM switches, monitoring systems",icon:p5},{name:"Cooling System",description:"Dedicated HVAC and airflow management",icon:Cn}],notes:["Requires dedicated server room with climate control","Redundancy at every level (N+1 or 2N)","Enterprise support contracts and monitoring","Total cost: 50,000-500,000+ depending on scale"]},homeserver:{name:"Home Server",tagline:"Practical Home Infrastructure",color:"from-[var(--color-purple-2)] to-[var(--color-magenta-2)]",accentColor:"var(--color-magenta-2)",icon:J4,image:mM,imageTitle:"Home Server Setup",imageDescription:"Compact, energy-efficient home infrastructure",components:[{name:"CPU",description:"Low-power efficient: Intel i3/i5 or AMD Ryzen 5/7",icon:p5},{name:"Motherboard",description:"mATX/ITX with multiple SATA ports",icon:R0},{name:"RAM",description:"16-32GB DDR4/DDR5 for VMs and services",icon:B0},{name:"Storage",description:"2-4 HDDs for data + 1 SSD for OS",icon:PZ},{name:"Network Card",description:"Gigabit ethernet (optional 2.5GbE upgrade)",icon:h4},{name:"Case & PSU",description:"Quiet case with good airflow, 400-500W PSU",icon:Ip}],useCases:[{title:"Media Server",description:"Plex/Jellyfin for streaming your media library across devices",icon:Cn},{title:"Game Server Hosting",description:"Host Minecraft, Valheim, or other multiplayer game servers",icon:R0},{title:"Home Automation",description:"Home Assistant for smart home control and automation",icon:J4},{title:"Development Environment",description:"LAMP stack, Docker containers, testing environments",icon:p5},{title:"File Storage & Backup",description:"Centralized storage with automated backups",icon:w0},{title:"Network Services",description:"Pi-hole (ad blocking), VPN server, DNS server",icon:h4}],notes:["Total cost: 400-800 for basic setup","Power consumption: 30-100W idle (much less than gaming PC)","Can run 24/7 quietly in a closet or utility room","Consider UPS for power protection"]},nas:{name:"NAS Integration",tagline:"Network Attached Storage",color:"from-[var(--color-red-2)] to-[var(--color-red-3)]",accentColor:"var(--color-red-3)",icon:w0,image:GM,imageTitle:"NAS Device",imageDescription:"Dedicated network storage appliance",explanation:[{title:"What is a NAS?",description:"Network Attached Storage - a dedicated device that provides file storage accessible over your network. Think of it as a personal cloud storage that lives in your home.",icon:w0},{title:"NAS vs Home Server",description:"A NAS is specialized for storage with a simple OS (like Synology DSM or TrueNAS). A home server is general-purpose and can run any services. NAS is easier but less flexible.",icon:R0},{title:"Can You Use Both?",description:"YES! Common setup: NAS for bulk storage + Home server for compute tasks. Server mounts NAS storage for media libraries, backups, and large datasets.",icon:h4},{title:"When to Use a NAS",description:"If you primarily need storage with minimal setup: Synology/QNAP NAS (2-8 bay). If you need compute + storage flexibility: Build a home server with TrueNAS or similar.",icon:Jc}],nasOptions:[{type:"Pre-built NAS",example:"Synology DS920+ (4-bay)",price:"500-600",icon:B0},{type:"DIY NAS Build",example:"Custom PC with TrueNAS/Unraid",price:"400-800",icon:p5},{type:"Hybrid Approach",example:"Home server + NAS for redundancy",price:"800-1,400",icon:h4}],notes:["NAS is best for pure storage needs with minimal setup","Home server offers more flexibility but requires more configuration","Both can coexist - NAS for storage, server for compute","Consider network speed (1GbE minimum, 2.5/10GbE ideal)"]}};return A("section",{id:"servers",className:"relative flex flex-row justify-center items-center gap-8 bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-6)] px-8 pt-26 pb-12 w-full h-screen overflow-hidden snap-start pointer-events-auto",children:[A("div",{className:"w-full h-full",children:[A("div",{className:"absolute inset-0 opacity-5",children:[$("div",{className:"top-1/4 right-1/3 absolute bg-[var(--color-blue-3)] blur-[140px] rounded-full w-96 h-96 animate-pulse"}),$("div",{className:"bottom-1/4 left-1/4 absolute bg-[var(--color-magenta-2)] blur-[140px] rounded-full w-96 h-96 animate-pulse",style:{animationDelay:"1.5s"}})]}),A("div",{className:"relative flex flex-col gap-4 w-full h-full overflow-visible",children:[A("div",{className:"flex flex-col gap-2 overflow-visible animate-fadeIn",children:[A("div",{className:"flex items-center gap-3 overflow-visible",children:[$("h2",{className:"bg-clip-text bg-gradient-to-r from-[var(--color-blue-3)] via-[var(--color-magenta-2)] to-[var(--color-red-3)] p-2 overflow-visible font-bold text-transparent text-5xl tracking-tight",children:"Server Infrastructure"}),$(_E,{variant:"outline",className:"border-[var(--color-blue-3)] text-[var(--color-blue-3)] text-xs",children:"Storage & Services"})]}),$("p",{className:"max-w-3xl text-[var(--gray-3)] text-sm",children:"From enterprise data centers to home labs - understanding server infrastructure and storage solutions"})]}),$(Ku,{className:"bg-gradient-to-r from-transparent via-[var(--color-blue-3)] to-transparent opacity-30"}),$(()=>$("div",{className:"gap-4 grid grid-cols-3 mb-6",children:Object.entries(u).map(([z,c])=>{let Y=c.icon;return $(tU,{className:`cursor-pointer border-2 transition-all duration-300 ${U===z?"border-white/40 shadow-[0_0_30px_rgba(63,131,237,0.2)]":"border-[var(--gray-5)] hover:border-[var(--color-blue-4)]"}`,onClick:()=>E(z),children:$(KU,{className:"p-4",children:A("div",{className:"flex items-center gap-3",children:[$("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${c.color} shadow-lg`,children:$(Y,{className:"w-6 h-6 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h3",{className:"font-semibold text-sm",children:c.name}),$("p",{className:"text-[var(--gray-3)] text-xs truncate",children:c.tagline})]}),U===z&&$("div",{className:"rounded-full w-2 h-2 animate-pulse",style:{backgroundColor:c.accentColor}})]})})},z)})}),{}),A("div",{className:"flex md:flex-row flex-col flex-1 gap-4 min-h-0",children:[A("div",{className:"flex flex-col gap-4 pr-2 w-full md:w-2/3 overflow-y-auto custom-scrollbar",children:[$(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:$(KU,{className:"p-4",children:A("div",{className:"flex items-center gap-3",children:[$("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-gradient-to-br ${u[U].color} shadow-lg`,children:gN.default.createElement(u[U].icon,{className:"w-6 h-6 text-white"})}),A("div",{children:[$("h3",{className:"font-semibold text-lg",children:u[U].name}),$("p",{className:"text-[var(--gray-3)] text-xs",children:u[U].tagline})]})]})})}),(U==="industrial"||U==="homeserver")&&$(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:A(KU,{className:"flex md:flex-row flex-col gap-4 p-4",children:[A("div",{className:"flex-1",children:[$("div",{className:"mb-3",children:A("h3",{className:"flex items-center gap-2 font-semibold text-base",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:u[U].accentColor}}),U==="industrial"?"Key Components":"Required Components"]})}),$("div",{className:"space-y-2",children:u[U].components.map((z,c)=>{let Y=z.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-blue-4)] rounded-md transition-all duration-200",style:{animationDelay:`${c*0.06}s`,animation:"fadeIn 0.45s ease-out"},children:[$("div",{className:`w-7 h-7 rounded-md flex items-center justify-center flex-shrink-0 bg-gradient-to-br ${u[U].color} shadow transition-transform duration-200 group-hover:scale-105`,children:$(Y,{className:"w-3.5 h-3.5 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-blue-3)] text-xs transition-colors",children:z.name}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:z.description})]})]},c)})})]}),A("div",{className:"flex-shrink-0 md:w-80",children:[$("div",{className:"mb-3",children:A("h3",{className:"flex items-center gap-2 font-semibold text-base",children:[$(Jc,{className:"w-4 h-4",style:{color:u[U].accentColor}}),"Important Notes"]})}),$("div",{className:"space-y-2",children:u[U].notes.map((z,c)=>A("div",{className:"flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] rounded-md",children:[$("div",{className:"flex-shrink-0 mt-1.5 rounded-full w-1.5 h-1.5",style:{backgroundColor:u[U].accentColor}}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:z})]},c))})]})]})}),U==="nas"&&$(tU,{className:"bg-[var(--gray-7)] border-[var(--gray-5)] border-2",children:A(KU,{className:"flex md:flex-row flex-col gap-4 p-4",children:[A("div",{className:"flex-1",children:[$("div",{className:"mb-3",children:A("h3",{className:"flex items-center gap-2 font-semibold text-base",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:u[U].accentColor}}),"Understanding NAS"]})}),$("div",{className:"space-y-2",children:u[U].explanation.map((z,c)=>{let Y=z.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-red-4)] rounded-md transition-all duration-200",children:[$("div",{className:`w-7 h-7 rounded-md flex items-center justify-center flex-shrink-0 bg-gradient-to-br ${u[U].color} shadow transition-transform duration-200 group-hover:scale-105`,children:$(Y,{className:"w-3.5 h-3.5 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-red-3)] text-xs transition-colors",children:z.title}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:z.description})]})]},c)})})]}),A("div",{className:"flex-shrink-0 space-y-4 md:w-80",children:[A("div",{children:[$("div",{className:"mb-3",children:A("h3",{className:"flex items-center gap-2 font-semibold text-base",children:[$("span",{className:"rounded-full w-2 h-2",style:{backgroundColor:u[U].accentColor}}),"NAS Options"]})}),$("div",{className:"space-y-2",children:u[U].nasOptions.map((z,c)=>{let Y=z.icon;return A("div",{className:"group flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] hover:border-[var(--color-red-4)] rounded-md transition-all duration-200",children:[$("div",{className:`w-7 h-7 rounded-md flex items-center justify-center flex-shrink-0 bg-gradient-to-br ${u[U].color} shadow transition-transform duration-200 group-hover:scale-105`,children:$(Y,{className:"w-3.5 h-3.5 text-white"})}),A("div",{className:"flex-1 min-w-0",children:[$("h4",{className:"mb-0.5 font-semibold group-hover:text-[var(--color-red-3)] text-xs transition-colors",children:z.type}),$("p",{className:"mb-1 text-[var(--gray-3)] text-xs",children:z.example}),$("span",{className:"inline-block bg-[var(--color-red-3)]/20 px-2 py-0.5 rounded font-semibold text-[var(--color-red-3)] text-xs",children:z.price})]})]},c)})})]}),A("div",{children:[$("div",{className:"mb-3",children:A("h3",{className:"flex items-center gap-2 font-semibold text-base",children:[$(Jc,{className:"w-4 h-4",style:{color:u[U].accentColor}}),"Important Notes"]})}),$("div",{className:"space-y-2",children:u[U].notes.map((z,c)=>A("div",{className:"flex items-start gap-2 bg-[var(--gray-6)]/30 p-2 border border-[var(--gray-5)] rounded-md",children:[$("div",{className:"flex-shrink-0 mt-1.5 rounded-full w-1.5 h-1.5",style:{backgroundColor:u[U].accentColor}}),$("p",{className:"text-[var(--gray-3)] text-xs leading-tight",children:z})]},c))})]})]})]})})]}),$("div",{className:"flex flex-col gap-4 w-full md:w-1/3",children:A(tU,{className:"border-[var(--gray-5)] border-2 overflow-hidden",children:[A(FE,{className:"pb-2",children:[$(AE,{className:"text-base",children:u[U].imageTitle}),$(iu,{className:"text-xs",children:u[U].imageDescription})]}),$(KU,{className:"p-4",children:$("div",{className:"flex justify-center items-center bg-white rounded-lg w-full overflow-hidden",style:{maxHeight:"320px"},children:$("div",{style:{width:"100%",aspectRatio:"4 / 3"},className:"flex justify-center items-center",children:$("img",{src:u[U].image,alt:u[U].imageTitle,className:"max-w-full max-h-full object-contain"})})})})]})})]})]})]}),$("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: var(--gray-6);
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, var(--color-blue-3), var(--color-magenta-2));
          border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, var(--color-blue-4), var(--color-magenta-3));
        }
      `})]})}var gN;var dM=cU(()=>{gN=OE(TE(),1);Ez();kz();Qz();t5();iM();AM();VM();JU()});var wM={};Pp(wM,{Troubleshooting:()=>jZU});function jZU(){return A("section",{id:"troubleshooting",className:"relative flex flex-col justify-center items-center bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-8)] px-6 w-full h-screen snap-start pointer-events-auto",children:[A("div",{className:"w-full max-w-4xl text-center",children:[$("h2",{className:"mb-6 font-bold text-[var(--gray-1)] text-4xl md:text-5xl",children:"Troubleshooting"}),$("p",{className:"mx-auto max-w-2xl text-[var(--gray-3)] text-lg",children:"Common issues during build and first boot, with steps to diagnose and fix."}),$("div",{className:"space-y-4 mt-8 text-left",children:A("ul",{className:"pl-6 text-[var(--gray-3)] list-disc",children:[$("li",{children:"No POST or beeps  check seating and power"}),$("li",{children:"GPU/display issues  reseat and check power connectors"}),$("li",{children:"Boot drive not found  verify SATA/PCIe connections and BIOS settings"})]})})]}),$(Qj,{label:"troubleshooting"})]})}var vM=cU(()=>{y8();JU()});var RM="./qrcode-nhdnyfhr.png";var SM=()=>{};var DM={};Pp(DM,{QRCode:()=>HZU});function HZU(){return $("section",{id:"qrcode",className:"relative flex flex-col justify-center items-center bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-8)] px-6 w-full h-screen snap-start pointer-events-auto",children:A("div",{className:"w-full max-w-4xl text-center",children:[$("h2",{className:"mb-6 font-bold text-[var(--gray-1)] text-4xl md:text-5xl",children:"Part 2 Build Session / QR Code"}),$("p",{className:"mx-auto max-w-2xl text-[var(--gray-3)] text-lg",children:"Scan the QR code to let us know if u would be interested in a build together session."}),$("div",{className:"flex justify-center mt-8",children:$("div",{className:"flex justify-center items-center bg-transparent rounded-lg w-auto h-200 overflow-hidden",children:$("img",{src:RM,alt:"QR Code",className:"w-full h-full"})})})]})})}var tM=cU(()=>{SM();JU()});var JM={};Pp(JM,{QA:()=>kZU});function kZU(){return $("section",{id:"qa",className:"relative flex flex-col justify-center items-center bg-gradient-to-br from-[var(--gray-7)] to-[var(--gray-8)] px-6 w-full h-screen snap-start pointer-events-auto",children:A("div",{className:"w-full max-w-4xl text-center",children:[$("h2",{className:"mb-6 font-bold text-[var(--gray-1)] text-4xl md:text-5xl",children:"Q&A"}),$("p",{className:"mx-auto max-w-2xl text-[var(--gray-3)] text-lg",children:"Open Q&A session  bring your questions about builds, parts, and troubleshooting."})]})})}var hM=cU(()=>{JU()});var lM=OE(TE(),1),MM=OE(aw(),1);var hE=OE(TE(),1);t5();vP();JU();function DS({current:U,total:E}){return A("div",{className:"right-6 bottom-6 z-40 fixed font-medium text-[var(--gray-4)] text-sm",children:[U," / ",E]})}JU();function tS({label:U}){return $("div",{className:"z-40 absolute flex justify-start items-end w-screen h-screen pointer-events-none",children:$("div",{className:"absolute p-7 font-mono text-[var(--gray-5)] text-xs uppercase tracking-wider",children:U})})}y8();var JZ=OE(TE(),1);var zp=OE(TE(),1),y6=OE(TE(),1);var rx={};Pp(rx,{warnOnce:()=>_P,warn:()=>PE,setConsoleFunction:()=>KD,log:()=>tj,getConsoleFunction:()=>aD,error:()=>SE,createCanvasElement:()=>to,ZeroStencilOp:()=>yD,ZeroSlopeEnding:()=>YD,ZeroFactor:()=>Zo,ZeroCurvatureEnding:()=>cD,WrapAroundEnding:()=>ZD,WireframeGeometry:()=>rO,WebXRController:()=>ej,WebGPUCoordinateSystem:()=>lD,WebGLUtils:()=>M3,WebGLRenderer:()=>dZ,WebGLRenderTarget:()=>fp,WebGLCubeRenderTarget:()=>nx,WebGLCoordinateSystem:()=>ZO,WebGLArrayRenderTarget:()=>ho,WebGL3DRenderTarget:()=>bo,VideoTexture:()=>HO,VideoFrameTexture:()=>go,VectorKeyframeTrack:()=>Kc,Vector4:()=>Gu,Vector3:()=>b,Vector2:()=>LU,VSMShadowMap:()=>C4,UnsignedShortType:()=>fj,UnsignedShort5551Type:()=>rI,UnsignedShort4444Type:()=>NI,UnsignedIntType:()=>$c,UnsignedInt5999Type:()=>oo,UnsignedInt248Type:()=>cx,UnsignedInt101111Type:()=>io,UnsignedByteType:()=>j5,UniformsUtils:()=>_o,UniformsLib:()=>jE,UniformsGroup:()=>O1,Uniform:()=>lO,Uint8ClampedBufferAttribute:()=>Wo,Uint8BufferAttribute:()=>Mo,Uint32BufferAttribute:()=>F9,Uint16BufferAttribute:()=>i9,UVMapping:()=>LZ,TubeGeometry:()=>K9,TrianglesDrawMode:()=>zO,TriangleStripDrawMode:()=>Kj,TriangleFanDrawMode:()=>Zx,Triangle:()=>g5,TorusKnotGeometry:()=>s9,TorusGeometry:()=>f9,TimestampQuery:()=>MD,Timer:()=>L1,TextureUtils:()=>h1,TextureLoader:()=>UQ,Texture:()=>Vu,TetrahedronGeometry:()=>W9,TangentSpaceNormalMap:()=>mo,TOUCH:()=>sR,SubtractiveBlending:()=>qI,SubtractEquation:()=>po,StringKeyframeTrack:()=>PY,StreamReadUsage:()=>DD,StreamDrawUsage:()=>vD,StreamCopyUsage:()=>hD,StereoCamera:()=>n1,StaticReadUsage:()=>SD,StaticDrawUsage:()=>dD,StaticCopyUsage:()=>tD,SrcColorFactor:()=>xo,SrcAlphaSaturateFactor:()=>yo,SrcAlphaFactor:()=>jo,SpriteMaterial:()=>V9,Sprite:()=>nO,SpotLightHelper:()=>i1,SpotLight:()=>xq,SplineCurve:()=>J9,SphericalHarmonics3:()=>EQ,Spherical:()=>cQ,SphereGeometry:()=>Pq,Sphere:()=>Mp,Source:()=>Wc,SkinnedMesh:()=>Cj,SkeletonHelper:()=>F1,Skeleton:()=>qx,ShortType:()=>$9,ShapeUtils:()=>J0,ShapePath:()=>t1,ShapeGeometry:()=>M9,Shape:()=>g4,ShadowMaterial:()=>LO,ShaderMaterial:()=>Ap,ShaderLib:()=>Oc,ShaderChunk:()=>cu,Scene:()=>gc,SRGBTransfer:()=>pp,SRGBColorSpace:()=>_c,SIGNED_RG11_EAC_Format:()=>vI,SIGNED_RED_RGTC1_Format:()=>UO,SIGNED_RED_GREEN_RGTC2_Format:()=>uO,SIGNED_R11_EAC_Format:()=>dI,RingGeometry:()=>l9,ReverseSubtractEquation:()=>zo,ReplaceStencilOp:()=>OD,RepeatWrapping:()=>px,RenderTarget3D:()=>I1,RenderTarget:()=>o9,ReinhardToneMapping:()=>QI,RedIntegerFormat:()=>LI,RedFormat:()=>y9,RectAreaLight:()=>vO,Raycaster:()=>Hq,Ray:()=>AZ,RawShaderMaterial:()=>a9,RGIntegerFormat:()=>XI,RGFormat:()=>Yx,RGDepthPacking:()=>HD,RGB_S3TC_DXT1_Format:()=>I9,RGB_PVRTC_4BPPV1_Format:()=>oI,RGB_PVRTC_2BPPV1_Format:()=>iI,RGB_ETC2_Format:()=>VI,RGB_ETC1_Format:()=>mI,RGB_BPTC_UNSIGNED_Format:()=>eI,RGB_BPTC_SIGNED_Format:()=>gI,RGBIntegerFormat:()=>UD,RGBFormat:()=>Ao,RGBDepthPacking:()=>qD,RGBA_S3TC_DXT5_Format:()=>r9,RGBA_S3TC_DXT3_Format:()=>N9,RGBA_S3TC_DXT1_Format:()=>O9,RGBA_PVRTC_4BPPV1_Format:()=>FI,RGBA_PVRTC_2BPPV1_Format:()=>AI,RGBA_ETC2_EAC_Format:()=>GI,RGBA_BPTC_Format:()=>_I,RGBA_ASTC_8x8_Format:()=>lI,RGBA_ASTC_8x6_Format:()=>bI,RGBA_ASTC_8x5_Format:()=>hI,RGBA_ASTC_6x6_Format:()=>JI,RGBA_ASTC_6x5_Format:()=>tI,RGBA_ASTC_5x5_Format:()=>DI,RGBA_ASTC_5x4_Format:()=>RI,RGBA_ASTC_4x4_Format:()=>SI,RGBA_ASTC_12x12_Format:()=>aI,RGBA_ASTC_12x10_Format:()=>KI,RGBA_ASTC_10x8_Format:()=>fI,RGBA_ASTC_10x6_Format:()=>WI,RGBA_ASTC_10x5_Format:()=>MI,RGBA_ASTC_10x10_Format:()=>sI,RGBAIntegerFormat:()=>TI,RGBAFormat:()=>Wp,RGBADepthPacking:()=>jD,RG11_EAC_Format:()=>wI,REVISION:()=>p9,RED_RGTC1_Format:()=>CI,RED_GREEN_RGTC2_Format:()=>EO,R11_EAC_Format:()=>BI,QuaternionLinearInterpolant:()=>GO,QuaternionKeyframeTrack:()=>ec,Quaternion:()=>np,QuadraticBezierCurve3:()=>t9,QuadraticBezierCurve:()=>D9,PropertyMixer:()=>hO,PropertyBinding:()=>ou,PositionalAudio:()=>q1,PolyhedronGeometry:()=>cY,PolarGridHelper:()=>G1,PointsMaterial:()=>Hx,Points:()=>uq,PointLightHelper:()=>A1,PointLight:()=>nq,PlaneHelper:()=>S1,PlaneGeometry:()=>M0,Plane:()=>Mc,PerspectiveCamera:()=>ip,Path:()=>Jj,PMREMGenerator:()=>KO,PCFSoftShadowMap:()=>Ux,PCFShadowMap:()=>rZ,OrthographicCamera:()=>n0,OneMinusSrcColorFactor:()=>no,OneMinusSrcAlphaFactor:()=>qo,OneMinusDstColorFactor:()=>$o,OneMinusDstAlphaFactor:()=>ko,OneMinusConstantColorFactor:()=>Oo,OneMinusConstantAlphaFactor:()=>ro,OneFactor:()=>Po,OctahedronGeometry:()=>Zq,ObjectSpaceNormalMap:()=>Vo,ObjectLoader:()=>P1,Object3D:()=>Ou,NumberKeyframeTrack:()=>sc,NotEqualStencilFunc:()=>VD,NotEqualDepth:()=>n9,NotEqualCompare:()=>So,NormalRGPacking:()=>QD,NormalGAPacking:()=>$D,NormalBlending:()=>bj,NormalAnimationBlendMode:()=>PD,NoToneMapping:()=>dz,NoNormalPacking:()=>kD,NoColorSpace:()=>FZ,NoBlending:()=>b0,NeverStencilFunc:()=>oD,NeverDepth:()=>z9,NeverCompare:()=>Go,NeutralToneMapping:()=>OI,NearestMipmapNearestFilter:()=>H9,NearestMipmapLinearFilter:()=>TZ,NearestMipMapNearestFilter:()=>gR,NearestMipMapLinearFilter:()=>eR,NearestFilter:()=>Qc,MultiplyOperation:()=>Lo,MultiplyBlending:()=>HI,MixOperation:()=>Xo,MirroredRepeatWrapping:()=>q9,MinEquation:()=>co,MeshToonMaterial:()=>TO,MeshStandardMaterial:()=>GZ,MeshPhysicalMaterial:()=>nz,MeshPhongMaterial:()=>XO,MeshNormalMaterial:()=>oO,MeshMatcapMaterial:()=>FO,MeshLambertMaterial:()=>iO,MeshDistanceMaterial:()=>_9,MeshDepthMaterial:()=>Qx,MeshBasicMaterial:()=>A5,Mesh:()=>tu,MaxEquation:()=>Yo,Matrix4:()=>RE,Matrix3:()=>CE,Matrix2:()=>MO,MathUtils:()=>yc,MaterialLoader:()=>uQ,Material:()=>Rp,MOUSE:()=>fR,LoopRepeat:()=>uD,LoopPingPong:()=>pD,LoopOnce:()=>ED,LoadingManager:()=>$x,LoaderUtils:()=>kc,Loader:()=>Dp,LinearTransfer:()=>cO,LinearToneMapping:()=>kI,LinearSRGBColorSpace:()=>C5,LinearMipmapNearestFilter:()=>zx,LinearMipmapLinearFilter:()=>ac,LinearMipMapNearestFilter:()=>CR,LinearMipMapLinearFilter:()=>k9,LinearInterpolant:()=>g9,LinearFilter:()=>Wu,LineSegments:()=>wz,LineLoop:()=>Eq,LineDashedMaterial:()=>AO,LineCurve3:()=>OO,LineCurve:()=>R9,LineBasicMaterial:()=>q5,Line3:()=>o1,Line:()=>h0,LightProbe:()=>SO,Light:()=>Cc,LessStencilFunc:()=>iD,LessEqualStencilFunc:()=>AD,LessEqualDepth:()=>lj,LessEqualCompare:()=>X9,LessDepth:()=>Y9,LessCompare:()=>Bo,Layers:()=>uY,LatheGeometry:()=>b9,LOD:()=>jO,KeyframeTrack:()=>vz,KeepStencilOp:()=>ID,InvertStencilOp:()=>TD,InterpolationSamplingType:()=>WD,InterpolationSamplingMode:()=>fD,InterpolateSmooth:()=>zD,InterpolateLinear:()=>L9,InterpolateDiscrete:()=>pO,Interpolant:()=>YY,InterleavedBufferAttribute:()=>Hc,InterleavedBuffer:()=>zY,IntType:()=>sj,Int8BufferAttribute:()=>lo,Int32BufferAttribute:()=>so,Int16BufferAttribute:()=>fo,InstancedMesh:()=>Uq,InstancedInterleavedBuffer:()=>N1,InstancedBufferGeometry:()=>RO,InstancedBufferAttribute:()=>fc,IncrementWrapStencilOp:()=>LD,IncrementStencilOp:()=>ND,ImageUtils:()=>PO,ImageLoader:()=>CP,ImageBitmapLoader:()=>pQ,IcosahedronGeometry:()=>kx,HemisphereLightHelper:()=>m1,HemisphereLight:()=>BO,HalfFloatType:()=>up,Group:()=>t0,GridHelper:()=>V1,GreaterStencilFunc:()=>mD,GreaterEqualStencilFunc:()=>GD,GreaterEqualDepth:()=>P9,GreaterEqualCompare:()=>T9,GreaterDepth:()=>x9,GreaterCompare:()=>vo,GLSL3:()=>YO,GLSL1:()=>bD,GLBufferAttribute:()=>r1,FrustumArray:()=>G9,Frustum:()=>mZ,FrontSide:()=>UY,FramebufferTexture:()=>eo,FogExp2:()=>A9,Fog:()=>m9,FloatType:()=>Sp,Float32BufferAttribute:()=>NE,Float16BufferAttribute:()=>Ko,FileLoader:()=>vp,ExtrudeGeometry:()=>h9,ExternalTexture:()=>B9,EventDispatcher:()=>l0,Euler:()=>e5,EquirectangularRefractionMapping:()=>j9,EquirectangularReflectionMapping:()=>ux,EqualStencilFunc:()=>FD,EqualDepth:()=>Z9,EqualCompare:()=>wo,EllipseCurve:()=>Yq,EdgesGeometry:()=>QO,DynamicReadUsage:()=>RD,DynamicDrawUsage:()=>wD,DynamicCopyUsage:()=>JD,DstColorFactor:()=>Qo,DstAlphaFactor:()=>Ho,DoubleSide:()=>xz,DodecahedronGeometry:()=>v9,DiscreteInterpolant:()=>VO,DirectionalLightHelper:()=>B1,DirectionalLight:()=>jq,DetachedBindMode:()=>_R,DepthTexture:()=>VZ,DepthStencilFormat:()=>iZ,DepthFormat:()=>oZ,DefaultLoadingManager:()=>c1,DecrementWrapStencilOp:()=>XD,DecrementStencilOp:()=>rD,DataUtils:()=>Ic,DataTextureLoader:()=>yx,DataTexture:()=>Pz,DataArrayTexture:()=>aj,Data3DTexture:()=>_j,Cylindrical:()=>X1,CylinderGeometry:()=>zq,CustomToneMapping:()=>yI,CustomBlending:()=>uo,CurvePath:()=>NO,Curve:()=>x0,CullFaceNone:()=>Uo,CullFaceFrontBack:()=>KR,CullFaceFront:()=>Eo,CullFaceBack:()=>xI,CubicInterpolant:()=>mO,CubicBezierCurve3:()=>IO,CubicBezierCurve:()=>S9,CubeUVReflectionMapping:()=>Wj,CubeTextureLoader:()=>C9,CubeTexture:()=>xx,CubeRefractionMapping:()=>XZ,CubeReflectionMapping:()=>EY,CubeDepthTexture:()=>kO,CubeCamera:()=>xO,Controls:()=>J1,ConstantColorFactor:()=>Io,ConstantAlphaFactor:()=>No,ConeGeometry:()=>cq,CompressedTextureLoader:()=>Z1,CompressedTexture:()=>pq,CompressedCubeTexture:()=>U1,CompressedArrayTexture:()=>Co,ColorManagement:()=>Hu,ColorKeyframeTrack:()=>e9,Color:()=>EE,Clock:()=>qq,ClampToEdgeWrapping:()=>J5,CircleGeometry:()=>w9,CineonToneMapping:()=>$I,CatmullRomCurve3:()=>yO,CapsuleGeometry:()=>d9,CanvasTexture:()=>E1,CameraHelper:()=>d1,Camera:()=>gj,Cache:()=>qc,ByteType:()=>Q9,BufferGeometryLoader:()=>DO,BufferGeometry:()=>WE,BufferAttribute:()=>ju,BoxHelper:()=>w1,BoxGeometry:()=>pY,Box3Helper:()=>v1,Box3:()=>lp,Box2:()=>T1,BooleanKeyframeTrack:()=>ZY,Bone:()=>jx,BatchedMesh:()=>qO,BasicShadowMap:()=>nI,BasicDepthPacking:()=>nD,BackSide:()=>Bz,AxesHelper:()=>D1,AudioLoader:()=>x1,AudioListener:()=>j1,AudioContext:()=>zQ,AudioAnalyser:()=>H1,Audio:()=>JO,AttachedBindMode:()=>aR,ArrowHelper:()=>R1,ArrayCamera:()=>tO,ArcCurve:()=>$O,AnimationUtils:()=>z1,AnimationObjectGroup:()=>$1,AnimationMixer:()=>y1,AnimationLoader:()=>Y1,AnimationClip:()=>e4,AnimationAction:()=>bO,AmbientLight:()=>wO,AlwaysStencilFunc:()=>BD,AlwaysDepth:()=>c9,AlwaysCompare:()=>Ro,AlphaFormat:()=>Fo,AgXToneMapping:()=>II,AdditiveBlending:()=>jI,AdditiveAnimationBlendMode:()=>xD,AddOperation:()=>To,AddEquation:()=>Ex,ACESFilmicToneMapping:()=>Mj});var p9="182",fR={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},sR={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Uo=0,xI=1,Eo=2,KR=3,nI=0,rZ=1,Ux=2,C4=3,UY=0,Bz=1,xz=2,b0=0,bj=1,jI=2,qI=3,HI=4,uo=5,Ex=100,po=101,zo=102,co=103,Yo=104,Zo=200,Po=201,xo=202,no=203,jo=204,qo=205,Ho=206,ko=207,Qo=208,$o=209,yo=210,Io=211,Oo=212,No=213,ro=214,z9=0,c9=1,Y9=2,lj=3,Z9=4,P9=5,x9=6,n9=7,Lo=0,Xo=1,To=2,dz=0,kI=1,QI=2,$I=3,Mj=4,yI=5,II=6,OI=7,aR="attached",_R="detached",LZ=300,EY=301,XZ=302,ux=303,j9=304,Wj=306,px=1000,J5=1001,q9=1002,Qc=1003,H9=1004,gR=1004,TZ=1005,eR=1005,Wu=1006,zx=1007,CR=1007,ac=1008,k9=1008,j5=1009,Q9=1010,$9=1011,fj=1012,sj=1013,$c=1014,Sp=1015,up=1016,NI=1017,rI=1018,cx=1020,oo=35902,io=35899,Fo=1021,Ao=1022,Wp=1023,oZ=1026,iZ=1027,y9=1028,LI=1029,Yx=1030,XI=1031,UD=1032,TI=1033,I9=33776,O9=33777,N9=33778,r9=33779,oI=35840,iI=35841,FI=35842,AI=35843,mI=36196,VI=37492,GI=37496,BI=37488,dI=37489,wI=37490,vI=37491,SI=37808,RI=37809,DI=37810,tI=37811,JI=37812,hI=37813,bI=37814,lI=37815,MI=37816,WI=37817,fI=37818,sI=37819,KI=37820,aI=37821,_I=36492,gI=36494,eI=36495,CI=36283,UO=36284,EO=36285,uO=36286,ED=2200,uD=2201,pD=2202,pO=2300,L9=2301,zD=2302,cD=2400,YD=2401,ZD=2402,PD=2500,xD=2501,zO=0,Kj=1,Zx=2,nD=3200,jD=3201,qD=3202,HD=3203,mo=0,Vo=1,FZ="",_c="srgb",C5="srgb-linear",cO="linear",pp="srgb",kD="",QD="rg",$D="ga",yD=0,ID=7680,OD=7681,ND=7682,rD=7683,LD=34055,XD=34056,TD=5386,oD=512,iD=513,FD=514,AD=515,mD=516,VD=517,GD=518,BD=519,Go=512,Bo=513,wo=514,X9=515,vo=516,So=517,T9=518,Ro=519,dD=35044,wD=35048,vD=35040,SD=35045,RD=35049,DD=35041,tD=35046,JD=35050,hD=35042,bD="100",YO="300 es",ZO=2000,lD=2001,MD={COMPUTE:"compute",RENDER:"render"},WD={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},fD={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function Do(U){for(let E=U.length-1;E>=0;--E)if(U[E]>=65535)return!0;return!1}var Ze={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sj(U,E){return new Ze[U](E)}function sD(U){return ArrayBuffer.isView(U)&&!(U instanceof DataView)}function Dj(U){return document.createElementNS("http://www.w3.org/1999/xhtml",U)}function to(){let U=Dj("canvas");return U.style.display="block",U}var JS={},NZ=null;function KD(U){NZ=U}function aD(){return NZ}function tj(...U){let E="THREE."+U.shift();if(NZ)NZ("log",E,...U);else console.log(E,...U)}function PE(...U){let E="THREE."+U.shift();if(NZ)NZ("warn",E,...U);else console.warn(E,...U)}function SE(...U){let E="THREE."+U.shift();if(NZ)NZ("error",E,...U);else console.error(E,...U)}function _P(...U){let E=U.join(" ");if(E in JS)return;JS[E]=!0,PE(...U)}function _D(U,E,u){return new Promise(function(p,z){function c(){switch(U.clientWaitSync(E,U.SYNC_FLUSH_COMMANDS_BIT,0)){case U.WAIT_FAILED:z();break;case U.TIMEOUT_EXPIRED:setTimeout(c,u);break;default:p()}}setTimeout(c,u)})}class l0{addEventListener(U,E){if(this._listeners===void 0)this._listeners={};let u=this._listeners;if(u[U]===void 0)u[U]=[];if(u[U].indexOf(E)===-1)u[U].push(E)}hasEventListener(U,E){let u=this._listeners;if(u===void 0)return!1;return u[U]!==void 0&&u[U].indexOf(E)!==-1}removeEventListener(U,E){let u=this._listeners;if(u===void 0)return;let p=u[U];if(p!==void 0){let z=p.indexOf(E);if(z!==-1)p.splice(z,1)}}dispatchEvent(U){let E=this._listeners;if(E===void 0)return;let u=E[U.type];if(u!==void 0){U.target=this;let p=u.slice(0);for(let z=0,c=p.length;z<c;z++)p[z].call(this,U);U.target=null}}}var K5=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],hS=1234567,aP=Math.PI/180,gP=180/Math.PI;function P0(){let U=Math.random()*4294967295|0,E=Math.random()*4294967295|0,u=Math.random()*4294967295|0,p=Math.random()*4294967295|0;return(K5[U&255]+K5[U>>8&255]+K5[U>>16&255]+K5[U>>24&255]+"-"+K5[E&255]+K5[E>>8&255]+"-"+K5[E>>16&15|64]+K5[E>>24&255]+"-"+K5[u&63|128]+K5[u>>8&255]+"-"+K5[u>>16&255]+K5[u>>24&255]+K5[p&255]+K5[p>>8&255]+K5[p>>16&255]+K5[p>>24&255]).toLowerCase()}function sE(U,E,u){return Math.max(E,Math.min(u,U))}function Jo(U,E){return(U%E+E)%E}function Pe(U,E,u,p,z){return p+(U-E)*(z-p)/(u-E)}function xe(U,E,u){if(U!==E)return(u-U)/(E-U);else return 0}function gk(U,E,u){return(1-u)*U+u*E}function ne(U,E,u,p){return gk(U,E,1-Math.exp(-u*p))}function je(U,E=1){return E-Math.abs(Jo(U,E*2)-E)}function qe(U,E,u){if(U<=E)return 0;if(U>=u)return 1;return U=(U-E)/(u-E),U*U*(3-2*U)}function He(U,E,u){if(U<=E)return 0;if(U>=u)return 1;return U=(U-E)/(u-E),U*U*U*(U*(U*6-15)+10)}function ke(U,E){return U+Math.floor(Math.random()*(E-U+1))}function Qe(U,E){return U+Math.random()*(E-U)}function $e(U){return U*(0.5-Math.random())}function ye(U){if(U!==void 0)hS=U;let E=hS+=1831565813;return E=Math.imul(E^E>>>15,E|1),E^=E+Math.imul(E^E>>>7,E|61),((E^E>>>14)>>>0)/4294967296}function Ie(U){return U*aP}function Oe(U){return U*gP}function Ne(U){return(U&U-1)===0&&U!==0}function re(U){return Math.pow(2,Math.ceil(Math.log(U)/Math.LN2))}function Le(U){return Math.pow(2,Math.floor(Math.log(U)/Math.LN2))}function Xe(U,E,u,p,z){let{cos:c,sin:Y}=Math,P=c(u/2),n=Y(u/2),j=c((E+p)/2),H=Y((E+p)/2),k=c((E-p)/2),Q=Y((E-p)/2),y=c((p-E)/2),r=Y((p-E)/2);switch(z){case"XYX":U.set(P*H,n*k,n*Q,P*j);break;case"YZY":U.set(n*Q,P*H,n*k,P*j);break;case"ZXZ":U.set(n*k,n*Q,P*H,P*j);break;case"XZX":U.set(P*H,n*r,n*y,P*j);break;case"YXY":U.set(n*y,P*H,n*r,P*j);break;case"ZYZ":U.set(n*r,n*y,P*H,P*j);break;default:PE("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+z)}}function Zz(U,E){switch(E.constructor){case Float32Array:return U;case Uint32Array:return U/4294967295;case Uint16Array:return U/65535;case Uint8Array:return U/255;case Int32Array:return Math.max(U/2147483647,-1);case Int16Array:return Math.max(U/32767,-1);case Int8Array:return Math.max(U/127,-1);default:throw new Error("Invalid component type.")}}function zu(U,E){switch(E.constructor){case Float32Array:return U;case Uint32Array:return Math.round(U*4294967295);case Uint16Array:return Math.round(U*65535);case Uint8Array:return Math.round(U*255);case Int32Array:return Math.round(U*2147483647);case Int16Array:return Math.round(U*32767);case Int8Array:return Math.round(U*127);default:throw new Error("Invalid component type.")}}var yc={DEG2RAD:aP,RAD2DEG:gP,generateUUID:P0,clamp:sE,euclideanModulo:Jo,mapLinear:Pe,inverseLerp:xe,lerp:gk,damp:ne,pingpong:je,smoothstep:qe,smootherstep:He,randInt:ke,randFloat:Qe,randFloatSpread:$e,seededRandom:ye,degToRad:Ie,radToDeg:Oe,isPowerOfTwo:Ne,ceilPowerOfTwo:re,floorPowerOfTwo:Le,setQuaternionFromProperEuler:Xe,normalize:zu,denormalize:Zz};class LU{constructor(U=0,E=0){LU.prototype.isVector2=!0,this.x=U,this.y=E}get width(){return this.x}set width(U){this.x=U}get height(){return this.y}set height(U){this.y=U}set(U,E){return this.x=U,this.y=E,this}setScalar(U){return this.x=U,this.y=U,this}setX(U){return this.x=U,this}setY(U){return this.y=U,this}setComponent(U,E){switch(U){case 0:this.x=E;break;case 1:this.y=E;break;default:throw new Error("index is out of range: "+U)}return this}getComponent(U){switch(U){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+U)}}clone(){return new this.constructor(this.x,this.y)}copy(U){return this.x=U.x,this.y=U.y,this}add(U){return this.x+=U.x,this.y+=U.y,this}addScalar(U){return this.x+=U,this.y+=U,this}addVectors(U,E){return this.x=U.x+E.x,this.y=U.y+E.y,this}addScaledVector(U,E){return this.x+=U.x*E,this.y+=U.y*E,this}sub(U){return this.x-=U.x,this.y-=U.y,this}subScalar(U){return this.x-=U,this.y-=U,this}subVectors(U,E){return this.x=U.x-E.x,this.y=U.y-E.y,this}multiply(U){return this.x*=U.x,this.y*=U.y,this}multiplyScalar(U){return this.x*=U,this.y*=U,this}divide(U){return this.x/=U.x,this.y/=U.y,this}divideScalar(U){return this.multiplyScalar(1/U)}applyMatrix3(U){let E=this.x,u=this.y,p=U.elements;return this.x=p[0]*E+p[3]*u+p[6],this.y=p[1]*E+p[4]*u+p[7],this}min(U){return this.x=Math.min(this.x,U.x),this.y=Math.min(this.y,U.y),this}max(U){return this.x=Math.max(this.x,U.x),this.y=Math.max(this.y,U.y),this}clamp(U,E){return this.x=sE(this.x,U.x,E.x),this.y=sE(this.y,U.y,E.y),this}clampScalar(U,E){return this.x=sE(this.x,U,E),this.y=sE(this.y,U,E),this}clampLength(U,E){let u=this.length();return this.divideScalar(u||1).multiplyScalar(sE(u,U,E))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(U){return this.x*U.x+this.y*U.y}cross(U){return this.x*U.y-this.y*U.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(U){let E=Math.sqrt(this.lengthSq()*U.lengthSq());if(E===0)return Math.PI/2;let u=this.dot(U)/E;return Math.acos(sE(u,-1,1))}distanceTo(U){return Math.sqrt(this.distanceToSquared(U))}distanceToSquared(U){let E=this.x-U.x,u=this.y-U.y;return E*E+u*u}manhattanDistanceTo(U){return Math.abs(this.x-U.x)+Math.abs(this.y-U.y)}setLength(U){return this.normalize().multiplyScalar(U)}lerp(U,E){return this.x+=(U.x-this.x)*E,this.y+=(U.y-this.y)*E,this}lerpVectors(U,E,u){return this.x=U.x+(E.x-U.x)*u,this.y=U.y+(E.y-U.y)*u,this}equals(U){return U.x===this.x&&U.y===this.y}fromArray(U,E=0){return this.x=U[E],this.y=U[E+1],this}toArray(U=[],E=0){return U[E]=this.x,U[E+1]=this.y,U}fromBufferAttribute(U,E){return this.x=U.getX(E),this.y=U.getY(E),this}rotateAround(U,E){let u=Math.cos(E),p=Math.sin(E),z=this.x-U.x,c=this.y-U.y;return this.x=z*u-c*p+U.x,this.y=z*p+c*u+U.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class np{constructor(U=0,E=0,u=0,p=1){this.isQuaternion=!0,this._x=U,this._y=E,this._z=u,this._w=p}static slerpFlat(U,E,u,p,z,c,Y){let P=u[p+0],n=u[p+1],j=u[p+2],H=u[p+3],k=z[c+0],Q=z[c+1],y=z[c+2],r=z[c+3];if(Y<=0){U[E+0]=P,U[E+1]=n,U[E+2]=j,U[E+3]=H;return}if(Y>=1){U[E+0]=k,U[E+1]=Q,U[E+2]=y,U[E+3]=r;return}if(H!==r||P!==k||n!==Q||j!==y){let T=P*k+n*Q+j*y+H*r;if(T<0)k=-k,Q=-Q,y=-y,r=-r,T=-T;let N=1-Y;if(T<0.9995){let O=Math.acos(T),L=Math.sin(O);N=Math.sin(N*O)/L,Y=Math.sin(Y*O)/L,P=P*N+k*Y,n=n*N+Q*Y,j=j*N+y*Y,H=H*N+r*Y}else{P=P*N+k*Y,n=n*N+Q*Y,j=j*N+y*Y,H=H*N+r*Y;let O=1/Math.sqrt(P*P+n*n+j*j+H*H);P*=O,n*=O,j*=O,H*=O}}U[E]=P,U[E+1]=n,U[E+2]=j,U[E+3]=H}static multiplyQuaternionsFlat(U,E,u,p,z,c){let Y=u[p],P=u[p+1],n=u[p+2],j=u[p+3],H=z[c],k=z[c+1],Q=z[c+2],y=z[c+3];return U[E]=Y*y+j*H+P*Q-n*k,U[E+1]=P*y+j*k+n*H-Y*Q,U[E+2]=n*y+j*Q+Y*k-P*H,U[E+3]=j*y-Y*H-P*k-n*Q,U}get x(){return this._x}set x(U){this._x=U,this._onChangeCallback()}get y(){return this._y}set y(U){this._y=U,this._onChangeCallback()}get z(){return this._z}set z(U){this._z=U,this._onChangeCallback()}get w(){return this._w}set w(U){this._w=U,this._onChangeCallback()}set(U,E,u,p){return this._x=U,this._y=E,this._z=u,this._w=p,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(U){return this._x=U.x,this._y=U.y,this._z=U.z,this._w=U.w,this._onChangeCallback(),this}setFromEuler(U,E=!0){let{_x:u,_y:p,_z:z,_order:c}=U,Y=Math.cos,P=Math.sin,n=Y(u/2),j=Y(p/2),H=Y(z/2),k=P(u/2),Q=P(p/2),y=P(z/2);switch(c){case"XYZ":this._x=k*j*H+n*Q*y,this._y=n*Q*H-k*j*y,this._z=n*j*y+k*Q*H,this._w=n*j*H-k*Q*y;break;case"YXZ":this._x=k*j*H+n*Q*y,this._y=n*Q*H-k*j*y,this._z=n*j*y-k*Q*H,this._w=n*j*H+k*Q*y;break;case"ZXY":this._x=k*j*H-n*Q*y,this._y=n*Q*H+k*j*y,this._z=n*j*y+k*Q*H,this._w=n*j*H-k*Q*y;break;case"ZYX":this._x=k*j*H-n*Q*y,this._y=n*Q*H+k*j*y,this._z=n*j*y-k*Q*H,this._w=n*j*H+k*Q*y;break;case"YZX":this._x=k*j*H+n*Q*y,this._y=n*Q*H+k*j*y,this._z=n*j*y-k*Q*H,this._w=n*j*H-k*Q*y;break;case"XZY":this._x=k*j*H-n*Q*y,this._y=n*Q*H-k*j*y,this._z=n*j*y+k*Q*H,this._w=n*j*H+k*Q*y;break;default:PE("Quaternion: .setFromEuler() encountered an unknown order: "+c)}if(E===!0)this._onChangeCallback();return this}setFromAxisAngle(U,E){let u=E/2,p=Math.sin(u);return this._x=U.x*p,this._y=U.y*p,this._z=U.z*p,this._w=Math.cos(u),this._onChangeCallback(),this}setFromRotationMatrix(U){let E=U.elements,u=E[0],p=E[4],z=E[8],c=E[1],Y=E[5],P=E[9],n=E[2],j=E[6],H=E[10],k=u+Y+H;if(k>0){let Q=0.5/Math.sqrt(k+1);this._w=0.25/Q,this._x=(j-P)*Q,this._y=(z-n)*Q,this._z=(c-p)*Q}else if(u>Y&&u>H){let Q=2*Math.sqrt(1+u-Y-H);this._w=(j-P)/Q,this._x=0.25*Q,this._y=(p+c)/Q,this._z=(z+n)/Q}else if(Y>H){let Q=2*Math.sqrt(1+Y-u-H);this._w=(z-n)/Q,this._x=(p+c)/Q,this._y=0.25*Q,this._z=(P+j)/Q}else{let Q=2*Math.sqrt(1+H-u-Y);this._w=(c-p)/Q,this._x=(z+n)/Q,this._y=(P+j)/Q,this._z=0.25*Q}return this._onChangeCallback(),this}setFromUnitVectors(U,E){let u=U.dot(E)+1;if(u<0.00000001)if(u=0,Math.abs(U.x)>Math.abs(U.z))this._x=-U.y,this._y=U.x,this._z=0,this._w=u;else this._x=0,this._y=-U.z,this._z=U.y,this._w=u;else this._x=U.y*E.z-U.z*E.y,this._y=U.z*E.x-U.x*E.z,this._z=U.x*E.y-U.y*E.x,this._w=u;return this.normalize()}angleTo(U){return 2*Math.acos(Math.abs(sE(this.dot(U),-1,1)))}rotateTowards(U,E){let u=this.angleTo(U);if(u===0)return this;let p=Math.min(1,E/u);return this.slerp(U,p),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(U){return this._x*U._x+this._y*U._y+this._z*U._z+this._w*U._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let U=this.length();if(U===0)this._x=0,this._y=0,this._z=0,this._w=1;else U=1/U,this._x=this._x*U,this._y=this._y*U,this._z=this._z*U,this._w=this._w*U;return this._onChangeCallback(),this}multiply(U){return this.multiplyQuaternions(this,U)}premultiply(U){return this.multiplyQuaternions(U,this)}multiplyQuaternions(U,E){let{_x:u,_y:p,_z:z,_w:c}=U,Y=E._x,P=E._y,n=E._z,j=E._w;return this._x=u*j+c*Y+p*n-z*P,this._y=p*j+c*P+z*Y-u*n,this._z=z*j+c*n+u*P-p*Y,this._w=c*j-u*Y-p*P-z*n,this._onChangeCallback(),this}slerp(U,E){if(E<=0)return this;if(E>=1)return this.copy(U);let{_x:u,_y:p,_z:z,_w:c}=U,Y=this.dot(U);if(Y<0)u=-u,p=-p,z=-z,c=-c,Y=-Y;let P=1-E;if(Y<0.9995){let n=Math.acos(Y),j=Math.sin(n);P=Math.sin(P*n)/j,E=Math.sin(E*n)/j,this._x=this._x*P+u*E,this._y=this._y*P+p*E,this._z=this._z*P+z*E,this._w=this._w*P+c*E,this._onChangeCallback()}else this._x=this._x*P+u*E,this._y=this._y*P+p*E,this._z=this._z*P+z*E,this._w=this._w*P+c*E,this.normalize();return this}slerpQuaternions(U,E,u){return this.copy(U).slerp(E,u)}random(){let U=2*Math.PI*Math.random(),E=2*Math.PI*Math.random(),u=Math.random(),p=Math.sqrt(1-u),z=Math.sqrt(u);return this.set(p*Math.sin(U),p*Math.cos(U),z*Math.sin(E),z*Math.cos(E))}equals(U){return U._x===this._x&&U._y===this._y&&U._z===this._z&&U._w===this._w}fromArray(U,E=0){return this._x=U[E],this._y=U[E+1],this._z=U[E+2],this._w=U[E+3],this._onChangeCallback(),this}toArray(U=[],E=0){return U[E]=this._x,U[E+1]=this._y,U[E+2]=this._z,U[E+3]=this._w,U}fromBufferAttribute(U,E){return this._x=U.getX(E),this._y=U.getY(E),this._z=U.getZ(E),this._w=U.getW(E),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(U){return this._onChangeCallback=U,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class b{constructor(U=0,E=0,u=0){b.prototype.isVector3=!0,this.x=U,this.y=E,this.z=u}set(U,E,u){if(u===void 0)u=this.z;return this.x=U,this.y=E,this.z=u,this}setScalar(U){return this.x=U,this.y=U,this.z=U,this}setX(U){return this.x=U,this}setY(U){return this.y=U,this}setZ(U){return this.z=U,this}setComponent(U,E){switch(U){case 0:this.x=E;break;case 1:this.y=E;break;case 2:this.z=E;break;default:throw new Error("index is out of range: "+U)}return this}getComponent(U){switch(U){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+U)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(U){return this.x=U.x,this.y=U.y,this.z=U.z,this}add(U){return this.x+=U.x,this.y+=U.y,this.z+=U.z,this}addScalar(U){return this.x+=U,this.y+=U,this.z+=U,this}addVectors(U,E){return this.x=U.x+E.x,this.y=U.y+E.y,this.z=U.z+E.z,this}addScaledVector(U,E){return this.x+=U.x*E,this.y+=U.y*E,this.z+=U.z*E,this}sub(U){return this.x-=U.x,this.y-=U.y,this.z-=U.z,this}subScalar(U){return this.x-=U,this.y-=U,this.z-=U,this}subVectors(U,E){return this.x=U.x-E.x,this.y=U.y-E.y,this.z=U.z-E.z,this}multiply(U){return this.x*=U.x,this.y*=U.y,this.z*=U.z,this}multiplyScalar(U){return this.x*=U,this.y*=U,this.z*=U,this}multiplyVectors(U,E){return this.x=U.x*E.x,this.y=U.y*E.y,this.z=U.z*E.z,this}applyEuler(U){return this.applyQuaternion(bS.setFromEuler(U))}applyAxisAngle(U,E){return this.applyQuaternion(bS.setFromAxisAngle(U,E))}applyMatrix3(U){let E=this.x,u=this.y,p=this.z,z=U.elements;return this.x=z[0]*E+z[3]*u+z[6]*p,this.y=z[1]*E+z[4]*u+z[7]*p,this.z=z[2]*E+z[5]*u+z[8]*p,this}applyNormalMatrix(U){return this.applyMatrix3(U).normalize()}applyMatrix4(U){let E=this.x,u=this.y,p=this.z,z=U.elements,c=1/(z[3]*E+z[7]*u+z[11]*p+z[15]);return this.x=(z[0]*E+z[4]*u+z[8]*p+z[12])*c,this.y=(z[1]*E+z[5]*u+z[9]*p+z[13])*c,this.z=(z[2]*E+z[6]*u+z[10]*p+z[14])*c,this}applyQuaternion(U){let E=this.x,u=this.y,p=this.z,z=U.x,c=U.y,Y=U.z,P=U.w,n=2*(c*p-Y*u),j=2*(Y*E-z*p),H=2*(z*u-c*E);return this.x=E+P*n+c*H-Y*j,this.y=u+P*j+Y*n-z*H,this.z=p+P*H+z*j-c*n,this}project(U){return this.applyMatrix4(U.matrixWorldInverse).applyMatrix4(U.projectionMatrix)}unproject(U){return this.applyMatrix4(U.projectionMatrixInverse).applyMatrix4(U.matrixWorld)}transformDirection(U){let E=this.x,u=this.y,p=this.z,z=U.elements;return this.x=z[0]*E+z[4]*u+z[8]*p,this.y=z[1]*E+z[5]*u+z[9]*p,this.z=z[2]*E+z[6]*u+z[10]*p,this.normalize()}divide(U){return this.x/=U.x,this.y/=U.y,this.z/=U.z,this}divideScalar(U){return this.multiplyScalar(1/U)}min(U){return this.x=Math.min(this.x,U.x),this.y=Math.min(this.y,U.y),this.z=Math.min(this.z,U.z),this}max(U){return this.x=Math.max(this.x,U.x),this.y=Math.max(this.y,U.y),this.z=Math.max(this.z,U.z),this}clamp(U,E){return this.x=sE(this.x,U.x,E.x),this.y=sE(this.y,U.y,E.y),this.z=sE(this.z,U.z,E.z),this}clampScalar(U,E){return this.x=sE(this.x,U,E),this.y=sE(this.y,U,E),this.z=sE(this.z,U,E),this}clampLength(U,E){let u=this.length();return this.divideScalar(u||1).multiplyScalar(sE(u,U,E))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(U){return this.x*U.x+this.y*U.y+this.z*U.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(U){return this.normalize().multiplyScalar(U)}lerp(U,E){return this.x+=(U.x-this.x)*E,this.y+=(U.y-this.y)*E,this.z+=(U.z-this.z)*E,this}lerpVectors(U,E,u){return this.x=U.x+(E.x-U.x)*u,this.y=U.y+(E.y-U.y)*u,this.z=U.z+(E.z-U.z)*u,this}cross(U){return this.crossVectors(this,U)}crossVectors(U,E){let{x:u,y:p,z}=U,c=E.x,Y=E.y,P=E.z;return this.x=p*P-z*Y,this.y=z*c-u*P,this.z=u*Y-p*c,this}projectOnVector(U){let E=U.lengthSq();if(E===0)return this.set(0,0,0);let u=U.dot(this)/E;return this.copy(U).multiplyScalar(u)}projectOnPlane(U){return qT.copy(this).projectOnVector(U),this.sub(qT)}reflect(U){return this.sub(qT.copy(U).multiplyScalar(2*this.dot(U)))}angleTo(U){let E=Math.sqrt(this.lengthSq()*U.lengthSq());if(E===0)return Math.PI/2;let u=this.dot(U)/E;return Math.acos(sE(u,-1,1))}distanceTo(U){return Math.sqrt(this.distanceToSquared(U))}distanceToSquared(U){let E=this.x-U.x,u=this.y-U.y,p=this.z-U.z;return E*E+u*u+p*p}manhattanDistanceTo(U){return Math.abs(this.x-U.x)+Math.abs(this.y-U.y)+Math.abs(this.z-U.z)}setFromSpherical(U){return this.setFromSphericalCoords(U.radius,U.phi,U.theta)}setFromSphericalCoords(U,E,u){let p=Math.sin(E)*U;return this.x=p*Math.sin(u),this.y=Math.cos(E)*U,this.z=p*Math.cos(u),this}setFromCylindrical(U){return this.setFromCylindricalCoords(U.radius,U.theta,U.y)}setFromCylindricalCoords(U,E,u){return this.x=U*Math.sin(E),this.y=u,this.z=U*Math.cos(E),this}setFromMatrixPosition(U){let E=U.elements;return this.x=E[12],this.y=E[13],this.z=E[14],this}setFromMatrixScale(U){let E=this.setFromMatrixColumn(U,0).length(),u=this.setFromMatrixColumn(U,1).length(),p=this.setFromMatrixColumn(U,2).length();return this.x=E,this.y=u,this.z=p,this}setFromMatrixColumn(U,E){return this.fromArray(U.elements,E*4)}setFromMatrix3Column(U,E){return this.fromArray(U.elements,E*3)}setFromEuler(U){return this.x=U._x,this.y=U._y,this.z=U._z,this}setFromColor(U){return this.x=U.r,this.y=U.g,this.z=U.b,this}equals(U){return U.x===this.x&&U.y===this.y&&U.z===this.z}fromArray(U,E=0){return this.x=U[E],this.y=U[E+1],this.z=U[E+2],this}toArray(U=[],E=0){return U[E]=this.x,U[E+1]=this.y,U[E+2]=this.z,U}fromBufferAttribute(U,E){return this.x=U.getX(E),this.y=U.getY(E),this.z=U.getZ(E),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let U=Math.random()*Math.PI*2,E=Math.random()*2-1,u=Math.sqrt(1-E*E);return this.x=u*Math.cos(U),this.y=E,this.z=u*Math.sin(U),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}var qT=new b,bS=new np;class CE{constructor(U,E,u,p,z,c,Y,P,n){if(CE.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],U!==void 0)this.set(U,E,u,p,z,c,Y,P,n)}set(U,E,u,p,z,c,Y,P,n){let j=this.elements;return j[0]=U,j[1]=p,j[2]=Y,j[3]=E,j[4]=z,j[5]=P,j[6]=u,j[7]=c,j[8]=n,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(U){let E=this.elements,u=U.elements;return E[0]=u[0],E[1]=u[1],E[2]=u[2],E[3]=u[3],E[4]=u[4],E[5]=u[5],E[6]=u[6],E[7]=u[7],E[8]=u[8],this}extractBasis(U,E,u){return U.setFromMatrix3Column(this,0),E.setFromMatrix3Column(this,1),u.setFromMatrix3Column(this,2),this}setFromMatrix4(U){let E=U.elements;return this.set(E[0],E[4],E[8],E[1],E[5],E[9],E[2],E[6],E[10]),this}multiply(U){return this.multiplyMatrices(this,U)}premultiply(U){return this.multiplyMatrices(U,this)}multiplyMatrices(U,E){let u=U.elements,p=E.elements,z=this.elements,c=u[0],Y=u[3],P=u[6],n=u[1],j=u[4],H=u[7],k=u[2],Q=u[5],y=u[8],r=p[0],T=p[3],N=p[6],O=p[1],L=p[4],X=p[7],i=p[2],B=p[5],G=p[8];return z[0]=c*r+Y*O+P*i,z[3]=c*T+Y*L+P*B,z[6]=c*N+Y*X+P*G,z[1]=n*r+j*O+H*i,z[4]=n*T+j*L+H*B,z[7]=n*N+j*X+H*G,z[2]=k*r+Q*O+y*i,z[5]=k*T+Q*L+y*B,z[8]=k*N+Q*X+y*G,this}multiplyScalar(U){let E=this.elements;return E[0]*=U,E[3]*=U,E[6]*=U,E[1]*=U,E[4]*=U,E[7]*=U,E[2]*=U,E[5]*=U,E[8]*=U,this}determinant(){let U=this.elements,E=U[0],u=U[1],p=U[2],z=U[3],c=U[4],Y=U[5],P=U[6],n=U[7],j=U[8];return E*c*j-E*Y*n-u*z*j+u*Y*P+p*z*n-p*c*P}invert(){let U=this.elements,E=U[0],u=U[1],p=U[2],z=U[3],c=U[4],Y=U[5],P=U[6],n=U[7],j=U[8],H=j*c-Y*n,k=Y*P-j*z,Q=n*z-c*P,y=E*H+u*k+p*Q;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);let r=1/y;return U[0]=H*r,U[1]=(p*n-j*u)*r,U[2]=(Y*u-p*c)*r,U[3]=k*r,U[4]=(j*E-p*P)*r,U[5]=(p*z-Y*E)*r,U[6]=Q*r,U[7]=(u*P-n*E)*r,U[8]=(c*E-u*z)*r,this}transpose(){let U,E=this.elements;return U=E[1],E[1]=E[3],E[3]=U,U=E[2],E[2]=E[6],E[6]=U,U=E[5],E[5]=E[7],E[7]=U,this}getNormalMatrix(U){return this.setFromMatrix4(U).invert().transpose()}transposeIntoArray(U){let E=this.elements;return U[0]=E[0],U[1]=E[3],U[2]=E[6],U[3]=E[1],U[4]=E[4],U[5]=E[7],U[6]=E[2],U[7]=E[5],U[8]=E[8],this}setUvTransform(U,E,u,p,z,c,Y){let P=Math.cos(z),n=Math.sin(z);return this.set(u*P,u*n,-u*(P*c+n*Y)+c+U,-p*n,p*P,-p*(-n*c+P*Y)+Y+E,0,0,1),this}scale(U,E){return this.premultiply(HT.makeScale(U,E)),this}rotate(U){return this.premultiply(HT.makeRotation(-U)),this}translate(U,E){return this.premultiply(HT.makeTranslation(U,E)),this}makeTranslation(U,E){if(U.isVector2)this.set(1,0,U.x,0,1,U.y,0,0,1);else this.set(1,0,U,0,1,E,0,0,1);return this}makeRotation(U){let E=Math.cos(U),u=Math.sin(U);return this.set(E,-u,0,u,E,0,0,0,1),this}makeScale(U,E){return this.set(U,0,0,0,E,0,0,0,1),this}equals(U){let E=this.elements,u=U.elements;for(let p=0;p<9;p++)if(E[p]!==u[p])return!1;return!0}fromArray(U,E=0){for(let u=0;u<9;u++)this.elements[u]=U[u+E];return this}toArray(U=[],E=0){let u=this.elements;return U[E]=u[0],U[E+1]=u[1],U[E+2]=u[2],U[E+3]=u[3],U[E+4]=u[4],U[E+5]=u[5],U[E+6]=u[6],U[E+7]=u[7],U[E+8]=u[8],U}clone(){return new this.constructor().fromArray(this.elements)}}var HT=new CE,lS=new CE().set(0.4123908,0.3575843,0.1804808,0.212639,0.7151687,0.0721923,0.0193308,0.1191948,0.9505322),MS=new CE().set(3.2409699,-1.5373832,-0.4986108,-0.9692436,1.8759675,0.0415551,0.0556301,-0.203977,1.0569715);function Te(){let U={enabled:!0,workingColorSpace:"srgb-linear",spaces:{},convert:function(z,c,Y){if(this.enabled===!1||c===Y||!c||!Y)return z;if(this.spaces[c].transfer==="srgb")z.r=_4(z.r),z.g=_4(z.g),z.b=_4(z.b);if(this.spaces[c].primaries!==this.spaces[Y].primaries)z.applyMatrix3(this.spaces[c].toXYZ),z.applyMatrix3(this.spaces[Y].fromXYZ);if(this.spaces[Y].transfer==="srgb")z.r=Rj(z.r),z.g=Rj(z.g),z.b=Rj(z.b);return z},workingToColorSpace:function(z,c){return this.convert(z,this.workingColorSpace,c)},colorSpaceToWorking:function(z,c){return this.convert(z,c,this.workingColorSpace)},getPrimaries:function(z){return this.spaces[z].primaries},getTransfer:function(z){if(z==="")return"linear";return this.spaces[z].transfer},getToneMappingMode:function(z){return this.spaces[z].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(z,c=this.workingColorSpace){return z.fromArray(this.spaces[c].luminanceCoefficients)},define:function(z){Object.assign(this.spaces,z)},_getMatrix:function(z,c,Y){return z.copy(this.spaces[c].toXYZ).multiply(this.spaces[Y].fromXYZ)},_getDrawingBufferColorSpace:function(z){return this.spaces[z].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(z=this.workingColorSpace){return this.spaces[z].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(z,c){return _P("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),U.workingToColorSpace(z,c)},toWorkingColorSpace:function(z,c){return _P("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),U.colorSpaceToWorking(z,c)}},E=[0.64,0.33,0.3,0.6,0.15,0.06],u=[0.2126,0.7152,0.0722],p=[0.3127,0.329];return U.define({["srgb-linear"]:{primaries:E,whitePoint:p,transfer:"linear",toXYZ:lS,fromXYZ:MS,luminanceCoefficients:u,workingColorSpaceConfig:{unpackColorSpace:"srgb"},outputColorSpaceConfig:{drawingBufferColorSpace:"srgb"}},["srgb"]:{primaries:E,whitePoint:p,transfer:"srgb",toXYZ:lS,fromXYZ:MS,luminanceCoefficients:u,outputColorSpaceConfig:{drawingBufferColorSpace:"srgb"}}}),U}var Hu=Te();function _4(U){return U<0.04045?U*0.0773993808:Math.pow(U*0.9478672986+0.0521327014,2.4)}function Rj(U){return U<0.0031308?U*12.92:1.055*Math.pow(U,0.41666)-0.055}var $j;class PO{static getDataURL(U,E="image/png"){if(/^data:/i.test(U.src))return U.src;if(typeof HTMLCanvasElement==="undefined")return U.src;let u;if(U instanceof HTMLCanvasElement)u=U;else{if($j===void 0)$j=Dj("canvas");$j.width=U.width,$j.height=U.height;let p=$j.getContext("2d");if(U instanceof ImageData)p.putImageData(U,0,0);else p.drawImage(U,0,0,U.width,U.height);u=$j}return u.toDataURL(E)}static sRGBToLinear(U){if(typeof HTMLImageElement!=="undefined"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement!=="undefined"&&U instanceof HTMLCanvasElement||typeof ImageBitmap!=="undefined"&&U instanceof ImageBitmap){let E=Dj("canvas");E.width=U.width,E.height=U.height;let u=E.getContext("2d");u.drawImage(U,0,0,U.width,U.height);let p=u.getImageData(0,0,U.width,U.height),z=p.data;for(let c=0;c<z.length;c++)z[c]=_4(z[c]/255)*255;return u.putImageData(p,0,0),E}else if(U.data){let E=U.data.slice(0);for(let u=0;u<E.length;u++)if(E instanceof Uint8Array||E instanceof Uint8ClampedArray)E[u]=Math.floor(_4(E[u]/255)*255);else E[u]=_4(E[u]);return{data:E,width:U.width,height:U.height}}else return PE("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),U}}var oe=0;class Wc{constructor(U=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oe++}),this.uuid=P0(),this.data=U,this.dataReady=!0,this.version=0}getSize(U){let E=this.data;if(typeof HTMLVideoElement!=="undefined"&&E instanceof HTMLVideoElement)U.set(E.videoWidth,E.videoHeight,0);else if(typeof VideoFrame!=="undefined"&&E instanceof VideoFrame)U.set(E.displayHeight,E.displayWidth,0);else if(E!==null)U.set(E.width,E.height,E.depth||0);else U.set(0,0,0);return U}set needsUpdate(U){if(U===!0)this.version++}toJSON(U){let E=U===void 0||typeof U==="string";if(!E&&U.images[this.uuid]!==void 0)return U.images[this.uuid];let u={uuid:this.uuid,url:""},p=this.data;if(p!==null){let z;if(Array.isArray(p)){z=[];for(let c=0,Y=p.length;c<Y;c++)if(p[c].isDataTexture)z.push(kT(p[c].image));else z.push(kT(p[c]))}else z=kT(p);u.url=z}if(!E)U.images[this.uuid]=u;return u}}function kT(U){if(typeof HTMLImageElement!=="undefined"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement!=="undefined"&&U instanceof HTMLCanvasElement||typeof ImageBitmap!=="undefined"&&U instanceof ImageBitmap)return PO.getDataURL(U);else if(U.data)return{data:Array.from(U.data),width:U.width,height:U.height,type:U.data.constructor.name};else return PE("Texture: Unable to serialize Texture."),{}}var ie=0,QT=new b;class Vu extends l0{constructor(U=Vu.DEFAULT_IMAGE,E=Vu.DEFAULT_MAPPING,u=1001,p=1001,z=1006,c=1008,Y=1023,P=1009,n=Vu.DEFAULT_ANISOTROPY,j=""){super();this.isTexture=!0,Object.defineProperty(this,"id",{value:ie++}),this.uuid=P0(),this.name="",this.source=new Wc(U),this.mipmaps=[],this.mapping=E,this.channel=0,this.wrapS=u,this.wrapT=p,this.magFilter=z,this.minFilter=c,this.anisotropy=n,this.format=Y,this.internalFormat=null,this.type=P,this.offset=new LU(0,0),this.repeat=new LU(1,1),this.center=new LU(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new CE,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=j,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=U&&U.depth&&U.depth>1?!0:!1,this.pmremVersion=0}get width(){return this.source.getSize(QT).x}get height(){return this.source.getSize(QT).y}get depth(){return this.source.getSize(QT).z}get image(){return this.source.data}set image(U=null){this.source.data=U}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(U,E){this.updateRanges.push({start:U,count:E})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(U){return this.name=U.name,this.source=U.source,this.mipmaps=U.mipmaps.slice(0),this.mapping=U.mapping,this.channel=U.channel,this.wrapS=U.wrapS,this.wrapT=U.wrapT,this.magFilter=U.magFilter,this.minFilter=U.minFilter,this.anisotropy=U.anisotropy,this.format=U.format,this.internalFormat=U.internalFormat,this.type=U.type,this.offset.copy(U.offset),this.repeat.copy(U.repeat),this.center.copy(U.center),this.rotation=U.rotation,this.matrixAutoUpdate=U.matrixAutoUpdate,this.matrix.copy(U.matrix),this.generateMipmaps=U.generateMipmaps,this.premultiplyAlpha=U.premultiplyAlpha,this.flipY=U.flipY,this.unpackAlignment=U.unpackAlignment,this.colorSpace=U.colorSpace,this.renderTarget=U.renderTarget,this.isRenderTargetTexture=U.isRenderTargetTexture,this.isArrayTexture=U.isArrayTexture,this.userData=JSON.parse(JSON.stringify(U.userData)),this.needsUpdate=!0,this}setValues(U){for(let E in U){let u=U[E];if(u===void 0){PE(`Texture.setValues(): parameter '${E}' has value of undefined.`);continue}let p=this[E];if(p===void 0){PE(`Texture.setValues(): property '${E}' does not exist.`);continue}if(p&&u&&(p.isVector2&&u.isVector2))p.copy(u);else if(p&&u&&(p.isVector3&&u.isVector3))p.copy(u);else if(p&&u&&(p.isMatrix3&&u.isMatrix3))p.copy(u);else this[E]=u}}toJSON(U){let E=U===void 0||typeof U==="string";if(!E&&U.textures[this.uuid]!==void 0)return U.textures[this.uuid];let u={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(U).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(Object.keys(this.userData).length>0)u.userData=this.userData;if(!E)U.textures[this.uuid]=u;return u}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(U){if(this.mapping!==300)return U;if(U.applyMatrix3(this.matrix),U.x<0||U.x>1)switch(this.wrapS){case 1000:U.x=U.x-Math.floor(U.x);break;case 1001:U.x=U.x<0?0:1;break;case 1002:if(Math.abs(Math.floor(U.x)%2)===1)U.x=Math.ceil(U.x)-U.x;else U.x=U.x-Math.floor(U.x);break}if(U.y<0||U.y>1)switch(this.wrapT){case 1000:U.y=U.y-Math.floor(U.y);break;case 1001:U.y=U.y<0?0:1;break;case 1002:if(Math.abs(Math.floor(U.y)%2)===1)U.y=Math.ceil(U.y)-U.y;else U.y=U.y-Math.floor(U.y);break}if(this.flipY)U.y=1-U.y;return U}set needsUpdate(U){if(U===!0)this.version++,this.source.needsUpdate=!0}set needsPMREMUpdate(U){if(U===!0)this.pmremVersion++}}Vu.DEFAULT_IMAGE=null;Vu.DEFAULT_MAPPING=300;Vu.DEFAULT_ANISOTROPY=1;class Gu{constructor(U=0,E=0,u=0,p=1){Gu.prototype.isVector4=!0,this.x=U,this.y=E,this.z=u,this.w=p}get width(){return this.z}set width(U){this.z=U}get height(){return this.w}set height(U){this.w=U}set(U,E,u,p){return this.x=U,this.y=E,this.z=u,this.w=p,this}setScalar(U){return this.x=U,this.y=U,this.z=U,this.w=U,this}setX(U){return this.x=U,this}setY(U){return this.y=U,this}setZ(U){return this.z=U,this}setW(U){return this.w=U,this}setComponent(U,E){switch(U){case 0:this.x=E;break;case 1:this.y=E;break;case 2:this.z=E;break;case 3:this.w=E;break;default:throw new Error("index is out of range: "+U)}return this}getComponent(U){switch(U){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+U)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(U){return this.x=U.x,this.y=U.y,this.z=U.z,this.w=U.w!==void 0?U.w:1,this}add(U){return this.x+=U.x,this.y+=U.y,this.z+=U.z,this.w+=U.w,this}addScalar(U){return this.x+=U,this.y+=U,this.z+=U,this.w+=U,this}addVectors(U,E){return this.x=U.x+E.x,this.y=U.y+E.y,this.z=U.z+E.z,this.w=U.w+E.w,this}addScaledVector(U,E){return this.x+=U.x*E,this.y+=U.y*E,this.z+=U.z*E,this.w+=U.w*E,this}sub(U){return this.x-=U.x,this.y-=U.y,this.z-=U.z,this.w-=U.w,this}subScalar(U){return this.x-=U,this.y-=U,this.z-=U,this.w-=U,this}subVectors(U,E){return this.x=U.x-E.x,this.y=U.y-E.y,this.z=U.z-E.z,this.w=U.w-E.w,this}multiply(U){return this.x*=U.x,this.y*=U.y,this.z*=U.z,this.w*=U.w,this}multiplyScalar(U){return this.x*=U,this.y*=U,this.z*=U,this.w*=U,this}applyMatrix4(U){let E=this.x,u=this.y,p=this.z,z=this.w,c=U.elements;return this.x=c[0]*E+c[4]*u+c[8]*p+c[12]*z,this.y=c[1]*E+c[5]*u+c[9]*p+c[13]*z,this.z=c[2]*E+c[6]*u+c[10]*p+c[14]*z,this.w=c[3]*E+c[7]*u+c[11]*p+c[15]*z,this}divide(U){return this.x/=U.x,this.y/=U.y,this.z/=U.z,this.w/=U.w,this}divideScalar(U){return this.multiplyScalar(1/U)}setAxisAngleFromQuaternion(U){this.w=2*Math.acos(U.w);let E=Math.sqrt(1-U.w*U.w);if(E<0.0001)this.x=1,this.y=0,this.z=0;else this.x=U.x/E,this.y=U.y/E,this.z=U.z/E;return this}setAxisAngleFromRotationMatrix(U){let E,u,p,z,c=0.01,Y=0.1,P=U.elements,n=P[0],j=P[4],H=P[8],k=P[1],Q=P[5],y=P[9],r=P[2],T=P[6],N=P[10];if(Math.abs(j-k)<0.01&&Math.abs(H-r)<0.01&&Math.abs(y-T)<0.01){if(Math.abs(j+k)<0.1&&Math.abs(H+r)<0.1&&Math.abs(y+T)<0.1&&Math.abs(n+Q+N-3)<0.1)return this.set(1,0,0,0),this;E=Math.PI;let L=(n+1)/2,X=(Q+1)/2,i=(N+1)/2,B=(j+k)/4,G=(H+r)/4,d=(y+T)/4;if(L>X&&L>i)if(L<0.01)u=0,p=0.707106781,z=0.707106781;else u=Math.sqrt(L),p=B/u,z=G/u;else if(X>i)if(X<0.01)u=0.707106781,p=0,z=0.707106781;else p=Math.sqrt(X),u=B/p,z=d/p;else if(i<0.01)u=0.707106781,p=0.707106781,z=0;else z=Math.sqrt(i),u=G/z,p=d/z;return this.set(u,p,z,E),this}let O=Math.sqrt((T-y)*(T-y)+(H-r)*(H-r)+(k-j)*(k-j));if(Math.abs(O)<0.001)O=1;return this.x=(T-y)/O,this.y=(H-r)/O,this.z=(k-j)/O,this.w=Math.acos((n+Q+N-1)/2),this}setFromMatrixPosition(U){let E=U.elements;return this.x=E[12],this.y=E[13],this.z=E[14],this.w=E[15],this}min(U){return this.x=Math.min(this.x,U.x),this.y=Math.min(this.y,U.y),this.z=Math.min(this.z,U.z),this.w=Math.min(this.w,U.w),this}max(U){return this.x=Math.max(this.x,U.x),this.y=Math.max(this.y,U.y),this.z=Math.max(this.z,U.z),this.w=Math.max(this.w,U.w),this}clamp(U,E){return this.x=sE(this.x,U.x,E.x),this.y=sE(this.y,U.y,E.y),this.z=sE(this.z,U.z,E.z),this.w=sE(this.w,U.w,E.w),this}clampScalar(U,E){return this.x=sE(this.x,U,E),this.y=sE(this.y,U,E),this.z=sE(this.z,U,E),this.w=sE(this.w,U,E),this}clampLength(U,E){let u=this.length();return this.divideScalar(u||1).multiplyScalar(sE(u,U,E))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(U){return this.x*U.x+this.y*U.y+this.z*U.z+this.w*U.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(U){return this.normalize().multiplyScalar(U)}lerp(U,E){return this.x+=(U.x-this.x)*E,this.y+=(U.y-this.y)*E,this.z+=(U.z-this.z)*E,this.w+=(U.w-this.w)*E,this}lerpVectors(U,E,u){return this.x=U.x+(E.x-U.x)*u,this.y=U.y+(E.y-U.y)*u,this.z=U.z+(E.z-U.z)*u,this.w=U.w+(E.w-U.w)*u,this}equals(U){return U.x===this.x&&U.y===this.y&&U.z===this.z&&U.w===this.w}fromArray(U,E=0){return this.x=U[E],this.y=U[E+1],this.z=U[E+2],this.w=U[E+3],this}toArray(U=[],E=0){return U[E]=this.x,U[E+1]=this.y,U[E+2]=this.z,U[E+3]=this.w,U}fromBufferAttribute(U,E){return this.x=U.getX(E),this.y=U.getY(E),this.z=U.getZ(E),this.w=U.getW(E),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class o9 extends l0{constructor(U=1,E=1,u={}){super();u=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:1006,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},u),this.isRenderTarget=!0,this.width=U,this.height=E,this.depth=u.depth,this.scissor=new Gu(0,0,U,E),this.scissorTest=!1,this.viewport=new Gu(0,0,U,E);let p={width:U,height:E,depth:u.depth},z=new Vu(p);this.textures=[];let c=u.count;for(let Y=0;Y<c;Y++)this.textures[Y]=z.clone(),this.textures[Y].isRenderTargetTexture=!0,this.textures[Y].renderTarget=this;this._setTextureOptions(u),this.depthBuffer=u.depthBuffer,this.stencilBuffer=u.stencilBuffer,this.resolveDepthBuffer=u.resolveDepthBuffer,this.resolveStencilBuffer=u.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=u.depthTexture,this.samples=u.samples,this.multiview=u.multiview}_setTextureOptions(U={}){let E={minFilter:1006,generateMipmaps:!1,flipY:!1,internalFormat:null};if(U.mapping!==void 0)E.mapping=U.mapping;if(U.wrapS!==void 0)E.wrapS=U.wrapS;if(U.wrapT!==void 0)E.wrapT=U.wrapT;if(U.wrapR!==void 0)E.wrapR=U.wrapR;if(U.magFilter!==void 0)E.magFilter=U.magFilter;if(U.minFilter!==void 0)E.minFilter=U.minFilter;if(U.format!==void 0)E.format=U.format;if(U.type!==void 0)E.type=U.type;if(U.anisotropy!==void 0)E.anisotropy=U.anisotropy;if(U.colorSpace!==void 0)E.colorSpace=U.colorSpace;if(U.flipY!==void 0)E.flipY=U.flipY;if(U.generateMipmaps!==void 0)E.generateMipmaps=U.generateMipmaps;if(U.internalFormat!==void 0)E.internalFormat=U.internalFormat;for(let u=0;u<this.textures.length;u++)this.textures[u].setValues(E)}get texture(){return this.textures[0]}set texture(U){this.textures[0]=U}set depthTexture(U){if(this._depthTexture!==null)this._depthTexture.renderTarget=null;if(U!==null)U.renderTarget=this;this._depthTexture=U}get depthTexture(){return this._depthTexture}setSize(U,E,u=1){if(this.width!==U||this.height!==E||this.depth!==u){this.width=U,this.height=E,this.depth=u;for(let p=0,z=this.textures.length;p<z;p++)if(this.textures[p].image.width=U,this.textures[p].image.height=E,this.textures[p].image.depth=u,this.textures[p].isData3DTexture!==!0)this.textures[p].isArrayTexture=this.textures[p].image.depth>1;this.dispose()}this.viewport.set(0,0,U,E),this.scissor.set(0,0,U,E)}clone(){return new this.constructor().copy(this)}copy(U){this.width=U.width,this.height=U.height,this.depth=U.depth,this.scissor.copy(U.scissor),this.scissorTest=U.scissorTest,this.viewport.copy(U.viewport),this.textures.length=0;for(let E=0,u=U.textures.length;E<u;E++){this.textures[E]=U.textures[E].clone(),this.textures[E].isRenderTargetTexture=!0,this.textures[E].renderTarget=this;let p=Object.assign({},U.textures[E].image);this.textures[E].source=new Wc(p)}if(this.depthBuffer=U.depthBuffer,this.stencilBuffer=U.stencilBuffer,this.resolveDepthBuffer=U.resolveDepthBuffer,this.resolveStencilBuffer=U.resolveStencilBuffer,U.depthTexture!==null)this.depthTexture=U.depthTexture.clone();return this.samples=U.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class fp extends o9{constructor(U=1,E=1,u={}){super(U,E,u);this.isWebGLRenderTarget=!0}}class aj extends Vu{constructor(U=null,E=1,u=1,p=1){super(null);this.isDataArrayTexture=!0,this.image={data:U,width:E,height:u,depth:p},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(U){this.layerUpdates.add(U)}clearLayerUpdates(){this.layerUpdates.clear()}}class ho extends fp{constructor(U=1,E=1,u=1,p={}){super(U,E,p);this.isWebGLArrayRenderTarget=!0,this.depth=u,this.texture=new aj(null,U,E,u),this._setTextureOptions(p),this.texture.isRenderTargetTexture=!0}}class _j extends Vu{constructor(U=null,E=1,u=1,p=1){super(null);this.isData3DTexture=!0,this.image={data:U,width:E,height:u,depth:p},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bo extends fp{constructor(U=1,E=1,u=1,p={}){super(U,E,p);this.isWebGL3DRenderTarget=!0,this.depth=u,this.texture=new _j(null,U,E,u),this._setTextureOptions(p),this.texture.isRenderTargetTexture=!0}}class lp{constructor(U=new b(1/0,1/0,1/0),E=new b(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=U,this.max=E}set(U,E){return this.min.copy(U),this.max.copy(E),this}setFromArray(U){this.makeEmpty();for(let E=0,u=U.length;E<u;E+=3)this.expandByPoint(xc.fromArray(U,E));return this}setFromBufferAttribute(U){this.makeEmpty();for(let E=0,u=U.count;E<u;E++)this.expandByPoint(xc.fromBufferAttribute(U,E));return this}setFromPoints(U){this.makeEmpty();for(let E=0,u=U.length;E<u;E++)this.expandByPoint(U[E]);return this}setFromCenterAndSize(U,E){let u=xc.copy(E).multiplyScalar(0.5);return this.min.copy(U).sub(u),this.max.copy(U).add(u),this}setFromObject(U,E=!1){return this.makeEmpty(),this.expandByObject(U,E)}clone(){return new this.constructor().copy(this)}copy(U){return this.min.copy(U.min),this.max.copy(U.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(U){return this.isEmpty()?U.set(0,0,0):U.addVectors(this.min,this.max).multiplyScalar(0.5)}getSize(U){return this.isEmpty()?U.set(0,0,0):U.subVectors(this.max,this.min)}expandByPoint(U){return this.min.min(U),this.max.max(U),this}expandByVector(U){return this.min.sub(U),this.max.add(U),this}expandByScalar(U){return this.min.addScalar(-U),this.max.addScalar(U),this}expandByObject(U,E=!1){U.updateWorldMatrix(!1,!1);let u=U.geometry;if(u!==void 0){let z=u.getAttribute("position");if(E===!0&&z!==void 0&&U.isInstancedMesh!==!0)for(let c=0,Y=z.count;c<Y;c++){if(U.isMesh===!0)U.getVertexPosition(c,xc);else xc.fromBufferAttribute(z,c);xc.applyMatrix4(U.matrixWorld),this.expandByPoint(xc)}else{if(U.boundingBox!==void 0){if(U.boundingBox===null)U.computeBoundingBox();I8.copy(U.boundingBox)}else{if(u.boundingBox===null)u.computeBoundingBox();I8.copy(u.boundingBox)}I8.applyMatrix4(U.matrixWorld),this.union(I8)}}let p=U.children;for(let z=0,c=p.length;z<c;z++)this.expandByObject(p[z],E);return this}containsPoint(U){return U.x>=this.min.x&&U.x<=this.max.x&&U.y>=this.min.y&&U.y<=this.max.y&&U.z>=this.min.z&&U.z<=this.max.z}containsBox(U){return this.min.x<=U.min.x&&U.max.x<=this.max.x&&this.min.y<=U.min.y&&U.max.y<=this.max.y&&this.min.z<=U.min.z&&U.max.z<=this.max.z}getParameter(U,E){return E.set((U.x-this.min.x)/(this.max.x-this.min.x),(U.y-this.min.y)/(this.max.y-this.min.y),(U.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(U){return U.max.x>=this.min.x&&U.min.x<=this.max.x&&U.max.y>=this.min.y&&U.min.y<=this.max.y&&U.max.z>=this.min.z&&U.min.z<=this.max.z}intersectsSphere(U){return this.clampPoint(U.center,xc),xc.distanceToSquared(U.center)<=U.radius*U.radius}intersectsPlane(U){let E,u;if(U.normal.x>0)E=U.normal.x*this.min.x,u=U.normal.x*this.max.x;else E=U.normal.x*this.max.x,u=U.normal.x*this.min.x;if(U.normal.y>0)E+=U.normal.y*this.min.y,u+=U.normal.y*this.max.y;else E+=U.normal.y*this.max.y,u+=U.normal.y*this.min.y;if(U.normal.z>0)E+=U.normal.z*this.min.z,u+=U.normal.z*this.max.z;else E+=U.normal.z*this.max.z,u+=U.normal.z*this.min.z;return E<=-U.constant&&u>=-U.constant}intersectsTriangle(U){if(this.isEmpty())return!1;this.getCenter(Dk),O8.subVectors(this.max,Dk),yj.subVectors(U.a,Dk),Ij.subVectors(U.b,Dk),Oj.subVectors(U.c,Dk),HZ.subVectors(Ij,yj),kZ.subVectors(Oj,Ij),SP.subVectors(yj,Oj);let E=[0,-HZ.z,HZ.y,0,-kZ.z,kZ.y,0,-SP.z,SP.y,HZ.z,0,-HZ.x,kZ.z,0,-kZ.x,SP.z,0,-SP.x,-HZ.y,HZ.x,0,-kZ.y,kZ.x,0,-SP.y,SP.x,0];if(!$T(E,yj,Ij,Oj,O8))return!1;if(E=[1,0,0,0,1,0,0,0,1],!$T(E,yj,Ij,Oj,O8))return!1;return N8.crossVectors(HZ,kZ),E=[N8.x,N8.y,N8.z],$T(E,yj,Ij,Oj,O8)}clampPoint(U,E){return E.copy(U).clamp(this.min,this.max)}distanceToPoint(U){return this.clampPoint(U,xc).distanceTo(U)}getBoundingSphere(U){if(this.isEmpty())U.makeEmpty();else this.getCenter(U.center),U.radius=this.getSize(xc).length()*0.5;return U}intersect(U){if(this.min.max(U.min),this.max.min(U.max),this.isEmpty())this.makeEmpty();return this}union(U){return this.min.min(U.min),this.max.max(U.max),this}applyMatrix4(U){if(this.isEmpty())return this;return l4[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(U),l4[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(U),l4[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(U),l4[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(U),l4[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(U),l4[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(U),l4[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(U),l4[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(U),this.setFromPoints(l4),this}translate(U){return this.min.add(U),this.max.add(U),this}equals(U){return U.min.equals(this.min)&&U.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(U){return this.min.fromArray(U.min),this.max.fromArray(U.max),this}}var l4=[new b,new b,new b,new b,new b,new b,new b,new b],xc=new b,I8=new lp,yj=new b,Ij=new b,Oj=new b,HZ=new b,kZ=new b,SP=new b,Dk=new b,O8=new b,N8=new b,RP=new b;function $T(U,E,u,p,z){for(let c=0,Y=U.length-3;c<=Y;c+=3){RP.fromArray(U,c);let P=z.x*Math.abs(RP.x)+z.y*Math.abs(RP.y)+z.z*Math.abs(RP.z),n=E.dot(RP),j=u.dot(RP),H=p.dot(RP);if(Math.max(-Math.max(n,j,H),Math.min(n,j,H))>P)return!1}return!0}var Fe=new lp,tk=new b,yT=new b;class Mp{constructor(U=new b,E=-1){this.isSphere=!0,this.center=U,this.radius=E}set(U,E){return this.center.copy(U),this.radius=E,this}setFromPoints(U,E){let u=this.center;if(E!==void 0)u.copy(E);else Fe.setFromPoints(U).getCenter(u);let p=0;for(let z=0,c=U.length;z<c;z++)p=Math.max(p,u.distanceToSquared(U[z]));return this.radius=Math.sqrt(p),this}copy(U){return this.center.copy(U.center),this.radius=U.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(U){return U.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(U){return U.distanceTo(this.center)-this.radius}intersectsSphere(U){let E=this.radius+U.radius;return U.center.distanceToSquared(this.center)<=E*E}intersectsBox(U){return U.intersectsSphere(this)}intersectsPlane(U){return Math.abs(U.distanceToPoint(this.center))<=this.radius}clampPoint(U,E){let u=this.center.distanceToSquared(U);if(E.copy(U),u>this.radius*this.radius)E.sub(this.center).normalize(),E.multiplyScalar(this.radius).add(this.center);return E}getBoundingBox(U){if(this.isEmpty())return U.makeEmpty(),U;return U.set(this.center,this.center),U.expandByScalar(this.radius),U}applyMatrix4(U){return this.center.applyMatrix4(U),this.radius=this.radius*U.getMaxScaleOnAxis(),this}translate(U){return this.center.add(U),this}expandByPoint(U){if(this.isEmpty())return this.center.copy(U),this.radius=0,this;tk.subVectors(U,this.center);let E=tk.lengthSq();if(E>this.radius*this.radius){let u=Math.sqrt(E),p=(u-this.radius)*0.5;this.center.addScaledVector(tk,p/u),this.radius+=p}return this}union(U){if(U.isEmpty())return this;if(this.isEmpty())return this.copy(U),this;if(this.center.equals(U.center)===!0)this.radius=Math.max(this.radius,U.radius);else yT.subVectors(U.center,this.center).setLength(U.radius),this.expandByPoint(tk.copy(U.center).add(yT)),this.expandByPoint(tk.copy(U.center).sub(yT));return this}equals(U){return U.center.equals(this.center)&&U.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(U){return this.radius=U.radius,this.center.fromArray(U.center),this}}var M4=new b,IT=new b,r8=new b,QZ=new b,OT=new b,L8=new b,NT=new b;class AZ{constructor(U=new b,E=new b(0,0,-1)){this.origin=U,this.direction=E}set(U,E){return this.origin.copy(U),this.direction.copy(E),this}copy(U){return this.origin.copy(U.origin),this.direction.copy(U.direction),this}at(U,E){return E.copy(this.origin).addScaledVector(this.direction,U)}lookAt(U){return this.direction.copy(U).sub(this.origin).normalize(),this}recast(U){return this.origin.copy(this.at(U,M4)),this}closestPointToPoint(U,E){E.subVectors(U,this.origin);let u=E.dot(this.direction);if(u<0)return E.copy(this.origin);return E.copy(this.origin).addScaledVector(this.direction,u)}distanceToPoint(U){return Math.sqrt(this.distanceSqToPoint(U))}distanceSqToPoint(U){let E=M4.subVectors(U,this.origin).dot(this.direction);if(E<0)return this.origin.distanceToSquared(U);return M4.copy(this.origin).addScaledVector(this.direction,E),M4.distanceToSquared(U)}distanceSqToSegment(U,E,u,p){IT.copy(U).add(E).multiplyScalar(0.5),r8.copy(E).sub(U).normalize(),QZ.copy(this.origin).sub(IT);let z=U.distanceTo(E)*0.5,c=-this.direction.dot(r8),Y=QZ.dot(this.direction),P=-QZ.dot(r8),n=QZ.lengthSq(),j=Math.abs(1-c*c),H,k,Q,y;if(j>0)if(H=c*P-Y,k=c*Y-P,y=z*j,H>=0)if(k>=-y)if(k<=y){let r=1/j;H*=r,k*=r,Q=H*(H+c*k+2*Y)+k*(c*H+k+2*P)+n}else k=z,H=Math.max(0,-(c*k+Y)),Q=-H*H+k*(k+2*P)+n;else k=-z,H=Math.max(0,-(c*k+Y)),Q=-H*H+k*(k+2*P)+n;else if(k<=-y)H=Math.max(0,-(-c*z+Y)),k=H>0?-z:Math.min(Math.max(-z,-P),z),Q=-H*H+k*(k+2*P)+n;else if(k<=y)H=0,k=Math.min(Math.max(-z,-P),z),Q=k*(k+2*P)+n;else H=Math.max(0,-(c*z+Y)),k=H>0?z:Math.min(Math.max(-z,-P),z),Q=-H*H+k*(k+2*P)+n;else k=c>0?-z:z,H=Math.max(0,-(c*k+Y)),Q=-H*H+k*(k+2*P)+n;if(u)u.copy(this.origin).addScaledVector(this.direction,H);if(p)p.copy(IT).addScaledVector(r8,k);return Q}intersectSphere(U,E){M4.subVectors(U.center,this.origin);let u=M4.dot(this.direction),p=M4.dot(M4)-u*u,z=U.radius*U.radius;if(p>z)return null;let c=Math.sqrt(z-p),Y=u-c,P=u+c;if(P<0)return null;if(Y<0)return this.at(P,E);return this.at(Y,E)}intersectsSphere(U){if(U.radius<0)return!1;return this.distanceSqToPoint(U.center)<=U.radius*U.radius}distanceToPlane(U){let E=U.normal.dot(this.direction);if(E===0){if(U.distanceToPoint(this.origin)===0)return 0;return null}let u=-(this.origin.dot(U.normal)+U.constant)/E;return u>=0?u:null}intersectPlane(U,E){let u=this.distanceToPlane(U);if(u===null)return null;return this.at(u,E)}intersectsPlane(U){let E=U.distanceToPoint(this.origin);if(E===0)return!0;if(U.normal.dot(this.direction)*E<0)return!0;return!1}intersectBox(U,E){let u,p,z,c,Y,P,n=1/this.direction.x,j=1/this.direction.y,H=1/this.direction.z,k=this.origin;if(n>=0)u=(U.min.x-k.x)*n,p=(U.max.x-k.x)*n;else u=(U.max.x-k.x)*n,p=(U.min.x-k.x)*n;if(j>=0)z=(U.min.y-k.y)*j,c=(U.max.y-k.y)*j;else z=(U.max.y-k.y)*j,c=(U.min.y-k.y)*j;if(u>c||z>p)return null;if(z>u||isNaN(u))u=z;if(c<p||isNaN(p))p=c;if(H>=0)Y=(U.min.z-k.z)*H,P=(U.max.z-k.z)*H;else Y=(U.max.z-k.z)*H,P=(U.min.z-k.z)*H;if(u>P||Y>p)return null;if(Y>u||u!==u)u=Y;if(P<p||p!==p)p=P;if(p<0)return null;return this.at(u>=0?u:p,E)}intersectsBox(U){return this.intersectBox(U,M4)!==null}intersectTriangle(U,E,u,p,z){OT.subVectors(E,U),L8.subVectors(u,U),NT.crossVectors(OT,L8);let c=this.direction.dot(NT),Y;if(c>0){if(p)return null;Y=1}else if(c<0)Y=-1,c=-c;else return null;QZ.subVectors(this.origin,U);let P=Y*this.direction.dot(L8.crossVectors(QZ,L8));if(P<0)return null;let n=Y*this.direction.dot(OT.cross(QZ));if(n<0)return null;if(P+n>c)return null;let j=-Y*QZ.dot(NT);if(j<0)return null;return this.at(j/c,z)}applyMatrix4(U){return this.origin.applyMatrix4(U),this.direction.transformDirection(U),this}equals(U){return U.origin.equals(this.origin)&&U.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class RE{constructor(U,E,u,p,z,c,Y,P,n,j,H,k,Q,y,r,T){if(RE.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],U!==void 0)this.set(U,E,u,p,z,c,Y,P,n,j,H,k,Q,y,r,T)}set(U,E,u,p,z,c,Y,P,n,j,H,k,Q,y,r,T){let N=this.elements;return N[0]=U,N[4]=E,N[8]=u,N[12]=p,N[1]=z,N[5]=c,N[9]=Y,N[13]=P,N[2]=n,N[6]=j,N[10]=H,N[14]=k,N[3]=Q,N[7]=y,N[11]=r,N[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new RE().fromArray(this.elements)}copy(U){let E=this.elements,u=U.elements;return E[0]=u[0],E[1]=u[1],E[2]=u[2],E[3]=u[3],E[4]=u[4],E[5]=u[5],E[6]=u[6],E[7]=u[7],E[8]=u[8],E[9]=u[9],E[10]=u[10],E[11]=u[11],E[12]=u[12],E[13]=u[13],E[14]=u[14],E[15]=u[15],this}copyPosition(U){let E=this.elements,u=U.elements;return E[12]=u[12],E[13]=u[13],E[14]=u[14],this}setFromMatrix3(U){let E=U.elements;return this.set(E[0],E[3],E[6],0,E[1],E[4],E[7],0,E[2],E[5],E[8],0,0,0,0,1),this}extractBasis(U,E,u){if(this.determinant()===0)return U.set(1,0,0),E.set(0,1,0),u.set(0,0,1),this;return U.setFromMatrixColumn(this,0),E.setFromMatrixColumn(this,1),u.setFromMatrixColumn(this,2),this}makeBasis(U,E,u){return this.set(U.x,E.x,u.x,0,U.y,E.y,u.y,0,U.z,E.z,u.z,0,0,0,0,1),this}extractRotation(U){if(U.determinant()===0)return this.identity();let E=this.elements,u=U.elements,p=1/Nj.setFromMatrixColumn(U,0).length(),z=1/Nj.setFromMatrixColumn(U,1).length(),c=1/Nj.setFromMatrixColumn(U,2).length();return E[0]=u[0]*p,E[1]=u[1]*p,E[2]=u[2]*p,E[3]=0,E[4]=u[4]*z,E[5]=u[5]*z,E[6]=u[6]*z,E[7]=0,E[8]=u[8]*c,E[9]=u[9]*c,E[10]=u[10]*c,E[11]=0,E[12]=0,E[13]=0,E[14]=0,E[15]=1,this}makeRotationFromEuler(U){let E=this.elements,u=U.x,p=U.y,z=U.z,c=Math.cos(u),Y=Math.sin(u),P=Math.cos(p),n=Math.sin(p),j=Math.cos(z),H=Math.sin(z);if(U.order==="XYZ"){let k=c*j,Q=c*H,y=Y*j,r=Y*H;E[0]=P*j,E[4]=-P*H,E[8]=n,E[1]=Q+y*n,E[5]=k-r*n,E[9]=-Y*P,E[2]=r-k*n,E[6]=y+Q*n,E[10]=c*P}else if(U.order==="YXZ"){let k=P*j,Q=P*H,y=n*j,r=n*H;E[0]=k+r*Y,E[4]=y*Y-Q,E[8]=c*n,E[1]=c*H,E[5]=c*j,E[9]=-Y,E[2]=Q*Y-y,E[6]=r+k*Y,E[10]=c*P}else if(U.order==="ZXY"){let k=P*j,Q=P*H,y=n*j,r=n*H;E[0]=k-r*Y,E[4]=-c*H,E[8]=y+Q*Y,E[1]=Q+y*Y,E[5]=c*j,E[9]=r-k*Y,E[2]=-c*n,E[6]=Y,E[10]=c*P}else if(U.order==="ZYX"){let k=c*j,Q=c*H,y=Y*j,r=Y*H;E[0]=P*j,E[4]=y*n-Q,E[8]=k*n+r,E[1]=P*H,E[5]=r*n+k,E[9]=Q*n-y,E[2]=-n,E[6]=Y*P,E[10]=c*P}else if(U.order==="YZX"){let k=c*P,Q=c*n,y=Y*P,r=Y*n;E[0]=P*j,E[4]=r-k*H,E[8]=y*H+Q,E[1]=H,E[5]=c*j,E[9]=-Y*j,E[2]=-n*j,E[6]=Q*H+y,E[10]=k-r*H}else if(U.order==="XZY"){let k=c*P,Q=c*n,y=Y*P,r=Y*n;E[0]=P*j,E[4]=-H,E[8]=n*j,E[1]=k*H+r,E[5]=c*j,E[9]=Q*H-y,E[2]=y*H-Q,E[6]=Y*j,E[10]=r*H+k}return E[3]=0,E[7]=0,E[11]=0,E[12]=0,E[13]=0,E[14]=0,E[15]=1,this}makeRotationFromQuaternion(U){return this.compose(Ae,U,me)}lookAt(U,E,u){let p=this.elements;if(Y0.subVectors(U,E),Y0.lengthSq()===0)Y0.z=1;if(Y0.normalize(),$Z.crossVectors(u,Y0),$Z.lengthSq()===0){if(Math.abs(u.z)===1)Y0.x+=0.0001;else Y0.z+=0.0001;Y0.normalize(),$Z.crossVectors(u,Y0)}return $Z.normalize(),X8.crossVectors(Y0,$Z),p[0]=$Z.x,p[4]=X8.x,p[8]=Y0.x,p[1]=$Z.y,p[5]=X8.y,p[9]=Y0.y,p[2]=$Z.z,p[6]=X8.z,p[10]=Y0.z,this}multiply(U){return this.multiplyMatrices(this,U)}premultiply(U){return this.multiplyMatrices(U,this)}multiplyMatrices(U,E){let u=U.elements,p=E.elements,z=this.elements,c=u[0],Y=u[4],P=u[8],n=u[12],j=u[1],H=u[5],k=u[9],Q=u[13],y=u[2],r=u[6],T=u[10],N=u[14],O=u[3],L=u[7],X=u[11],i=u[15],B=p[0],G=p[4],d=p[8],m=p[12],V=p[1],w=p[5],h=p[9],_=p[13],f=p[2],a=p[6],uU=p[10],UU=p[14],ZU=p[3],EU=p[7],OU=p[11],NU=p[15];return z[0]=c*B+Y*V+P*f+n*ZU,z[4]=c*G+Y*w+P*a+n*EU,z[8]=c*d+Y*h+P*uU+n*OU,z[12]=c*m+Y*_+P*UU+n*NU,z[1]=j*B+H*V+k*f+Q*ZU,z[5]=j*G+H*w+k*a+Q*EU,z[9]=j*d+H*h+k*uU+Q*OU,z[13]=j*m+H*_+k*UU+Q*NU,z[2]=y*B+r*V+T*f+N*ZU,z[6]=y*G+r*w+T*a+N*EU,z[10]=y*d+r*h+T*uU+N*OU,z[14]=y*m+r*_+T*UU+N*NU,z[3]=O*B+L*V+X*f+i*ZU,z[7]=O*G+L*w+X*a+i*EU,z[11]=O*d+L*h+X*uU+i*OU,z[15]=O*m+L*_+X*UU+i*NU,this}multiplyScalar(U){let E=this.elements;return E[0]*=U,E[4]*=U,E[8]*=U,E[12]*=U,E[1]*=U,E[5]*=U,E[9]*=U,E[13]*=U,E[2]*=U,E[6]*=U,E[10]*=U,E[14]*=U,E[3]*=U,E[7]*=U,E[11]*=U,E[15]*=U,this}determinant(){let U=this.elements,E=U[0],u=U[4],p=U[8],z=U[12],c=U[1],Y=U[5],P=U[9],n=U[13],j=U[2],H=U[6],k=U[10],Q=U[14],y=U[3],r=U[7],T=U[11],N=U[15],O=P*Q-n*k,L=Y*Q-n*H,X=Y*k-P*H,i=c*Q-n*j,B=c*k-P*j,G=c*H-Y*j;return E*(r*O-T*L+N*X)-u*(y*O-T*i+N*B)+p*(y*L-r*i+N*G)-z*(y*X-r*B+T*G)}transpose(){let U=this.elements,E;return E=U[1],U[1]=U[4],U[4]=E,E=U[2],U[2]=U[8],U[8]=E,E=U[6],U[6]=U[9],U[9]=E,E=U[3],U[3]=U[12],U[12]=E,E=U[7],U[7]=U[13],U[13]=E,E=U[11],U[11]=U[14],U[14]=E,this}setPosition(U,E,u){let p=this.elements;if(U.isVector3)p[12]=U.x,p[13]=U.y,p[14]=U.z;else p[12]=U,p[13]=E,p[14]=u;return this}invert(){let U=this.elements,E=U[0],u=U[1],p=U[2],z=U[3],c=U[4],Y=U[5],P=U[6],n=U[7],j=U[8],H=U[9],k=U[10],Q=U[11],y=U[12],r=U[13],T=U[14],N=U[15],O=H*T*n-r*k*n+r*P*Q-Y*T*Q-H*P*N+Y*k*N,L=y*k*n-j*T*n-y*P*Q+c*T*Q+j*P*N-c*k*N,X=j*r*n-y*H*n+y*Y*Q-c*r*Q-j*Y*N+c*H*N,i=y*H*P-j*r*P-y*Y*k+c*r*k+j*Y*T-c*H*T,B=E*O+u*L+p*X+z*i;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let G=1/B;return U[0]=O*G,U[1]=(r*k*z-H*T*z-r*p*Q+u*T*Q+H*p*N-u*k*N)*G,U[2]=(Y*T*z-r*P*z+r*p*n-u*T*n-Y*p*N+u*P*N)*G,U[3]=(H*P*z-Y*k*z-H*p*n+u*k*n+Y*p*Q-u*P*Q)*G,U[4]=L*G,U[5]=(j*T*z-y*k*z+y*p*Q-E*T*Q-j*p*N+E*k*N)*G,U[6]=(y*P*z-c*T*z-y*p*n+E*T*n+c*p*N-E*P*N)*G,U[7]=(c*k*z-j*P*z+j*p*n-E*k*n-c*p*Q+E*P*Q)*G,U[8]=X*G,U[9]=(y*H*z-j*r*z-y*u*Q+E*r*Q+j*u*N-E*H*N)*G,U[10]=(c*r*z-y*Y*z+y*u*n-E*r*n-c*u*N+E*Y*N)*G,U[11]=(j*Y*z-c*H*z-j*u*n+E*H*n+c*u*Q-E*Y*Q)*G,U[12]=i*G,U[13]=(j*r*p-y*H*p+y*u*k-E*r*k-j*u*T+E*H*T)*G,U[14]=(y*Y*p-c*r*p-y*u*P+E*r*P+c*u*T-E*Y*T)*G,U[15]=(c*H*p-j*Y*p+j*u*P-E*H*P-c*u*k+E*Y*k)*G,this}scale(U){let E=this.elements,u=U.x,p=U.y,z=U.z;return E[0]*=u,E[4]*=p,E[8]*=z,E[1]*=u,E[5]*=p,E[9]*=z,E[2]*=u,E[6]*=p,E[10]*=z,E[3]*=u,E[7]*=p,E[11]*=z,this}getMaxScaleOnAxis(){let U=this.elements,E=U[0]*U[0]+U[1]*U[1]+U[2]*U[2],u=U[4]*U[4]+U[5]*U[5]+U[6]*U[6],p=U[8]*U[8]+U[9]*U[9]+U[10]*U[10];return Math.sqrt(Math.max(E,u,p))}makeTranslation(U,E,u){if(U.isVector3)this.set(1,0,0,U.x,0,1,0,U.y,0,0,1,U.z,0,0,0,1);else this.set(1,0,0,U,0,1,0,E,0,0,1,u,0,0,0,1);return this}makeRotationX(U){let E=Math.cos(U),u=Math.sin(U);return this.set(1,0,0,0,0,E,-u,0,0,u,E,0,0,0,0,1),this}makeRotationY(U){let E=Math.cos(U),u=Math.sin(U);return this.set(E,0,u,0,0,1,0,0,-u,0,E,0,0,0,0,1),this}makeRotationZ(U){let E=Math.cos(U),u=Math.sin(U);return this.set(E,-u,0,0,u,E,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(U,E){let u=Math.cos(E),p=Math.sin(E),z=1-u,c=U.x,Y=U.y,P=U.z,n=z*c,j=z*Y;return this.set(n*c+u,n*Y-p*P,n*P+p*Y,0,n*Y+p*P,j*Y+u,j*P-p*c,0,n*P-p*Y,j*P+p*c,z*P*P+u,0,0,0,0,1),this}makeScale(U,E,u){return this.set(U,0,0,0,0,E,0,0,0,0,u,0,0,0,0,1),this}makeShear(U,E,u,p,z,c){return this.set(1,u,z,0,U,1,c,0,E,p,1,0,0,0,0,1),this}compose(U,E,u){let p=this.elements,z=E._x,c=E._y,Y=E._z,P=E._w,n=z+z,j=c+c,H=Y+Y,k=z*n,Q=z*j,y=z*H,r=c*j,T=c*H,N=Y*H,O=P*n,L=P*j,X=P*H,i=u.x,B=u.y,G=u.z;return p[0]=(1-(r+N))*i,p[1]=(Q+X)*i,p[2]=(y-L)*i,p[3]=0,p[4]=(Q-X)*B,p[5]=(1-(k+N))*B,p[6]=(T+O)*B,p[7]=0,p[8]=(y+L)*G,p[9]=(T-O)*G,p[10]=(1-(k+r))*G,p[11]=0,p[12]=U.x,p[13]=U.y,p[14]=U.z,p[15]=1,this}decompose(U,E,u){let p=this.elements;if(U.x=p[12],U.y=p[13],U.z=p[14],this.determinant()===0)return u.set(1,1,1),E.identity(),this;let z=Nj.set(p[0],p[1],p[2]).length(),c=Nj.set(p[4],p[5],p[6]).length(),Y=Nj.set(p[8],p[9],p[10]).length();if(this.determinant()<0)z=-z;nc.copy(this);let n=1/z,j=1/c,H=1/Y;return nc.elements[0]*=n,nc.elements[1]*=n,nc.elements[2]*=n,nc.elements[4]*=j,nc.elements[5]*=j,nc.elements[6]*=j,nc.elements[8]*=H,nc.elements[9]*=H,nc.elements[10]*=H,E.setFromRotationMatrix(nc),u.x=z,u.y=c,u.z=Y,this}makePerspective(U,E,u,p,z,c,Y=2000,P=!1){let n=this.elements,j=2*z/(E-U),H=2*z/(u-p),k=(E+U)/(E-U),Q=(u+p)/(u-p),y,r;if(P)y=z/(c-z),r=c*z/(c-z);else if(Y===2000)y=-(c+z)/(c-z),r=-2*c*z/(c-z);else if(Y===2001)y=-c/(c-z),r=-c*z/(c-z);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+Y);return n[0]=j,n[4]=0,n[8]=k,n[12]=0,n[1]=0,n[5]=H,n[9]=Q,n[13]=0,n[2]=0,n[6]=0,n[10]=y,n[14]=r,n[3]=0,n[7]=0,n[11]=-1,n[15]=0,this}makeOrthographic(U,E,u,p,z,c,Y=2000,P=!1){let n=this.elements,j=2/(E-U),H=2/(u-p),k=-(E+U)/(E-U),Q=-(u+p)/(u-p),y,r;if(P)y=1/(c-z),r=c/(c-z);else if(Y===2000)y=-2/(c-z),r=-(c+z)/(c-z);else if(Y===2001)y=-1/(c-z),r=-z/(c-z);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+Y);return n[0]=j,n[4]=0,n[8]=0,n[12]=k,n[1]=0,n[5]=H,n[9]=0,n[13]=Q,n[2]=0,n[6]=0,n[10]=y,n[14]=r,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this}equals(U){let E=this.elements,u=U.elements;for(let p=0;p<16;p++)if(E[p]!==u[p])return!1;return!0}fromArray(U,E=0){for(let u=0;u<16;u++)this.elements[u]=U[u+E];return this}toArray(U=[],E=0){let u=this.elements;return U[E]=u[0],U[E+1]=u[1],U[E+2]=u[2],U[E+3]=u[3],U[E+4]=u[4],U[E+5]=u[5],U[E+6]=u[6],U[E+7]=u[7],U[E+8]=u[8],U[E+9]=u[9],U[E+10]=u[10],U[E+11]=u[11],U[E+12]=u[12],U[E+13]=u[13],U[E+14]=u[14],U[E+15]=u[15],U}}var Nj=new b,nc=new RE,Ae=new b(0,0,0),me=new b(1,1,1),$Z=new b,X8=new b,Y0=new b,WS=new RE,fS=new np;class e5{constructor(U=0,E=0,u=0,p=e5.DEFAULT_ORDER){this.isEuler=!0,this._x=U,this._y=E,this._z=u,this._order=p}get x(){return this._x}set x(U){this._x=U,this._onChangeCallback()}get y(){return this._y}set y(U){this._y=U,this._onChangeCallback()}get z(){return this._z}set z(U){this._z=U,this._onChangeCallback()}get order(){return this._order}set order(U){this._order=U,this._onChangeCallback()}set(U,E,u,p=this._order){return this._x=U,this._y=E,this._z=u,this._order=p,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(U){return this._x=U._x,this._y=U._y,this._z=U._z,this._order=U._order,this._onChangeCallback(),this}setFromRotationMatrix(U,E=this._order,u=!0){let p=U.elements,z=p[0],c=p[4],Y=p[8],P=p[1],n=p[5],j=p[9],H=p[2],k=p[6],Q=p[10];switch(E){case"XYZ":if(this._y=Math.asin(sE(Y,-1,1)),Math.abs(Y)<0.9999999)this._x=Math.atan2(-j,Q),this._z=Math.atan2(-c,z);else this._x=Math.atan2(k,n),this._z=0;break;case"YXZ":if(this._x=Math.asin(-sE(j,-1,1)),Math.abs(j)<0.9999999)this._y=Math.atan2(Y,Q),this._z=Math.atan2(P,n);else this._y=Math.atan2(-H,z),this._z=0;break;case"ZXY":if(this._x=Math.asin(sE(k,-1,1)),Math.abs(k)<0.9999999)this._y=Math.atan2(-H,Q),this._z=Math.atan2(-c,n);else this._y=0,this._z=Math.atan2(P,z);break;case"ZYX":if(this._y=Math.asin(-sE(H,-1,1)),Math.abs(H)<0.9999999)this._x=Math.atan2(k,Q),this._z=Math.atan2(P,z);else this._x=0,this._z=Math.atan2(-c,n);break;case"YZX":if(this._z=Math.asin(sE(P,-1,1)),Math.abs(P)<0.9999999)this._x=Math.atan2(-j,n),this._y=Math.atan2(-H,z);else this._x=0,this._y=Math.atan2(Y,Q);break;case"XZY":if(this._z=Math.asin(-sE(c,-1,1)),Math.abs(c)<0.9999999)this._x=Math.atan2(k,n),this._y=Math.atan2(Y,z);else this._x=Math.atan2(-j,Q),this._y=0;break;default:PE("Euler: .setFromRotationMatrix() encountered an unknown order: "+E)}if(this._order=E,u===!0)this._onChangeCallback();return this}setFromQuaternion(U,E,u){return WS.makeRotationFromQuaternion(U),this.setFromRotationMatrix(WS,E,u)}setFromVector3(U,E=this._order){return this.set(U.x,U.y,U.z,E)}reorder(U){return fS.setFromEuler(this),this.setFromQuaternion(fS,U)}equals(U){return U._x===this._x&&U._y===this._y&&U._z===this._z&&U._order===this._order}fromArray(U){if(this._x=U[0],this._y=U[1],this._z=U[2],U[3]!==void 0)this._order=U[3];return this._onChangeCallback(),this}toArray(U=[],E=0){return U[E]=this._x,U[E+1]=this._y,U[E+2]=this._z,U[E+3]=this._order,U}_onChange(U){return this._onChangeCallback=U,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}e5.DEFAULT_ORDER="XYZ";class uY{constructor(){this.mask=1}set(U){this.mask=(1<<U|0)>>>0}enable(U){this.mask|=1<<U|0}enableAll(){this.mask=-1}toggle(U){this.mask^=1<<U|0}disable(U){this.mask&=~(1<<U|0)}disableAll(){this.mask=0}test(U){return(this.mask&U.mask)!==0}isEnabled(U){return(this.mask&(1<<U|0))!==0}}var Ve=0,sS=new b,rj=new np,W4=new RE,T8=new b,Jk=new b,Ge=new b,Be=new np,KS=new b(1,0,0),aS=new b(0,1,0),_S=new b(0,0,1),gS={type:"added"},de={type:"removed"},Lj={type:"childadded",child:null},rT={type:"childremoved",child:null};class Ou extends l0{constructor(){super();this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ve++}),this.uuid=P0(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ou.DEFAULT_UP.clone();let U=new b,E=new e5,u=new np,p=new b(1,1,1);function z(){u.setFromEuler(E,!1)}function c(){E.setFromQuaternion(u,void 0,!1)}E._onChange(z),u._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:U},rotation:{configurable:!0,enumerable:!0,value:E},quaternion:{configurable:!0,enumerable:!0,value:u},scale:{configurable:!0,enumerable:!0,value:p},modelViewMatrix:{value:new RE},normalMatrix:{value:new CE}}),this.matrix=new RE,this.matrixWorld=new RE,this.matrixAutoUpdate=Ou.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ou.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new uY,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(U){if(this.matrixAutoUpdate)this.updateMatrix();this.matrix.premultiply(U),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(U){return this.quaternion.premultiply(U),this}setRotationFromAxisAngle(U,E){this.quaternion.setFromAxisAngle(U,E)}setRotationFromEuler(U){this.quaternion.setFromEuler(U,!0)}setRotationFromMatrix(U){this.quaternion.setFromRotationMatrix(U)}setRotationFromQuaternion(U){this.quaternion.copy(U)}rotateOnAxis(U,E){return rj.setFromAxisAngle(U,E),this.quaternion.multiply(rj),this}rotateOnWorldAxis(U,E){return rj.setFromAxisAngle(U,E),this.quaternion.premultiply(rj),this}rotateX(U){return this.rotateOnAxis(KS,U)}rotateY(U){return this.rotateOnAxis(aS,U)}rotateZ(U){return this.rotateOnAxis(_S,U)}translateOnAxis(U,E){return sS.copy(U).applyQuaternion(this.quaternion),this.position.add(sS.multiplyScalar(E)),this}translateX(U){return this.translateOnAxis(KS,U)}translateY(U){return this.translateOnAxis(aS,U)}translateZ(U){return this.translateOnAxis(_S,U)}localToWorld(U){return this.updateWorldMatrix(!0,!1),U.applyMatrix4(this.matrixWorld)}worldToLocal(U){return this.updateWorldMatrix(!0,!1),U.applyMatrix4(W4.copy(this.matrixWorld).invert())}lookAt(U,E,u){if(U.isVector3)T8.copy(U);else T8.set(U,E,u);let p=this.parent;if(this.updateWorldMatrix(!0,!1),Jk.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight)W4.lookAt(Jk,T8,this.up);else W4.lookAt(T8,Jk,this.up);if(this.quaternion.setFromRotationMatrix(W4),p)W4.extractRotation(p.matrixWorld),rj.setFromRotationMatrix(W4),this.quaternion.premultiply(rj.invert())}add(U){if(arguments.length>1){for(let E=0;E<arguments.length;E++)this.add(arguments[E]);return this}if(U===this)return SE("Object3D.add: object can't be added as a child of itself.",U),this;if(U&&U.isObject3D)U.removeFromParent(),U.parent=this,this.children.push(U),U.dispatchEvent(gS),Lj.child=U,this.dispatchEvent(Lj),Lj.child=null;else SE("Object3D.add: object not an instance of THREE.Object3D.",U);return this}remove(U){if(arguments.length>1){for(let u=0;u<arguments.length;u++)this.remove(arguments[u]);return this}let E=this.children.indexOf(U);if(E!==-1)U.parent=null,this.children.splice(E,1),U.dispatchEvent(de),rT.child=U,this.dispatchEvent(rT),rT.child=null;return this}removeFromParent(){let U=this.parent;if(U!==null)U.remove(this);return this}clear(){return this.remove(...this.children)}attach(U){if(this.updateWorldMatrix(!0,!1),W4.copy(this.matrixWorld).invert(),U.parent!==null)U.parent.updateWorldMatrix(!0,!1),W4.multiply(U.parent.matrixWorld);return U.applyMatrix4(W4),U.removeFromParent(),U.parent=this,this.children.push(U),U.updateWorldMatrix(!1,!0),U.dispatchEvent(gS),Lj.child=U,this.dispatchEvent(Lj),Lj.child=null,this}getObjectById(U){return this.getObjectByProperty("id",U)}getObjectByName(U){return this.getObjectByProperty("name",U)}getObjectByProperty(U,E){if(this[U]===E)return this;for(let u=0,p=this.children.length;u<p;u++){let c=this.children[u].getObjectByProperty(U,E);if(c!==void 0)return c}return}getObjectsByProperty(U,E,u=[]){if(this[U]===E)u.push(this);let p=this.children;for(let z=0,c=p.length;z<c;z++)p[z].getObjectsByProperty(U,E,u);return u}getWorldPosition(U){return this.updateWorldMatrix(!0,!1),U.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(U){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jk,U,Ge),U}getWorldScale(U){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jk,Be,U),U}getWorldDirection(U){this.updateWorldMatrix(!0,!1);let E=this.matrixWorld.elements;return U.set(E[8],E[9],E[10]).normalize()}raycast(){}traverse(U){U(this);let E=this.children;for(let u=0,p=E.length;u<p;u++)E[u].traverse(U)}traverseVisible(U){if(this.visible===!1)return;U(this);let E=this.children;for(let u=0,p=E.length;u<p;u++)E[u].traverseVisible(U)}traverseAncestors(U){let E=this.parent;if(E!==null)U(E),E.traverseAncestors(U)}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(U){if(this.matrixAutoUpdate)this.updateMatrix();if(this.matrixWorldNeedsUpdate||U){if(this.matrixWorldAutoUpdate===!0)if(this.parent===null)this.matrixWorld.copy(this.matrix);else this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1,U=!0}let E=this.children;for(let u=0,p=E.length;u<p;u++)E[u].updateMatrixWorld(U)}updateWorldMatrix(U,E){let u=this.parent;if(U===!0&&u!==null)u.updateWorldMatrix(!0,!1);if(this.matrixAutoUpdate)this.updateMatrix();if(this.matrixWorldAutoUpdate===!0)if(this.parent===null)this.matrixWorld.copy(this.matrix);else this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(E===!0){let p=this.children;for(let z=0,c=p.length;z<c;z++)p[z].updateWorldMatrix(!1,!0)}}toJSON(U){let E=U===void 0||typeof U==="string",u={};if(E)U={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},u.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"};let p={};if(p.uuid=this.uuid,p.type=this.type,this.name!=="")p.name=this.name;if(this.castShadow===!0)p.castShadow=!0;if(this.receiveShadow===!0)p.receiveShadow=!0;if(this.visible===!1)p.visible=!1;if(this.frustumCulled===!1)p.frustumCulled=!1;if(this.renderOrder!==0)p.renderOrder=this.renderOrder;if(Object.keys(this.userData).length>0)p.userData=this.userData;if(p.layers=this.layers.mask,p.matrix=this.matrix.toArray(),p.up=this.up.toArray(),this.matrixAutoUpdate===!1)p.matrixAutoUpdate=!1;if(this.isInstancedMesh){if(p.type="InstancedMesh",p.count=this.count,p.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null)p.instanceColor=this.instanceColor.toJSON()}if(this.isBatchedMesh){if(p.type="BatchedMesh",p.perObjectFrustumCulled=this.perObjectFrustumCulled,p.sortObjects=this.sortObjects,p.drawRanges=this._drawRanges,p.reservedRanges=this._reservedRanges,p.geometryInfo=this._geometryInfo.map((Y)=>({...Y,boundingBox:Y.boundingBox?Y.boundingBox.toJSON():void 0,boundingSphere:Y.boundingSphere?Y.boundingSphere.toJSON():void 0})),p.instanceInfo=this._instanceInfo.map((Y)=>({...Y})),p.availableInstanceIds=this._availableInstanceIds.slice(),p.availableGeometryIds=this._availableGeometryIds.slice(),p.nextIndexStart=this._nextIndexStart,p.nextVertexStart=this._nextVertexStart,p.geometryCount=this._geometryCount,p.maxInstanceCount=this._maxInstanceCount,p.maxVertexCount=this._maxVertexCount,p.maxIndexCount=this._maxIndexCount,p.geometryInitialized=this._geometryInitialized,p.matricesTexture=this._matricesTexture.toJSON(U),p.indirectTexture=this._indirectTexture.toJSON(U),this._colorsTexture!==null)p.colorsTexture=this._colorsTexture.toJSON(U);if(this.boundingSphere!==null)p.boundingSphere=this.boundingSphere.toJSON();if(this.boundingBox!==null)p.boundingBox=this.boundingBox.toJSON()}function z(Y,P){if(Y[P.uuid]===void 0)Y[P.uuid]=P.toJSON(U);return P.uuid}if(this.isScene){if(this.background){if(this.background.isColor)p.background=this.background.toJSON();else if(this.background.isTexture)p.background=this.background.toJSON(U).uuid}if(this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0)p.environment=this.environment.toJSON(U).uuid}else if(this.isMesh||this.isLine||this.isPoints){p.geometry=z(U.geometries,this.geometry);let Y=this.geometry.parameters;if(Y!==void 0&&Y.shapes!==void 0){let P=Y.shapes;if(Array.isArray(P))for(let n=0,j=P.length;n<j;n++){let H=P[n];z(U.shapes,H)}else z(U.shapes,P)}}if(this.isSkinnedMesh){if(p.bindMode=this.bindMode,p.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0)z(U.skeletons,this.skeleton),p.skeleton=this.skeleton.uuid}if(this.material!==void 0)if(Array.isArray(this.material)){let Y=[];for(let P=0,n=this.material.length;P<n;P++)Y.push(z(U.materials,this.material[P]));p.material=Y}else p.material=z(U.materials,this.material);if(this.children.length>0){p.children=[];for(let Y=0;Y<this.children.length;Y++)p.children.push(this.children[Y].toJSON(U).object)}if(this.animations.length>0){p.animations=[];for(let Y=0;Y<this.animations.length;Y++){let P=this.animations[Y];p.animations.push(z(U.animations,P))}}if(E){let Y=c(U.geometries),P=c(U.materials),n=c(U.textures),j=c(U.images),H=c(U.shapes),k=c(U.skeletons),Q=c(U.animations),y=c(U.nodes);if(Y.length>0)u.geometries=Y;if(P.length>0)u.materials=P;if(n.length>0)u.textures=n;if(j.length>0)u.images=j;if(H.length>0)u.shapes=H;if(k.length>0)u.skeletons=k;if(Q.length>0)u.animations=Q;if(y.length>0)u.nodes=y}return u.object=p,u;function c(Y){let P=[];for(let n in Y){let j=Y[n];delete j.metadata,P.push(j)}return P}}clone(U){return new this.constructor().copy(this,U)}copy(U,E=!0){if(this.name=U.name,this.up.copy(U.up),this.position.copy(U.position),this.rotation.order=U.rotation.order,this.quaternion.copy(U.quaternion),this.scale.copy(U.scale),this.matrix.copy(U.matrix),this.matrixWorld.copy(U.matrixWorld),this.matrixAutoUpdate=U.matrixAutoUpdate,this.matrixWorldAutoUpdate=U.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=U.matrixWorldNeedsUpdate,this.layers.mask=U.layers.mask,this.visible=U.visible,this.castShadow=U.castShadow,this.receiveShadow=U.receiveShadow,this.frustumCulled=U.frustumCulled,this.renderOrder=U.renderOrder,this.animations=U.animations.slice(),this.userData=JSON.parse(JSON.stringify(U.userData)),E===!0)for(let u=0;u<U.children.length;u++){let p=U.children[u];this.add(p.clone())}return this}}Ou.DEFAULT_UP=new b(0,1,0);Ou.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ou.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var jc=new b,f4=new b,LT=new b,s4=new b,Xj=new b,Tj=new b,eS=new b,XT=new b,TT=new b,oT=new b,iT=new Gu,FT=new Gu,AT=new Gu;class g5{constructor(U=new b,E=new b,u=new b){this.a=U,this.b=E,this.c=u}static getNormal(U,E,u,p){p.subVectors(u,E),jc.subVectors(U,E),p.cross(jc);let z=p.lengthSq();if(z>0)return p.multiplyScalar(1/Math.sqrt(z));return p.set(0,0,0)}static getBarycoord(U,E,u,p,z){jc.subVectors(p,E),f4.subVectors(u,E),LT.subVectors(U,E);let c=jc.dot(jc),Y=jc.dot(f4),P=jc.dot(LT),n=f4.dot(f4),j=f4.dot(LT),H=c*n-Y*Y;if(H===0)return z.set(0,0,0),null;let k=1/H,Q=(n*P-Y*j)*k,y=(c*j-Y*P)*k;return z.set(1-Q-y,y,Q)}static containsPoint(U,E,u,p){if(this.getBarycoord(U,E,u,p,s4)===null)return!1;return s4.x>=0&&s4.y>=0&&s4.x+s4.y<=1}static getInterpolation(U,E,u,p,z,c,Y,P){if(this.getBarycoord(U,E,u,p,s4)===null){if(P.x=0,P.y=0,"z"in P)P.z=0;if("w"in P)P.w=0;return null}return P.setScalar(0),P.addScaledVector(z,s4.x),P.addScaledVector(c,s4.y),P.addScaledVector(Y,s4.z),P}static getInterpolatedAttribute(U,E,u,p,z,c){return iT.setScalar(0),FT.setScalar(0),AT.setScalar(0),iT.fromBufferAttribute(U,E),FT.fromBufferAttribute(U,u),AT.fromBufferAttribute(U,p),c.setScalar(0),c.addScaledVector(iT,z.x),c.addScaledVector(FT,z.y),c.addScaledVector(AT,z.z),c}static isFrontFacing(U,E,u,p){return jc.subVectors(u,E),f4.subVectors(U,E),jc.cross(f4).dot(p)<0?!0:!1}set(U,E,u){return this.a.copy(U),this.b.copy(E),this.c.copy(u),this}setFromPointsAndIndices(U,E,u,p){return this.a.copy(U[E]),this.b.copy(U[u]),this.c.copy(U[p]),this}setFromAttributeAndIndices(U,E,u,p){return this.a.fromBufferAttribute(U,E),this.b.fromBufferAttribute(U,u),this.c.fromBufferAttribute(U,p),this}clone(){return new this.constructor().copy(this)}copy(U){return this.a.copy(U.a),this.b.copy(U.b),this.c.copy(U.c),this}getArea(){return jc.subVectors(this.c,this.b),f4.subVectors(this.a,this.b),jc.cross(f4).length()*0.5}getMidpoint(U){return U.addVectors(this.a,this.b).add(this.c).multiplyScalar(0.3333333333333333)}getNormal(U){return g5.getNormal(this.a,this.b,this.c,U)}getPlane(U){return U.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(U,E){return g5.getBarycoord(U,this.a,this.b,this.c,E)}getInterpolation(U,E,u,p,z){return g5.getInterpolation(U,this.a,this.b,this.c,E,u,p,z)}containsPoint(U){return g5.containsPoint(U,this.a,this.b,this.c)}isFrontFacing(U){return g5.isFrontFacing(this.a,this.b,this.c,U)}intersectsBox(U){return U.intersectsTriangle(this)}closestPointToPoint(U,E){let u=this.a,p=this.b,z=this.c,c,Y;Xj.subVectors(p,u),Tj.subVectors(z,u),XT.subVectors(U,u);let P=Xj.dot(XT),n=Tj.dot(XT);if(P<=0&&n<=0)return E.copy(u);TT.subVectors(U,p);let j=Xj.dot(TT),H=Tj.dot(TT);if(j>=0&&H<=j)return E.copy(p);let k=P*H-j*n;if(k<=0&&P>=0&&j<=0)return c=P/(P-j),E.copy(u).addScaledVector(Xj,c);oT.subVectors(U,z);let Q=Xj.dot(oT),y=Tj.dot(oT);if(y>=0&&Q<=y)return E.copy(z);let r=Q*n-P*y;if(r<=0&&n>=0&&y<=0)return Y=n/(n-y),E.copy(u).addScaledVector(Tj,Y);let T=j*y-Q*H;if(T<=0&&H-j>=0&&Q-y>=0)return eS.subVectors(z,p),Y=(H-j)/(H-j+(Q-y)),E.copy(p).addScaledVector(eS,Y);let N=1/(T+r+k);return c=r*N,Y=k*N,E.copy(u).addScaledVector(Xj,c).addScaledVector(Tj,Y)}equals(U){return U.a.equals(this.a)&&U.b.equals(this.b)&&U.c.equals(this.c)}}var gD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yZ={h:0,s:0,l:0},o8={h:0,s:0,l:0};function mT(U,E,u){if(u<0)u+=1;if(u>1)u-=1;if(u<0.16666666666666666)return U+(E-U)*6*u;if(u<0.5)return E;if(u<0.6666666666666666)return U+(E-U)*6*(0.6666666666666666-u);return U}class EE{constructor(U,E,u){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(U,E,u)}set(U,E,u){if(E===void 0&&u===void 0){let p=U;if(p&&p.isColor)this.copy(p);else if(typeof p==="number")this.setHex(p);else if(typeof p==="string")this.setStyle(p)}else this.setRGB(U,E,u);return this}setScalar(U){return this.r=U,this.g=U,this.b=U,this}setHex(U,E="srgb"){return U=Math.floor(U),this.r=(U>>16&255)/255,this.g=(U>>8&255)/255,this.b=(U&255)/255,Hu.colorSpaceToWorking(this,E),this}setRGB(U,E,u,p=Hu.workingColorSpace){return this.r=U,this.g=E,this.b=u,Hu.colorSpaceToWorking(this,p),this}setHSL(U,E,u,p=Hu.workingColorSpace){if(U=Jo(U,1),E=sE(E,0,1),u=sE(u,0,1),E===0)this.r=this.g=this.b=u;else{let z=u<=0.5?u*(1+E):u+E-u*E,c=2*u-z;this.r=mT(c,z,U+0.3333333333333333),this.g=mT(c,z,U),this.b=mT(c,z,U-0.3333333333333333)}return Hu.colorSpaceToWorking(this,p),this}setStyle(U,E="srgb"){function u(z){if(z===void 0)return;if(parseFloat(z)<1)PE("Color: Alpha component of "+U+" will be ignored.")}let p;if(p=/^(\w+)\(([^\)]*)\)/.exec(U)){let z,c=p[1],Y=p[2];switch(c){case"rgb":case"rgba":if(z=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return u(z[4]),this.setRGB(Math.min(255,parseInt(z[1],10))/255,Math.min(255,parseInt(z[2],10))/255,Math.min(255,parseInt(z[3],10))/255,E);if(z=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return u(z[4]),this.setRGB(Math.min(100,parseInt(z[1],10))/100,Math.min(100,parseInt(z[2],10))/100,Math.min(100,parseInt(z[3],10))/100,E);break;case"hsl":case"hsla":if(z=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return u(z[4]),this.setHSL(parseFloat(z[1])/360,parseFloat(z[2])/100,parseFloat(z[3])/100,E);break;default:PE("Color: Unknown color model "+U)}}else if(p=/^\#([A-Fa-f\d]+)$/.exec(U)){let z=p[1],c=z.length;if(c===3)return this.setRGB(parseInt(z.charAt(0),16)/15,parseInt(z.charAt(1),16)/15,parseInt(z.charAt(2),16)/15,E);else if(c===6)return this.setHex(parseInt(z,16),E);else PE("Color: Invalid hex color "+U)}else if(U&&U.length>0)return this.setColorName(U,E);return this}setColorName(U,E="srgb"){let u=gD[U.toLowerCase()];if(u!==void 0)this.setHex(u,E);else PE("Color: Unknown color "+U);return this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(U){return this.r=U.r,this.g=U.g,this.b=U.b,this}copySRGBToLinear(U){return this.r=_4(U.r),this.g=_4(U.g),this.b=_4(U.b),this}copyLinearToSRGB(U){return this.r=Rj(U.r),this.g=Rj(U.g),this.b=Rj(U.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(U="srgb"){return Hu.workingToColorSpace(a5.copy(this),U),Math.round(sE(a5.r*255,0,255))*65536+Math.round(sE(a5.g*255,0,255))*256+Math.round(sE(a5.b*255,0,255))}getHexString(U="srgb"){return("000000"+this.getHex(U).toString(16)).slice(-6)}getHSL(U,E=Hu.workingColorSpace){Hu.workingToColorSpace(a5.copy(this),E);let{r:u,g:p,b:z}=a5,c=Math.max(u,p,z),Y=Math.min(u,p,z),P,n,j=(Y+c)/2;if(Y===c)P=0,n=0;else{let H=c-Y;switch(n=j<=0.5?H/(c+Y):H/(2-c-Y),c){case u:P=(p-z)/H+(p<z?6:0);break;case p:P=(z-u)/H+2;break;case z:P=(u-p)/H+4;break}P/=6}return U.h=P,U.s=n,U.l=j,U}getRGB(U,E=Hu.workingColorSpace){return Hu.workingToColorSpace(a5.copy(this),E),U.r=a5.r,U.g=a5.g,U.b=a5.b,U}getStyle(U="srgb"){Hu.workingToColorSpace(a5.copy(this),U);let{r:E,g:u,b:p}=a5;if(U!=="srgb")return`color(${U} ${E.toFixed(3)} ${u.toFixed(3)} ${p.toFixed(3)})`;return`rgb(${Math.round(E*255)},${Math.round(u*255)},${Math.round(p*255)})`}offsetHSL(U,E,u){return this.getHSL(yZ),this.setHSL(yZ.h+U,yZ.s+E,yZ.l+u)}add(U){return this.r+=U.r,this.g+=U.g,this.b+=U.b,this}addColors(U,E){return this.r=U.r+E.r,this.g=U.g+E.g,this.b=U.b+E.b,this}addScalar(U){return this.r+=U,this.g+=U,this.b+=U,this}sub(U){return this.r=Math.max(0,this.r-U.r),this.g=Math.max(0,this.g-U.g),this.b=Math.max(0,this.b-U.b),this}multiply(U){return this.r*=U.r,this.g*=U.g,this.b*=U.b,this}multiplyScalar(U){return this.r*=U,this.g*=U,this.b*=U,this}lerp(U,E){return this.r+=(U.r-this.r)*E,this.g+=(U.g-this.g)*E,this.b+=(U.b-this.b)*E,this}lerpColors(U,E,u){return this.r=U.r+(E.r-U.r)*u,this.g=U.g+(E.g-U.g)*u,this.b=U.b+(E.b-U.b)*u,this}lerpHSL(U,E){this.getHSL(yZ),U.getHSL(o8);let u=gk(yZ.h,o8.h,E),p=gk(yZ.s,o8.s,E),z=gk(yZ.l,o8.l,E);return this.setHSL(u,p,z),this}setFromVector3(U){return this.r=U.x,this.g=U.y,this.b=U.z,this}applyMatrix3(U){let E=this.r,u=this.g,p=this.b,z=U.elements;return this.r=z[0]*E+z[3]*u+z[6]*p,this.g=z[1]*E+z[4]*u+z[7]*p,this.b=z[2]*E+z[5]*u+z[8]*p,this}equals(U){return U.r===this.r&&U.g===this.g&&U.b===this.b}fromArray(U,E=0){return this.r=U[E],this.g=U[E+1],this.b=U[E+2],this}toArray(U=[],E=0){return U[E]=this.r,U[E+1]=this.g,U[E+2]=this.b,U}fromBufferAttribute(U,E){return this.r=U.getX(E),this.g=U.getY(E),this.b=U.getZ(E),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}var a5=new EE;EE.NAMES=gD;var we=0;class Rp extends l0{constructor(){super();this.isMaterial=!0,Object.defineProperty(this,"id",{value:we++}),this.uuid=P0(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new EE(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(U){if(this._alphaTest>0!==U>0)this.version++;this._alphaTest=U}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(U){if(U===void 0)return;for(let E in U){let u=U[E];if(u===void 0){PE(`Material: parameter '${E}' has value of undefined.`);continue}let p=this[E];if(p===void 0){PE(`Material: '${E}' is not a property of THREE.${this.type}.`);continue}if(p&&p.isColor)p.set(u);else if(p&&p.isVector3&&(u&&u.isVector3))p.copy(u);else this[E]=u}}toJSON(U){let E=U===void 0||typeof U==="string";if(E)U={textures:{},images:{}};let u={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};if(u.uuid=this.uuid,u.type=this.type,this.name!=="")u.name=this.name;if(this.color&&this.color.isColor)u.color=this.color.getHex();if(this.roughness!==void 0)u.roughness=this.roughness;if(this.metalness!==void 0)u.metalness=this.metalness;if(this.sheen!==void 0)u.sheen=this.sheen;if(this.sheenColor&&this.sheenColor.isColor)u.sheenColor=this.sheenColor.getHex();if(this.sheenRoughness!==void 0)u.sheenRoughness=this.sheenRoughness;if(this.emissive&&this.emissive.isColor)u.emissive=this.emissive.getHex();if(this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1)u.emissiveIntensity=this.emissiveIntensity;if(this.specular&&this.specular.isColor)u.specular=this.specular.getHex();if(this.specularIntensity!==void 0)u.specularIntensity=this.specularIntensity;if(this.specularColor&&this.specularColor.isColor)u.specularColor=this.specularColor.getHex();if(this.shininess!==void 0)u.shininess=this.shininess;if(this.clearcoat!==void 0)u.clearcoat=this.clearcoat;if(this.clearcoatRoughness!==void 0)u.clearcoatRoughness=this.clearcoatRoughness;if(this.clearcoatMap&&this.clearcoatMap.isTexture)u.clearcoatMap=this.clearcoatMap.toJSON(U).uuid;if(this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture)u.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(U).uuid;if(this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture)u.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(U).uuid,u.clearcoatNormalScale=this.clearcoatNormalScale.toArray();if(this.sheenColorMap&&this.sheenColorMap.isTexture)u.sheenColorMap=this.sheenColorMap.toJSON(U).uuid;if(this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture)u.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(U).uuid;if(this.dispersion!==void 0)u.dispersion=this.dispersion;if(this.iridescence!==void 0)u.iridescence=this.iridescence;if(this.iridescenceIOR!==void 0)u.iridescenceIOR=this.iridescenceIOR;if(this.iridescenceThicknessRange!==void 0)u.iridescenceThicknessRange=this.iridescenceThicknessRange;if(this.iridescenceMap&&this.iridescenceMap.isTexture)u.iridescenceMap=this.iridescenceMap.toJSON(U).uuid;if(this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture)u.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(U).uuid;if(this.anisotropy!==void 0)u.anisotropy=this.anisotropy;if(this.anisotropyRotation!==void 0)u.anisotropyRotation=this.anisotropyRotation;if(this.anisotropyMap&&this.anisotropyMap.isTexture)u.anisotropyMap=this.anisotropyMap.toJSON(U).uuid;if(this.map&&this.map.isTexture)u.map=this.map.toJSON(U).uuid;if(this.matcap&&this.matcap.isTexture)u.matcap=this.matcap.toJSON(U).uuid;if(this.alphaMap&&this.alphaMap.isTexture)u.alphaMap=this.alphaMap.toJSON(U).uuid;if(this.lightMap&&this.lightMap.isTexture)u.lightMap=this.lightMap.toJSON(U).uuid,u.lightMapIntensity=this.lightMapIntensity;if(this.aoMap&&this.aoMap.isTexture)u.aoMap=this.aoMap.toJSON(U).uuid,u.aoMapIntensity=this.aoMapIntensity;if(this.bumpMap&&this.bumpMap.isTexture)u.bumpMap=this.bumpMap.toJSON(U).uuid,u.bumpScale=this.bumpScale;if(this.normalMap&&this.normalMap.isTexture)u.normalMap=this.normalMap.toJSON(U).uuid,u.normalMapType=this.normalMapType,u.normalScale=this.normalScale.toArray();if(this.displacementMap&&this.displacementMap.isTexture)u.displacementMap=this.displacementMap.toJSON(U).uuid,u.displacementScale=this.displacementScale,u.displacementBias=this.displacementBias;if(this.roughnessMap&&this.roughnessMap.isTexture)u.roughnessMap=this.roughnessMap.toJSON(U).uuid;if(this.metalnessMap&&this.metalnessMap.isTexture)u.metalnessMap=this.metalnessMap.toJSON(U).uuid;if(this.emissiveMap&&this.emissiveMap.isTexture)u.emissiveMap=this.emissiveMap.toJSON(U).uuid;if(this.specularMap&&this.specularMap.isTexture)u.specularMap=this.specularMap.toJSON(U).uuid;if(this.specularIntensityMap&&this.specularIntensityMap.isTexture)u.specularIntensityMap=this.specularIntensityMap.toJSON(U).uuid;if(this.specularColorMap&&this.specularColorMap.isTexture)u.specularColorMap=this.specularColorMap.toJSON(U).uuid;if(this.envMap&&this.envMap.isTexture){if(u.envMap=this.envMap.toJSON(U).uuid,this.combine!==void 0)u.combine=this.combine}if(this.envMapRotation!==void 0)u.envMapRotation=this.envMapRotation.toArray();if(this.envMapIntensity!==void 0)u.envMapIntensity=this.envMapIntensity;if(this.reflectivity!==void 0)u.reflectivity=this.reflectivity;if(this.refractionRatio!==void 0)u.refractionRatio=this.refractionRatio;if(this.gradientMap&&this.gradientMap.isTexture)u.gradientMap=this.gradientMap.toJSON(U).uuid;if(this.transmission!==void 0)u.transmission=this.transmission;if(this.transmissionMap&&this.transmissionMap.isTexture)u.transmissionMap=this.transmissionMap.toJSON(U).uuid;if(this.thickness!==void 0)u.thickness=this.thickness;if(this.thicknessMap&&this.thicknessMap.isTexture)u.thicknessMap=this.thicknessMap.toJSON(U).uuid;if(this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0)u.attenuationDistance=this.attenuationDistance;if(this.attenuationColor!==void 0)u.attenuationColor=this.attenuationColor.getHex();if(this.size!==void 0)u.size=this.size;if(this.shadowSide!==null)u.shadowSide=this.shadowSide;if(this.sizeAttenuation!==void 0)u.sizeAttenuation=this.sizeAttenuation;if(this.blending!==1)u.blending=this.blending;if(this.side!==0)u.side=this.side;if(this.vertexColors===!0)u.vertexColors=!0;if(this.opacity<1)u.opacity=this.opacity;if(this.transparent===!0)u.transparent=!0;if(this.blendSrc!==204)u.blendSrc=this.blendSrc;if(this.blendDst!==205)u.blendDst=this.blendDst;if(this.blendEquation!==100)u.blendEquation=this.blendEquation;if(this.blendSrcAlpha!==null)u.blendSrcAlpha=this.blendSrcAlpha;if(this.blendDstAlpha!==null)u.blendDstAlpha=this.blendDstAlpha;if(this.blendEquationAlpha!==null)u.blendEquationAlpha=this.blendEquationAlpha;if(this.blendColor&&this.blendColor.isColor)u.blendColor=this.blendColor.getHex();if(this.blendAlpha!==0)u.blendAlpha=this.blendAlpha;if(this.depthFunc!==3)u.depthFunc=this.depthFunc;if(this.depthTest===!1)u.depthTest=this.depthTest;if(this.depthWrite===!1)u.depthWrite=this.depthWrite;if(this.colorWrite===!1)u.colorWrite=this.colorWrite;if(this.stencilWriteMask!==255)u.stencilWriteMask=this.stencilWriteMask;if(this.stencilFunc!==519)u.stencilFunc=this.stencilFunc;if(this.stencilRef!==0)u.stencilRef=this.stencilRef;if(this.stencilFuncMask!==255)u.stencilFuncMask=this.stencilFuncMask;if(this.stencilFail!==7680)u.stencilFail=this.stencilFail;if(this.stencilZFail!==7680)u.stencilZFail=this.stencilZFail;if(this.stencilZPass!==7680)u.stencilZPass=this.stencilZPass;if(this.stencilWrite===!0)u.stencilWrite=this.stencilWrite;if(this.rotation!==void 0&&this.rotation!==0)u.rotation=this.rotation;if(this.polygonOffset===!0)u.polygonOffset=!0;if(this.polygonOffsetFactor!==0)u.polygonOffsetFactor=this.polygonOffsetFactor;if(this.polygonOffsetUnits!==0)u.polygonOffsetUnits=this.polygonOffsetUnits;if(this.linewidth!==void 0&&this.linewidth!==1)u.linewidth=this.linewidth;if(this.dashSize!==void 0)u.dashSize=this.dashSize;if(this.gapSize!==void 0)u.gapSize=this.gapSize;if(this.scale!==void 0)u.scale=this.scale;if(this.dithering===!0)u.dithering=!0;if(this.alphaTest>0)u.alphaTest=this.alphaTest;if(this.alphaHash===!0)u.alphaHash=!0;if(this.alphaToCoverage===!0)u.alphaToCoverage=!0;if(this.premultipliedAlpha===!0)u.premultipliedAlpha=!0;if(this.forceSinglePass===!0)u.forceSinglePass=!0;if(this.allowOverride===!1)u.allowOverride=!1;if(this.wireframe===!0)u.wireframe=!0;if(this.wireframeLinewidth>1)u.wireframeLinewidth=this.wireframeLinewidth;if(this.wireframeLinecap!=="round")u.wireframeLinecap=this.wireframeLinecap;if(this.wireframeLinejoin!=="round")u.wireframeLinejoin=this.wireframeLinejoin;if(this.flatShading===!0)u.flatShading=!0;if(this.visible===!1)u.visible=!1;if(this.toneMapped===!1)u.toneMapped=!1;if(this.fog===!1)u.fog=!1;if(Object.keys(this.userData).length>0)u.userData=this.userData;function p(z){let c=[];for(let Y in z){let P=z[Y];delete P.metadata,c.push(P)}return c}if(E){let z=p(U.textures),c=p(U.images);if(z.length>0)u.textures=z;if(c.length>0)u.images=c}return u}clone(){return new this.constructor().copy(this)}copy(U){this.name=U.name,this.blending=U.blending,this.side=U.side,this.vertexColors=U.vertexColors,this.opacity=U.opacity,this.transparent=U.transparent,this.blendSrc=U.blendSrc,this.blendDst=U.blendDst,this.blendEquation=U.blendEquation,this.blendSrcAlpha=U.blendSrcAlpha,this.blendDstAlpha=U.blendDstAlpha,this.blendEquationAlpha=U.blendEquationAlpha,this.blendColor.copy(U.blendColor),this.blendAlpha=U.blendAlpha,this.depthFunc=U.depthFunc,this.depthTest=U.depthTest,this.depthWrite=U.depthWrite,this.stencilWriteMask=U.stencilWriteMask,this.stencilFunc=U.stencilFunc,this.stencilRef=U.stencilRef,this.stencilFuncMask=U.stencilFuncMask,this.stencilFail=U.stencilFail,this.stencilZFail=U.stencilZFail,this.stencilZPass=U.stencilZPass,this.stencilWrite=U.stencilWrite;let E=U.clippingPlanes,u=null;if(E!==null){let p=E.length;u=new Array(p);for(let z=0;z!==p;++z)u[z]=E[z].clone()}return this.clippingPlanes=u,this.clipIntersection=U.clipIntersection,this.clipShadows=U.clipShadows,this.shadowSide=U.shadowSide,this.colorWrite=U.colorWrite,this.precision=U.precision,this.polygonOffset=U.polygonOffset,this.polygonOffsetFactor=U.polygonOffsetFactor,this.polygonOffsetUnits=U.polygonOffsetUnits,this.dithering=U.dithering,this.alphaTest=U.alphaTest,this.alphaHash=U.alphaHash,this.alphaToCoverage=U.alphaToCoverage,this.premultipliedAlpha=U.premultipliedAlpha,this.forceSinglePass=U.forceSinglePass,this.allowOverride=U.allowOverride,this.visible=U.visible,this.toneMapped=U.toneMapped,this.userData=JSON.parse(JSON.stringify(U.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(U){if(U===!0)this.version++}}class A5 extends Rp{constructor(U){super();this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new EE(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new e5,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.color.copy(U.color),this.map=U.map,this.lightMap=U.lightMap,this.lightMapIntensity=U.lightMapIntensity,this.aoMap=U.aoMap,this.aoMapIntensity=U.aoMapIntensity,this.specularMap=U.specularMap,this.alphaMap=U.alphaMap,this.envMap=U.envMap,this.envMapRotation.copy(U.envMapRotation),this.combine=U.combine,this.reflectivity=U.reflectivity,this.refractionRatio=U.refractionRatio,this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this.wireframeLinecap=U.wireframeLinecap,this.wireframeLinejoin=U.wireframeLinejoin,this.fog=U.fog,this}}var a4=ve();function ve(){let U=new ArrayBuffer(4),E=new Float32Array(U),u=new Uint32Array(U),p=new Uint32Array(512),z=new Uint32Array(512);for(let n=0;n<256;++n){let j=n-127;if(j<-27)p[n]=0,p[n|256]=32768,z[n]=24,z[n|256]=24;else if(j<-14)p[n]=1024>>-j-14,p[n|256]=1024>>-j-14|32768,z[n]=-j-1,z[n|256]=-j-1;else if(j<=15)p[n]=j+15<<10,p[n|256]=j+15<<10|32768,z[n]=13,z[n|256]=13;else if(j<128)p[n]=31744,p[n|256]=64512,z[n]=24,z[n|256]=24;else p[n]=31744,p[n|256]=64512,z[n]=13,z[n|256]=13}let c=new Uint32Array(2048),Y=new Uint32Array(64),P=new Uint32Array(64);for(let n=1;n<1024;++n){let j=n<<13,H=0;while((j&8388608)===0)j<<=1,H-=8388608;j&=-8388609,H+=947912704,c[n]=j|H}for(let n=1024;n<2048;++n)c[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)Y[n]=n<<23;Y[31]=1199570944,Y[32]=2147483648;for(let n=33;n<63;++n)Y[n]=2147483648+(n-32<<23);Y[63]=3347054592;for(let n=1;n<64;++n)if(n!==32)P[n]=1024;return{floatView:E,uint32View:u,baseTable:p,shiftTable:z,mantissaTable:c,exponentTable:Y,offsetTable:P}}function Gz(U){if(Math.abs(U)>65504)PE("DataUtils.toHalfFloat(): Value out of range.");U=sE(U,-65504,65504),a4.floatView[0]=U;let E=a4.uint32View[0],u=E>>23&511;return a4.baseTable[u]+((E&8388607)>>a4.shiftTable[u])}function ak(U){let E=U>>10;return a4.uint32View[0]=a4.mantissaTable[a4.offsetTable[E]+(U&1023)]+a4.exponentTable[E],a4.floatView[0]}class Ic{static toHalfFloat(U){return Gz(U)}static fromHalfFloat(U){return ak(U)}}var c5=new b,i8=new LU,Se=0;class ju{constructor(U,E,u=!1){if(Array.isArray(U))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Se++}),this.name="",this.array=U,this.itemSize=E,this.count=U!==void 0?U.length/E:0,this.normalized=u,this.usage=35044,this.updateRanges=[],this.gpuType=1015,this.version=0}onUploadCallback(){}set needsUpdate(U){if(U===!0)this.version++}setUsage(U){return this.usage=U,this}addUpdateRange(U,E){this.updateRanges.push({start:U,count:E})}clearUpdateRanges(){this.updateRanges.length=0}copy(U){return this.name=U.name,this.array=new U.array.constructor(U.array),this.itemSize=U.itemSize,this.count=U.count,this.normalized=U.normalized,this.usage=U.usage,this.gpuType=U.gpuType,this}copyAt(U,E,u){U*=this.itemSize,u*=E.itemSize;for(let p=0,z=this.itemSize;p<z;p++)this.array[U+p]=E.array[u+p];return this}copyArray(U){return this.array.set(U),this}applyMatrix3(U){if(this.itemSize===2)for(let E=0,u=this.count;E<u;E++)i8.fromBufferAttribute(this,E),i8.applyMatrix3(U),this.setXY(E,i8.x,i8.y);else if(this.itemSize===3)for(let E=0,u=this.count;E<u;E++)c5.fromBufferAttribute(this,E),c5.applyMatrix3(U),this.setXYZ(E,c5.x,c5.y,c5.z);return this}applyMatrix4(U){for(let E=0,u=this.count;E<u;E++)c5.fromBufferAttribute(this,E),c5.applyMatrix4(U),this.setXYZ(E,c5.x,c5.y,c5.z);return this}applyNormalMatrix(U){for(let E=0,u=this.count;E<u;E++)c5.fromBufferAttribute(this,E),c5.applyNormalMatrix(U),this.setXYZ(E,c5.x,c5.y,c5.z);return this}transformDirection(U){for(let E=0,u=this.count;E<u;E++)c5.fromBufferAttribute(this,E),c5.transformDirection(U),this.setXYZ(E,c5.x,c5.y,c5.z);return this}set(U,E=0){return this.array.set(U,E),this}getComponent(U,E){let u=this.array[U*this.itemSize+E];if(this.normalized)u=Zz(u,this.array);return u}setComponent(U,E,u){if(this.normalized)u=zu(u,this.array);return this.array[U*this.itemSize+E]=u,this}getX(U){let E=this.array[U*this.itemSize];if(this.normalized)E=Zz(E,this.array);return E}setX(U,E){if(this.normalized)E=zu(E,this.array);return this.array[U*this.itemSize]=E,this}getY(U){let E=this.array[U*this.itemSize+1];if(this.normalized)E=Zz(E,this.array);return E}setY(U,E){if(this.normalized)E=zu(E,this.array);return this.array[U*this.itemSize+1]=E,this}getZ(U){let E=this.array[U*this.itemSize+2];if(this.normalized)E=Zz(E,this.array);return E}setZ(U,E){if(this.normalized)E=zu(E,this.array);return this.array[U*this.itemSize+2]=E,this}getW(U){let E=this.array[U*this.itemSize+3];if(this.normalized)E=Zz(E,this.array);return E}setW(U,E){if(this.normalized)E=zu(E,this.array);return this.array[U*this.itemSize+3]=E,this}setXY(U,E,u){if(U*=this.itemSize,this.normalized)E=zu(E,this.array),u=zu(u,this.array);return this.array[U+0]=E,this.array[U+1]=u,this}setXYZ(U,E,u,p){if(U*=this.itemSize,this.normalized)E=zu(E,this.array),u=zu(u,this.array),p=zu(p,this.array);return this.array[U+0]=E,this.array[U+1]=u,this.array[U+2]=p,this}setXYZW(U,E,u,p,z){if(U*=this.itemSize,this.normalized)E=zu(E,this.array),u=zu(u,this.array),p=zu(p,this.array),z=zu(z,this.array);return this.array[U+0]=E,this.array[U+1]=u,this.array[U+2]=p,this.array[U+3]=z,this}onUpload(U){return this.onUploadCallback=U,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let U={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};if(this.name!=="")U.name=this.name;if(this.usage!==35044)U.usage=this.usage;return U}}class lo extends ju{constructor(U,E,u){super(new Int8Array(U),E,u)}}class Mo extends ju{constructor(U,E,u){super(new Uint8Array(U),E,u)}}class Wo extends ju{constructor(U,E,u){super(new Uint8ClampedArray(U),E,u)}}class fo extends ju{constructor(U,E,u){super(new Int16Array(U),E,u)}}class i9 extends ju{constructor(U,E,u){super(new Uint16Array(U),E,u)}}class so extends ju{constructor(U,E,u){super(new Int32Array(U),E,u)}}class F9 extends ju{constructor(U,E,u){super(new Uint32Array(U),E,u)}}class Ko extends ju{constructor(U,E,u){super(new Uint16Array(U),E,u);this.isFloat16BufferAttribute=!0}getX(U){let E=ak(this.array[U*this.itemSize]);if(this.normalized)E=Zz(E,this.array);return E}setX(U,E){if(this.normalized)E=zu(E,this.array);return this.array[U*this.itemSize]=Gz(E),this}getY(U){let E=ak(this.array[U*this.itemSize+1]);if(this.normalized)E=Zz(E,this.array);return E}setY(U,E){if(this.normalized)E=zu(E,this.array);return this.array[U*this.itemSize+1]=Gz(E),this}getZ(U){let E=ak(this.array[U*this.itemSize+2]);if(this.normalized)E=Zz(E,this.array);return E}setZ(U,E){if(this.normalized)E=zu(E,this.array);return this.array[U*this.itemSize+2]=Gz(E),this}getW(U){let E=ak(this.array[U*this.itemSize+3]);if(this.normalized)E=Zz(E,this.array);return E}setW(U,E){if(this.normalized)E=zu(E,this.array);return this.array[U*this.itemSize+3]=Gz(E),this}setXY(U,E,u){if(U*=this.itemSize,this.normalized)E=zu(E,this.array),u=zu(u,this.array);return this.array[U+0]=Gz(E),this.array[U+1]=Gz(u),this}setXYZ(U,E,u,p){if(U*=this.itemSize,this.normalized)E=zu(E,this.array),u=zu(u,this.array),p=zu(p,this.array);return this.array[U+0]=Gz(E),this.array[U+1]=Gz(u),this.array[U+2]=Gz(p),this}setXYZW(U,E,u,p,z){if(U*=this.itemSize,this.normalized)E=zu(E,this.array),u=zu(u,this.array),p=zu(p,this.array),z=zu(z,this.array);return this.array[U+0]=Gz(E),this.array[U+1]=Gz(u),this.array[U+2]=Gz(p),this.array[U+3]=Gz(z),this}}class NE extends ju{constructor(U,E,u){super(new Float32Array(U),E,u)}}var Re=0,D0=new RE,VT=new Ou,oj=new b,Z0=new lp,hk=new lp,F5=new b;class WE extends l0{constructor(){super();this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Re++}),this.uuid=P0(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(U){if(Array.isArray(U))this.index=new((Do(U))?F9:i9)(U,1);else this.index=U;return this}setIndirect(U,E=0){return this.indirect=U,this.indirectOffset=E,this}getIndirect(){return this.indirect}getAttribute(U){return this.attributes[U]}setAttribute(U,E){return this.attributes[U]=E,this}deleteAttribute(U){return delete this.attributes[U],this}hasAttribute(U){return this.attributes[U]!==void 0}addGroup(U,E,u=0){this.groups.push({start:U,count:E,materialIndex:u})}clearGroups(){this.groups=[]}setDrawRange(U,E){this.drawRange.start=U,this.drawRange.count=E}applyMatrix4(U){let E=this.attributes.position;if(E!==void 0)E.applyMatrix4(U),E.needsUpdate=!0;let u=this.attributes.normal;if(u!==void 0){let z=new CE().getNormalMatrix(U);u.applyNormalMatrix(z),u.needsUpdate=!0}let p=this.attributes.tangent;if(p!==void 0)p.transformDirection(U),p.needsUpdate=!0;if(this.boundingBox!==null)this.computeBoundingBox();if(this.boundingSphere!==null)this.computeBoundingSphere();return this}applyQuaternion(U){return D0.makeRotationFromQuaternion(U),this.applyMatrix4(D0),this}rotateX(U){return D0.makeRotationX(U),this.applyMatrix4(D0),this}rotateY(U){return D0.makeRotationY(U),this.applyMatrix4(D0),this}rotateZ(U){return D0.makeRotationZ(U),this.applyMatrix4(D0),this}translate(U,E,u){return D0.makeTranslation(U,E,u),this.applyMatrix4(D0),this}scale(U,E,u){return D0.makeScale(U,E,u),this.applyMatrix4(D0),this}lookAt(U){return VT.lookAt(U),VT.updateMatrix(),this.applyMatrix4(VT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(oj).negate(),this.translate(oj.x,oj.y,oj.z),this}setFromPoints(U){let E=this.getAttribute("position");if(E===void 0){let u=[];for(let p=0,z=U.length;p<z;p++){let c=U[p];u.push(c.x,c.y,c.z||0)}this.setAttribute("position",new NE(u,3))}else{let u=Math.min(U.length,E.count);for(let p=0;p<u;p++){let z=U[p];E.setXYZ(p,z.x,z.y,z.z||0)}if(U.length>E.count)PE("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry.");E.needsUpdate=!0}return this}computeBoundingBox(){if(this.boundingBox===null)this.boundingBox=new lp;let U=this.attributes.position,E=this.morphAttributes.position;if(U&&U.isGLBufferAttribute){SE("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new b(-1/0,-1/0,-1/0),new b(1/0,1/0,1/0));return}if(U!==void 0){if(this.boundingBox.setFromBufferAttribute(U),E)for(let u=0,p=E.length;u<p;u++){let z=E[u];if(Z0.setFromBufferAttribute(z),this.morphTargetsRelative)F5.addVectors(this.boundingBox.min,Z0.min),this.boundingBox.expandByPoint(F5),F5.addVectors(this.boundingBox.max,Z0.max),this.boundingBox.expandByPoint(F5);else this.boundingBox.expandByPoint(Z0.min),this.boundingBox.expandByPoint(Z0.max)}}else this.boundingBox.makeEmpty();if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))SE('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){if(this.boundingSphere===null)this.boundingSphere=new Mp;let U=this.attributes.position,E=this.morphAttributes.position;if(U&&U.isGLBufferAttribute){SE("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new b,1/0);return}if(U){let u=this.boundingSphere.center;if(Z0.setFromBufferAttribute(U),E)for(let z=0,c=E.length;z<c;z++){let Y=E[z];if(hk.setFromBufferAttribute(Y),this.morphTargetsRelative)F5.addVectors(Z0.min,hk.min),Z0.expandByPoint(F5),F5.addVectors(Z0.max,hk.max),Z0.expandByPoint(F5);else Z0.expandByPoint(hk.min),Z0.expandByPoint(hk.max)}Z0.getCenter(u);let p=0;for(let z=0,c=U.count;z<c;z++)F5.fromBufferAttribute(U,z),p=Math.max(p,u.distanceToSquared(F5));if(E)for(let z=0,c=E.length;z<c;z++){let Y=E[z],P=this.morphTargetsRelative;for(let n=0,j=Y.count;n<j;n++){if(F5.fromBufferAttribute(Y,n),P)oj.fromBufferAttribute(U,n),F5.add(oj);p=Math.max(p,u.distanceToSquared(F5))}}if(this.boundingSphere.radius=Math.sqrt(p),isNaN(this.boundingSphere.radius))SE('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let U=this.index,E=this.attributes;if(U===null||E.position===void 0||E.normal===void 0||E.uv===void 0){SE("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let{position:u,normal:p,uv:z}=E;if(this.hasAttribute("tangent")===!1)this.setAttribute("tangent",new ju(new Float32Array(4*u.count),4));let c=this.getAttribute("tangent"),Y=[],P=[];for(let d=0;d<u.count;d++)Y[d]=new b,P[d]=new b;let n=new b,j=new b,H=new b,k=new LU,Q=new LU,y=new LU,r=new b,T=new b;function N(d,m,V){n.fromBufferAttribute(u,d),j.fromBufferAttribute(u,m),H.fromBufferAttribute(u,V),k.fromBufferAttribute(z,d),Q.fromBufferAttribute(z,m),y.fromBufferAttribute(z,V),j.sub(n),H.sub(n),Q.sub(k),y.sub(k);let w=1/(Q.x*y.y-y.x*Q.y);if(!isFinite(w))return;r.copy(j).multiplyScalar(y.y).addScaledVector(H,-Q.y).multiplyScalar(w),T.copy(H).multiplyScalar(Q.x).addScaledVector(j,-y.x).multiplyScalar(w),Y[d].add(r),Y[m].add(r),Y[V].add(r),P[d].add(T),P[m].add(T),P[V].add(T)}let O=this.groups;if(O.length===0)O=[{start:0,count:U.count}];for(let d=0,m=O.length;d<m;++d){let V=O[d],w=V.start,h=V.count;for(let _=w,f=w+h;_<f;_+=3)N(U.getX(_+0),U.getX(_+1),U.getX(_+2))}let L=new b,X=new b,i=new b,B=new b;function G(d){i.fromBufferAttribute(p,d),B.copy(i);let m=Y[d];L.copy(m),L.sub(i.multiplyScalar(i.dot(m))).normalize(),X.crossVectors(B,m);let w=X.dot(P[d])<0?-1:1;c.setXYZW(d,L.x,L.y,L.z,w)}for(let d=0,m=O.length;d<m;++d){let V=O[d],w=V.start,h=V.count;for(let _=w,f=w+h;_<f;_+=3)G(U.getX(_+0)),G(U.getX(_+1)),G(U.getX(_+2))}}computeVertexNormals(){let U=this.index,E=this.getAttribute("position");if(E!==void 0){let u=this.getAttribute("normal");if(u===void 0)u=new ju(new Float32Array(E.count*3),3),this.setAttribute("normal",u);else for(let k=0,Q=u.count;k<Q;k++)u.setXYZ(k,0,0,0);let p=new b,z=new b,c=new b,Y=new b,P=new b,n=new b,j=new b,H=new b;if(U)for(let k=0,Q=U.count;k<Q;k+=3){let y=U.getX(k+0),r=U.getX(k+1),T=U.getX(k+2);p.fromBufferAttribute(E,y),z.fromBufferAttribute(E,r),c.fromBufferAttribute(E,T),j.subVectors(c,z),H.subVectors(p,z),j.cross(H),Y.fromBufferAttribute(u,y),P.fromBufferAttribute(u,r),n.fromBufferAttribute(u,T),Y.add(j),P.add(j),n.add(j),u.setXYZ(y,Y.x,Y.y,Y.z),u.setXYZ(r,P.x,P.y,P.z),u.setXYZ(T,n.x,n.y,n.z)}else for(let k=0,Q=E.count;k<Q;k+=3)p.fromBufferAttribute(E,k+0),z.fromBufferAttribute(E,k+1),c.fromBufferAttribute(E,k+2),j.subVectors(c,z),H.subVectors(p,z),j.cross(H),u.setXYZ(k+0,j.x,j.y,j.z),u.setXYZ(k+1,j.x,j.y,j.z),u.setXYZ(k+2,j.x,j.y,j.z);this.normalizeNormals(),u.needsUpdate=!0}}normalizeNormals(){let U=this.attributes.normal;for(let E=0,u=U.count;E<u;E++)F5.fromBufferAttribute(U,E),F5.normalize(),U.setXYZ(E,F5.x,F5.y,F5.z)}toNonIndexed(){function U(Y,P){let{array:n,itemSize:j,normalized:H}=Y,k=new n.constructor(P.length*j),Q=0,y=0;for(let r=0,T=P.length;r<T;r++){if(Y.isInterleavedBufferAttribute)Q=P[r]*Y.data.stride+Y.offset;else Q=P[r]*j;for(let N=0;N<j;N++)k[y++]=n[Q++]}return new ju(k,j,H)}if(this.index===null)return PE("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let E=new WE,u=this.index.array,p=this.attributes;for(let Y in p){let P=p[Y],n=U(P,u);E.setAttribute(Y,n)}let z=this.morphAttributes;for(let Y in z){let P=[],n=z[Y];for(let j=0,H=n.length;j<H;j++){let k=n[j],Q=U(k,u);P.push(Q)}E.morphAttributes[Y]=P}E.morphTargetsRelative=this.morphTargetsRelative;let c=this.groups;for(let Y=0,P=c.length;Y<P;Y++){let n=c[Y];E.addGroup(n.start,n.count,n.materialIndex)}return E}toJSON(){let U={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(U.uuid=this.uuid,U.type=this.type,this.name!=="")U.name=this.name;if(Object.keys(this.userData).length>0)U.userData=this.userData;if(this.parameters!==void 0){let P=this.parameters;for(let n in P)if(P[n]!==void 0)U[n]=P[n];return U}U.data={attributes:{}};let E=this.index;if(E!==null)U.data.index={type:E.array.constructor.name,array:Array.prototype.slice.call(E.array)};let u=this.attributes;for(let P in u){let n=u[P];U.data.attributes[P]=n.toJSON(U.data)}let p={},z=!1;for(let P in this.morphAttributes){let n=this.morphAttributes[P],j=[];for(let H=0,k=n.length;H<k;H++){let Q=n[H];j.push(Q.toJSON(U.data))}if(j.length>0)p[P]=j,z=!0}if(z)U.data.morphAttributes=p,U.data.morphTargetsRelative=this.morphTargetsRelative;let c=this.groups;if(c.length>0)U.data.groups=JSON.parse(JSON.stringify(c));let Y=this.boundingSphere;if(Y!==null)U.data.boundingSphere=Y.toJSON();return U}clone(){return new this.constructor().copy(this)}copy(U){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let E={};this.name=U.name;let u=U.index;if(u!==null)this.setIndex(u.clone());let p=U.attributes;for(let n in p){let j=p[n];this.setAttribute(n,j.clone(E))}let z=U.morphAttributes;for(let n in z){let j=[],H=z[n];for(let k=0,Q=H.length;k<Q;k++)j.push(H[k].clone(E));this.morphAttributes[n]=j}this.morphTargetsRelative=U.morphTargetsRelative;let c=U.groups;for(let n=0,j=c.length;n<j;n++){let H=c[n];this.addGroup(H.start,H.count,H.materialIndex)}let Y=U.boundingBox;if(Y!==null)this.boundingBox=Y.clone();let P=U.boundingSphere;if(P!==null)this.boundingSphere=P.clone();return this.drawRange.start=U.drawRange.start,this.drawRange.count=U.drawRange.count,this.userData=U.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}var CS=new RE,DP=new AZ,F8=new Mp,UR=new b,A8=new b,m8=new b,V8=new b,GT=new b,G8=new b,ER=new b,B8=new b;class tu extends Ou{constructor(U=new WE,E=new A5){super();this.isMesh=!0,this.type="Mesh",this.geometry=U,this.material=E,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(U,E){if(super.copy(U,E),U.morphTargetInfluences!==void 0)this.morphTargetInfluences=U.morphTargetInfluences.slice();if(U.morphTargetDictionary!==void 0)this.morphTargetDictionary=Object.assign({},U.morphTargetDictionary);return this.material=Array.isArray(U.material)?U.material.slice():U.material,this.geometry=U.geometry,this}updateMorphTargets(){let E=this.geometry.morphAttributes,u=Object.keys(E);if(u.length>0){let p=E[u[0]];if(p!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let z=0,c=p.length;z<c;z++){let Y=p[z].name||String(z);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=z}}}}getVertexPosition(U,E){let u=this.geometry,p=u.attributes.position,z=u.morphAttributes.position,c=u.morphTargetsRelative;E.fromBufferAttribute(p,U);let Y=this.morphTargetInfluences;if(z&&Y){G8.set(0,0,0);for(let P=0,n=z.length;P<n;P++){let j=Y[P],H=z[P];if(j===0)continue;if(GT.fromBufferAttribute(H,U),c)G8.addScaledVector(GT,j);else G8.addScaledVector(GT.sub(E),j)}E.add(G8)}return E}raycast(U,E){let u=this.geometry,p=this.material,z=this.matrixWorld;if(p===void 0)return;if(u.boundingSphere===null)u.computeBoundingSphere();if(F8.copy(u.boundingSphere),F8.applyMatrix4(z),DP.copy(U.ray).recast(U.near),F8.containsPoint(DP.origin)===!1){if(DP.intersectSphere(F8,UR)===null)return;if(DP.origin.distanceToSquared(UR)>(U.far-U.near)**2)return}if(CS.copy(z).invert(),DP.copy(U.ray).applyMatrix4(CS),u.boundingBox!==null){if(DP.intersectsBox(u.boundingBox)===!1)return}this._computeIntersections(U,E,DP)}_computeIntersections(U,E,u){let p,z=this.geometry,c=this.material,Y=z.index,P=z.attributes.position,n=z.attributes.uv,j=z.attributes.uv1,H=z.attributes.normal,k=z.groups,Q=z.drawRange;if(Y!==null)if(Array.isArray(c))for(let y=0,r=k.length;y<r;y++){let T=k[y],N=c[T.materialIndex],O=Math.max(T.start,Q.start),L=Math.min(Y.count,Math.min(T.start+T.count,Q.start+Q.count));for(let X=O,i=L;X<i;X+=3){let B=Y.getX(X),G=Y.getX(X+1),d=Y.getX(X+2);if(p=d8(this,N,U,u,n,j,H,B,G,d),p)p.faceIndex=Math.floor(X/3),p.face.materialIndex=T.materialIndex,E.push(p)}}else{let y=Math.max(0,Q.start),r=Math.min(Y.count,Q.start+Q.count);for(let T=y,N=r;T<N;T+=3){let O=Y.getX(T),L=Y.getX(T+1),X=Y.getX(T+2);if(p=d8(this,c,U,u,n,j,H,O,L,X),p)p.faceIndex=Math.floor(T/3),E.push(p)}}else if(P!==void 0)if(Array.isArray(c))for(let y=0,r=k.length;y<r;y++){let T=k[y],N=c[T.materialIndex],O=Math.max(T.start,Q.start),L=Math.min(P.count,Math.min(T.start+T.count,Q.start+Q.count));for(let X=O,i=L;X<i;X+=3){let B=X,G=X+1,d=X+2;if(p=d8(this,N,U,u,n,j,H,B,G,d),p)p.faceIndex=Math.floor(X/3),p.face.materialIndex=T.materialIndex,E.push(p)}}else{let y=Math.max(0,Q.start),r=Math.min(P.count,Q.start+Q.count);for(let T=y,N=r;T<N;T+=3){let O=T,L=T+1,X=T+2;if(p=d8(this,c,U,u,n,j,H,O,L,X),p)p.faceIndex=Math.floor(T/3),E.push(p)}}}}function De(U,E,u,p,z,c,Y,P){let n;if(E.side===1)n=p.intersectTriangle(Y,c,z,!0,P);else n=p.intersectTriangle(z,c,Y,E.side===0,P);if(n===null)return null;B8.copy(P),B8.applyMatrix4(U.matrixWorld);let j=u.ray.origin.distanceTo(B8);if(j<u.near||j>u.far)return null;return{distance:j,point:B8.clone(),object:U}}function d8(U,E,u,p,z,c,Y,P,n,j){U.getVertexPosition(P,A8),U.getVertexPosition(n,m8),U.getVertexPosition(j,V8);let H=De(U,E,u,p,A8,m8,V8,ER);if(H){let k=new b;if(g5.getBarycoord(ER,A8,m8,V8,k),z)H.uv=g5.getInterpolatedAttribute(z,P,n,j,k,new LU);if(c)H.uv1=g5.getInterpolatedAttribute(c,P,n,j,k,new LU);if(Y){if(H.normal=g5.getInterpolatedAttribute(Y,P,n,j,k,new b),H.normal.dot(p.direction)>0)H.normal.multiplyScalar(-1)}let Q={a:P,b:n,c:j,normal:new b,materialIndex:0};g5.getNormal(A8,m8,V8,Q.normal),H.face=Q,H.barycoord=k}return H}class pY extends WE{constructor(U=1,E=1,u=1,p=1,z=1,c=1){super();this.type="BoxGeometry",this.parameters={width:U,height:E,depth:u,widthSegments:p,heightSegments:z,depthSegments:c};let Y=this;p=Math.floor(p),z=Math.floor(z),c=Math.floor(c);let P=[],n=[],j=[],H=[],k=0,Q=0;y("z","y","x",-1,-1,u,E,U,c,z,0),y("z","y","x",1,-1,u,E,-U,c,z,1),y("x","z","y",1,1,U,u,E,p,c,2),y("x","z","y",1,-1,U,u,-E,p,c,3),y("x","y","z",1,-1,U,E,u,p,z,4),y("x","y","z",-1,-1,U,E,-u,p,z,5),this.setIndex(P),this.setAttribute("position",new NE(n,3)),this.setAttribute("normal",new NE(j,3)),this.setAttribute("uv",new NE(H,2));function y(r,T,N,O,L,X,i,B,G,d,m){let V=X/G,w=i/d,h=X/2,_=i/2,f=B/2,a=G+1,uU=d+1,UU=0,ZU=0,EU=new b;for(let OU=0;OU<uU;OU++){let NU=OU*w-_;for(let yU=0;yU<a;yU++){let wU=yU*V-h;EU[r]=wU*O,EU[T]=NU*L,EU[N]=f,n.push(EU.x,EU.y,EU.z),EU[r]=0,EU[T]=0,EU[N]=B>0?1:-1,j.push(EU.x,EU.y,EU.z),H.push(yU/G),H.push(1-OU/d),UU+=1}}for(let OU=0;OU<d;OU++)for(let NU=0;NU<G;NU++){let yU=k+NU+a*OU,wU=k+NU+a*(OU+1),QE=k+(NU+1)+a*(OU+1),$E=k+(NU+1)+a*OU;P.push(yU,wU,$E),P.push(wU,QE,$E),ZU+=6}Y.addGroup(Q,ZU,m),Q+=ZU,k+=UU}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new pY(U.width,U.height,U.depth,U.widthSegments,U.heightSegments,U.depthSegments)}}function Px(U){let E={};for(let u in U){E[u]={};for(let p in U[u]){let z=U[u][p];if(z&&(z.isColor||z.isMatrix3||z.isMatrix4||z.isVector2||z.isVector3||z.isVector4||z.isTexture||z.isQuaternion))if(z.isRenderTargetTexture)PE("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),E[u][p]=null;else E[u][p]=z.clone();else if(Array.isArray(z))E[u][p]=z.slice();else E[u][p]=z}}return E}function Uz(U){let E={};for(let u=0;u<U.length;u++){let p=Px(U[u]);for(let z in p)E[z]=p[z]}return E}function te(U){let E=[];for(let u=0;u<U.length;u++)E.push(U[u].clone());return E}function ao(U){let E=U.getRenderTarget();if(E===null)return U.outputColorSpace;if(E.isXRRenderTarget===!0)return E.texture.colorSpace;return Hu.workingColorSpace}var _o={clone:Px,merge:Uz},Je=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,he=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ap extends Rp{constructor(U){super();if(this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Je,this.fragmentShader=he,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,U!==void 0)this.setValues(U)}copy(U){return super.copy(U),this.fragmentShader=U.fragmentShader,this.vertexShader=U.vertexShader,this.uniforms=Px(U.uniforms),this.uniformsGroups=te(U.uniformsGroups),this.defines=Object.assign({},U.defines),this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this.fog=U.fog,this.lights=U.lights,this.clipping=U.clipping,this.extensions=Object.assign({},U.extensions),this.glslVersion=U.glslVersion,this.defaultAttributeValues=Object.assign({},U.defaultAttributeValues),this.index0AttributeName=U.index0AttributeName,this.uniformsNeedUpdate=U.uniformsNeedUpdate,this}toJSON(U){let E=super.toJSON(U);E.glslVersion=this.glslVersion,E.uniforms={};for(let p in this.uniforms){let c=this.uniforms[p].value;if(c&&c.isTexture)E.uniforms[p]={type:"t",value:c.toJSON(U).uuid};else if(c&&c.isColor)E.uniforms[p]={type:"c",value:c.getHex()};else if(c&&c.isVector2)E.uniforms[p]={type:"v2",value:c.toArray()};else if(c&&c.isVector3)E.uniforms[p]={type:"v3",value:c.toArray()};else if(c&&c.isVector4)E.uniforms[p]={type:"v4",value:c.toArray()};else if(c&&c.isMatrix3)E.uniforms[p]={type:"m3",value:c.toArray()};else if(c&&c.isMatrix4)E.uniforms[p]={type:"m4",value:c.toArray()};else E.uniforms[p]={value:c}}if(Object.keys(this.defines).length>0)E.defines=this.defines;E.vertexShader=this.vertexShader,E.fragmentShader=this.fragmentShader,E.lights=this.lights,E.clipping=this.clipping;let u={};for(let p in this.extensions)if(this.extensions[p]===!0)u[p]=!0;if(Object.keys(u).length>0)E.extensions=u;return E}}class gj extends Ou{constructor(){super();this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new RE,this.projectionMatrix=new RE,this.projectionMatrixInverse=new RE,this.coordinateSystem=2000,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(U,E){return super.copy(U,E),this.matrixWorldInverse.copy(U.matrixWorldInverse),this.projectionMatrix.copy(U.projectionMatrix),this.projectionMatrixInverse.copy(U.projectionMatrixInverse),this.coordinateSystem=U.coordinateSystem,this}getWorldDirection(U){return super.getWorldDirection(U).negate()}updateMatrixWorld(U){super.updateMatrixWorld(U),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(U,E){super.updateWorldMatrix(U,E),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}var IZ=new b,uR=new LU,pR=new LU;class ip extends gj{constructor(U=50,E=1,u=0.1,p=2000){super();this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=U,this.zoom=1,this.near=u,this.far=p,this.focus=10,this.aspect=E,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(U,E){return super.copy(U,E),this.fov=U.fov,this.zoom=U.zoom,this.near=U.near,this.far=U.far,this.focus=U.focus,this.aspect=U.aspect,this.view=U.view===null?null:Object.assign({},U.view),this.filmGauge=U.filmGauge,this.filmOffset=U.filmOffset,this}setFocalLength(U){let E=0.5*this.getFilmHeight()/U;this.fov=gP*2*Math.atan(E),this.updateProjectionMatrix()}getFocalLength(){let U=Math.tan(aP*0.5*this.fov);return 0.5*this.getFilmHeight()/U}getEffectiveFOV(){return gP*2*Math.atan(Math.tan(aP*0.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(U,E,u){IZ.set(-1,-1,0.5).applyMatrix4(this.projectionMatrixInverse),E.set(IZ.x,IZ.y).multiplyScalar(-U/IZ.z),IZ.set(1,1,0.5).applyMatrix4(this.projectionMatrixInverse),u.set(IZ.x,IZ.y).multiplyScalar(-U/IZ.z)}getViewSize(U,E){return this.getViewBounds(U,uR,pR),E.subVectors(pR,uR)}setViewOffset(U,E,u,p,z,c){if(this.aspect=U/E,this.view===null)this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1};this.view.enabled=!0,this.view.fullWidth=U,this.view.fullHeight=E,this.view.offsetX=u,this.view.offsetY=p,this.view.width=z,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){if(this.view!==null)this.view.enabled=!1;this.updateProjectionMatrix()}updateProjectionMatrix(){let U=this.near,E=U*Math.tan(aP*0.5*this.fov)/this.zoom,u=2*E,p=this.aspect*u,z=-0.5*p,c=this.view;if(this.view!==null&&this.view.enabled){let{fullWidth:P,fullHeight:n}=c;z+=c.offsetX*p/P,E-=c.offsetY*u/n,p*=c.width/P,u*=c.height/n}let Y=this.filmOffset;if(Y!==0)z+=U*Y/this.getFilmWidth();this.projectionMatrix.makePerspective(z,z+p,E,E-u,U,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(U){let E=super.toJSON(U);if(E.object.fov=this.fov,E.object.zoom=this.zoom,E.object.near=this.near,E.object.far=this.far,E.object.focus=this.focus,E.object.aspect=this.aspect,this.view!==null)E.object.view=Object.assign({},this.view);return E.object.filmGauge=this.filmGauge,E.object.filmOffset=this.filmOffset,E}}var ij=-90,Fj=1;class xO extends Ou{constructor(U,E,u){super();this.type="CubeCamera",this.renderTarget=u,this.coordinateSystem=null,this.activeMipmapLevel=0;let p=new ip(ij,Fj,U,E);p.layers=this.layers,this.add(p);let z=new ip(ij,Fj,U,E);z.layers=this.layers,this.add(z);let c=new ip(ij,Fj,U,E);c.layers=this.layers,this.add(c);let Y=new ip(ij,Fj,U,E);Y.layers=this.layers,this.add(Y);let P=new ip(ij,Fj,U,E);P.layers=this.layers,this.add(P);let n=new ip(ij,Fj,U,E);n.layers=this.layers,this.add(n)}updateCoordinateSystem(){let U=this.coordinateSystem,E=this.children.concat(),[u,p,z,c,Y,P]=E;for(let n of E)this.remove(n);if(U===2000)u.up.set(0,1,0),u.lookAt(1,0,0),p.up.set(0,1,0),p.lookAt(-1,0,0),z.up.set(0,0,-1),z.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),Y.up.set(0,1,0),Y.lookAt(0,0,1),P.up.set(0,1,0),P.lookAt(0,0,-1);else if(U===2001)u.up.set(0,-1,0),u.lookAt(-1,0,0),p.up.set(0,-1,0),p.lookAt(1,0,0),z.up.set(0,0,1),z.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),Y.up.set(0,-1,0),Y.lookAt(0,0,1),P.up.set(0,-1,0),P.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+U);for(let n of E)this.add(n),n.updateMatrixWorld()}update(U,E){if(this.parent===null)this.updateMatrixWorld();let{renderTarget:u,activeMipmapLevel:p}=this;if(this.coordinateSystem!==U.coordinateSystem)this.coordinateSystem=U.coordinateSystem,this.updateCoordinateSystem();let[z,c,Y,P,n,j]=this.children,H=U.getRenderTarget(),k=U.getActiveCubeFace(),Q=U.getActiveMipmapLevel(),y=U.xr.enabled;U.xr.enabled=!1;let r=u.texture.generateMipmaps;u.texture.generateMipmaps=!1,U.setRenderTarget(u,0,p),U.render(E,z),U.setRenderTarget(u,1,p),U.render(E,c),U.setRenderTarget(u,2,p),U.render(E,Y),U.setRenderTarget(u,3,p),U.render(E,P),U.setRenderTarget(u,4,p),U.render(E,n),u.texture.generateMipmaps=r,U.setRenderTarget(u,5,p),U.render(E,j),U.setRenderTarget(H,k,Q),U.xr.enabled=y,u.texture.needsPMREMUpdate=!0}}class xx extends Vu{constructor(U=[],E=301,u,p,z,c,Y,P,n,j){super(U,E,u,p,z,c,Y,P,n,j);this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(U){this.image=U}}class nx extends fp{constructor(U=1,E={}){super(U,U,E);this.isWebGLCubeRenderTarget=!0;let u={width:U,height:U,depth:1},p=[u,u,u,u,u,u];this.texture=new xx(p),this._setTextureOptions(E),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(U,E){this.texture.type=E.type,this.texture.colorSpace=E.colorSpace,this.texture.generateMipmaps=E.generateMipmaps,this.texture.minFilter=E.minFilter,this.texture.magFilter=E.magFilter;let u={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},p=new pY(5,5,5),z=new Ap({name:"CubemapFromEquirect",uniforms:Px(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,side:1,blending:0});z.uniforms.tEquirect.value=E;let c=new tu(p,z),Y=E.minFilter;if(E.minFilter===1008)E.minFilter=1006;return new xO(1,10,this).update(U,c),E.minFilter=Y,c.geometry.dispose(),c.material.dispose(),this}clear(U,E=!0,u=!0,p=!0){let z=U.getRenderTarget();for(let c=0;c<6;c++)U.setRenderTarget(this,c),U.clear(E,u,p);U.setRenderTarget(z)}}class t0 extends Ou{constructor(){super();this.isGroup=!0,this.type="Group"}}var be={type:"move"};class ej{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){if(this._hand===null)this._hand=new t0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1};return this._hand}getTargetRaySpace(){if(this._targetRay===null)this._targetRay=new t0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new b,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new b;return this._targetRay}getGripSpace(){if(this._grip===null)this._grip=new t0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new b,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new b;return this._grip}dispatchEvent(U){if(this._targetRay!==null)this._targetRay.dispatchEvent(U);if(this._grip!==null)this._grip.dispatchEvent(U);if(this._hand!==null)this._hand.dispatchEvent(U);return this}connect(U){if(U&&U.hand){let E=this._hand;if(E)for(let u of U.hand.values())this._getHandJoint(E,u)}return this.dispatchEvent({type:"connected",data:U}),this}disconnect(U){if(this.dispatchEvent({type:"disconnected",data:U}),this._targetRay!==null)this._targetRay.visible=!1;if(this._grip!==null)this._grip.visible=!1;if(this._hand!==null)this._hand.visible=!1;return this}update(U,E,u){let p=null,z=null,c=null,Y=this._targetRay,P=this._grip,n=this._hand;if(U&&E.session.visibilityState!=="visible-blurred"){if(n&&U.hand){c=!0;for(let r of U.hand.values()){let T=E.getJointPose(r,u),N=this._getHandJoint(n,r);if(T!==null)N.matrix.fromArray(T.transform.matrix),N.matrix.decompose(N.position,N.rotation,N.scale),N.matrixWorldNeedsUpdate=!0,N.jointRadius=T.radius;N.visible=T!==null}let j=n.joints["index-finger-tip"],H=n.joints["thumb-tip"],k=j.position.distanceTo(H.position),Q=0.02,y=0.005;if(n.inputState.pinching&&k>Q+y)n.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:U.handedness,target:this});else if(!n.inputState.pinching&&k<=Q-y)n.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:U.handedness,target:this})}else if(P!==null&&U.gripSpace){if(z=E.getPose(U.gripSpace,u),z!==null){if(P.matrix.fromArray(z.transform.matrix),P.matrix.decompose(P.position,P.rotation,P.scale),P.matrixWorldNeedsUpdate=!0,z.linearVelocity)P.hasLinearVelocity=!0,P.linearVelocity.copy(z.linearVelocity);else P.hasLinearVelocity=!1;if(z.angularVelocity)P.hasAngularVelocity=!0,P.angularVelocity.copy(z.angularVelocity);else P.hasAngularVelocity=!1}}if(Y!==null){if(p=E.getPose(U.targetRaySpace,u),p===null&&z!==null)p=z;if(p!==null){if(Y.matrix.fromArray(p.transform.matrix),Y.matrix.decompose(Y.position,Y.rotation,Y.scale),Y.matrixWorldNeedsUpdate=!0,p.linearVelocity)Y.hasLinearVelocity=!0,Y.linearVelocity.copy(p.linearVelocity);else Y.hasLinearVelocity=!1;if(p.angularVelocity)Y.hasAngularVelocity=!0,Y.angularVelocity.copy(p.angularVelocity);else Y.hasAngularVelocity=!1;this.dispatchEvent(be)}}}if(Y!==null)Y.visible=p!==null;if(P!==null)P.visible=z!==null;if(n!==null)n.visible=c!==null;return this}_getHandJoint(U,E){if(U.joints[E.jointName]===void 0){let u=new t0;u.matrixAutoUpdate=!1,u.visible=!1,U.joints[E.jointName]=u,U.add(u)}return U.joints[E.jointName]}}class A9{constructor(U,E=0.00025){this.isFogExp2=!0,this.name="",this.color=new EE(U),this.density=E}clone(){return new A9(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class m9{constructor(U,E=1,u=1000){this.isFog=!0,this.name="",this.color=new EE(U),this.near=E,this.far=u}clone(){return new m9(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gc extends Ou{constructor(){super();if(this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new e5,this.environmentIntensity=1,this.environmentRotation=new e5,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!=="undefined")__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(U,E){if(super.copy(U,E),U.background!==null)this.background=U.background.clone();if(U.environment!==null)this.environment=U.environment.clone();if(U.fog!==null)this.fog=U.fog.clone();if(this.backgroundBlurriness=U.backgroundBlurriness,this.backgroundIntensity=U.backgroundIntensity,this.backgroundRotation.copy(U.backgroundRotation),this.environmentIntensity=U.environmentIntensity,this.environmentRotation.copy(U.environmentRotation),U.overrideMaterial!==null)this.overrideMaterial=U.overrideMaterial.clone();return this.matrixAutoUpdate=U.matrixAutoUpdate,this}toJSON(U){let E=super.toJSON(U);if(this.fog!==null)E.object.fog=this.fog.toJSON();if(this.backgroundBlurriness>0)E.object.backgroundBlurriness=this.backgroundBlurriness;if(this.backgroundIntensity!==1)E.object.backgroundIntensity=this.backgroundIntensity;if(E.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1)E.object.environmentIntensity=this.environmentIntensity;return E.object.environmentRotation=this.environmentRotation.toArray(),E}}class zY{constructor(U,E){this.isInterleavedBuffer=!0,this.array=U,this.stride=E,this.count=U!==void 0?U.length/E:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=P0()}onUploadCallback(){}set needsUpdate(U){if(U===!0)this.version++}setUsage(U){return this.usage=U,this}addUpdateRange(U,E){this.updateRanges.push({start:U,count:E})}clearUpdateRanges(){this.updateRanges.length=0}copy(U){return this.array=new U.array.constructor(U.array),this.count=U.count,this.stride=U.stride,this.usage=U.usage,this}copyAt(U,E,u){U*=this.stride,u*=E.stride;for(let p=0,z=this.stride;p<z;p++)this.array[U+p]=E.array[u+p];return this}set(U,E=0){return this.array.set(U,E),this}clone(U){if(U.arrayBuffers===void 0)U.arrayBuffers={};if(this.array.buffer._uuid===void 0)this.array.buffer._uuid=P0();if(U.arrayBuffers[this.array.buffer._uuid]===void 0)U.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer;let E=new this.array.constructor(U.arrayBuffers[this.array.buffer._uuid]),u=new this.constructor(E,this.stride);return u.setUsage(this.usage),u}onUpload(U){return this.onUploadCallback=U,this}toJSON(U){if(U.arrayBuffers===void 0)U.arrayBuffers={};if(this.array.buffer._uuid===void 0)this.array.buffer._uuid=P0();if(U.arrayBuffers[this.array.buffer._uuid]===void 0)U.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer));return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}var Yz=new b;class Hc{constructor(U,E,u,p=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=U,this.itemSize=E,this.offset=u,this.normalized=p}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(U){this.data.needsUpdate=U}applyMatrix4(U){for(let E=0,u=this.data.count;E<u;E++)Yz.fromBufferAttribute(this,E),Yz.applyMatrix4(U),this.setXYZ(E,Yz.x,Yz.y,Yz.z);return this}applyNormalMatrix(U){for(let E=0,u=this.count;E<u;E++)Yz.fromBufferAttribute(this,E),Yz.applyNormalMatrix(U),this.setXYZ(E,Yz.x,Yz.y,Yz.z);return this}transformDirection(U){for(let E=0,u=this.count;E<u;E++)Yz.fromBufferAttribute(this,E),Yz.transformDirection(U),this.setXYZ(E,Yz.x,Yz.y,Yz.z);return this}getComponent(U,E){let u=this.array[U*this.data.stride+this.offset+E];if(this.normalized)u=Zz(u,this.array);return u}setComponent(U,E,u){if(this.normalized)u=zu(u,this.array);return this.data.array[U*this.data.stride+this.offset+E]=u,this}setX(U,E){if(this.normalized)E=zu(E,this.array);return this.data.array[U*this.data.stride+this.offset]=E,this}setY(U,E){if(this.normalized)E=zu(E,this.array);return this.data.array[U*this.data.stride+this.offset+1]=E,this}setZ(U,E){if(this.normalized)E=zu(E,this.array);return this.data.array[U*this.data.stride+this.offset+2]=E,this}setW(U,E){if(this.normalized)E=zu(E,this.array);return this.data.array[U*this.data.stride+this.offset+3]=E,this}getX(U){let E=this.data.array[U*this.data.stride+this.offset];if(this.normalized)E=Zz(E,this.array);return E}getY(U){let E=this.data.array[U*this.data.stride+this.offset+1];if(this.normalized)E=Zz(E,this.array);return E}getZ(U){let E=this.data.array[U*this.data.stride+this.offset+2];if(this.normalized)E=Zz(E,this.array);return E}getW(U){let E=this.data.array[U*this.data.stride+this.offset+3];if(this.normalized)E=Zz(E,this.array);return E}setXY(U,E,u){if(U=U*this.data.stride+this.offset,this.normalized)E=zu(E,this.array),u=zu(u,this.array);return this.data.array[U+0]=E,this.data.array[U+1]=u,this}setXYZ(U,E,u,p){if(U=U*this.data.stride+this.offset,this.normalized)E=zu(E,this.array),u=zu(u,this.array),p=zu(p,this.array);return this.data.array[U+0]=E,this.data.array[U+1]=u,this.data.array[U+2]=p,this}setXYZW(U,E,u,p,z){if(U=U*this.data.stride+this.offset,this.normalized)E=zu(E,this.array),u=zu(u,this.array),p=zu(p,this.array),z=zu(z,this.array);return this.data.array[U+0]=E,this.data.array[U+1]=u,this.data.array[U+2]=p,this.data.array[U+3]=z,this}clone(U){if(U===void 0){tj("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let E=[];for(let u=0;u<this.count;u++){let p=u*this.data.stride+this.offset;for(let z=0;z<this.itemSize;z++)E.push(this.data.array[p+z])}return new ju(new this.array.constructor(E),this.itemSize,this.normalized)}else{if(U.interleavedBuffers===void 0)U.interleavedBuffers={};if(U.interleavedBuffers[this.data.uuid]===void 0)U.interleavedBuffers[this.data.uuid]=this.data.clone(U);return new Hc(U.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}}toJSON(U){if(U===void 0){tj("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let E=[];for(let u=0;u<this.count;u++){let p=u*this.data.stride+this.offset;for(let z=0;z<this.itemSize;z++)E.push(this.data.array[p+z])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:E,normalized:this.normalized}}else{if(U.interleavedBuffers===void 0)U.interleavedBuffers={};if(U.interleavedBuffers[this.data.uuid]===void 0)U.interleavedBuffers[this.data.uuid]=this.data.toJSON(U);return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}}class V9 extends Rp{constructor(U){super();this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new EE(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.color.copy(U.color),this.map=U.map,this.alphaMap=U.alphaMap,this.rotation=U.rotation,this.sizeAttenuation=U.sizeAttenuation,this.fog=U.fog,this}}var Aj,bk=new b,mj=new b,Vj=new b,Gj=new LU,lk=new LU,eD=new RE,w8=new b,Mk=new b,v8=new b,zR=new LU,BT=new LU,cR=new LU;class nO extends Ou{constructor(U=new V9){super();if(this.isSprite=!0,this.type="Sprite",Aj===void 0){Aj=new WE;let E=new Float32Array([-0.5,-0.5,0,0,0,0.5,-0.5,0,1,0,0.5,0.5,0,1,1,-0.5,0.5,0,0,1]),u=new zY(E,5);Aj.setIndex([0,1,2,0,2,3]),Aj.setAttribute("position",new Hc(u,3,0,!1)),Aj.setAttribute("uv",new Hc(u,2,3,!1))}this.geometry=Aj,this.material=U,this.center=new LU(0.5,0.5),this.count=1}raycast(U,E){if(U.camera===null)SE('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');if(mj.setFromMatrixScale(this.matrixWorld),eD.copy(U.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(U.camera.matrixWorldInverse,this.matrixWorld),Vj.setFromMatrixPosition(this.modelViewMatrix),U.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1)mj.multiplyScalar(-Vj.z);let u=this.material.rotation,p,z;if(u!==0)z=Math.cos(u),p=Math.sin(u);let c=this.center;S8(w8.set(-0.5,-0.5,0),Vj,c,mj,p,z),S8(Mk.set(0.5,-0.5,0),Vj,c,mj,p,z),S8(v8.set(0.5,0.5,0),Vj,c,mj,p,z),zR.set(0,0),BT.set(1,0),cR.set(1,1);let Y=U.ray.intersectTriangle(w8,Mk,v8,!1,bk);if(Y===null){if(S8(Mk.set(-0.5,0.5,0),Vj,c,mj,p,z),BT.set(0,1),Y=U.ray.intersectTriangle(w8,v8,Mk,!1,bk),Y===null)return}let P=U.ray.origin.distanceTo(bk);if(P<U.near||P>U.far)return;E.push({distance:P,point:bk.clone(),uv:g5.getInterpolation(bk,w8,Mk,v8,zR,BT,cR,new LU),face:null,object:this})}copy(U,E){if(super.copy(U,E),U.center!==void 0)this.center.copy(U.center);return this.material=U.material,this}}function S8(U,E,u,p,z,c){if(Gj.subVectors(U,u).addScalar(0.5).multiply(p),z!==void 0)lk.x=c*Gj.x-z*Gj.y,lk.y=z*Gj.x+c*Gj.y;else lk.copy(Gj);U.copy(E),U.x+=lk.x,U.y+=lk.y,U.applyMatrix4(eD)}var R8=new b,YR=new b;class jO extends Ou{constructor(){super();this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(U){super.copy(U,!1);let E=U.levels;for(let u=0,p=E.length;u<p;u++){let z=E[u];this.addLevel(z.object.clone(),z.distance,z.hysteresis)}return this.autoUpdate=U.autoUpdate,this}addLevel(U,E=0,u=0){E=Math.abs(E);let p=this.levels,z;for(z=0;z<p.length;z++)if(E<p[z].distance)break;return p.splice(z,0,{distance:E,hysteresis:u,object:U}),this.add(U),this}removeLevel(U){let E=this.levels;for(let u=0;u<E.length;u++)if(E[u].distance===U){let p=E.splice(u,1);return this.remove(p[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(U){let E=this.levels;if(E.length>0){let u,p;for(u=1,p=E.length;u<p;u++){let z=E[u].distance;if(E[u].object.visible)z-=z*E[u].hysteresis;if(U<z)break}return E[u-1].object}return null}raycast(U,E){if(this.levels.length>0){R8.setFromMatrixPosition(this.matrixWorld);let p=U.ray.origin.distanceTo(R8);this.getObjectForDistance(p).raycast(U,E)}}update(U){let E=this.levels;if(E.length>1){R8.setFromMatrixPosition(U.matrixWorld),YR.setFromMatrixPosition(this.matrixWorld);let u=R8.distanceTo(YR)/U.zoom;E[0].object.visible=!0;let p,z;for(p=1,z=E.length;p<z;p++){let c=E[p].distance;if(E[p].object.visible)c-=c*E[p].hysteresis;if(u>=c)E[p-1].object.visible=!1,E[p].object.visible=!0;else break}this._currentLevel=p-1;for(;p<z;p++)E[p].object.visible=!1}}toJSON(U){let E=super.toJSON(U);if(this.autoUpdate===!1)E.object.autoUpdate=!1;E.object.levels=[];let u=this.levels;for(let p=0,z=u.length;p<z;p++){let c=u[p];E.object.levels.push({object:c.object.uuid,distance:c.distance,hysteresis:c.hysteresis})}return E}}var ZR=new b,PR=new Gu,xR=new Gu,le=new b,nR=new RE,D8=new b,dT=new Mp,jR=new RE,wT=new AZ;class Cj extends tu{constructor(U,E){super(U,E);this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new RE,this.bindMatrixInverse=new RE,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let U=this.geometry;if(this.boundingBox===null)this.boundingBox=new lp;this.boundingBox.makeEmpty();let E=U.getAttribute("position");for(let u=0;u<E.count;u++)this.getVertexPosition(u,D8),this.boundingBox.expandByPoint(D8)}computeBoundingSphere(){let U=this.geometry;if(this.boundingSphere===null)this.boundingSphere=new Mp;this.boundingSphere.makeEmpty();let E=U.getAttribute("position");for(let u=0;u<E.count;u++)this.getVertexPosition(u,D8),this.boundingSphere.expandByPoint(D8)}copy(U,E){if(super.copy(U,E),this.bindMode=U.bindMode,this.bindMatrix.copy(U.bindMatrix),this.bindMatrixInverse.copy(U.bindMatrixInverse),this.skeleton=U.skeleton,U.boundingBox!==null)this.boundingBox=U.boundingBox.clone();if(U.boundingSphere!==null)this.boundingSphere=U.boundingSphere.clone();return this}raycast(U,E){let u=this.material,p=this.matrixWorld;if(u===void 0)return;if(this.boundingSphere===null)this.computeBoundingSphere();if(dT.copy(this.boundingSphere),dT.applyMatrix4(p),U.ray.intersectsSphere(dT)===!1)return;if(jR.copy(p).invert(),wT.copy(U.ray).applyMatrix4(jR),this.boundingBox!==null){if(wT.intersectsBox(this.boundingBox)===!1)return}this._computeIntersections(U,E,wT)}getVertexPosition(U,E){return super.getVertexPosition(U,E),this.applyBoneTransform(U,E),E}bind(U,E){if(this.skeleton=U,E===void 0)this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),E=this.matrixWorld;this.bindMatrix.copy(E),this.bindMatrixInverse.copy(E).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let U=new Gu,E=this.geometry.attributes.skinWeight;for(let u=0,p=E.count;u<p;u++){U.fromBufferAttribute(E,u);let z=1/U.manhattanLength();if(z!==1/0)U.multiplyScalar(z);else U.set(1,0,0,0);E.setXYZW(u,U.x,U.y,U.z,U.w)}}updateMatrixWorld(U){if(super.updateMatrixWorld(U),this.bindMode==="attached")this.bindMatrixInverse.copy(this.matrixWorld).invert();else if(this.bindMode==="detached")this.bindMatrixInverse.copy(this.bindMatrix).invert();else PE("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(U,E){let u=this.skeleton,p=this.geometry;PR.fromBufferAttribute(p.attributes.skinIndex,U),xR.fromBufferAttribute(p.attributes.skinWeight,U),ZR.copy(E).applyMatrix4(this.bindMatrix),E.set(0,0,0);for(let z=0;z<4;z++){let c=xR.getComponent(z);if(c!==0){let Y=PR.getComponent(z);nR.multiplyMatrices(u.bones[Y].matrixWorld,u.boneInverses[Y]),E.addScaledVector(le.copy(ZR).applyMatrix4(nR),c)}}return E.applyMatrix4(this.bindMatrixInverse)}}class jx extends Ou{constructor(){super();this.isBone=!0,this.type="Bone"}}class Pz extends Vu{constructor(U=null,E=1,u=1,p,z,c,Y,P,n=1003,j=1003,H,k){super(null,c,Y,P,n,j,p,z,H,k);this.isDataTexture=!0,this.image={data:U,width:E,height:u},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var qR=new RE,Me=new RE;class qx{constructor(U=[],E=[]){this.uuid=P0(),this.bones=U.slice(0),this.boneInverses=E,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){let U=this.bones,E=this.boneInverses;if(this.boneMatrices=new Float32Array(U.length*16),E.length===0)this.calculateInverses();else if(U.length!==E.length){PE("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let u=0,p=this.bones.length;u<p;u++)this.boneInverses.push(new RE)}}calculateInverses(){this.boneInverses.length=0;for(let U=0,E=this.bones.length;U<E;U++){let u=new RE;if(this.bones[U])u.copy(this.bones[U].matrixWorld).invert();this.boneInverses.push(u)}}pose(){for(let U=0,E=this.bones.length;U<E;U++){let u=this.bones[U];if(u)u.matrixWorld.copy(this.boneInverses[U]).invert()}for(let U=0,E=this.bones.length;U<E;U++){let u=this.bones[U];if(u){if(u.parent&&u.parent.isBone)u.matrix.copy(u.parent.matrixWorld).invert(),u.matrix.multiply(u.matrixWorld);else u.matrix.copy(u.matrixWorld);u.matrix.decompose(u.position,u.quaternion,u.scale)}}}update(){let U=this.bones,E=this.boneInverses,u=this.boneMatrices,p=this.boneTexture;for(let z=0,c=U.length;z<c;z++){let Y=U[z]?U[z].matrixWorld:Me;qR.multiplyMatrices(Y,E[z]),qR.toArray(u,z*16)}if(p!==null)p.needsUpdate=!0}clone(){return new qx(this.bones,this.boneInverses)}computeBoneTexture(){let U=Math.sqrt(this.bones.length*4);U=Math.ceil(U/4)*4,U=Math.max(U,4);let E=new Float32Array(U*U*4);E.set(this.boneMatrices);let u=new Pz(E,U,U,1023,1015);return u.needsUpdate=!0,this.boneMatrices=E,this.boneTexture=u,this}getBoneByName(U){for(let E=0,u=this.bones.length;E<u;E++){let p=this.bones[E];if(p.name===U)return p}return}dispose(){if(this.boneTexture!==null)this.boneTexture.dispose(),this.boneTexture=null}fromJSON(U,E){this.uuid=U.uuid;for(let u=0,p=U.bones.length;u<p;u++){let z=U.bones[u],c=E[z];if(c===void 0)PE("Skeleton: No bone found with UUID:",z),c=new jx;this.bones.push(c),this.boneInverses.push(new RE().fromArray(U.boneInverses[u]))}return this.init(),this}toJSON(){let U={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};U.uuid=this.uuid;let E=this.bones,u=this.boneInverses;for(let p=0,z=E.length;p<z;p++){let c=E[p];U.bones.push(c.uuid);let Y=u[p];U.boneInverses.push(Y.toArray())}return U}}class fc extends ju{constructor(U,E,u,p=1){super(U,E,u);this.isInstancedBufferAttribute=!0,this.meshPerAttribute=p}copy(U){return super.copy(U),this.meshPerAttribute=U.meshPerAttribute,this}toJSON(){let U=super.toJSON();return U.meshPerAttribute=this.meshPerAttribute,U.isInstancedBufferAttribute=!0,U}}var Bj=new RE,HR=new RE,t8=[],kR=new lp,We=new RE,Wk=new tu,fk=new Mp;class Uq extends tu{constructor(U,E,u){super(U,E);this.isInstancedMesh=!0,this.instanceMatrix=new fc(new Float32Array(u*16),16),this.instanceColor=null,this.morphTexture=null,this.count=u,this.boundingBox=null,this.boundingSphere=null;for(let p=0;p<u;p++)this.setMatrixAt(p,We)}computeBoundingBox(){let U=this.geometry,E=this.count;if(this.boundingBox===null)this.boundingBox=new lp;if(U.boundingBox===null)U.computeBoundingBox();this.boundingBox.makeEmpty();for(let u=0;u<E;u++)this.getMatrixAt(u,Bj),kR.copy(U.boundingBox).applyMatrix4(Bj),this.boundingBox.union(kR)}computeBoundingSphere(){let U=this.geometry,E=this.count;if(this.boundingSphere===null)this.boundingSphere=new Mp;if(U.boundingSphere===null)U.computeBoundingSphere();this.boundingSphere.makeEmpty();for(let u=0;u<E;u++)this.getMatrixAt(u,Bj),fk.copy(U.boundingSphere).applyMatrix4(Bj),this.boundingSphere.union(fk)}copy(U,E){if(super.copy(U,E),this.instanceMatrix.copy(U.instanceMatrix),U.morphTexture!==null)this.morphTexture=U.morphTexture.clone();if(U.instanceColor!==null)this.instanceColor=U.instanceColor.clone();if(this.count=U.count,U.boundingBox!==null)this.boundingBox=U.boundingBox.clone();if(U.boundingSphere!==null)this.boundingSphere=U.boundingSphere.clone();return this}getColorAt(U,E){E.fromArray(this.instanceColor.array,U*3)}getMatrixAt(U,E){E.fromArray(this.instanceMatrix.array,U*16)}getMorphAt(U,E){let u=E.morphTargetInfluences,p=this.morphTexture.source.data.data,z=u.length+1,c=U*z+1;for(let Y=0;Y<u.length;Y++)u[Y]=p[c+Y]}raycast(U,E){let u=this.matrixWorld,p=this.count;if(Wk.geometry=this.geometry,Wk.material=this.material,Wk.material===void 0)return;if(this.boundingSphere===null)this.computeBoundingSphere();if(fk.copy(this.boundingSphere),fk.applyMatrix4(u),U.ray.intersectsSphere(fk)===!1)return;for(let z=0;z<p;z++){this.getMatrixAt(z,Bj),HR.multiplyMatrices(u,Bj),Wk.matrixWorld=HR,Wk.raycast(U,t8);for(let c=0,Y=t8.length;c<Y;c++){let P=t8[c];P.instanceId=z,P.object=this,E.push(P)}t8.length=0}}setColorAt(U,E){if(this.instanceColor===null)this.instanceColor=new fc(new Float32Array(this.instanceMatrix.count*3).fill(1),3);E.toArray(this.instanceColor.array,U*3)}setMatrixAt(U,E){E.toArray(this.instanceMatrix.array,U*16)}setMorphAt(U,E){let u=E.morphTargetInfluences,p=u.length+1;if(this.morphTexture===null)this.morphTexture=new Pz(new Float32Array(p*this.count),p,this.count,1028,1015);let z=this.morphTexture.source.data.data,c=0;for(let n=0;n<u.length;n++)c+=u[n];let Y=this.geometry.morphTargetsRelative?1:1-c,P=p*U;z[P]=Y,z.set(u,P+1)}updateMorphTargets(){}dispose(){if(this.dispatchEvent({type:"dispose"}),this.morphTexture!==null)this.morphTexture.dispose(),this.morphTexture=null}}var vT=new b,fe=new b,se=new CE;class Mc{constructor(U=new b(1,0,0),E=0){this.isPlane=!0,this.normal=U,this.constant=E}set(U,E){return this.normal.copy(U),this.constant=E,this}setComponents(U,E,u,p){return this.normal.set(U,E,u),this.constant=p,this}setFromNormalAndCoplanarPoint(U,E){return this.normal.copy(U),this.constant=-E.dot(this.normal),this}setFromCoplanarPoints(U,E,u){let p=vT.subVectors(u,E).cross(fe.subVectors(U,E)).normalize();return this.setFromNormalAndCoplanarPoint(p,U),this}copy(U){return this.normal.copy(U.normal),this.constant=U.constant,this}normalize(){let U=1/this.normal.length();return this.normal.multiplyScalar(U),this.constant*=U,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(U){return this.normal.dot(U)+this.constant}distanceToSphere(U){return this.distanceToPoint(U.center)-U.radius}projectPoint(U,E){return E.copy(U).addScaledVector(this.normal,-this.distanceToPoint(U))}intersectLine(U,E){let u=U.delta(vT),p=this.normal.dot(u);if(p===0){if(this.distanceToPoint(U.start)===0)return E.copy(U.start);return null}let z=-(U.start.dot(this.normal)+this.constant)/p;if(z<0||z>1)return null;return E.copy(U.start).addScaledVector(u,z)}intersectsLine(U){let E=this.distanceToPoint(U.start),u=this.distanceToPoint(U.end);return E<0&&u>0||u<0&&E>0}intersectsBox(U){return U.intersectsPlane(this)}intersectsSphere(U){return U.intersectsPlane(this)}coplanarPoint(U){return U.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(U,E){let u=E||se.getNormalMatrix(U),p=this.coplanarPoint(vT).applyMatrix4(U),z=this.normal.applyMatrix3(u).normalize();return this.constant=-p.dot(z),this}translate(U){return this.constant-=U.dot(this.normal),this}equals(U){return U.normal.equals(this.normal)&&U.constant===this.constant}clone(){return new this.constructor().copy(this)}}var tP=new Mp,Ke=new LU(0.5,0.5),J8=new b;class mZ{constructor(U=new Mc,E=new Mc,u=new Mc,p=new Mc,z=new Mc,c=new Mc){this.planes=[U,E,u,p,z,c]}set(U,E,u,p,z,c){let Y=this.planes;return Y[0].copy(U),Y[1].copy(E),Y[2].copy(u),Y[3].copy(p),Y[4].copy(z),Y[5].copy(c),this}copy(U){let E=this.planes;for(let u=0;u<6;u++)E[u].copy(U.planes[u]);return this}setFromProjectionMatrix(U,E=2000,u=!1){let p=this.planes,z=U.elements,c=z[0],Y=z[1],P=z[2],n=z[3],j=z[4],H=z[5],k=z[6],Q=z[7],y=z[8],r=z[9],T=z[10],N=z[11],O=z[12],L=z[13],X=z[14],i=z[15];if(p[0].setComponents(n-c,Q-j,N-y,i-O).normalize(),p[1].setComponents(n+c,Q+j,N+y,i+O).normalize(),p[2].setComponents(n+Y,Q+H,N+r,i+L).normalize(),p[3].setComponents(n-Y,Q-H,N-r,i-L).normalize(),u)p[4].setComponents(P,k,T,X).normalize(),p[5].setComponents(n-P,Q-k,N-T,i-X).normalize();else if(p[4].setComponents(n-P,Q-k,N-T,i-X).normalize(),E===2000)p[5].setComponents(n+P,Q+k,N+T,i+X).normalize();else if(E===2001)p[5].setComponents(P,k,T,X).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+E);return this}intersectsObject(U){if(U.boundingSphere!==void 0){if(U.boundingSphere===null)U.computeBoundingSphere();tP.copy(U.boundingSphere).applyMatrix4(U.matrixWorld)}else{let E=U.geometry;if(E.boundingSphere===null)E.computeBoundingSphere();tP.copy(E.boundingSphere).applyMatrix4(U.matrixWorld)}return this.intersectsSphere(tP)}intersectsSprite(U){tP.center.set(0,0,0);let E=Ke.distanceTo(U.center);return tP.radius=0.7071067811865476+E,tP.applyMatrix4(U.matrixWorld),this.intersectsSphere(tP)}intersectsSphere(U){let E=this.planes,u=U.center,p=-U.radius;for(let z=0;z<6;z++)if(E[z].distanceToPoint(u)<p)return!1;return!0}intersectsBox(U){let E=this.planes;for(let u=0;u<6;u++){let p=E[u];if(J8.x=p.normal.x>0?U.max.x:U.min.x,J8.y=p.normal.y>0?U.max.y:U.min.y,J8.z=p.normal.z>0?U.max.z:U.min.z,p.distanceToPoint(J8)<0)return!1}return!0}containsPoint(U){let E=this.planes;for(let u=0;u<6;u++)if(E[u].distanceToPoint(U)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}var bc=new RE,lc=new mZ;class G9{constructor(){this.coordinateSystem=2000}intersectsObject(U,E){if(!E.isArrayCamera||E.cameras.length===0)return!1;for(let u=0;u<E.cameras.length;u++){let p=E.cameras[u];if(bc.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),lc.setFromProjectionMatrix(bc,p.coordinateSystem,p.reversedDepth),lc.intersectsObject(U))return!0}return!1}intersectsSprite(U,E){if(!E||!E.cameras||E.cameras.length===0)return!1;for(let u=0;u<E.cameras.length;u++){let p=E.cameras[u];if(bc.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),lc.setFromProjectionMatrix(bc,p.coordinateSystem,p.reversedDepth),lc.intersectsSprite(U))return!0}return!1}intersectsSphere(U,E){if(!E||!E.cameras||E.cameras.length===0)return!1;for(let u=0;u<E.cameras.length;u++){let p=E.cameras[u];if(bc.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),lc.setFromProjectionMatrix(bc,p.coordinateSystem,p.reversedDepth),lc.intersectsSphere(U))return!0}return!1}intersectsBox(U,E){if(!E||!E.cameras||E.cameras.length===0)return!1;for(let u=0;u<E.cameras.length;u++){let p=E.cameras[u];if(bc.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),lc.setFromProjectionMatrix(bc,p.coordinateSystem,p.reversedDepth),lc.intersectsBox(U))return!0}return!1}containsPoint(U,E){if(!E||!E.cameras||E.cameras.length===0)return!1;for(let u=0;u<E.cameras.length;u++){let p=E.cameras[u];if(bc.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),lc.setFromProjectionMatrix(bc,p.coordinateSystem,p.reversedDepth),lc.containsPoint(U))return!0}return!1}clone(){return new G9}}function ST(U,E){return U-E}function ae(U,E){return U.z-E.z}function _e(U,E){return E.z-U.z}class CD{constructor(){this.index=0,this.pool=[],this.list=[]}push(U,E,u,p){let z=this.pool,c=this.list;if(this.index>=z.length)z.push({start:-1,count:-1,z:-1,index:-1});let Y=z[this.index];c.push(Y),this.index++,Y.start=U,Y.count=E,Y.z=u,Y.index=p}reset(){this.list.length=0,this.index=0}}var Vz=new RE,ge=new EE(1,1,1),QR=new mZ,ee=new G9,h8=new lp,JP=new Mp,sk=new b,$R=new b,Ce=new b,RT=new CD,_5=new tu,b8=[];function UC(U,E,u=0){let p=E.itemSize;if(U.isInterleavedBufferAttribute||U.array.constructor!==E.array.constructor){let z=U.count;for(let c=0;c<z;c++)for(let Y=0;Y<p;Y++)E.setComponent(c+u,Y,U.getComponent(c,Y))}else E.array.set(U.array,u*p);E.needsUpdate=!0}function hP(U,E){if(U.constructor!==E.constructor){let u=Math.min(U.length,E.length);for(let p=0;p<u;p++)E[p]=U[p]}else{let u=Math.min(U.length,E.length);E.set(new U.constructor(U.buffer,0,u))}}class qO extends tu{constructor(U,E,u=E*2,p){super(new WE,p);this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=U,this._maxVertexCount=E,this._maxIndexCount=u,this._multiDrawCounts=new Int32Array(U),this._multiDrawStarts=new Int32Array(U),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let U=Math.sqrt(this._maxInstanceCount*4);U=Math.ceil(U/4)*4,U=Math.max(U,4);let E=new Float32Array(U*U*4),u=new Pz(E,U,U,1023,1015);this._matricesTexture=u}_initIndirectTexture(){let U=Math.sqrt(this._maxInstanceCount);U=Math.ceil(U);let E=new Uint32Array(U*U),u=new Pz(E,U,U,1029,1014);this._indirectTexture=u}_initColorsTexture(){let U=Math.sqrt(this._maxInstanceCount);U=Math.ceil(U);let E=new Float32Array(U*U*4).fill(1),u=new Pz(E,U,U,1023,1015);u.colorSpace=Hu.workingColorSpace,this._colorsTexture=u}_initializeGeometry(U){let E=this.geometry,u=this._maxVertexCount,p=this._maxIndexCount;if(this._geometryInitialized===!1){for(let z in U.attributes){let c=U.getAttribute(z),{array:Y,itemSize:P,normalized:n}=c,j=new Y.constructor(u*P),H=new ju(j,P,n);E.setAttribute(z,H)}if(U.getIndex()!==null){let z=u>65535?new Uint32Array(p):new Uint16Array(p);E.setIndex(new ju(z,1))}this._geometryInitialized=!0}}_validateGeometry(U){let E=this.geometry;if(Boolean(U.getIndex())!==Boolean(E.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(let u in E.attributes){if(!U.hasAttribute(u))throw new Error(`THREE.BatchedMesh: Added geometry missing "${u}". All geometries must have consistent attributes.`);let p=U.getAttribute(u),z=E.getAttribute(u);if(p.itemSize!==z.itemSize||p.normalized!==z.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(U){let E=this._instanceInfo;if(U<0||U>=E.length||E[U].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${U}. Instance is either out of range or has been deleted.`)}validateGeometryId(U){let E=this._geometryInfo;if(U<0||U>=E.length||E[U].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${U}. Geometry is either out of range or has been deleted.`)}setCustomSort(U){return this.customSort=U,this}computeBoundingBox(){if(this.boundingBox===null)this.boundingBox=new lp;let U=this.boundingBox,E=this._instanceInfo;U.makeEmpty();for(let u=0,p=E.length;u<p;u++){if(E[u].active===!1)continue;let z=E[u].geometryIndex;this.getMatrixAt(u,Vz),this.getBoundingBoxAt(z,h8).applyMatrix4(Vz),U.union(h8)}}computeBoundingSphere(){if(this.boundingSphere===null)this.boundingSphere=new Mp;let U=this.boundingSphere,E=this._instanceInfo;U.makeEmpty();for(let u=0,p=E.length;u<p;u++){if(E[u].active===!1)continue;let z=E[u].geometryIndex;this.getMatrixAt(u,Vz),this.getBoundingSphereAt(z,JP).applyMatrix4(Vz),U.union(JP)}}addInstance(U){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");let u={visible:!0,active:!0,geometryIndex:U},p=null;if(this._availableInstanceIds.length>0)this._availableInstanceIds.sort(ST),p=this._availableInstanceIds.shift(),this._instanceInfo[p]=u;else p=this._instanceInfo.length,this._instanceInfo.push(u);let z=this._matricesTexture;Vz.identity().toArray(z.image.data,p*16),z.needsUpdate=!0;let c=this._colorsTexture;if(c)ge.toArray(c.image.data,p*4),c.needsUpdate=!0;return this._visibilityChanged=!0,p}addGeometry(U,E=-1,u=-1){this._initializeGeometry(U),this._validateGeometry(U);let p={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},z=this._geometryInfo;p.vertexStart=this._nextVertexStart,p.reservedVertexCount=E===-1?U.getAttribute("position").count:E;let c=U.getIndex();if(c!==null)p.indexStart=this._nextIndexStart,p.reservedIndexCount=u===-1?c.count:u;if(p.indexStart!==-1&&p.indexStart+p.reservedIndexCount>this._maxIndexCount||p.vertexStart+p.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let P;if(this._availableGeometryIds.length>0)this._availableGeometryIds.sort(ST),P=this._availableGeometryIds.shift(),z[P]=p;else P=this._geometryCount,this._geometryCount++,z.push(p);return this.setGeometryAt(P,U),this._nextIndexStart=p.indexStart+p.reservedIndexCount,this._nextVertexStart=p.vertexStart+p.reservedVertexCount,P}setGeometryAt(U,E){if(U>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(E);let u=this.geometry,p=u.getIndex()!==null,z=u.getIndex(),c=E.getIndex(),Y=this._geometryInfo[U];if(p&&c.count>Y.reservedIndexCount||E.attributes.position.count>Y.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");let{vertexStart:P,reservedVertexCount:n}=Y;Y.vertexCount=E.getAttribute("position").count;for(let j in u.attributes){let H=E.getAttribute(j),k=u.getAttribute(j);UC(H,k,P);let Q=H.itemSize;for(let y=H.count,r=n;y<r;y++){let T=P+y;for(let N=0;N<Q;N++)k.setComponent(T,N,0)}k.needsUpdate=!0,k.addUpdateRange(P*Q,n*Q)}if(p){let{indexStart:j,reservedIndexCount:H}=Y;Y.indexCount=E.getIndex().count;for(let k=0;k<c.count;k++)z.setX(j+k,P+c.getX(k));for(let k=c.count,Q=H;k<Q;k++)z.setX(j+k,P);z.needsUpdate=!0,z.addUpdateRange(j,Y.reservedIndexCount)}if(Y.start=p?Y.indexStart:Y.vertexStart,Y.count=p?Y.indexCount:Y.vertexCount,Y.boundingBox=null,E.boundingBox!==null)Y.boundingBox=E.boundingBox.clone();if(Y.boundingSphere=null,E.boundingSphere!==null)Y.boundingSphere=E.boundingSphere.clone();return this._visibilityChanged=!0,U}deleteGeometry(U){let E=this._geometryInfo;if(U>=E.length||E[U].active===!1)return this;let u=this._instanceInfo;for(let p=0,z=u.length;p<z;p++)if(u[p].active&&u[p].geometryIndex===U)this.deleteInstance(p);return E[U].active=!1,this._availableGeometryIds.push(U),this._visibilityChanged=!0,this}deleteInstance(U){return this.validateInstanceId(U),this._instanceInfo[U].active=!1,this._availableInstanceIds.push(U),this._visibilityChanged=!0,this}optimize(){let U=0,E=0,u=this._geometryInfo,p=u.map((c,Y)=>Y).sort((c,Y)=>{return u[c].vertexStart-u[Y].vertexStart}),z=this.geometry;for(let c=0,Y=u.length;c<Y;c++){let P=p[c],n=u[P];if(n.active===!1)continue;if(z.index!==null){if(n.indexStart!==E){let{indexStart:j,vertexStart:H,reservedIndexCount:k}=n,Q=z.index,y=Q.array,r=U-H;for(let T=j;T<j+k;T++)y[T]=y[T]+r;Q.array.copyWithin(E,j,j+k),Q.addUpdateRange(E,k),Q.needsUpdate=!0,n.indexStart=E}E+=n.reservedIndexCount}if(n.vertexStart!==U){let{vertexStart:j,reservedVertexCount:H}=n,k=z.attributes;for(let Q in k){let y=k[Q],{array:r,itemSize:T}=y;r.copyWithin(U*T,j*T,(j+H)*T),y.addUpdateRange(U*T,H*T),y.needsUpdate=!0}n.vertexStart=U}U+=n.reservedVertexCount,n.start=z.index?n.indexStart:n.vertexStart,this._nextIndexStart=z.index?n.indexStart+n.reservedIndexCount:0,this._nextVertexStart=n.vertexStart+n.reservedVertexCount}return this._visibilityChanged=!0,this}getBoundingBoxAt(U,E){if(U>=this._geometryCount)return null;let u=this.geometry,p=this._geometryInfo[U];if(p.boundingBox===null){let z=new lp,c=u.index,Y=u.attributes.position;for(let P=p.start,n=p.start+p.count;P<n;P++){let j=P;if(c)j=c.getX(j);z.expandByPoint(sk.fromBufferAttribute(Y,j))}p.boundingBox=z}return E.copy(p.boundingBox),E}getBoundingSphereAt(U,E){if(U>=this._geometryCount)return null;let u=this.geometry,p=this._geometryInfo[U];if(p.boundingSphere===null){let z=new Mp;this.getBoundingBoxAt(U,h8),h8.getCenter(z.center);let c=u.index,Y=u.attributes.position,P=0;for(let n=p.start,j=p.start+p.count;n<j;n++){let H=n;if(c)H=c.getX(H);sk.fromBufferAttribute(Y,H),P=Math.max(P,z.center.distanceToSquared(sk))}z.radius=Math.sqrt(P),p.boundingSphere=z}return E.copy(p.boundingSphere),E}setMatrixAt(U,E){this.validateInstanceId(U);let u=this._matricesTexture,p=this._matricesTexture.image.data;return E.toArray(p,U*16),u.needsUpdate=!0,this}getMatrixAt(U,E){return this.validateInstanceId(U),E.fromArray(this._matricesTexture.image.data,U*16)}setColorAt(U,E){if(this.validateInstanceId(U),this._colorsTexture===null)this._initColorsTexture();return E.toArray(this._colorsTexture.image.data,U*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(U,E){return this.validateInstanceId(U),E.fromArray(this._colorsTexture.image.data,U*4)}setVisibleAt(U,E){if(this.validateInstanceId(U),this._instanceInfo[U].visible===E)return this;return this._instanceInfo[U].visible=E,this._visibilityChanged=!0,this}getVisibleAt(U){return this.validateInstanceId(U),this._instanceInfo[U].visible}setGeometryIdAt(U,E){return this.validateInstanceId(U),this.validateGeometryId(E),this._instanceInfo[U].geometryIndex=E,this}getGeometryIdAt(U){return this.validateInstanceId(U),this._instanceInfo[U].geometryIndex}getGeometryRangeAt(U,E={}){this.validateGeometryId(U);let u=this._geometryInfo[U];return E.vertexStart=u.vertexStart,E.vertexCount=u.vertexCount,E.reservedVertexCount=u.reservedVertexCount,E.indexStart=u.indexStart,E.indexCount=u.indexCount,E.reservedIndexCount=u.reservedIndexCount,E.start=u.start,E.count=u.count,E}setInstanceCount(U){let E=this._availableInstanceIds,u=this._instanceInfo;E.sort(ST);while(E[E.length-1]===u.length-1)u.pop(),E.pop();if(U<u.length)throw new Error(`BatchedMesh: Instance ids outside the range ${U} are being used. Cannot shrink instance count.`);let p=new Int32Array(U),z=new Int32Array(U);hP(this._multiDrawCounts,p),hP(this._multiDrawStarts,z),this._multiDrawCounts=p,this._multiDrawStarts=z,this._maxInstanceCount=U;let c=this._indirectTexture,Y=this._matricesTexture,P=this._colorsTexture;if(c.dispose(),this._initIndirectTexture(),hP(c.image.data,this._indirectTexture.image.data),Y.dispose(),this._initMatricesTexture(),hP(Y.image.data,this._matricesTexture.image.data),P)P.dispose(),this._initColorsTexture(),hP(P.image.data,this._colorsTexture.image.data)}setGeometrySize(U,E){let u=[...this._geometryInfo].filter((Y)=>Y.active);if(Math.max(...u.map((Y)=>Y.vertexStart+Y.reservedVertexCount))>U)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${E}. Cannot shrink further.`);if(this.geometry.index){if(Math.max(...u.map((P)=>P.indexStart+P.reservedIndexCount))>E)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${E}. Cannot shrink further.`)}let z=this.geometry;if(z.dispose(),this._maxVertexCount=U,this._maxIndexCount=E,this._geometryInitialized)this._geometryInitialized=!1,this.geometry=new WE,this._initializeGeometry(z);let c=this.geometry;if(z.index)hP(z.index.array,c.index.array);for(let Y in z.attributes)hP(z.attributes[Y].array,c.attributes[Y].array)}raycast(U,E){let u=this._instanceInfo,p=this._geometryInfo,z=this.matrixWorld,c=this.geometry;if(_5.material=this.material,_5.geometry.index=c.index,_5.geometry.attributes=c.attributes,_5.geometry.boundingBox===null)_5.geometry.boundingBox=new lp;if(_5.geometry.boundingSphere===null)_5.geometry.boundingSphere=new Mp;for(let Y=0,P=u.length;Y<P;Y++){if(!u[Y].visible||!u[Y].active)continue;let n=u[Y].geometryIndex,j=p[n];_5.geometry.setDrawRange(j.start,j.count),this.getMatrixAt(Y,_5.matrixWorld).premultiply(z),this.getBoundingBoxAt(n,_5.geometry.boundingBox),this.getBoundingSphereAt(n,_5.geometry.boundingSphere),_5.raycast(U,b8);for(let H=0,k=b8.length;H<k;H++){let Q=b8[H];Q.object=this,Q.batchId=Y,E.push(Q)}b8.length=0}_5.material=null,_5.geometry.index=null,_5.geometry.attributes={},_5.geometry.setDrawRange(0,1/0)}copy(U){if(super.copy(U),this.geometry=U.geometry.clone(),this.perObjectFrustumCulled=U.perObjectFrustumCulled,this.sortObjects=U.sortObjects,this.boundingBox=U.boundingBox!==null?U.boundingBox.clone():null,this.boundingSphere=U.boundingSphere!==null?U.boundingSphere.clone():null,this._geometryInfo=U._geometryInfo.map((E)=>({...E,boundingBox:E.boundingBox!==null?E.boundingBox.clone():null,boundingSphere:E.boundingSphere!==null?E.boundingSphere.clone():null})),this._instanceInfo=U._instanceInfo.map((E)=>({...E})),this._availableInstanceIds=U._availableInstanceIds.slice(),this._availableGeometryIds=U._availableGeometryIds.slice(),this._nextIndexStart=U._nextIndexStart,this._nextVertexStart=U._nextVertexStart,this._geometryCount=U._geometryCount,this._maxInstanceCount=U._maxInstanceCount,this._maxVertexCount=U._maxVertexCount,this._maxIndexCount=U._maxIndexCount,this._geometryInitialized=U._geometryInitialized,this._multiDrawCounts=U._multiDrawCounts.slice(),this._multiDrawStarts=U._multiDrawStarts.slice(),this._indirectTexture=U._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=U._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null)this._colorsTexture=U._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice();return this}dispose(){if(this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null)this._colorsTexture.dispose(),this._colorsTexture=null}onBeforeRender(U,E,u,p,z){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;let c=p.getIndex(),Y=c===null?1:c.array.BYTES_PER_ELEMENT,P=this._instanceInfo,n=this._multiDrawStarts,j=this._multiDrawCounts,H=this._geometryInfo,k=this.perObjectFrustumCulled,Q=this._indirectTexture,y=Q.image.data,r=u.isArrayCamera?ee:QR;if(k&&!u.isArrayCamera)Vz.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse).multiply(this.matrixWorld),QR.setFromProjectionMatrix(Vz,u.coordinateSystem,u.reversedDepth);let T=0;if(this.sortObjects){Vz.copy(this.matrixWorld).invert(),sk.setFromMatrixPosition(u.matrixWorld).applyMatrix4(Vz),$R.set(0,0,-1).transformDirection(u.matrixWorld).transformDirection(Vz);for(let L=0,X=P.length;L<X;L++)if(P[L].visible&&P[L].active){let i=P[L].geometryIndex;this.getMatrixAt(L,Vz),this.getBoundingSphereAt(i,JP).applyMatrix4(Vz);let B=!1;if(k)B=!r.intersectsSphere(JP,u);if(!B){let G=H[i],d=Ce.subVectors(JP.center,sk).dot($R);RT.push(G.start,G.count,d,L)}}let N=RT.list,O=this.customSort;if(O===null)N.sort(z.transparent?_e:ae);else O.call(this,N,u);for(let L=0,X=N.length;L<X;L++){let i=N[L];n[T]=i.start*Y,j[T]=i.count,y[T]=i.index,T++}RT.reset()}else for(let N=0,O=P.length;N<O;N++)if(P[N].visible&&P[N].active){let L=P[N].geometryIndex,X=!1;if(k)this.getMatrixAt(N,Vz),this.getBoundingSphereAt(L,JP).applyMatrix4(Vz),X=!r.intersectsSphere(JP,u);if(!X){let i=H[L];n[T]=i.start*Y,j[T]=i.count,y[T]=N,T++}}Q.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(U,E,u,p,z,c){this.onBeforeRender(U,null,p,z,c)}}class q5 extends Rp{constructor(U){super();this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new EE(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.color.copy(U.color),this.map=U.map,this.linewidth=U.linewidth,this.linecap=U.linecap,this.linejoin=U.linejoin,this.fog=U.fog,this}}var YI=new b,ZI=new b,yR=new RE,Kk=new AZ,l8=new Mp,DT=new b,IR=new b;class h0 extends Ou{constructor(U=new WE,E=new q5){super();this.isLine=!0,this.type="Line",this.geometry=U,this.material=E,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(U,E){return super.copy(U,E),this.material=Array.isArray(U.material)?U.material.slice():U.material,this.geometry=U.geometry,this}computeLineDistances(){let U=this.geometry;if(U.index===null){let E=U.attributes.position,u=[0];for(let p=1,z=E.count;p<z;p++)YI.fromBufferAttribute(E,p-1),ZI.fromBufferAttribute(E,p),u[p]=u[p-1],u[p]+=YI.distanceTo(ZI);U.setAttribute("lineDistance",new NE(u,1))}else PE("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(U,E){let u=this.geometry,p=this.matrixWorld,z=U.params.Line.threshold,c=u.drawRange;if(u.boundingSphere===null)u.computeBoundingSphere();if(l8.copy(u.boundingSphere),l8.applyMatrix4(p),l8.radius+=z,U.ray.intersectsSphere(l8)===!1)return;yR.copy(p).invert(),Kk.copy(U.ray).applyMatrix4(yR);let Y=z/((this.scale.x+this.scale.y+this.scale.z)/3),P=Y*Y,n=this.isLineSegments?2:1,j=u.index,k=u.attributes.position;if(j!==null){let Q=Math.max(0,c.start),y=Math.min(j.count,c.start+c.count);for(let r=Q,T=y-1;r<T;r+=n){let N=j.getX(r),O=j.getX(r+1),L=M8(this,U,Kk,P,N,O,r);if(L)E.push(L)}if(this.isLineLoop){let r=j.getX(y-1),T=j.getX(Q),N=M8(this,U,Kk,P,r,T,y-1);if(N)E.push(N)}}else{let Q=Math.max(0,c.start),y=Math.min(k.count,c.start+c.count);for(let r=Q,T=y-1;r<T;r+=n){let N=M8(this,U,Kk,P,r,r+1,r);if(N)E.push(N)}if(this.isLineLoop){let r=M8(this,U,Kk,P,y-1,Q,y-1);if(r)E.push(r)}}}updateMorphTargets(){let E=this.geometry.morphAttributes,u=Object.keys(E);if(u.length>0){let p=E[u[0]];if(p!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let z=0,c=p.length;z<c;z++){let Y=p[z].name||String(z);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=z}}}}}function M8(U,E,u,p,z,c,Y){let P=U.geometry.attributes.position;if(YI.fromBufferAttribute(P,z),ZI.fromBufferAttribute(P,c),u.distanceSqToSegment(YI,ZI,DT,IR)>p)return;DT.applyMatrix4(U.matrixWorld);let j=E.ray.origin.distanceTo(DT);if(j<E.near||j>E.far)return;return{distance:j,point:IR.clone().applyMatrix4(U.matrixWorld),index:Y,face:null,faceIndex:null,barycoord:null,object:U}}var OR=new b,NR=new b;class wz extends h0{constructor(U,E){super(U,E);this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let U=this.geometry;if(U.index===null){let E=U.attributes.position,u=[];for(let p=0,z=E.count;p<z;p+=2)OR.fromBufferAttribute(E,p),NR.fromBufferAttribute(E,p+1),u[p]=p===0?0:u[p-1],u[p+1]=u[p]+OR.distanceTo(NR);U.setAttribute("lineDistance",new NE(u,1))}else PE("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Eq extends h0{constructor(U,E){super(U,E);this.isLineLoop=!0,this.type="LineLoop"}}class Hx extends Rp{constructor(U){super();this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new EE(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.color.copy(U.color),this.map=U.map,this.alphaMap=U.alphaMap,this.size=U.size,this.sizeAttenuation=U.sizeAttenuation,this.fog=U.fog,this}}var rR=new RE,aT=new AZ,W8=new Mp,f8=new b;class uq extends Ou{constructor(U=new WE,E=new Hx){super();this.isPoints=!0,this.type="Points",this.geometry=U,this.material=E,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(U,E){return super.copy(U,E),this.material=Array.isArray(U.material)?U.material.slice():U.material,this.geometry=U.geometry,this}raycast(U,E){let u=this.geometry,p=this.matrixWorld,z=U.params.Points.threshold,c=u.drawRange;if(u.boundingSphere===null)u.computeBoundingSphere();if(W8.copy(u.boundingSphere),W8.applyMatrix4(p),W8.radius+=z,U.ray.intersectsSphere(W8)===!1)return;rR.copy(p).invert(),aT.copy(U.ray).applyMatrix4(rR);let Y=z/((this.scale.x+this.scale.y+this.scale.z)/3),P=Y*Y,n=u.index,H=u.attributes.position;if(n!==null){let k=Math.max(0,c.start),Q=Math.min(n.count,c.start+c.count);for(let y=k,r=Q;y<r;y++){let T=n.getX(y);f8.fromBufferAttribute(H,T),LR(f8,T,P,p,U,E,this)}}else{let k=Math.max(0,c.start),Q=Math.min(H.count,c.start+c.count);for(let y=k,r=Q;y<r;y++)f8.fromBufferAttribute(H,y),LR(f8,y,P,p,U,E,this)}}updateMorphTargets(){let E=this.geometry.morphAttributes,u=Object.keys(E);if(u.length>0){let p=E[u[0]];if(p!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let z=0,c=p.length;z<c;z++){let Y=p[z].name||String(z);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=z}}}}}function LR(U,E,u,p,z,c,Y){let P=aT.distanceSqToPoint(U);if(P<u){let n=new b;aT.closestPointToPoint(U,n),n.applyMatrix4(p);let j=z.ray.origin.distanceTo(n);if(j<z.near||j>z.far)return;c.push({distance:j,distanceToRay:Math.sqrt(P),point:n,index:E,face:null,faceIndex:null,barycoord:null,object:Y})}}class HO extends Vu{constructor(U,E,u,p,z=1006,c=1006,Y,P,n){super(U,E,u,p,z,c,Y,P,n);this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;let j=this;function H(){j.needsUpdate=!0,j._requestVideoFrameCallbackId=U.requestVideoFrameCallback(H)}if("requestVideoFrameCallback"in U)this._requestVideoFrameCallbackId=U.requestVideoFrameCallback(H)}clone(){return new this.constructor(this.image).copy(this)}update(){let U=this.image;if("requestVideoFrameCallback"in U===!1&&U.readyState>=U.HAVE_CURRENT_DATA)this.needsUpdate=!0}dispose(){if(this._requestVideoFrameCallbackId!==0)this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0;super.dispose()}}class go extends HO{constructor(U,E,u,p,z,c,Y,P){super({},U,E,u,p,z,c,Y,P);this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(U){this.image=U,this.needsUpdate=!0}}class eo extends Vu{constructor(U,E){super({width:U,height:E});this.isFramebufferTexture=!0,this.magFilter=1003,this.minFilter=1003,this.generateMipmaps=!1,this.needsUpdate=!0}}class pq extends Vu{constructor(U,E,u,p,z,c,Y,P,n,j,H,k){super(null,c,Y,P,n,j,p,z,H,k);this.isCompressedTexture=!0,this.image={width:E,height:u},this.mipmaps=U,this.flipY=!1,this.generateMipmaps=!1}}class Co extends pq{constructor(U,E,u,p,z,c){super(U,E,u,z,c);this.isCompressedArrayTexture=!0,this.image.depth=p,this.wrapR=1001,this.layerUpdates=new Set}addLayerUpdate(U){this.layerUpdates.add(U)}clearLayerUpdates(){this.layerUpdates.clear()}}class U1 extends pq{constructor(U,E,u){super(void 0,U[0].width,U[0].height,E,u,301);this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=U}}class E1 extends Vu{constructor(U,E,u,p,z,c,Y,P,n){super(U,E,u,p,z,c,Y,P,n);this.isCanvasTexture=!0,this.needsUpdate=!0}}class VZ extends Vu{constructor(U,E,u=1014,p,z,c,Y=1003,P=1003,n,j=1026,H=1){if(j!==1026&&j!==1027)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");let k={width:U,height:E,depth:H};super(k,p,z,c,Y,P,j,u,n);this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(U){return super.copy(U),this.source=new Wc(Object.assign({},U.image)),this.compareFunction=U.compareFunction,this}toJSON(U){let E=super.toJSON(U);if(this.compareFunction!==null)E.compareFunction=this.compareFunction;return E}}class kO extends VZ{constructor(U,E=1014,u=301,p,z,c=1003,Y=1003,P,n=1026){let j={width:U,height:U,depth:1},H=[j,j,j,j,j,j];super(U,U,E,u,p,z,c,Y,P,n);this.image=H,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(U){this.image=U}}class B9 extends Vu{constructor(U=null){super();this.sourceTexture=U,this.isExternalTexture=!0}copy(U){return super.copy(U),this.sourceTexture=U.sourceTexture,this}}class d9 extends WE{constructor(U=1,E=1,u=4,p=8,z=1){super();this.type="CapsuleGeometry",this.parameters={radius:U,height:E,capSegments:u,radialSegments:p,heightSegments:z},E=Math.max(0,E),u=Math.max(1,Math.floor(u)),p=Math.max(3,Math.floor(p)),z=Math.max(1,Math.floor(z));let c=[],Y=[],P=[],n=[],j=E/2,H=Math.PI/2*U,k=E,Q=2*H+k,y=u*2+z,r=p+1,T=new b,N=new b;for(let O=0;O<=y;O++){let L=0,X=0,i=0,B=0;if(O<=u){let m=O/u,V=m*Math.PI/2;X=-j-U*Math.cos(V),i=U*Math.sin(V),B=-U*Math.cos(V),L=m*H}else if(O<=u+z){let m=(O-u)/z;X=-j+m*E,i=U,B=0,L=H+m*k}else{let m=(O-u-z)/u,V=m*Math.PI/2;X=j+U*Math.sin(V),i=U*Math.cos(V),B=U*Math.sin(V),L=H+k+m*H}let G=Math.max(0,Math.min(1,L/Q)),d=0;if(O===0)d=0.5/p;else if(O===y)d=-0.5/p;for(let m=0;m<=p;m++){let V=m/p,w=V*Math.PI*2,h=Math.sin(w),_=Math.cos(w);N.x=-i*_,N.y=X,N.z=i*h,Y.push(N.x,N.y,N.z),T.set(-i*_,B,i*h),T.normalize(),P.push(T.x,T.y,T.z),n.push(V+d,G)}if(O>0){let m=(O-1)*r;for(let V=0;V<p;V++){let w=m+V,h=m+V+1,_=O*r+V,f=O*r+V+1;c.push(w,h,_),c.push(h,f,_)}}}this.setIndex(c),this.setAttribute("position",new NE(Y,3)),this.setAttribute("normal",new NE(P,3)),this.setAttribute("uv",new NE(n,2))}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new d9(U.radius,U.height,U.capSegments,U.radialSegments,U.heightSegments)}}class w9 extends WE{constructor(U=1,E=32,u=0,p=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:U,segments:E,thetaStart:u,thetaLength:p},E=Math.max(3,E);let z=[],c=[],Y=[],P=[],n=new b,j=new LU;c.push(0,0,0),Y.push(0,0,1),P.push(0.5,0.5);for(let H=0,k=3;H<=E;H++,k+=3){let Q=u+H/E*p;n.x=U*Math.cos(Q),n.y=U*Math.sin(Q),c.push(n.x,n.y,n.z),Y.push(0,0,1),j.x=(c[k]/U+1)/2,j.y=(c[k+1]/U+1)/2,P.push(j.x,j.y)}for(let H=1;H<=E;H++)z.push(H,H+1,0);this.setIndex(z),this.setAttribute("position",new NE(c,3)),this.setAttribute("normal",new NE(Y,3)),this.setAttribute("uv",new NE(P,2))}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new w9(U.radius,U.segments,U.thetaStart,U.thetaLength)}}class zq extends WE{constructor(U=1,E=1,u=1,p=32,z=1,c=!1,Y=0,P=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:U,radiusBottom:E,height:u,radialSegments:p,heightSegments:z,openEnded:c,thetaStart:Y,thetaLength:P};let n=this;p=Math.floor(p),z=Math.floor(z);let j=[],H=[],k=[],Q=[],y=0,r=[],T=u/2,N=0;if(O(),c===!1){if(U>0)L(!0);if(E>0)L(!1)}this.setIndex(j),this.setAttribute("position",new NE(H,3)),this.setAttribute("normal",new NE(k,3)),this.setAttribute("uv",new NE(Q,2));function O(){let X=new b,i=new b,B=0,G=(E-U)/u;for(let d=0;d<=z;d++){let m=[],V=d/z,w=V*(E-U)+U;for(let h=0;h<=p;h++){let _=h/p,f=_*P+Y,a=Math.sin(f),uU=Math.cos(f);i.x=w*a,i.y=-V*u+T,i.z=w*uU,H.push(i.x,i.y,i.z),X.set(a,G,uU).normalize(),k.push(X.x,X.y,X.z),Q.push(_,1-V),m.push(y++)}r.push(m)}for(let d=0;d<p;d++)for(let m=0;m<z;m++){let V=r[m][d],w=r[m+1][d],h=r[m+1][d+1],_=r[m][d+1];if(U>0||m!==0)j.push(V,w,_),B+=3;if(E>0||m!==z-1)j.push(w,h,_),B+=3}n.addGroup(N,B,0),N+=B}function L(X){let i=y,B=new LU,G=new b,d=0,m=X===!0?U:E,V=X===!0?1:-1;for(let h=1;h<=p;h++)H.push(0,T*V,0),k.push(0,V,0),Q.push(0.5,0.5),y++;let w=y;for(let h=0;h<=p;h++){let f=h/p*P+Y,a=Math.cos(f),uU=Math.sin(f);G.x=m*uU,G.y=T*V,G.z=m*a,H.push(G.x,G.y,G.z),k.push(0,V,0),B.x=a*0.5+0.5,B.y=uU*0.5*V+0.5,Q.push(B.x,B.y),y++}for(let h=0;h<p;h++){let _=i+h,f=w+h;if(X===!0)j.push(f,f+1,_);else j.push(f+1,f,_);d+=3}n.addGroup(N,d,X===!0?1:2),N+=d}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new zq(U.radiusTop,U.radiusBottom,U.height,U.radialSegments,U.heightSegments,U.openEnded,U.thetaStart,U.thetaLength)}}class cq extends zq{constructor(U=1,E=1,u=32,p=1,z=!1,c=0,Y=Math.PI*2){super(0,U,E,u,p,z,c,Y);this.type="ConeGeometry",this.parameters={radius:U,height:E,radialSegments:u,heightSegments:p,openEnded:z,thetaStart:c,thetaLength:Y}}static fromJSON(U){return new cq(U.radius,U.height,U.radialSegments,U.heightSegments,U.openEnded,U.thetaStart,U.thetaLength)}}class cY extends WE{constructor(U=[],E=[],u=1,p=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:U,indices:E,radius:u,detail:p};let z=[],c=[];if(Y(p),n(u),j(),this.setAttribute("position",new NE(z,3)),this.setAttribute("normal",new NE(z.slice(),3)),this.setAttribute("uv",new NE(c,2)),p===0)this.computeVertexNormals();else this.normalizeNormals();function Y(O){let L=new b,X=new b,i=new b;for(let B=0;B<E.length;B+=3)Q(E[B+0],L),Q(E[B+1],X),Q(E[B+2],i),P(L,X,i,O)}function P(O,L,X,i){let B=i+1,G=[];for(let d=0;d<=B;d++){G[d]=[];let m=O.clone().lerp(X,d/B),V=L.clone().lerp(X,d/B),w=B-d;for(let h=0;h<=w;h++)if(h===0&&d===B)G[d][h]=m;else G[d][h]=m.clone().lerp(V,h/w)}for(let d=0;d<B;d++)for(let m=0;m<2*(B-d)-1;m++){let V=Math.floor(m/2);if(m%2===0)k(G[d][V+1]),k(G[d+1][V]),k(G[d][V]);else k(G[d][V+1]),k(G[d+1][V+1]),k(G[d+1][V])}}function n(O){let L=new b;for(let X=0;X<z.length;X+=3)L.x=z[X+0],L.y=z[X+1],L.z=z[X+2],L.normalize().multiplyScalar(O),z[X+0]=L.x,z[X+1]=L.y,z[X+2]=L.z}function j(){let O=new b;for(let L=0;L<z.length;L+=3){O.x=z[L+0],O.y=z[L+1],O.z=z[L+2];let X=T(O)/2/Math.PI+0.5,i=N(O)/Math.PI+0.5;c.push(X,1-i)}y(),H()}function H(){for(let O=0;O<c.length;O+=6){let L=c[O+0],X=c[O+2],i=c[O+4],B=Math.max(L,X,i),G=Math.min(L,X,i);if(B>0.9&&G<0.1){if(L<0.2)c[O+0]+=1;if(X<0.2)c[O+2]+=1;if(i<0.2)c[O+4]+=1}}}function k(O){z.push(O.x,O.y,O.z)}function Q(O,L){let X=O*3;L.x=U[X+0],L.y=U[X+1],L.z=U[X+2]}function y(){let O=new b,L=new b,X=new b,i=new b,B=new LU,G=new LU,d=new LU;for(let m=0,V=0;m<z.length;m+=9,V+=6){O.set(z[m+0],z[m+1],z[m+2]),L.set(z[m+3],z[m+4],z[m+5]),X.set(z[m+6],z[m+7],z[m+8]),B.set(c[V+0],c[V+1]),G.set(c[V+2],c[V+3]),d.set(c[V+4],c[V+5]),i.copy(O).add(L).add(X).divideScalar(3);let w=T(i);r(B,V+0,O,w),r(G,V+2,L,w),r(d,V+4,X,w)}}function r(O,L,X,i){if(i<0&&O.x===1)c[L]=O.x-1;if(X.x===0&&X.z===0)c[L]=i/2/Math.PI+0.5}function T(O){return Math.atan2(O.z,-O.x)}function N(O){return Math.atan2(-O.y,Math.sqrt(O.x*O.x+O.z*O.z))}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new cY(U.vertices,U.indices,U.radius,U.detail)}}class v9 extends cY{constructor(U=1,E=0){let u=(1+Math.sqrt(5))/2,p=1/u,z=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-p,-u,0,-p,u,0,p,-u,0,p,u,-p,-u,0,-p,u,0,p,-u,0,p,u,0,-u,0,-p,u,0,-p,-u,0,p,u,0,p],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(z,c,U,E);this.type="DodecahedronGeometry",this.parameters={radius:U,detail:E}}static fromJSON(U){return new v9(U.radius,U.detail)}}var s8=new b,K8=new b,tT=new b,a8=new g5;class QO extends WE{constructor(U=null,E=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:U,thresholdAngle:E},U!==null){let p=Math.pow(10,4),z=Math.cos(aP*E),c=U.getIndex(),Y=U.getAttribute("position"),P=c?c.count:Y.count,n=[0,0,0],j=["a","b","c"],H=new Array(3),k={},Q=[];for(let y=0;y<P;y+=3){if(c)n[0]=c.getX(y),n[1]=c.getX(y+1),n[2]=c.getX(y+2);else n[0]=y,n[1]=y+1,n[2]=y+2;let{a:r,b:T,c:N}=a8;if(r.fromBufferAttribute(Y,n[0]),T.fromBufferAttribute(Y,n[1]),N.fromBufferAttribute(Y,n[2]),a8.getNormal(tT),H[0]=`${Math.round(r.x*p)},${Math.round(r.y*p)},${Math.round(r.z*p)}`,H[1]=`${Math.round(T.x*p)},${Math.round(T.y*p)},${Math.round(T.z*p)}`,H[2]=`${Math.round(N.x*p)},${Math.round(N.y*p)},${Math.round(N.z*p)}`,H[0]===H[1]||H[1]===H[2]||H[2]===H[0])continue;for(let O=0;O<3;O++){let L=(O+1)%3,X=H[O],i=H[L],B=a8[j[O]],G=a8[j[L]],d=`${X}_${i}`,m=`${i}_${X}`;if(m in k&&k[m]){if(tT.dot(k[m].normal)<=z)Q.push(B.x,B.y,B.z),Q.push(G.x,G.y,G.z);k[m]=null}else if(!(d in k))k[d]={index0:n[O],index1:n[L],normal:tT.clone()}}}for(let y in k)if(k[y]){let{index0:r,index1:T}=k[y];s8.fromBufferAttribute(Y,r),K8.fromBufferAttribute(Y,T),Q.push(s8.x,s8.y,s8.z),Q.push(K8.x,K8.y,K8.z)}this.setAttribute("position",new NE(Q,3))}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}}class x0{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){PE("Curve: .getPoint() not implemented.")}getPointAt(U,E){let u=this.getUtoTmapping(U);return this.getPoint(u,E)}getPoints(U=5){let E=[];for(let u=0;u<=U;u++)E.push(this.getPoint(u/U));return E}getSpacedPoints(U=5){let E=[];for(let u=0;u<=U;u++)E.push(this.getPointAt(u/U));return E}getLength(){let U=this.getLengths();return U[U.length-1]}getLengths(U=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===U+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let E=[],u,p=this.getPoint(0),z=0;E.push(0);for(let c=1;c<=U;c++)u=this.getPoint(c/U),z+=u.distanceTo(p),E.push(z),p=u;return this.cacheArcLengths=E,E}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(U,E=null){let u=this.getLengths(),p=0,z=u.length,c;if(E)c=E;else c=U*u[z-1];let Y=0,P=z-1,n;while(Y<=P)if(p=Math.floor(Y+(P-Y)/2),n=u[p]-c,n<0)Y=p+1;else if(n>0)P=p-1;else{P=p;break}if(p=P,u[p]===c)return p/(z-1);let j=u[p],k=u[p+1]-j,Q=(c-j)/k;return(p+Q)/(z-1)}getTangent(U,E){let p=U-0.0001,z=U+0.0001;if(p<0)p=0;if(z>1)z=1;let c=this.getPoint(p),Y=this.getPoint(z),P=E||(c.isVector2?new LU:new b);return P.copy(Y).sub(c).normalize(),P}getTangentAt(U,E){let u=this.getUtoTmapping(U);return this.getTangent(u,E)}computeFrenetFrames(U,E=!1){let u=new b,p=[],z=[],c=[],Y=new b,P=new RE;for(let Q=0;Q<=U;Q++){let y=Q/U;p[Q]=this.getTangentAt(y,new b)}z[0]=new b,c[0]=new b;let n=Number.MAX_VALUE,j=Math.abs(p[0].x),H=Math.abs(p[0].y),k=Math.abs(p[0].z);if(j<=n)n=j,u.set(1,0,0);if(H<=n)n=H,u.set(0,1,0);if(k<=n)u.set(0,0,1);Y.crossVectors(p[0],u).normalize(),z[0].crossVectors(p[0],Y),c[0].crossVectors(p[0],z[0]);for(let Q=1;Q<=U;Q++){if(z[Q]=z[Q-1].clone(),c[Q]=c[Q-1].clone(),Y.crossVectors(p[Q-1],p[Q]),Y.length()>Number.EPSILON){Y.normalize();let y=Math.acos(sE(p[Q-1].dot(p[Q]),-1,1));z[Q].applyMatrix4(P.makeRotationAxis(Y,y))}c[Q].crossVectors(p[Q],z[Q])}if(E===!0){let Q=Math.acos(sE(z[0].dot(z[U]),-1,1));if(Q/=U,p[0].dot(Y.crossVectors(z[0],z[U]))>0)Q=-Q;for(let y=1;y<=U;y++)z[y].applyMatrix4(P.makeRotationAxis(p[y],Q*y)),c[y].crossVectors(p[y],z[y])}return{tangents:p,normals:z,binormals:c}}clone(){return new this.constructor().copy(this)}copy(U){return this.arcLengthDivisions=U.arcLengthDivisions,this}toJSON(){let U={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return U.arcLengthDivisions=this.arcLengthDivisions,U.type=this.type,U}fromJSON(U){return this.arcLengthDivisions=U.arcLengthDivisions,this}}class Yq extends x0{constructor(U=0,E=0,u=1,p=1,z=0,c=Math.PI*2,Y=!1,P=0){super();this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=U,this.aY=E,this.xRadius=u,this.yRadius=p,this.aStartAngle=z,this.aEndAngle=c,this.aClockwise=Y,this.aRotation=P}getPoint(U,E=new LU){let u=E,p=Math.PI*2,z=this.aEndAngle-this.aStartAngle,c=Math.abs(z)<Number.EPSILON;while(z<0)z+=p;while(z>p)z-=p;if(z<Number.EPSILON)if(c)z=0;else z=p;if(this.aClockwise===!0&&!c)if(z===p)z=-p;else z=z-p;let Y=this.aStartAngle+U*z,P=this.aX+this.xRadius*Math.cos(Y),n=this.aY+this.yRadius*Math.sin(Y);if(this.aRotation!==0){let j=Math.cos(this.aRotation),H=Math.sin(this.aRotation),k=P-this.aX,Q=n-this.aY;P=k*j-Q*H+this.aX,n=k*H+Q*j+this.aY}return u.set(P,n)}copy(U){return super.copy(U),this.aX=U.aX,this.aY=U.aY,this.xRadius=U.xRadius,this.yRadius=U.yRadius,this.aStartAngle=U.aStartAngle,this.aEndAngle=U.aEndAngle,this.aClockwise=U.aClockwise,this.aRotation=U.aRotation,this}toJSON(){let U=super.toJSON();return U.aX=this.aX,U.aY=this.aY,U.xRadius=this.xRadius,U.yRadius=this.yRadius,U.aStartAngle=this.aStartAngle,U.aEndAngle=this.aEndAngle,U.aClockwise=this.aClockwise,U.aRotation=this.aRotation,U}fromJSON(U){return super.fromJSON(U),this.aX=U.aX,this.aY=U.aY,this.xRadius=U.xRadius,this.yRadius=U.yRadius,this.aStartAngle=U.aStartAngle,this.aEndAngle=U.aEndAngle,this.aClockwise=U.aClockwise,this.aRotation=U.aRotation,this}}class $O extends Yq{constructor(U,E,u,p,z,c){super(U,E,u,u,p,z,c);this.isArcCurve=!0,this.type="ArcCurve"}}function u1(){let U=0,E=0,u=0,p=0;function z(c,Y,P,n){U=c,E=P,u=-3*c+3*Y-2*P-n,p=2*c-2*Y+P+n}return{initCatmullRom:function(c,Y,P,n,j){z(Y,P,j*(P-c),j*(n-Y))},initNonuniformCatmullRom:function(c,Y,P,n,j,H,k){let Q=(Y-c)/j-(P-c)/(j+H)+(P-Y)/H,y=(P-Y)/H-(n-Y)/(H+k)+(n-P)/k;Q*=H,y*=H,z(Y,P,Q,y)},calc:function(c){let Y=c*c,P=Y*c;return U+E*c+u*Y+p*P}}}var _8=new b,JT=new u1,hT=new u1,bT=new u1;class yO extends x0{constructor(U=[],E=!1,u="centripetal",p=0.5){super();this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=U,this.closed=E,this.curveType=u,this.tension=p}getPoint(U,E=new b){let u=E,p=this.points,z=p.length,c=(z-(this.closed?0:1))*U,Y=Math.floor(c),P=c-Y;if(this.closed)Y+=Y>0?0:(Math.floor(Math.abs(Y)/z)+1)*z;else if(P===0&&Y===z-1)Y=z-2,P=1;let n,j;if(this.closed||Y>0)n=p[(Y-1)%z];else _8.subVectors(p[0],p[1]).add(p[0]),n=_8;let H=p[Y%z],k=p[(Y+1)%z];if(this.closed||Y+2<z)j=p[(Y+2)%z];else _8.subVectors(p[z-1],p[z-2]).add(p[z-1]),j=_8;if(this.curveType==="centripetal"||this.curveType==="chordal"){let Q=this.curveType==="chordal"?0.5:0.25,y=Math.pow(n.distanceToSquared(H),Q),r=Math.pow(H.distanceToSquared(k),Q),T=Math.pow(k.distanceToSquared(j),Q);if(r<0.0001)r=1;if(y<0.0001)y=r;if(T<0.0001)T=r;JT.initNonuniformCatmullRom(n.x,H.x,k.x,j.x,y,r,T),hT.initNonuniformCatmullRom(n.y,H.y,k.y,j.y,y,r,T),bT.initNonuniformCatmullRom(n.z,H.z,k.z,j.z,y,r,T)}else if(this.curveType==="catmullrom")JT.initCatmullRom(n.x,H.x,k.x,j.x,this.tension),hT.initCatmullRom(n.y,H.y,k.y,j.y,this.tension),bT.initCatmullRom(n.z,H.z,k.z,j.z,this.tension);return u.set(JT.calc(P),hT.calc(P),bT.calc(P)),u}copy(U){super.copy(U),this.points=[];for(let E=0,u=U.points.length;E<u;E++){let p=U.points[E];this.points.push(p.clone())}return this.closed=U.closed,this.curveType=U.curveType,this.tension=U.tension,this}toJSON(){let U=super.toJSON();U.points=[];for(let E=0,u=this.points.length;E<u;E++){let p=this.points[E];U.points.push(p.toArray())}return U.closed=this.closed,U.curveType=this.curveType,U.tension=this.tension,U}fromJSON(U){super.fromJSON(U),this.points=[];for(let E=0,u=U.points.length;E<u;E++){let p=U.points[E];this.points.push(new b().fromArray(p))}return this.closed=U.closed,this.curveType=U.curveType,this.tension=U.tension,this}}function XR(U,E,u,p,z){let c=(p-E)*0.5,Y=(z-u)*0.5,P=U*U,n=U*P;return(2*u-2*p+c+Y)*n+(-3*u+3*p-2*c-Y)*P+c*U+u}function EC(U,E){let u=1-U;return u*u*E}function uC(U,E){return 2*(1-U)*U*E}function pC(U,E){return U*U*E}function ek(U,E,u,p){return EC(U,E)+uC(U,u)+pC(U,p)}function zC(U,E){let u=1-U;return u*u*u*E}function cC(U,E){let u=1-U;return 3*u*u*U*E}function YC(U,E){return 3*(1-U)*U*U*E}function ZC(U,E){return U*U*U*E}function Ck(U,E,u,p,z){return zC(U,E)+cC(U,u)+YC(U,p)+ZC(U,z)}class S9 extends x0{constructor(U=new LU,E=new LU,u=new LU,p=new LU){super();this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=U,this.v1=E,this.v2=u,this.v3=p}getPoint(U,E=new LU){let u=E,p=this.v0,z=this.v1,c=this.v2,Y=this.v3;return u.set(Ck(U,p.x,z.x,c.x,Y.x),Ck(U,p.y,z.y,c.y,Y.y)),u}copy(U){return super.copy(U),this.v0.copy(U.v0),this.v1.copy(U.v1),this.v2.copy(U.v2),this.v3.copy(U.v3),this}toJSON(){let U=super.toJSON();return U.v0=this.v0.toArray(),U.v1=this.v1.toArray(),U.v2=this.v2.toArray(),U.v3=this.v3.toArray(),U}fromJSON(U){return super.fromJSON(U),this.v0.fromArray(U.v0),this.v1.fromArray(U.v1),this.v2.fromArray(U.v2),this.v3.fromArray(U.v3),this}}class IO extends x0{constructor(U=new b,E=new b,u=new b,p=new b){super();this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=U,this.v1=E,this.v2=u,this.v3=p}getPoint(U,E=new b){let u=E,p=this.v0,z=this.v1,c=this.v2,Y=this.v3;return u.set(Ck(U,p.x,z.x,c.x,Y.x),Ck(U,p.y,z.y,c.y,Y.y),Ck(U,p.z,z.z,c.z,Y.z)),u}copy(U){return super.copy(U),this.v0.copy(U.v0),this.v1.copy(U.v1),this.v2.copy(U.v2),this.v3.copy(U.v3),this}toJSON(){let U=super.toJSON();return U.v0=this.v0.toArray(),U.v1=this.v1.toArray(),U.v2=this.v2.toArray(),U.v3=this.v3.toArray(),U}fromJSON(U){return super.fromJSON(U),this.v0.fromArray(U.v0),this.v1.fromArray(U.v1),this.v2.fromArray(U.v2),this.v3.fromArray(U.v3),this}}class R9 extends x0{constructor(U=new LU,E=new LU){super();this.isLineCurve=!0,this.type="LineCurve",this.v1=U,this.v2=E}getPoint(U,E=new LU){let u=E;if(U===1)u.copy(this.v2);else u.copy(this.v2).sub(this.v1),u.multiplyScalar(U).add(this.v1);return u}getPointAt(U,E){return this.getPoint(U,E)}getTangent(U,E=new LU){return E.subVectors(this.v2,this.v1).normalize()}getTangentAt(U,E){return this.getTangent(U,E)}copy(U){return super.copy(U),this.v1.copy(U.v1),this.v2.copy(U.v2),this}toJSON(){let U=super.toJSON();return U.v1=this.v1.toArray(),U.v2=this.v2.toArray(),U}fromJSON(U){return super.fromJSON(U),this.v1.fromArray(U.v1),this.v2.fromArray(U.v2),this}}class OO extends x0{constructor(U=new b,E=new b){super();this.isLineCurve3=!0,this.type="LineCurve3",this.v1=U,this.v2=E}getPoint(U,E=new b){let u=E;if(U===1)u.copy(this.v2);else u.copy(this.v2).sub(this.v1),u.multiplyScalar(U).add(this.v1);return u}getPointAt(U,E){return this.getPoint(U,E)}getTangent(U,E=new b){return E.subVectors(this.v2,this.v1).normalize()}getTangentAt(U,E){return this.getTangent(U,E)}copy(U){return super.copy(U),this.v1.copy(U.v1),this.v2.copy(U.v2),this}toJSON(){let U=super.toJSON();return U.v1=this.v1.toArray(),U.v2=this.v2.toArray(),U}fromJSON(U){return super.fromJSON(U),this.v1.fromArray(U.v1),this.v2.fromArray(U.v2),this}}class D9 extends x0{constructor(U=new LU,E=new LU,u=new LU){super();this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=U,this.v1=E,this.v2=u}getPoint(U,E=new LU){let u=E,p=this.v0,z=this.v1,c=this.v2;return u.set(ek(U,p.x,z.x,c.x),ek(U,p.y,z.y,c.y)),u}copy(U){return super.copy(U),this.v0.copy(U.v0),this.v1.copy(U.v1),this.v2.copy(U.v2),this}toJSON(){let U=super.toJSON();return U.v0=this.v0.toArray(),U.v1=this.v1.toArray(),U.v2=this.v2.toArray(),U}fromJSON(U){return super.fromJSON(U),this.v0.fromArray(U.v0),this.v1.fromArray(U.v1),this.v2.fromArray(U.v2),this}}class t9 extends x0{constructor(U=new b,E=new b,u=new b){super();this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=U,this.v1=E,this.v2=u}getPoint(U,E=new b){let u=E,p=this.v0,z=this.v1,c=this.v2;return u.set(ek(U,p.x,z.x,c.x),ek(U,p.y,z.y,c.y),ek(U,p.z,z.z,c.z)),u}copy(U){return super.copy(U),this.v0.copy(U.v0),this.v1.copy(U.v1),this.v2.copy(U.v2),this}toJSON(){let U=super.toJSON();return U.v0=this.v0.toArray(),U.v1=this.v1.toArray(),U.v2=this.v2.toArray(),U}fromJSON(U){return super.fromJSON(U),this.v0.fromArray(U.v0),this.v1.fromArray(U.v1),this.v2.fromArray(U.v2),this}}class J9 extends x0{constructor(U=[]){super();this.isSplineCurve=!0,this.type="SplineCurve",this.points=U}getPoint(U,E=new LU){let u=E,p=this.points,z=(p.length-1)*U,c=Math.floor(z),Y=z-c,P=p[c===0?c:c-1],n=p[c],j=p[c>p.length-2?p.length-1:c+1],H=p[c>p.length-3?p.length-1:c+2];return u.set(XR(Y,P.x,n.x,j.x,H.x),XR(Y,P.y,n.y,j.y,H.y)),u}copy(U){super.copy(U),this.points=[];for(let E=0,u=U.points.length;E<u;E++){let p=U.points[E];this.points.push(p.clone())}return this}toJSON(){let U=super.toJSON();U.points=[];for(let E=0,u=this.points.length;E<u;E++){let p=this.points[E];U.points.push(p.toArray())}return U}fromJSON(U){super.fromJSON(U),this.points=[];for(let E=0,u=U.points.length;E<u;E++){let p=U.points[E];this.points.push(new LU().fromArray(p))}return this}}var PI=Object.freeze({__proto__:null,ArcCurve:$O,CatmullRomCurve3:yO,CubicBezierCurve:S9,CubicBezierCurve3:IO,EllipseCurve:Yq,LineCurve:R9,LineCurve3:OO,QuadraticBezierCurve:D9,QuadraticBezierCurve3:t9,SplineCurve:J9});class NO extends x0{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(U){this.curves.push(U)}closePath(){let U=this.curves[0].getPoint(0),E=this.curves[this.curves.length-1].getPoint(1);if(!U.equals(E)){let u=U.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new PI[u](E,U))}return this}getPoint(U,E){let u=U*this.getLength(),p=this.getCurveLengths(),z=0;while(z<p.length){if(p[z]>=u){let c=p[z]-u,Y=this.curves[z],P=Y.getLength(),n=P===0?0:1-c/P;return Y.getPointAt(n,E)}z++}return null}getLength(){let U=this.getCurveLengths();return U[U.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let U=[],E=0;for(let u=0,p=this.curves.length;u<p;u++)E+=this.curves[u].getLength(),U.push(E);return this.cacheLengths=U,U}getSpacedPoints(U=40){let E=[];for(let u=0;u<=U;u++)E.push(this.getPoint(u/U));if(this.autoClose)E.push(E[0]);return E}getPoints(U=12){let E=[],u;for(let p=0,z=this.curves;p<z.length;p++){let c=z[p],Y=c.isEllipseCurve?U*2:c.isLineCurve||c.isLineCurve3?1:c.isSplineCurve?U*c.points.length:U,P=c.getPoints(Y);for(let n=0;n<P.length;n++){let j=P[n];if(u&&u.equals(j))continue;E.push(j),u=j}}if(this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0]))E.push(E[0]);return E}copy(U){super.copy(U),this.curves=[];for(let E=0,u=U.curves.length;E<u;E++){let p=U.curves[E];this.curves.push(p.clone())}return this.autoClose=U.autoClose,this}toJSON(){let U=super.toJSON();U.autoClose=this.autoClose,U.curves=[];for(let E=0,u=this.curves.length;E<u;E++){let p=this.curves[E];U.curves.push(p.toJSON())}return U}fromJSON(U){super.fromJSON(U),this.autoClose=U.autoClose,this.curves=[];for(let E=0,u=U.curves.length;E<u;E++){let p=U.curves[E];this.curves.push(new PI[p.type]().fromJSON(p))}return this}}class Jj extends NO{constructor(U){super();if(this.type="Path",this.currentPoint=new LU,U)this.setFromPoints(U)}setFromPoints(U){this.moveTo(U[0].x,U[0].y);for(let E=1,u=U.length;E<u;E++)this.lineTo(U[E].x,U[E].y);return this}moveTo(U,E){return this.currentPoint.set(U,E),this}lineTo(U,E){let u=new R9(this.currentPoint.clone(),new LU(U,E));return this.curves.push(u),this.currentPoint.set(U,E),this}quadraticCurveTo(U,E,u,p){let z=new D9(this.currentPoint.clone(),new LU(U,E),new LU(u,p));return this.curves.push(z),this.currentPoint.set(u,p),this}bezierCurveTo(U,E,u,p,z,c){let Y=new S9(this.currentPoint.clone(),new LU(U,E),new LU(u,p),new LU(z,c));return this.curves.push(Y),this.currentPoint.set(z,c),this}splineThru(U){let E=[this.currentPoint.clone()].concat(U),u=new J9(E);return this.curves.push(u),this.currentPoint.copy(U[U.length-1]),this}arc(U,E,u,p,z,c){let Y=this.currentPoint.x,P=this.currentPoint.y;return this.absarc(U+Y,E+P,u,p,z,c),this}absarc(U,E,u,p,z,c){return this.absellipse(U,E,u,u,p,z,c),this}ellipse(U,E,u,p,z,c,Y,P){let n=this.currentPoint.x,j=this.currentPoint.y;return this.absellipse(U+n,E+j,u,p,z,c,Y,P),this}absellipse(U,E,u,p,z,c,Y,P){let n=new Yq(U,E,u,p,z,c,Y,P);if(this.curves.length>0){let H=n.getPoint(0);if(!H.equals(this.currentPoint))this.lineTo(H.x,H.y)}this.curves.push(n);let j=n.getPoint(1);return this.currentPoint.copy(j),this}copy(U){return super.copy(U),this.currentPoint.copy(U.currentPoint),this}toJSON(){let U=super.toJSON();return U.currentPoint=this.currentPoint.toArray(),U}fromJSON(U){return super.fromJSON(U),this.currentPoint.fromArray(U.currentPoint),this}}class g4 extends Jj{constructor(U){super(U);this.uuid=P0(),this.type="Shape",this.holes=[]}getPointsHoles(U){let E=[];for(let u=0,p=this.holes.length;u<p;u++)E[u]=this.holes[u].getPoints(U);return E}extractPoints(U){return{shape:this.getPoints(U),holes:this.getPointsHoles(U)}}copy(U){super.copy(U),this.holes=[];for(let E=0,u=U.holes.length;E<u;E++){let p=U.holes[E];this.holes.push(p.clone())}return this}toJSON(){let U=super.toJSON();U.uuid=this.uuid,U.holes=[];for(let E=0,u=this.holes.length;E<u;E++){let p=this.holes[E];U.holes.push(p.toJSON())}return U}fromJSON(U){super.fromJSON(U),this.uuid=U.uuid,this.holes=[];for(let E=0,u=U.holes.length;E<u;E++){let p=U.holes[E];this.holes.push(new Jj().fromJSON(p))}return this}}function PC(U,E,u=2){let p=E&&E.length,z=p?E[0]*u:U.length,c=U3(U,0,z,u,!0),Y=[];if(!c||c.next===c.prev)return Y;let P,n,j;if(p)c=HC(U,E,c,u);if(U.length>80*u){P=U[0],n=U[1];let H=P,k=n;for(let Q=u;Q<z;Q+=u){let y=U[Q],r=U[Q+1];if(y<P)P=y;if(r<n)n=r;if(y>H)H=y;if(r>k)k=r}j=Math.max(H-P,k-n),j=j!==0?32767/j:0}return U9(c,Y,u,P,n,j,0),Y}function U3(U,E,u,p,z){let c;if(z===TC(U,E,u,p)>0)for(let Y=E;Y<u;Y+=p)c=TR(Y/p|0,U[Y],U[Y+1],c);else for(let Y=u-p;Y>=E;Y-=p)c=TR(Y/p|0,U[Y],U[Y+1],c);if(c&&hj(c,c.next))u9(c),c=c.next;return c}function eP(U,E){if(!U)return U;if(!E)E=U;let u=U,p;do if(p=!1,!u.steiner&&(hj(u,u.next)||Fp(u.prev,u,u.next)===0)){if(u9(u),u=E=u.prev,u===u.next)break;p=!0}else u=u.next;while(p||u!==E);return E}function U9(U,E,u,p,z,c,Y){if(!U)return;if(!Y&&c)IC(U,p,z,c);let P=U;while(U.prev!==U.next){let{prev:n,next:j}=U;if(c?nC(U,p,z,c):xC(U)){E.push(n.i,U.i,j.i),u9(U),U=j.next,P=j.next;continue}if(U=j,U===P){if(!Y)U9(eP(U),E,u,p,z,c,1);else if(Y===1)U=jC(eP(U),E),U9(U,E,u,p,z,c,2);else if(Y===2)qC(U,E,u,p,z,c);break}}}function xC(U){let E=U.prev,u=U,p=U.next;if(Fp(E,u,p)>=0)return!1;let z=E.x,c=u.x,Y=p.x,P=E.y,n=u.y,j=p.y,H=Math.min(z,c,Y),k=Math.min(P,n,j),Q=Math.max(z,c,Y),y=Math.max(P,n,j),r=p.next;while(r!==E){if(r.x>=H&&r.x<=Q&&r.y>=k&&r.y<=y&&_k(z,P,c,n,Y,j,r.x,r.y)&&Fp(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function nC(U,E,u,p){let z=U.prev,c=U,Y=U.next;if(Fp(z,c,Y)>=0)return!1;let P=z.x,n=c.x,j=Y.x,H=z.y,k=c.y,Q=Y.y,y=Math.min(P,n,j),r=Math.min(H,k,Q),T=Math.max(P,n,j),N=Math.max(H,k,Q),O=_T(y,r,E,u,p),L=_T(T,N,E,u,p),X=U.prevZ,i=U.nextZ;while(X&&X.z>=O&&i&&i.z<=L){if(X.x>=y&&X.x<=T&&X.y>=r&&X.y<=N&&X!==z&&X!==Y&&_k(P,H,n,k,j,Q,X.x,X.y)&&Fp(X.prev,X,X.next)>=0)return!1;if(X=X.prevZ,i.x>=y&&i.x<=T&&i.y>=r&&i.y<=N&&i!==z&&i!==Y&&_k(P,H,n,k,j,Q,i.x,i.y)&&Fp(i.prev,i,i.next)>=0)return!1;i=i.nextZ}while(X&&X.z>=O){if(X.x>=y&&X.x<=T&&X.y>=r&&X.y<=N&&X!==z&&X!==Y&&_k(P,H,n,k,j,Q,X.x,X.y)&&Fp(X.prev,X,X.next)>=0)return!1;X=X.prevZ}while(i&&i.z<=L){if(i.x>=y&&i.x<=T&&i.y>=r&&i.y<=N&&i!==z&&i!==Y&&_k(P,H,n,k,j,Q,i.x,i.y)&&Fp(i.prev,i,i.next)>=0)return!1;i=i.nextZ}return!0}function jC(U,E){let u=U;do{let p=u.prev,z=u.next.next;if(!hj(p,z)&&u3(p,u,u.next,z)&&E9(p,z)&&E9(z,p))E.push(p.i,u.i,z.i),u9(u),u9(u.next),u=U=z;u=u.next}while(u!==U);return eP(u)}function qC(U,E,u,p,z,c){let Y=U;do{let P=Y.next.next;while(P!==Y.prev){if(Y.i!==P.i&&rC(Y,P)){let n=p3(Y,P);Y=eP(Y,Y.next),n=eP(n,n.next),U9(Y,E,u,p,z,c,0),U9(n,E,u,p,z,c,0);return}P=P.next}Y=Y.next}while(Y!==U)}function HC(U,E,u,p){let z=[];for(let c=0,Y=E.length;c<Y;c++){let P=E[c]*p,n=c<Y-1?E[c+1]*p:U.length,j=U3(U,P,n,p,!1);if(j===j.next)j.steiner=!0;z.push(NC(j))}z.sort(kC);for(let c=0;c<z.length;c++)u=QC(z[c],u);return u}function kC(U,E){let u=U.x-E.x;if(u===0){if(u=U.y-E.y,u===0){let p=(U.next.y-U.y)/(U.next.x-U.x),z=(E.next.y-E.y)/(E.next.x-E.x);u=p-z}}return u}function QC(U,E){let u=$C(U,E);if(!u)return E;let p=p3(u,U);return eP(p,p.next),eP(u,u.next)}function $C(U,E){let u=E,p=U.x,z=U.y,c=-1/0,Y;if(hj(U,u))return u;do{if(hj(U,u.next))return u.next;else if(z<=u.y&&z>=u.next.y&&u.next.y!==u.y){let k=u.x+(z-u.y)*(u.next.x-u.x)/(u.next.y-u.y);if(k<=p&&k>c){if(c=k,Y=u.x<u.next.x?u:u.next,k===p)return Y}}u=u.next}while(u!==E);if(!Y)return null;let P=Y,n=Y.x,j=Y.y,H=1/0;u=Y;do{if(p>=u.x&&u.x>=n&&p!==u.x&&E3(z<j?p:c,z,n,j,z<j?c:p,z,u.x,u.y)){let k=Math.abs(z-u.y)/(p-u.x);if(E9(u,U)&&(k<H||k===H&&(u.x>Y.x||u.x===Y.x&&yC(Y,u))))Y=u,H=k}u=u.next}while(u!==P);return Y}function yC(U,E){return Fp(U.prev,U,E.prev)<0&&Fp(E.next,U,U.next)<0}function IC(U,E,u,p){let z=U;do{if(z.z===0)z.z=_T(z.x,z.y,E,u,p);z.prevZ=z.prev,z.nextZ=z.next,z=z.next}while(z!==U);z.prevZ.nextZ=null,z.prevZ=null,OC(z)}function OC(U){let E,u=1;do{let p=U,z;U=null;let c=null;E=0;while(p){E++;let Y=p,P=0;for(let j=0;j<u;j++)if(P++,Y=Y.nextZ,!Y)break;let n=u;while(P>0||n>0&&Y){if(P!==0&&(n===0||!Y||p.z<=Y.z))z=p,p=p.nextZ,P--;else z=Y,Y=Y.nextZ,n--;if(c)c.nextZ=z;else U=z;z.prevZ=c,c=z}p=Y}c.nextZ=null,u*=2}while(E>1);return U}function _T(U,E,u,p,z){return U=(U-u)*z|0,E=(E-p)*z|0,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,E=(E|E<<8)&16711935,E=(E|E<<4)&252645135,E=(E|E<<2)&858993459,E=(E|E<<1)&1431655765,U|E<<1}function NC(U){let E=U,u=U;do{if(E.x<u.x||E.x===u.x&&E.y<u.y)u=E;E=E.next}while(E!==U);return u}function E3(U,E,u,p,z,c,Y,P){return(z-Y)*(E-P)>=(U-Y)*(c-P)&&(U-Y)*(p-P)>=(u-Y)*(E-P)&&(u-Y)*(c-P)>=(z-Y)*(p-P)}function _k(U,E,u,p,z,c,Y,P){return!(U===Y&&E===P)&&E3(U,E,u,p,z,c,Y,P)}function rC(U,E){return U.next.i!==E.i&&U.prev.i!==E.i&&!LC(U,E)&&(E9(U,E)&&E9(E,U)&&XC(U,E)&&(Fp(U.prev,U,E.prev)||Fp(U,E.prev,E))||hj(U,E)&&Fp(U.prev,U,U.next)>0&&Fp(E.prev,E,E.next)>0)}function Fp(U,E,u){return(E.y-U.y)*(u.x-E.x)-(E.x-U.x)*(u.y-E.y)}function hj(U,E){return U.x===E.x&&U.y===E.y}function u3(U,E,u,p){let z=e8(Fp(U,E,u)),c=e8(Fp(U,E,p)),Y=e8(Fp(u,p,U)),P=e8(Fp(u,p,E));if(z!==c&&Y!==P)return!0;if(z===0&&g8(U,u,E))return!0;if(c===0&&g8(U,p,E))return!0;if(Y===0&&g8(u,U,p))return!0;if(P===0&&g8(u,E,p))return!0;return!1}function g8(U,E,u){return E.x<=Math.max(U.x,u.x)&&E.x>=Math.min(U.x,u.x)&&E.y<=Math.max(U.y,u.y)&&E.y>=Math.min(U.y,u.y)}function e8(U){return U>0?1:U<0?-1:0}function LC(U,E){let u=U;do{if(u.i!==U.i&&u.next.i!==U.i&&u.i!==E.i&&u.next.i!==E.i&&u3(u,u.next,U,E))return!0;u=u.next}while(u!==U);return!1}function E9(U,E){return Fp(U.prev,U,U.next)<0?Fp(U,E,U.next)>=0&&Fp(U,U.prev,E)>=0:Fp(U,E,U.prev)<0||Fp(U,U.next,E)<0}function XC(U,E){let u=U,p=!1,z=(U.x+E.x)/2,c=(U.y+E.y)/2;do{if(u.y>c!==u.next.y>c&&u.next.y!==u.y&&z<(u.next.x-u.x)*(c-u.y)/(u.next.y-u.y)+u.x)p=!p;u=u.next}while(u!==U);return p}function p3(U,E){let u=gT(U.i,U.x,U.y),p=gT(E.i,E.x,E.y),z=U.next,c=E.prev;return U.next=E,E.prev=U,u.next=z,z.prev=u,p.next=u,u.prev=p,c.next=p,p.prev=c,p}function TR(U,E,u,p){let z=gT(U,E,u);if(!p)z.prev=z,z.next=z;else z.next=p.next,z.prev=p,p.next.prev=z,p.next=z;return z}function u9(U){if(U.next.prev=U.prev,U.prev.next=U.next,U.prevZ)U.prevZ.nextZ=U.nextZ;if(U.nextZ)U.nextZ.prevZ=U.prevZ}function gT(U,E,u){return{i:U,x:E,y:u,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function TC(U,E,u,p){let z=0;for(let c=E,Y=u-p;c<u;c+=p)z+=(U[Y]-U[c])*(U[c+1]+U[Y+1]),Y=c;return z}class z3{static triangulate(U,E,u=2){return PC(U,E,u)}}class J0{static area(U){let E=U.length,u=0;for(let p=E-1,z=0;z<E;p=z++)u+=U[p].x*U[z].y-U[z].x*U[p].y;return u*0.5}static isClockWise(U){return J0.area(U)<0}static triangulateShape(U,E){let u=[],p=[],z=[];oR(U),iR(u,U);let c=U.length;E.forEach(oR);for(let P=0;P<E.length;P++)p.push(c),c+=E[P].length,iR(u,E[P]);let Y=z3.triangulate(u,p);for(let P=0;P<Y.length;P+=3)z.push(Y.slice(P,P+3));return z}}function oR(U){let E=U.length;if(E>2&&U[E-1].equals(U[0]))U.pop()}function iR(U,E){for(let u=0;u<E.length;u++)U.push(E[u].x),U.push(E[u].y)}class h9 extends WE{constructor(U=new g4([new LU(0.5,0.5),new LU(-0.5,0.5),new LU(-0.5,-0.5),new LU(0.5,-0.5)]),E={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:U,options:E},U=Array.isArray(U)?U:[U];let u=this,p=[],z=[];for(let Y=0,P=U.length;Y<P;Y++){let n=U[Y];c(n)}this.setAttribute("position",new NE(p,3)),this.setAttribute("uv",new NE(z,2)),this.computeVertexNormals();function c(Y){let P=[],n=E.curveSegments!==void 0?E.curveSegments:12,j=E.steps!==void 0?E.steps:1,H=E.depth!==void 0?E.depth:1,k=E.bevelEnabled!==void 0?E.bevelEnabled:!0,Q=E.bevelThickness!==void 0?E.bevelThickness:0.2,y=E.bevelSize!==void 0?E.bevelSize:Q-0.1,r=E.bevelOffset!==void 0?E.bevelOffset:0,T=E.bevelSegments!==void 0?E.bevelSegments:3,N=E.extrudePath,O=E.UVGenerator!==void 0?E.UVGenerator:oC,L,X=!1,i,B,G,d;if(N){L=N.getSpacedPoints(j),X=!0,k=!1;let XU=N.isCatmullRomCurve3?N.closed:!1;i=N.computeFrenetFrames(j,XU),B=new b,G=new b,d=new b}if(!k)T=0,Q=0,y=0,r=0;let m=Y.extractPoints(n),V=m.shape,w=m.holes;if(!J0.isClockWise(V)){V=V.reverse();for(let XU=0,SU=w.length;XU<SU;XU++){let AU=w[XU];if(J0.isClockWise(AU))w[XU]=AU.reverse()}}function _(XU){let uE=XU[0];for(let l=1;l<=XU.length;l++){let bE=l%XU.length,pE=XU[bE],wE=pE.x-uE.x,gU=pE.y-uE.y,JE=wE*wE+gU*gU,t=Math.max(Math.abs(pE.x),Math.abs(pE.y),Math.abs(uE.x),Math.abs(uE.y)),S=0.000000000000000000010000000000000001*t*t;if(JE<=S){XU.splice(bE,1),l--;continue}uE=pE}}_(V),w.forEach(_);let f=w.length,a=V;for(let XU=0;XU<f;XU++){let SU=w[XU];V=V.concat(SU)}function uU(XU,SU,AU){if(!SU)SE("ExtrudeGeometry: vec does not exist");return XU.clone().addScaledVector(SU,AU)}let UU=V.length;function ZU(XU,SU,AU){let uE,l,bE,pE=XU.x-SU.x,wE=XU.y-SU.y,gU=AU.x-XU.x,JE=AU.y-XU.y,t=pE*pE+wE*wE,S=pE*JE-wE*gU;if(Math.abs(S)>Number.EPSILON){let pU=Math.sqrt(t),IU=Math.sqrt(gU*gU+JE*JE),oU=SU.x-wE/pU,kU=SU.y+pE/pU,xE=AU.x-JE/IU,bU=AU.y+gU/IU,VE=((xE-oU)*JE-(bU-kU)*gU)/(pE*JE-wE*gU);uE=oU+pE*VE-XU.x,l=kU+wE*VE-XU.y;let BE=uE*uE+l*l;if(BE<=2)return new LU(uE,l);else bE=Math.sqrt(BE/2)}else{let pU=!1;if(pE>Number.EPSILON){if(gU>Number.EPSILON)pU=!0}else if(pE<-Number.EPSILON){if(gU<-Number.EPSILON)pU=!0}else if(Math.sign(wE)===Math.sign(JE))pU=!0;if(pU)uE=-wE,l=pE,bE=Math.sqrt(t);else uE=pE,l=wE,bE=Math.sqrt(t/2)}return new LU(uE/bE,l/bE)}let EU=[];for(let XU=0,SU=a.length,AU=SU-1,uE=XU+1;XU<SU;XU++,AU++,uE++){if(AU===SU)AU=0;if(uE===SU)uE=0;EU[XU]=ZU(a[XU],a[AU],a[uE])}let OU=[],NU,yU=EU.concat();for(let XU=0,SU=f;XU<SU;XU++){let AU=w[XU];NU=[];for(let uE=0,l=AU.length,bE=l-1,pE=uE+1;uE<l;uE++,bE++,pE++){if(bE===l)bE=0;if(pE===l)pE=0;NU[uE]=ZU(AU[uE],AU[bE],AU[pE])}OU.push(NU),yU=yU.concat(NU)}let wU;if(T===0)wU=J0.triangulateShape(a,w);else{let XU=[],SU=[];for(let AU=0;AU<T;AU++){let uE=AU/T,l=Q*Math.cos(uE*Math.PI/2),bE=y*Math.sin(uE*Math.PI/2)+r;for(let pE=0,wE=a.length;pE<wE;pE++){let gU=uU(a[pE],EU[pE],bE);if(HE(gU.x,gU.y,-l),uE===0)XU.push(gU)}for(let pE=0,wE=f;pE<wE;pE++){let gU=w[pE];NU=OU[pE];let JE=[];for(let t=0,S=gU.length;t<S;t++){let pU=uU(gU[t],NU[t],bE);if(HE(pU.x,pU.y,-l),uE===0)JE.push(pU)}if(uE===0)SU.push(JE)}}wU=J0.triangulateShape(XU,SU)}let QE=wU.length,$E=y+r;for(let XU=0;XU<UU;XU++){let SU=k?uU(V[XU],yU[XU],$E):V[XU];if(!X)HE(SU.x,SU.y,0);else G.copy(i.normals[0]).multiplyScalar(SU.x),B.copy(i.binormals[0]).multiplyScalar(SU.y),d.copy(L[0]).add(G).add(B),HE(d.x,d.y,d.z)}for(let XU=1;XU<=j;XU++)for(let SU=0;SU<UU;SU++){let AU=k?uU(V[SU],yU[SU],$E):V[SU];if(!X)HE(AU.x,AU.y,H/j*XU);else G.copy(i.normals[XU]).multiplyScalar(AU.x),B.copy(i.binormals[XU]).multiplyScalar(AU.y),d.copy(L[XU]).add(G).add(B),HE(d.x,d.y,d.z)}for(let XU=T-1;XU>=0;XU--){let SU=XU/T,AU=Q*Math.cos(SU*Math.PI/2),uE=y*Math.sin(SU*Math.PI/2)+r;for(let l=0,bE=a.length;l<bE;l++){let pE=uU(a[l],EU[l],uE);HE(pE.x,pE.y,H+AU)}for(let l=0,bE=w.length;l<bE;l++){let pE=w[l];NU=OU[l];for(let wE=0,gU=pE.length;wE<gU;wE++){let JE=uU(pE[wE],NU[wE],uE);if(!X)HE(JE.x,JE.y,H+AU);else HE(JE.x,JE.y+L[j-1].y,L[j-1].x+AU)}}}PU(),vU();function PU(){let XU=p.length/3;if(k){let SU=0,AU=UU*SU;for(let uE=0;uE<QE;uE++){let l=wU[uE];yE(l[2]+AU,l[1]+AU,l[0]+AU)}SU=j+T*2,AU=UU*SU;for(let uE=0;uE<QE;uE++){let l=wU[uE];yE(l[0]+AU,l[1]+AU,l[2]+AU)}}else{for(let SU=0;SU<QE;SU++){let AU=wU[SU];yE(AU[2],AU[1],AU[0])}for(let SU=0;SU<QE;SU++){let AU=wU[SU];yE(AU[0]+UU*j,AU[1]+UU*j,AU[2]+UU*j)}}u.addGroup(XU,p.length/3-XU,0)}function vU(){let XU=p.length/3,SU=0;TU(a,SU),SU+=a.length;for(let AU=0,uE=w.length;AU<uE;AU++){let l=w[AU];TU(l,SU),SU+=l.length}u.addGroup(XU,p.length/3-XU,1)}function TU(XU,SU){let AU=XU.length;while(--AU>=0){let uE=AU,l=AU-1;if(l<0)l=XU.length-1;for(let bE=0,pE=j+T*2;bE<pE;bE++){let wE=UU*bE,gU=UU*(bE+1),JE=SU+uE+wE,t=SU+l+wE,S=SU+l+gU,pU=SU+uE+gU;DE(JE,t,S,pU)}}}function HE(XU,SU,AU){P.push(XU),P.push(SU),P.push(AU)}function yE(XU,SU,AU){Pu(XU),Pu(SU),Pu(AU);let uE=p.length/3,l=O.generateTopUV(u,p,uE-3,uE-2,uE-1);tE(l[0]),tE(l[1]),tE(l[2])}function DE(XU,SU,AU,uE){Pu(XU),Pu(SU),Pu(uE),Pu(SU),Pu(AU),Pu(uE);let l=p.length/3,bE=O.generateSideWallUV(u,p,l-6,l-3,l-2,l-1);tE(bE[0]),tE(bE[1]),tE(bE[3]),tE(bE[1]),tE(bE[2]),tE(bE[3])}function Pu(XU){p.push(P[XU*3+0]),p.push(P[XU*3+1]),p.push(P[XU*3+2])}function tE(XU){z.push(XU.x),z.push(XU.y)}}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}toJSON(){let U=super.toJSON(),E=this.parameters.shapes,u=this.parameters.options;return iC(E,u,U)}static fromJSON(U,E){let u=[];for(let z=0,c=U.shapes.length;z<c;z++){let Y=E[U.shapes[z]];u.push(Y)}let p=U.options.extrudePath;if(p!==void 0)U.options.extrudePath=new PI[p.type]().fromJSON(p);return new h9(u,U.options)}}var oC={generateTopUV:function(U,E,u,p,z){let c=E[u*3],Y=E[u*3+1],P=E[p*3],n=E[p*3+1],j=E[z*3],H=E[z*3+1];return[new LU(c,Y),new LU(P,n),new LU(j,H)]},generateSideWallUV:function(U,E,u,p,z,c){let Y=E[u*3],P=E[u*3+1],n=E[u*3+2],j=E[p*3],H=E[p*3+1],k=E[p*3+2],Q=E[z*3],y=E[z*3+1],r=E[z*3+2],T=E[c*3],N=E[c*3+1],O=E[c*3+2];if(Math.abs(P-H)<Math.abs(Y-j))return[new LU(Y,1-n),new LU(j,1-k),new LU(Q,1-r),new LU(T,1-O)];else return[new LU(P,1-n),new LU(H,1-k),new LU(y,1-r),new LU(N,1-O)]}};function iC(U,E,u){if(u.shapes=[],Array.isArray(U))for(let p=0,z=U.length;p<z;p++){let c=U[p];u.shapes.push(c.uuid)}else u.shapes.push(U.uuid);if(u.options=Object.assign({},E),E.extrudePath!==void 0)u.options.extrudePath=E.extrudePath.toJSON();return u}class kx extends cY{constructor(U=1,E=0){let u=(1+Math.sqrt(5))/2,p=[-1,u,0,1,u,0,-1,-u,0,1,-u,0,0,-1,u,0,1,u,0,-1,-u,0,1,-u,u,0,-1,u,0,1,-u,0,-1,-u,0,1],z=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(p,z,U,E);this.type="IcosahedronGeometry",this.parameters={radius:U,detail:E}}static fromJSON(U){return new kx(U.radius,U.detail)}}class b9 extends WE{constructor(U=[new LU(0,-0.5),new LU(0.5,0),new LU(0,0.5)],E=12,u=0,p=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:U,segments:E,phiStart:u,phiLength:p},E=Math.floor(E),p=sE(p,0,Math.PI*2);let z=[],c=[],Y=[],P=[],n=[],j=1/E,H=new b,k=new LU,Q=new b,y=new b,r=new b,T=0,N=0;for(let O=0;O<=U.length-1;O++)switch(O){case 0:T=U[O+1].x-U[O].x,N=U[O+1].y-U[O].y,Q.x=N*1,Q.y=-T,Q.z=N*0,r.copy(Q),Q.normalize(),P.push(Q.x,Q.y,Q.z);break;case U.length-1:P.push(r.x,r.y,r.z);break;default:T=U[O+1].x-U[O].x,N=U[O+1].y-U[O].y,Q.x=N*1,Q.y=-T,Q.z=N*0,y.copy(Q),Q.x+=r.x,Q.y+=r.y,Q.z+=r.z,Q.normalize(),P.push(Q.x,Q.y,Q.z),r.copy(y)}for(let O=0;O<=E;O++){let L=u+O*j*p,X=Math.sin(L),i=Math.cos(L);for(let B=0;B<=U.length-1;B++){H.x=U[B].x*X,H.y=U[B].y,H.z=U[B].x*i,c.push(H.x,H.y,H.z),k.x=O/E,k.y=B/(U.length-1),Y.push(k.x,k.y);let G=P[3*B+0]*X,d=P[3*B+1],m=P[3*B+0]*i;n.push(G,d,m)}}for(let O=0;O<E;O++)for(let L=0;L<U.length-1;L++){let X=L+O*U.length,i=X,B=X+U.length,G=X+U.length+1,d=X+1;z.push(i,B,d),z.push(G,d,B)}this.setIndex(z),this.setAttribute("position",new NE(c,3)),this.setAttribute("uv",new NE(Y,2)),this.setAttribute("normal",new NE(n,3))}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new b9(U.points,U.segments,U.phiStart,U.phiLength)}}class Zq extends cY{constructor(U=1,E=0){let u=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],p=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(u,p,U,E);this.type="OctahedronGeometry",this.parameters={radius:U,detail:E}}static fromJSON(U){return new Zq(U.radius,U.detail)}}class M0 extends WE{constructor(U=1,E=1,u=1,p=1){super();this.type="PlaneGeometry",this.parameters={width:U,height:E,widthSegments:u,heightSegments:p};let z=U/2,c=E/2,Y=Math.floor(u),P=Math.floor(p),n=Y+1,j=P+1,H=U/Y,k=E/P,Q=[],y=[],r=[],T=[];for(let N=0;N<j;N++){let O=N*k-c;for(let L=0;L<n;L++){let X=L*H-z;y.push(X,-O,0),r.push(0,0,1),T.push(L/Y),T.push(1-N/P)}}for(let N=0;N<P;N++)for(let O=0;O<Y;O++){let L=O+n*N,X=O+n*(N+1),i=O+1+n*(N+1),B=O+1+n*N;Q.push(L,X,B),Q.push(X,i,B)}this.setIndex(Q),this.setAttribute("position",new NE(y,3)),this.setAttribute("normal",new NE(r,3)),this.setAttribute("uv",new NE(T,2))}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new M0(U.width,U.height,U.widthSegments,U.heightSegments)}}class l9 extends WE{constructor(U=0.5,E=1,u=32,p=1,z=0,c=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:U,outerRadius:E,thetaSegments:u,phiSegments:p,thetaStart:z,thetaLength:c},u=Math.max(3,u),p=Math.max(1,p);let Y=[],P=[],n=[],j=[],H=U,k=(E-U)/p,Q=new b,y=new LU;for(let r=0;r<=p;r++){for(let T=0;T<=u;T++){let N=z+T/u*c;Q.x=H*Math.cos(N),Q.y=H*Math.sin(N),P.push(Q.x,Q.y,Q.z),n.push(0,0,1),y.x=(Q.x/E+1)/2,y.y=(Q.y/E+1)/2,j.push(y.x,y.y)}H+=k}for(let r=0;r<p;r++){let T=r*(u+1);for(let N=0;N<u;N++){let O=N+T,L=O,X=O+u+1,i=O+u+2,B=O+1;Y.push(L,X,B),Y.push(X,i,B)}}this.setIndex(Y),this.setAttribute("position",new NE(P,3)),this.setAttribute("normal",new NE(n,3)),this.setAttribute("uv",new NE(j,2))}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new l9(U.innerRadius,U.outerRadius,U.thetaSegments,U.phiSegments,U.thetaStart,U.thetaLength)}}class M9 extends WE{constructor(U=new g4([new LU(0,0.5),new LU(-0.5,-0.5),new LU(0.5,-0.5)]),E=12){super();this.type="ShapeGeometry",this.parameters={shapes:U,curveSegments:E};let u=[],p=[],z=[],c=[],Y=0,P=0;if(Array.isArray(U)===!1)n(U);else for(let j=0;j<U.length;j++)n(U[j]),this.addGroup(Y,P,j),Y+=P,P=0;this.setIndex(u),this.setAttribute("position",new NE(p,3)),this.setAttribute("normal",new NE(z,3)),this.setAttribute("uv",new NE(c,2));function n(j){let H=p.length/3,k=j.extractPoints(E),Q=k.shape,y=k.holes;if(J0.isClockWise(Q)===!1)Q=Q.reverse();for(let T=0,N=y.length;T<N;T++){let O=y[T];if(J0.isClockWise(O)===!0)y[T]=O.reverse()}let r=J0.triangulateShape(Q,y);for(let T=0,N=y.length;T<N;T++){let O=y[T];Q=Q.concat(O)}for(let T=0,N=Q.length;T<N;T++){let O=Q[T];p.push(O.x,O.y,0),z.push(0,0,1),c.push(O.x,O.y)}for(let T=0,N=r.length;T<N;T++){let O=r[T],L=O[0]+H,X=O[1]+H,i=O[2]+H;u.push(L,X,i),P+=3}}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}toJSON(){let U=super.toJSON(),E=this.parameters.shapes;return FC(E,U)}static fromJSON(U,E){let u=[];for(let p=0,z=U.shapes.length;p<z;p++){let c=E[U.shapes[p]];u.push(c)}return new M9(u,U.curveSegments)}}function FC(U,E){if(E.shapes=[],Array.isArray(U))for(let u=0,p=U.length;u<p;u++){let z=U[u];E.shapes.push(z.uuid)}else E.shapes.push(U.uuid);return E}class Pq extends WE{constructor(U=1,E=32,u=16,p=0,z=Math.PI*2,c=0,Y=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:U,widthSegments:E,heightSegments:u,phiStart:p,phiLength:z,thetaStart:c,thetaLength:Y},E=Math.max(3,Math.floor(E)),u=Math.max(2,Math.floor(u));let P=Math.min(c+Y,Math.PI),n=0,j=[],H=new b,k=new b,Q=[],y=[],r=[],T=[];for(let N=0;N<=u;N++){let O=[],L=N/u,X=0;if(N===0&&c===0)X=0.5/E;else if(N===u&&P===Math.PI)X=-0.5/E;for(let i=0;i<=E;i++){let B=i/E;H.x=-U*Math.cos(p+B*z)*Math.sin(c+L*Y),H.y=U*Math.cos(c+L*Y),H.z=U*Math.sin(p+B*z)*Math.sin(c+L*Y),y.push(H.x,H.y,H.z),k.copy(H).normalize(),r.push(k.x,k.y,k.z),T.push(B+X,1-L),O.push(n++)}j.push(O)}for(let N=0;N<u;N++)for(let O=0;O<E;O++){let L=j[N][O+1],X=j[N][O],i=j[N+1][O],B=j[N+1][O+1];if(N!==0||c>0)Q.push(L,X,B);if(N!==u-1||P<Math.PI)Q.push(X,i,B)}this.setIndex(Q),this.setAttribute("position",new NE(y,3)),this.setAttribute("normal",new NE(r,3)),this.setAttribute("uv",new NE(T,2))}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new Pq(U.radius,U.widthSegments,U.heightSegments,U.phiStart,U.phiLength,U.thetaStart,U.thetaLength)}}class W9 extends cY{constructor(U=1,E=0){let u=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],p=[2,1,0,0,3,2,1,3,0,2,3,1];super(u,p,U,E);this.type="TetrahedronGeometry",this.parameters={radius:U,detail:E}}static fromJSON(U){return new W9(U.radius,U.detail)}}class f9 extends WE{constructor(U=1,E=0.4,u=12,p=48,z=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:U,tube:E,radialSegments:u,tubularSegments:p,arc:z},u=Math.floor(u),p=Math.floor(p);let c=[],Y=[],P=[],n=[],j=new b,H=new b,k=new b;for(let Q=0;Q<=u;Q++)for(let y=0;y<=p;y++){let r=y/p*z,T=Q/u*Math.PI*2;H.x=(U+E*Math.cos(T))*Math.cos(r),H.y=(U+E*Math.cos(T))*Math.sin(r),H.z=E*Math.sin(T),Y.push(H.x,H.y,H.z),j.x=U*Math.cos(r),j.y=U*Math.sin(r),k.subVectors(H,j).normalize(),P.push(k.x,k.y,k.z),n.push(y/p),n.push(Q/u)}for(let Q=1;Q<=u;Q++)for(let y=1;y<=p;y++){let r=(p+1)*Q+y-1,T=(p+1)*(Q-1)+y-1,N=(p+1)*(Q-1)+y,O=(p+1)*Q+y;c.push(r,T,O),c.push(T,N,O)}this.setIndex(c),this.setAttribute("position",new NE(Y,3)),this.setAttribute("normal",new NE(P,3)),this.setAttribute("uv",new NE(n,2))}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new f9(U.radius,U.tube,U.radialSegments,U.tubularSegments,U.arc)}}class s9 extends WE{constructor(U=1,E=0.4,u=64,p=8,z=2,c=3){super();this.type="TorusKnotGeometry",this.parameters={radius:U,tube:E,tubularSegments:u,radialSegments:p,p:z,q:c},u=Math.floor(u),p=Math.floor(p);let Y=[],P=[],n=[],j=[],H=new b,k=new b,Q=new b,y=new b,r=new b,T=new b,N=new b;for(let L=0;L<=u;++L){let X=L/u*z*Math.PI*2;O(X,z,c,U,Q),O(X+0.01,z,c,U,y),T.subVectors(y,Q),N.addVectors(y,Q),r.crossVectors(T,N),N.crossVectors(r,T),r.normalize(),N.normalize();for(let i=0;i<=p;++i){let B=i/p*Math.PI*2,G=-E*Math.cos(B),d=E*Math.sin(B);H.x=Q.x+(G*N.x+d*r.x),H.y=Q.y+(G*N.y+d*r.y),H.z=Q.z+(G*N.z+d*r.z),P.push(H.x,H.y,H.z),k.subVectors(H,Q).normalize(),n.push(k.x,k.y,k.z),j.push(L/u),j.push(i/p)}}for(let L=1;L<=u;L++)for(let X=1;X<=p;X++){let i=(p+1)*(L-1)+(X-1),B=(p+1)*L+(X-1),G=(p+1)*L+X,d=(p+1)*(L-1)+X;Y.push(i,B,d),Y.push(B,G,d)}this.setIndex(Y),this.setAttribute("position",new NE(P,3)),this.setAttribute("normal",new NE(n,3)),this.setAttribute("uv",new NE(j,2));function O(L,X,i,B,G){let d=Math.cos(L),m=Math.sin(L),V=i/X*L,w=Math.cos(V);G.x=B*(2+w)*0.5*d,G.y=B*(2+w)*m*0.5,G.z=B*Math.sin(V)*0.5}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}static fromJSON(U){return new s9(U.radius,U.tube,U.tubularSegments,U.radialSegments,U.p,U.q)}}class K9 extends WE{constructor(U=new t9(new b(-1,-1,0),new b(-1,1,0),new b(1,1,0)),E=64,u=1,p=8,z=!1){super();this.type="TubeGeometry",this.parameters={path:U,tubularSegments:E,radius:u,radialSegments:p,closed:z};let c=U.computeFrenetFrames(E,z);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;let Y=new b,P=new b,n=new LU,j=new b,H=[],k=[],Q=[],y=[];r(),this.setIndex(y),this.setAttribute("position",new NE(H,3)),this.setAttribute("normal",new NE(k,3)),this.setAttribute("uv",new NE(Q,2));function r(){for(let L=0;L<E;L++)T(L);T(z===!1?E:0),O(),N()}function T(L){j=U.getPointAt(L/E,j);let X=c.normals[L],i=c.binormals[L];for(let B=0;B<=p;B++){let G=B/p*Math.PI*2,d=Math.sin(G),m=-Math.cos(G);P.x=m*X.x+d*i.x,P.y=m*X.y+d*i.y,P.z=m*X.z+d*i.z,P.normalize(),k.push(P.x,P.y,P.z),Y.x=j.x+u*P.x,Y.y=j.y+u*P.y,Y.z=j.z+u*P.z,H.push(Y.x,Y.y,Y.z)}}function N(){for(let L=1;L<=E;L++)for(let X=1;X<=p;X++){let i=(p+1)*(L-1)+(X-1),B=(p+1)*L+(X-1),G=(p+1)*L+X,d=(p+1)*(L-1)+X;y.push(i,B,d),y.push(B,G,d)}}function O(){for(let L=0;L<=E;L++)for(let X=0;X<=p;X++)n.x=L/E,n.y=X/p,Q.push(n.x,n.y)}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}toJSON(){let U=super.toJSON();return U.path=this.parameters.path.toJSON(),U}static fromJSON(U){return new K9(new PI[U.path.type]().fromJSON(U.path),U.tubularSegments,U.radius,U.radialSegments,U.closed)}}class rO extends WE{constructor(U=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:U},U!==null){let E=[],u=new Set,p=new b,z=new b;if(U.index!==null){let c=U.attributes.position,Y=U.index,P=U.groups;if(P.length===0)P=[{start:0,count:Y.count,materialIndex:0}];for(let n=0,j=P.length;n<j;++n){let H=P[n],k=H.start,Q=H.count;for(let y=k,r=k+Q;y<r;y+=3)for(let T=0;T<3;T++){let N=Y.getX(y+T),O=Y.getX(y+(T+1)%3);if(p.fromBufferAttribute(c,N),z.fromBufferAttribute(c,O),FR(p,z,u)===!0)E.push(p.x,p.y,p.z),E.push(z.x,z.y,z.z)}}}else{let c=U.attributes.position;for(let Y=0,P=c.count/3;Y<P;Y++)for(let n=0;n<3;n++){let j=3*Y+n,H=3*Y+(n+1)%3;if(p.fromBufferAttribute(c,j),z.fromBufferAttribute(c,H),FR(p,z,u)===!0)E.push(p.x,p.y,p.z),E.push(z.x,z.y,z.z)}}this.setAttribute("position",new NE(E,3))}}copy(U){return super.copy(U),this.parameters=Object.assign({},U.parameters),this}}function FR(U,E,u){let p=`${U.x},${U.y},${U.z}-${E.x},${E.y},${E.z}`,z=`${E.x},${E.y},${E.z}-${U.x},${U.y},${U.z}`;if(u.has(p)===!0||u.has(z)===!0)return!1;else return u.add(p),u.add(z),!0}var AR=Object.freeze({__proto__:null,BoxGeometry:pY,CapsuleGeometry:d9,CircleGeometry:w9,ConeGeometry:cq,CylinderGeometry:zq,DodecahedronGeometry:v9,EdgesGeometry:QO,ExtrudeGeometry:h9,IcosahedronGeometry:kx,LatheGeometry:b9,OctahedronGeometry:Zq,PlaneGeometry:M0,PolyhedronGeometry:cY,RingGeometry:l9,ShapeGeometry:M9,SphereGeometry:Pq,TetrahedronGeometry:W9,TorusGeometry:f9,TorusKnotGeometry:s9,TubeGeometry:K9,WireframeGeometry:rO});class LO extends Rp{constructor(U){super();this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new EE(0),this.transparent=!0,this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.color.copy(U.color),this.fog=U.fog,this}}class a9 extends Ap{constructor(U){super(U);this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class GZ extends Rp{constructor(U){super();this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new EE(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new EE(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new LU(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new e5,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.defines={STANDARD:""},this.color.copy(U.color),this.roughness=U.roughness,this.metalness=U.metalness,this.map=U.map,this.lightMap=U.lightMap,this.lightMapIntensity=U.lightMapIntensity,this.aoMap=U.aoMap,this.aoMapIntensity=U.aoMapIntensity,this.emissive.copy(U.emissive),this.emissiveMap=U.emissiveMap,this.emissiveIntensity=U.emissiveIntensity,this.bumpMap=U.bumpMap,this.bumpScale=U.bumpScale,this.normalMap=U.normalMap,this.normalMapType=U.normalMapType,this.normalScale.copy(U.normalScale),this.displacementMap=U.displacementMap,this.displacementScale=U.displacementScale,this.displacementBias=U.displacementBias,this.roughnessMap=U.roughnessMap,this.metalnessMap=U.metalnessMap,this.alphaMap=U.alphaMap,this.envMap=U.envMap,this.envMapRotation.copy(U.envMapRotation),this.envMapIntensity=U.envMapIntensity,this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this.wireframeLinecap=U.wireframeLinecap,this.wireframeLinejoin=U.wireframeLinejoin,this.flatShading=U.flatShading,this.fog=U.fog,this}}class nz extends GZ{constructor(U){super();this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new LU(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return sE(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(E){this.ior=(1+0.4*E)/(1-0.4*E)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new EE(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new EE(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new EE(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(U)}get anisotropy(){return this._anisotropy}set anisotropy(U){if(this._anisotropy>0!==U>0)this.version++;this._anisotropy=U}get clearcoat(){return this._clearcoat}set clearcoat(U){if(this._clearcoat>0!==U>0)this.version++;this._clearcoat=U}get iridescence(){return this._iridescence}set iridescence(U){if(this._iridescence>0!==U>0)this.version++;this._iridescence=U}get dispersion(){return this._dispersion}set dispersion(U){if(this._dispersion>0!==U>0)this.version++;this._dispersion=U}get sheen(){return this._sheen}set sheen(U){if(this._sheen>0!==U>0)this.version++;this._sheen=U}get transmission(){return this._transmission}set transmission(U){if(this._transmission>0!==U>0)this.version++;this._transmission=U}copy(U){return super.copy(U),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=U.anisotropy,this.anisotropyRotation=U.anisotropyRotation,this.anisotropyMap=U.anisotropyMap,this.clearcoat=U.clearcoat,this.clearcoatMap=U.clearcoatMap,this.clearcoatRoughness=U.clearcoatRoughness,this.clearcoatRoughnessMap=U.clearcoatRoughnessMap,this.clearcoatNormalMap=U.clearcoatNormalMap,this.clearcoatNormalScale.copy(U.clearcoatNormalScale),this.dispersion=U.dispersion,this.ior=U.ior,this.iridescence=U.iridescence,this.iridescenceMap=U.iridescenceMap,this.iridescenceIOR=U.iridescenceIOR,this.iridescenceThicknessRange=[...U.iridescenceThicknessRange],this.iridescenceThicknessMap=U.iridescenceThicknessMap,this.sheen=U.sheen,this.sheenColor.copy(U.sheenColor),this.sheenColorMap=U.sheenColorMap,this.sheenRoughness=U.sheenRoughness,this.sheenRoughnessMap=U.sheenRoughnessMap,this.transmission=U.transmission,this.transmissionMap=U.transmissionMap,this.thickness=U.thickness,this.thicknessMap=U.thicknessMap,this.attenuationDistance=U.attenuationDistance,this.attenuationColor.copy(U.attenuationColor),this.specularIntensity=U.specularIntensity,this.specularIntensityMap=U.specularIntensityMap,this.specularColor.copy(U.specularColor),this.specularColorMap=U.specularColorMap,this}}class XO extends Rp{constructor(U){super();this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new EE(16777215),this.specular=new EE(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new EE(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new LU(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new e5,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.color.copy(U.color),this.specular.copy(U.specular),this.shininess=U.shininess,this.map=U.map,this.lightMap=U.lightMap,this.lightMapIntensity=U.lightMapIntensity,this.aoMap=U.aoMap,this.aoMapIntensity=U.aoMapIntensity,this.emissive.copy(U.emissive),this.emissiveMap=U.emissiveMap,this.emissiveIntensity=U.emissiveIntensity,this.bumpMap=U.bumpMap,this.bumpScale=U.bumpScale,this.normalMap=U.normalMap,this.normalMapType=U.normalMapType,this.normalScale.copy(U.normalScale),this.displacementMap=U.displacementMap,this.displacementScale=U.displacementScale,this.displacementBias=U.displacementBias,this.specularMap=U.specularMap,this.alphaMap=U.alphaMap,this.envMap=U.envMap,this.envMapRotation.copy(U.envMapRotation),this.combine=U.combine,this.reflectivity=U.reflectivity,this.refractionRatio=U.refractionRatio,this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this.wireframeLinecap=U.wireframeLinecap,this.wireframeLinejoin=U.wireframeLinejoin,this.flatShading=U.flatShading,this.fog=U.fog,this}}class TO extends Rp{constructor(U){super();this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new EE(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new EE(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new LU(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.color.copy(U.color),this.map=U.map,this.gradientMap=U.gradientMap,this.lightMap=U.lightMap,this.lightMapIntensity=U.lightMapIntensity,this.aoMap=U.aoMap,this.aoMapIntensity=U.aoMapIntensity,this.emissive.copy(U.emissive),this.emissiveMap=U.emissiveMap,this.emissiveIntensity=U.emissiveIntensity,this.bumpMap=U.bumpMap,this.bumpScale=U.bumpScale,this.normalMap=U.normalMap,this.normalMapType=U.normalMapType,this.normalScale.copy(U.normalScale),this.displacementMap=U.displacementMap,this.displacementScale=U.displacementScale,this.displacementBias=U.displacementBias,this.alphaMap=U.alphaMap,this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this.wireframeLinecap=U.wireframeLinecap,this.wireframeLinejoin=U.wireframeLinejoin,this.fog=U.fog,this}}class oO extends Rp{constructor(U){super();this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new LU(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(U)}copy(U){return super.copy(U),this.bumpMap=U.bumpMap,this.bumpScale=U.bumpScale,this.normalMap=U.normalMap,this.normalMapType=U.normalMapType,this.normalScale.copy(U.normalScale),this.displacementMap=U.displacementMap,this.displacementScale=U.displacementScale,this.displacementBias=U.displacementBias,this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this.flatShading=U.flatShading,this}}class iO extends Rp{constructor(U){super();this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new EE(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new EE(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new LU(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new e5,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.color.copy(U.color),this.map=U.map,this.lightMap=U.lightMap,this.lightMapIntensity=U.lightMapIntensity,this.aoMap=U.aoMap,this.aoMapIntensity=U.aoMapIntensity,this.emissive.copy(U.emissive),this.emissiveMap=U.emissiveMap,this.emissiveIntensity=U.emissiveIntensity,this.bumpMap=U.bumpMap,this.bumpScale=U.bumpScale,this.normalMap=U.normalMap,this.normalMapType=U.normalMapType,this.normalScale.copy(U.normalScale),this.displacementMap=U.displacementMap,this.displacementScale=U.displacementScale,this.displacementBias=U.displacementBias,this.specularMap=U.specularMap,this.alphaMap=U.alphaMap,this.envMap=U.envMap,this.envMapRotation.copy(U.envMapRotation),this.combine=U.combine,this.reflectivity=U.reflectivity,this.refractionRatio=U.refractionRatio,this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this.wireframeLinecap=U.wireframeLinecap,this.wireframeLinejoin=U.wireframeLinejoin,this.flatShading=U.flatShading,this.fog=U.fog,this}}class Qx extends Rp{constructor(U){super();this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(U)}copy(U){return super.copy(U),this.depthPacking=U.depthPacking,this.map=U.map,this.alphaMap=U.alphaMap,this.displacementMap=U.displacementMap,this.displacementScale=U.displacementScale,this.displacementBias=U.displacementBias,this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this}}class _9 extends Rp{constructor(U){super();this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(U)}copy(U){return super.copy(U),this.map=U.map,this.alphaMap=U.alphaMap,this.displacementMap=U.displacementMap,this.displacementScale=U.displacementScale,this.displacementBias=U.displacementBias,this}}class FO extends Rp{constructor(U){super();this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new EE(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new LU(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(U)}copy(U){return super.copy(U),this.defines={MATCAP:""},this.color.copy(U.color),this.matcap=U.matcap,this.map=U.map,this.bumpMap=U.bumpMap,this.bumpScale=U.bumpScale,this.normalMap=U.normalMap,this.normalMapType=U.normalMapType,this.normalScale.copy(U.normalScale),this.displacementMap=U.displacementMap,this.displacementScale=U.displacementScale,this.displacementBias=U.displacementBias,this.alphaMap=U.alphaMap,this.wireframe=U.wireframe,this.wireframeLinewidth=U.wireframeLinewidth,this.flatShading=U.flatShading,this.fog=U.fog,this}}class AO extends q5{constructor(U){super();this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(U)}copy(U){return super.copy(U),this.scale=U.scale,this.dashSize=U.dashSize,this.gapSize=U.gapSize,this}}function KP(U,E){if(!U||U.constructor===E)return U;if(typeof E.BYTES_PER_ELEMENT==="number")return new E(U);return Array.prototype.slice.call(U)}function c3(U){function E(z,c){return U[z]-U[c]}let u=U.length,p=new Array(u);for(let z=0;z!==u;++z)p[z]=z;return p.sort(E),p}function eT(U,E,u){let p=U.length,z=new U.constructor(p);for(let c=0,Y=0;Y!==p;++c){let P=u[c]*E;for(let n=0;n!==E;++n)z[Y++]=U[P+n]}return z}function p1(U,E,u,p){let z=1,c=U[0];while(c!==void 0&&c[p]===void 0)c=U[z++];if(c===void 0)return;let Y=c[p];if(Y===void 0)return;if(Array.isArray(Y))do{if(Y=c[p],Y!==void 0)E.push(c.time),u.push(...Y);c=U[z++]}while(c!==void 0);else if(Y.toArray!==void 0)do{if(Y=c[p],Y!==void 0)E.push(c.time),Y.toArray(u,u.length);c=U[z++]}while(c!==void 0);else do{if(Y=c[p],Y!==void 0)E.push(c.time),u.push(Y);c=U[z++]}while(c!==void 0)}function AC(U,E,u,p,z=30){let c=U.clone();c.name=E;let Y=[];for(let n=0;n<c.tracks.length;++n){let j=c.tracks[n],H=j.getValueSize(),k=[],Q=[];for(let y=0;y<j.times.length;++y){let r=j.times[y]*z;if(r<u||r>=p)continue;k.push(j.times[y]);for(let T=0;T<H;++T)Q.push(j.values[y*H+T])}if(k.length===0)continue;j.times=KP(k,j.times.constructor),j.values=KP(Q,j.values.constructor),Y.push(j)}c.tracks=Y;let P=1/0;for(let n=0;n<c.tracks.length;++n)if(P>c.tracks[n].times[0])P=c.tracks[n].times[0];for(let n=0;n<c.tracks.length;++n)c.tracks[n].shift(-1*P);return c.resetDuration(),c}function mC(U,E=0,u=U,p=30){if(p<=0)p=30;let z=u.tracks.length,c=E/p;for(let Y=0;Y<z;++Y){let P=u.tracks[Y],n=P.ValueTypeName;if(n==="bool"||n==="string")continue;let j=U.tracks.find(function(O){return O.name===P.name&&O.ValueTypeName===n});if(j===void 0)continue;let H=0,k=P.getValueSize();if(P.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)H=k/3;let Q=0,y=j.getValueSize();if(j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)Q=y/3;let r=P.times.length-1,T;if(c<=P.times[0]){let O=H,L=k-H;T=P.values.slice(O,L)}else if(c>=P.times[r]){let O=r*k+H,L=O+k-H;T=P.values.slice(O,L)}else{let O=P.createInterpolant(),L=H,X=k-H;O.evaluate(c),T=O.resultBuffer.slice(L,X)}if(n==="quaternion")new np().fromArray(T).normalize().conjugate().toArray(T);let N=j.times.length;for(let O=0;O<N;++O){let L=O*y+Q;if(n==="quaternion")np.multiplyQuaternionsFlat(j.values,L,T,0,j.values,L);else{let X=y-Q*2;for(let i=0;i<X;++i)j.values[L+i]-=T[i]}}}return U.blendMode=2501,U}class z1{static convertArray(U,E){return KP(U,E)}static isTypedArray(U){return sD(U)}static getKeyframeOrder(U){return c3(U)}static sortedArray(U,E,u){return eT(U,E,u)}static flattenJSON(U,E,u,p){p1(U,E,u,p)}static subclip(U,E,u,p,z=30){return AC(U,E,u,p,z)}static makeClipAdditive(U,E=0,u=U,p=30){return mC(U,E,u,p)}}class YY{constructor(U,E,u,p){this.parameterPositions=U,this._cachedIndex=0,this.resultBuffer=p!==void 0?p:new E.constructor(u),this.sampleValues=E,this.valueSize=u,this.settings=null,this.DefaultSettings_={}}evaluate(U){let E=this.parameterPositions,u=this._cachedIndex,p=E[u],z=E[u-1];U:{E:{let c;u:{p:if(!(U<p)){for(let Y=u+2;;){if(p===void 0){if(U<z)break p;return u=E.length,this._cachedIndex=u,this.copySampleValue_(u-1)}if(u===Y)break;if(z=p,p=E[++u],U<p)break E}c=E.length;break u}if(!(U>=z)){let Y=E[1];if(U<Y)u=2,z=Y;for(let P=u-2;;){if(z===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(u===P)break;if(p=z,z=E[--u-1],U>=z)break E}c=u,u=0;break u}break U}while(u<c){let Y=u+c>>>1;if(U<E[Y])c=Y;else u=Y+1}if(p=E[u],z=E[u-1],z===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(p===void 0)return u=E.length,this._cachedIndex=u,this.copySampleValue_(u-1)}this._cachedIndex=u,this.intervalChanged_(u,z,p)}return this.interpolate_(u,z,U,p)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(U){let E=this.resultBuffer,u=this.sampleValues,p=this.valueSize,z=U*p;for(let c=0;c!==p;++c)E[c]=u[z+c];return E}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mO extends YY{constructor(U,E,u,p){super(U,E,u,p);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(U,E,u){let p=this.parameterPositions,z=U-2,c=U+1,Y=p[z],P=p[c];if(Y===void 0)switch(this.getSettings_().endingStart){case 2401:z=U,Y=2*E-u;break;case 2402:z=p.length-2,Y=E+p[z]-p[z+1];break;default:z=U,Y=u}if(P===void 0)switch(this.getSettings_().endingEnd){case 2401:c=U,P=2*u-E;break;case 2402:c=1,P=u+p[1]-p[0];break;default:c=U-1,P=E}let n=(u-E)*0.5,j=this.valueSize;this._weightPrev=n/(E-Y),this._weightNext=n/(P-u),this._offsetPrev=z*j,this._offsetNext=c*j}interpolate_(U,E,u,p){let z=this.resultBuffer,c=this.sampleValues,Y=this.valueSize,P=U*Y,n=P-Y,j=this._offsetPrev,H=this._offsetNext,k=this._weightPrev,Q=this._weightNext,y=(u-E)/(p-E),r=y*y,T=r*y,N=-k*T+2*k*r-k*y,O=(1+k)*T+(-1.5-2*k)*r+(-0.5+k)*y+1,L=(-1-Q)*T+(1.5+Q)*r+0.5*y,X=Q*T-Q*r;for(let i=0;i!==Y;++i)z[i]=N*c[j+i]+O*c[n+i]+L*c[P+i]+X*c[H+i];return z}}class g9 extends YY{constructor(U,E,u,p){super(U,E,u,p)}interpolate_(U,E,u,p){let z=this.resultBuffer,c=this.sampleValues,Y=this.valueSize,P=U*Y,n=P-Y,j=(u-E)/(p-E),H=1-j;for(let k=0;k!==Y;++k)z[k]=c[n+k]*H+c[P+k]*j;return z}}class VO extends YY{constructor(U,E,u,p){super(U,E,u,p)}interpolate_(U){return this.copySampleValue_(U-1)}}class vz{constructor(U,E,u,p){if(U===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(E===void 0||E.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+U);this.name=U,this.times=KP(E,this.TimeBufferType),this.values=KP(u,this.ValueBufferType),this.setInterpolation(p||this.DefaultInterpolation)}static toJSON(U){let E=U.constructor,u;if(E.toJSON!==this.toJSON)u=E.toJSON(U);else{u={name:U.name,times:KP(U.times,Array),values:KP(U.values,Array)};let p=U.getInterpolation();if(p!==U.DefaultInterpolation)u.interpolation=p}return u.type=U.ValueTypeName,u}InterpolantFactoryMethodDiscrete(U){return new VO(this.times,this.values,this.getValueSize(),U)}InterpolantFactoryMethodLinear(U){return new g9(this.times,this.values,this.getValueSize(),U)}InterpolantFactoryMethodSmooth(U){return new mO(this.times,this.values,this.getValueSize(),U)}setInterpolation(U){let E;switch(U){case 2300:E=this.InterpolantFactoryMethodDiscrete;break;case 2301:E=this.InterpolantFactoryMethodLinear;break;case 2302:E=this.InterpolantFactoryMethodSmooth;break}if(E===void 0){let u="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(U!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(u);return PE("KeyframeTrack:",u),this}return this.createInterpolant=E,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(U){if(U!==0){let E=this.times;for(let u=0,p=E.length;u!==p;++u)E[u]+=U}return this}scale(U){if(U!==1){let E=this.times;for(let u=0,p=E.length;u!==p;++u)E[u]*=U}return this}trim(U,E){let u=this.times,p=u.length,z=0,c=p-1;while(z!==p&&u[z]<U)++z;while(c!==-1&&u[c]>E)--c;if(++c,z!==0||c!==p){if(z>=c)c=Math.max(c,1),z=c-1;let Y=this.getValueSize();this.times=u.slice(z,c),this.values=this.values.slice(z*Y,c*Y)}return this}validate(){let U=!0,E=this.getValueSize();if(E-Math.floor(E)!==0)SE("KeyframeTrack: Invalid value size in track.",this),U=!1;let u=this.times,p=this.values,z=u.length;if(z===0)SE("KeyframeTrack: Track is empty.",this),U=!1;let c=null;for(let Y=0;Y!==z;Y++){let P=u[Y];if(typeof P==="number"&&isNaN(P)){SE("KeyframeTrack: Time is not a valid number.",this,Y,P),U=!1;break}if(c!==null&&c>P){SE("KeyframeTrack: Out of order keys.",this,Y,P,c),U=!1;break}c=P}if(p!==void 0){if(sD(p))for(let Y=0,P=p.length;Y!==P;++Y){let n=p[Y];if(isNaN(n)){SE("KeyframeTrack: Value is not a valid number.",this,Y,n),U=!1;break}}}return U}optimize(){let U=this.times.slice(),E=this.values.slice(),u=this.getValueSize(),p=this.getInterpolation()===2302,z=U.length-1,c=1;for(let Y=1;Y<z;++Y){let P=!1,n=U[Y],j=U[Y+1];if(n!==j&&(Y!==1||n!==U[0]))if(!p){let H=Y*u,k=H-u,Q=H+u;for(let y=0;y!==u;++y){let r=E[H+y];if(r!==E[k+y]||r!==E[Q+y]){P=!0;break}}}else P=!0;if(P){if(Y!==c){U[c]=U[Y];let H=Y*u,k=c*u;for(let Q=0;Q!==u;++Q)E[k+Q]=E[H+Q]}++c}}if(z>0){U[c]=U[z];for(let Y=z*u,P=c*u,n=0;n!==u;++n)E[P+n]=E[Y+n];++c}if(c!==U.length)this.times=U.slice(0,c),this.values=E.slice(0,c*u);else this.times=U,this.values=E;return this}clone(){let U=this.times.slice(),E=this.values.slice(),p=new this.constructor(this.name,U,E);return p.createInterpolant=this.createInterpolant,p}}vz.prototype.ValueTypeName="";vz.prototype.TimeBufferType=Float32Array;vz.prototype.ValueBufferType=Float32Array;vz.prototype.DefaultInterpolation=2301;class ZY extends vz{constructor(U,E,u){super(U,E,u)}}ZY.prototype.ValueTypeName="bool";ZY.prototype.ValueBufferType=Array;ZY.prototype.DefaultInterpolation=2300;ZY.prototype.InterpolantFactoryMethodLinear=void 0;ZY.prototype.InterpolantFactoryMethodSmooth=void 0;class e9 extends vz{constructor(U,E,u,p){super(U,E,u,p)}}e9.prototype.ValueTypeName="color";class sc extends vz{constructor(U,E,u,p){super(U,E,u,p)}}sc.prototype.ValueTypeName="number";class GO extends YY{constructor(U,E,u,p){super(U,E,u,p)}interpolate_(U,E,u,p){let z=this.resultBuffer,c=this.sampleValues,Y=this.valueSize,P=(u-E)/(p-E),n=U*Y;for(let j=n+Y;n!==j;n+=4)np.slerpFlat(z,0,c,n-Y,c,n,P);return z}}class ec extends vz{constructor(U,E,u,p){super(U,E,u,p)}InterpolantFactoryMethodLinear(U){return new GO(this.times,this.values,this.getValueSize(),U)}}ec.prototype.ValueTypeName="quaternion";ec.prototype.InterpolantFactoryMethodSmooth=void 0;class PY extends vz{constructor(U,E,u){super(U,E,u)}}PY.prototype.ValueTypeName="string";PY.prototype.ValueBufferType=Array;PY.prototype.DefaultInterpolation=2300;PY.prototype.InterpolantFactoryMethodLinear=void 0;PY.prototype.InterpolantFactoryMethodSmooth=void 0;class Kc extends vz{constructor(U,E,u,p){super(U,E,u,p)}}Kc.prototype.ValueTypeName="vector";class e4{constructor(U="",E=-1,u=[],p=2500){if(this.name=U,this.tracks=u,this.duration=E,this.blendMode=p,this.uuid=P0(),this.userData={},this.duration<0)this.resetDuration()}static parse(U){let E=[],u=U.tracks,p=1/(U.fps||1);for(let c=0,Y=u.length;c!==Y;++c)E.push(GC(u[c]).scale(p));let z=new this(U.name,U.duration,E,U.blendMode);return z.uuid=U.uuid,z.userData=JSON.parse(U.userData||"{}"),z}static toJSON(U){let E=[],u=U.tracks,p={name:U.name,duration:U.duration,tracks:E,uuid:U.uuid,blendMode:U.blendMode,userData:JSON.stringify(U.userData)};for(let z=0,c=u.length;z!==c;++z)E.push(vz.toJSON(u[z]));return p}static CreateFromMorphTargetSequence(U,E,u,p){let z=E.length,c=[];for(let Y=0;Y<z;Y++){let P=[],n=[];P.push((Y+z-1)%z,Y,(Y+1)%z),n.push(0,1,0);let j=c3(P);if(P=eT(P,1,j),n=eT(n,1,j),!p&&P[0]===0)P.push(z),n.push(n[0]);c.push(new sc(".morphTargetInfluences["+E[Y].name+"]",P,n).scale(1/u))}return new this(U,-1,c)}static findByName(U,E){let u=U;if(!Array.isArray(U)){let p=U;u=p.geometry&&p.geometry.animations||p.animations}for(let p=0;p<u.length;p++)if(u[p].name===E)return u[p];return null}static CreateClipsFromMorphTargetSequences(U,E,u){let p={},z=/^([\w-]*?)([\d]+)$/;for(let Y=0,P=U.length;Y<P;Y++){let n=U[Y],j=n.name.match(z);if(j&&j.length>1){let H=j[1],k=p[H];if(!k)p[H]=k=[];k.push(n)}}let c=[];for(let Y in p)c.push(this.CreateFromMorphTargetSequence(Y,p[Y],E,u));return c}static parseAnimation(U,E){if(PE("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!U)return SE("AnimationClip: No animation in JSONLoader data."),null;let u=function(H,k,Q,y,r){if(Q.length!==0){let T=[],N=[];if(p1(Q,T,N,y),T.length!==0)r.push(new H(k,T,N))}},p=[],z=U.name||"default",c=U.fps||30,Y=U.blendMode,P=U.length||-1,n=U.hierarchy||[];for(let H=0;H<n.length;H++){let k=n[H].keys;if(!k||k.length===0)continue;if(k[0].morphTargets){let Q={},y;for(y=0;y<k.length;y++)if(k[y].morphTargets)for(let r=0;r<k[y].morphTargets.length;r++)Q[k[y].morphTargets[r]]=-1;for(let r in Q){let T=[],N=[];for(let O=0;O!==k[y].morphTargets.length;++O){let L=k[y];T.push(L.time),N.push(L.morphTarget===r?1:0)}p.push(new sc(".morphTargetInfluence["+r+"]",T,N))}P=Q.length*c}else{let Q=".bones["+E[H].name+"]";u(Kc,Q+".position",k,"pos",p),u(ec,Q+".quaternion",k,"rot",p),u(Kc,Q+".scale",k,"scl",p)}}if(p.length===0)return null;return new this(z,P,p,Y)}resetDuration(){let U=this.tracks,E=0;for(let u=0,p=U.length;u!==p;++u){let z=this.tracks[u];E=Math.max(E,z.times[z.times.length-1])}return this.duration=E,this}trim(){for(let U=0;U<this.tracks.length;U++)this.tracks[U].trim(0,this.duration);return this}validate(){let U=!0;for(let E=0;E<this.tracks.length;E++)U=U&&this.tracks[E].validate();return U}optimize(){for(let U=0;U<this.tracks.length;U++)this.tracks[U].optimize();return this}clone(){let U=[];for(let u=0;u<this.tracks.length;u++)U.push(this.tracks[u].clone());let E=new this.constructor(this.name,this.duration,U,this.blendMode);return E.userData=JSON.parse(JSON.stringify(this.userData)),E}toJSON(){return this.constructor.toJSON(this)}}function VC(U){switch(U.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return sc;case"vector":case"vector2":case"vector3":case"vector4":return Kc;case"color":return e9;case"quaternion":return ec;case"bool":case"boolean":return ZY;case"string":return PY}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+U)}function GC(U){if(U.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let E=VC(U.type);if(U.times===void 0){let u=[],p=[];p1(U.keys,u,p,"value"),U.times=u,U.values=p}if(E.parse!==void 0)return E.parse(U);else return new E(U.name,U.times,U.values,U.interpolation)}var qc={enabled:!1,files:{},add:function(U,E){if(this.enabled===!1)return;this.files[U]=E},get:function(U){if(this.enabled===!1)return;return this.files[U]},remove:function(U){delete this.files[U]},clear:function(){this.files={}}};class $x{constructor(U,E,u){let p=this,z=!1,c=0,Y=0,P=void 0,n=[];this.onStart=void 0,this.onLoad=U,this.onProgress=E,this.onError=u,this._abortController=null,this.itemStart=function(j){if(Y++,z===!1){if(p.onStart!==void 0)p.onStart(j,c,Y)}z=!0},this.itemEnd=function(j){if(c++,p.onProgress!==void 0)p.onProgress(j,c,Y);if(c===Y){if(z=!1,p.onLoad!==void 0)p.onLoad()}},this.itemError=function(j){if(p.onError!==void 0)p.onError(j)},this.resolveURL=function(j){if(P)return P(j);return j},this.setURLModifier=function(j){return P=j,this},this.addHandler=function(j,H){return n.push(j,H),this},this.removeHandler=function(j){let H=n.indexOf(j);if(H!==-1)n.splice(H,2);return this},this.getHandler=function(j){for(let H=0,k=n.length;H<k;H+=2){let Q=n[H],y=n[H+1];if(Q.global)Q.lastIndex=0;if(Q.test(j))return y}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){if(!this._abortController)this._abortController=new AbortController;return this._abortController}}var c1=new $x;class Dp{constructor(U){this.manager=U!==void 0?U:c1,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(U,E){let u=this;return new Promise(function(p,z){u.load(U,p,E,z)})}parse(){}setCrossOrigin(U){return this.crossOrigin=U,this}setWithCredentials(U){return this.withCredentials=U,this}setPath(U){return this.path=U,this}setResourcePath(U){return this.resourcePath=U,this}setRequestHeader(U){return this.requestHeader=U,this}abort(){return this}}Dp.DEFAULT_MATERIAL_NAME="__DEFAULT";var K4={};class Y3 extends Error{constructor(U,E){super(U);this.response=E}}class vp extends Dp{constructor(U){super(U);this.mimeType="",this.responseType="",this._abortController=new AbortController}load(U,E,u,p){if(U===void 0)U="";if(this.path!==void 0)U=this.path+U;U=this.manager.resolveURL(U);let z=qc.get(`file:${U}`);if(z!==void 0)return this.manager.itemStart(U),setTimeout(()=>{if(E)E(z);this.manager.itemEnd(U)},0),z;if(K4[U]!==void 0){K4[U].push({onLoad:E,onProgress:u,onError:p});return}K4[U]=[],K4[U].push({onLoad:E,onProgress:u,onError:p});let c=new Request(U,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any==="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),Y=this.mimeType,P=this.responseType;fetch(c).then((n)=>{if(n.status===200||n.status===0){if(n.status===0)PE("FileLoader: HTTP Status 0 received.");if(typeof ReadableStream==="undefined"||n.body===void 0||n.body.getReader===void 0)return n;let j=K4[U],H=n.body.getReader(),k=n.headers.get("X-File-Size")||n.headers.get("Content-Length"),Q=k?parseInt(k):0,y=Q!==0,r=0,T=new ReadableStream({start(N){O();function O(){H.read().then(({done:L,value:X})=>{if(L)N.close();else{r+=X.byteLength;let i=new ProgressEvent("progress",{lengthComputable:y,loaded:r,total:Q});for(let B=0,G=j.length;B<G;B++){let d=j[B];if(d.onProgress)d.onProgress(i)}N.enqueue(X),O()}},(L)=>{N.error(L)})}}});return new Response(T)}else throw new Y3(`fetch for "${n.url}" responded with ${n.status}: ${n.statusText}`,n)}).then((n)=>{switch(P){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"document":return n.text().then((j)=>{return new DOMParser().parseFromString(j,Y)});case"json":return n.json();default:if(Y==="")return n.text();else{let H=/charset="?([^;"\s]*)"?/i.exec(Y),k=H&&H[1]?H[1].toLowerCase():void 0,Q=new TextDecoder(k);return n.arrayBuffer().then((y)=>Q.decode(y))}}}).then((n)=>{qc.add(`file:${U}`,n);let j=K4[U];delete K4[U];for(let H=0,k=j.length;H<k;H++){let Q=j[H];if(Q.onLoad)Q.onLoad(n)}}).catch((n)=>{let j=K4[U];if(j===void 0)throw this.manager.itemError(U),n;delete K4[U];for(let H=0,k=j.length;H<k;H++){let Q=j[H];if(Q.onError)Q.onError(n)}this.manager.itemError(U)}).finally(()=>{this.manager.itemEnd(U)}),this.manager.itemStart(U)}setResponseType(U){return this.responseType=U,this}setMimeType(U){return this.mimeType=U,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Y1 extends Dp{constructor(U){super(U)}load(U,E,u,p){let z=this,c=new vp(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(U,function(Y){try{E(z.parse(JSON.parse(Y)))}catch(P){if(p)p(P);else SE(P);z.manager.itemError(U)}},u,p)}parse(U){let E=[];for(let u=0;u<U.length;u++){let p=e4.parse(U[u]);E.push(p)}return E}}class Z1 extends Dp{constructor(U){super(U)}load(U,E,u,p){let z=this,c=[],Y=new pq,P=new vp(this.manager);P.setPath(this.path),P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setWithCredentials(z.withCredentials);let n=0;function j(H){P.load(U[H],function(k){let Q=z.parse(k,!0);if(c[H]={width:Q.width,height:Q.height,format:Q.format,mipmaps:Q.mipmaps},n+=1,n===6){if(Q.mipmapCount===1)Y.minFilter=1006;if(Y.image=c,Y.format=Q.format,Y.needsUpdate=!0,E)E(Y)}},u,p)}if(Array.isArray(U))for(let H=0,k=U.length;H<k;++H)j(H);else P.load(U,function(H){let k=z.parse(H,!0);if(k.isCubemap){let Q=k.mipmaps.length/k.mipmapCount;for(let y=0;y<Q;y++){c[y]={mipmaps:[]};for(let r=0;r<k.mipmapCount;r++)c[y].mipmaps.push(k.mipmaps[y*k.mipmapCount+r]),c[y].format=k.format,c[y].width=k.width,c[y].height=k.height}Y.image=c}else Y.image.width=k.width,Y.image.height=k.height,Y.mipmaps=k.mipmaps;if(k.mipmapCount===1)Y.minFilter=1006;if(Y.format=k.format,Y.needsUpdate=!0,E)E(Y)},u,p);return Y}}var dj=new WeakMap;class CP extends Dp{constructor(U){super(U)}load(U,E,u,p){if(this.path!==void 0)U=this.path+U;U=this.manager.resolveURL(U);let z=this,c=qc.get(`image:${U}`);if(c!==void 0){if(c.complete===!0)z.manager.itemStart(U),setTimeout(function(){if(E)E(c);z.manager.itemEnd(U)},0);else{let H=dj.get(c);if(H===void 0)H=[],dj.set(c,H);H.push({onLoad:E,onError:p})}return c}let Y=Dj("img");function P(){if(j(),E)E(this);let H=dj.get(this)||[];for(let k=0;k<H.length;k++){let Q=H[k];if(Q.onLoad)Q.onLoad(this)}dj.delete(this),z.manager.itemEnd(U)}function n(H){if(j(),p)p(H);qc.remove(`image:${U}`);let k=dj.get(this)||[];for(let Q=0;Q<k.length;Q++){let y=k[Q];if(y.onError)y.onError(H)}dj.delete(this),z.manager.itemError(U),z.manager.itemEnd(U)}function j(){Y.removeEventListener("load",P,!1),Y.removeEventListener("error",n,!1)}if(Y.addEventListener("load",P,!1),Y.addEventListener("error",n,!1),U.slice(0,5)!=="data:"){if(this.crossOrigin!==void 0)Y.crossOrigin=this.crossOrigin}return qc.add(`image:${U}`,Y),z.manager.itemStart(U),Y.src=U,Y}}class C9 extends Dp{constructor(U){super(U)}load(U,E,u,p){let z=new xx;z.colorSpace="srgb";let c=new CP(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);let Y=0;function P(n){c.load(U[n],function(j){if(z.images[n]=j,Y++,Y===6){if(z.needsUpdate=!0,E)E(z)}},void 0,p)}for(let n=0;n<U.length;++n)P(n);return z}}class yx extends Dp{constructor(U){super(U)}load(U,E,u,p){let z=this,c=new Pz,Y=new vp(this.manager);return Y.setResponseType("arraybuffer"),Y.setRequestHeader(this.requestHeader),Y.setPath(this.path),Y.setWithCredentials(z.withCredentials),Y.load(U,function(P){let n;try{n=z.parse(P)}catch(j){if(p!==void 0)p(j);else{j(j);return}}if(n.image!==void 0)c.image=n.image;else if(n.data!==void 0)c.image.width=n.width,c.image.height=n.height,c.image.data=n.data;if(c.wrapS=n.wrapS!==void 0?n.wrapS:1001,c.wrapT=n.wrapT!==void 0?n.wrapT:1001,c.magFilter=n.magFilter!==void 0?n.magFilter:1006,c.minFilter=n.minFilter!==void 0?n.minFilter:1006,c.anisotropy=n.anisotropy!==void 0?n.anisotropy:1,n.colorSpace!==void 0)c.colorSpace=n.colorSpace;if(n.flipY!==void 0)c.flipY=n.flipY;if(n.format!==void 0)c.format=n.format;if(n.type!==void 0)c.type=n.type;if(n.mipmaps!==void 0)c.mipmaps=n.mipmaps,c.minFilter=1008;if(n.mipmapCount===1)c.minFilter=1006;if(n.generateMipmaps!==void 0)c.generateMipmaps=n.generateMipmaps;if(c.needsUpdate=!0,E)E(c,n)},u,p),c}}class UQ extends Dp{constructor(U){super(U)}load(U,E,u,p){let z=new Vu,c=new CP(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(U,function(Y){if(z.image=Y,z.needsUpdate=!0,E!==void 0)E(z)},u,p),z}}class Cc extends Ou{constructor(U,E=1){super();this.isLight=!0,this.type="Light",this.color=new EE(U),this.intensity=E}dispose(){this.dispatchEvent({type:"dispose"})}copy(U,E){return super.copy(U,E),this.color.copy(U.color),this.intensity=U.intensity,this}toJSON(U){let E=super.toJSON(U);return E.object.color=this.color.getHex(),E.object.intensity=this.intensity,E}}class BO extends Cc{constructor(U,E,u){super(U,u);this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ou.DEFAULT_UP),this.updateMatrix(),this.groundColor=new EE(E)}copy(U,E){return super.copy(U,E),this.groundColor.copy(U.groundColor),this}toJSON(U){let E=super.toJSON(U);return E.object.groundColor=this.groundColor.getHex(),E}}var lT=new RE,mR=new b,VR=new b;class dO{constructor(U){this.camera=U,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new LU(512,512),this.mapType=1009,this.map=null,this.mapPass=null,this.matrix=new RE,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mZ,this._frameExtents=new LU(1,1),this._viewportCount=1,this._viewports=[new Gu(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(U){let E=this.camera,u=this.matrix;if(mR.setFromMatrixPosition(U.matrixWorld),E.position.copy(mR),VR.setFromMatrixPosition(U.target.matrixWorld),E.lookAt(VR),E.updateMatrixWorld(),lT.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lT,E.coordinateSystem,E.reversedDepth),E.reversedDepth)u.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,1,0,0,0,0,1);else u.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);u.multiply(lT)}getViewport(U){return this._viewports[U]}getFrameExtents(){return this._frameExtents}dispose(){if(this.map)this.map.dispose();if(this.mapPass)this.mapPass.dispose()}copy(U){return this.camera=U.camera.clone(),this.intensity=U.intensity,this.bias=U.bias,this.radius=U.radius,this.autoUpdate=U.autoUpdate,this.needsUpdate=U.needsUpdate,this.normalBias=U.normalBias,this.blurSamples=U.blurSamples,this.mapSize.copy(U.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let U={};if(this.intensity!==1)U.intensity=this.intensity;if(this.bias!==0)U.bias=this.bias;if(this.normalBias!==0)U.normalBias=this.normalBias;if(this.radius!==1)U.radius=this.radius;if(this.mapSize.x!==512||this.mapSize.y!==512)U.mapSize=this.mapSize.toArray();return U.camera=this.camera.toJSON(!1).object,delete U.camera.matrix,U}}class Z3 extends dO{constructor(){super(new ip(50,1,0.5,500));this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(U){let E=this.camera,u=gP*2*U.angle*this.focus,p=this.mapSize.width/this.mapSize.height*this.aspect,z=U.distance||E.far;if(u!==E.fov||p!==E.aspect||z!==E.far)E.fov=u,E.aspect=p,E.far=z,E.updateProjectionMatrix();super.updateMatrices(U)}copy(U){return super.copy(U),this.focus=U.focus,this}}class xq extends Cc{constructor(U,E,u=0,p=Math.PI/3,z=0,c=2){super(U,E);this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ou.DEFAULT_UP),this.updateMatrix(),this.target=new Ou,this.distance=u,this.angle=p,this.penumbra=z,this.decay=c,this.map=null,this.shadow=new Z3}get power(){return this.intensity*Math.PI}set power(U){this.intensity=U/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(U,E){return super.copy(U,E),this.distance=U.distance,this.angle=U.angle,this.penumbra=U.penumbra,this.decay=U.decay,this.target=U.target.clone(),this.map=U.map,this.shadow=U.shadow.clone(),this}toJSON(U){let E=super.toJSON(U);if(E.object.distance=this.distance,E.object.angle=this.angle,E.object.decay=this.decay,E.object.penumbra=this.penumbra,E.object.target=this.target.uuid,this.map&&this.map.isTexture)E.object.map=this.map.toJSON(U).uuid;return E.object.shadow=this.shadow.toJSON(),E}}class P3 extends dO{constructor(){super(new ip(90,1,0.5,500));this.isPointLightShadow=!0}}class nq extends Cc{constructor(U,E,u=0,p=2){super(U,E);this.isPointLight=!0,this.type="PointLight",this.distance=u,this.decay=p,this.shadow=new P3}get power(){return this.intensity*4*Math.PI}set power(U){this.intensity=U/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(U,E){return super.copy(U,E),this.distance=U.distance,this.decay=U.decay,this.shadow=U.shadow.clone(),this}toJSON(U){let E=super.toJSON(U);return E.object.distance=this.distance,E.object.decay=this.decay,E.object.shadow=this.shadow.toJSON(),E}}class n0 extends gj{constructor(U=-1,E=1,u=1,p=-1,z=0.1,c=2000){super();this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=U,this.right=E,this.top=u,this.bottom=p,this.near=z,this.far=c,this.updateProjectionMatrix()}copy(U,E){return super.copy(U,E),this.left=U.left,this.right=U.right,this.top=U.top,this.bottom=U.bottom,this.near=U.near,this.far=U.far,this.zoom=U.zoom,this.view=U.view===null?null:Object.assign({},U.view),this}setViewOffset(U,E,u,p,z,c){if(this.view===null)this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1};this.view.enabled=!0,this.view.fullWidth=U,this.view.fullHeight=E,this.view.offsetX=u,this.view.offsetY=p,this.view.width=z,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){if(this.view!==null)this.view.enabled=!1;this.updateProjectionMatrix()}updateProjectionMatrix(){let U=(this.right-this.left)/(2*this.zoom),E=(this.top-this.bottom)/(2*this.zoom),u=(this.right+this.left)/2,p=(this.top+this.bottom)/2,z=u-U,c=u+U,Y=p+E,P=p-E;if(this.view!==null&&this.view.enabled){let n=(this.right-this.left)/this.view.fullWidth/this.zoom,j=(this.top-this.bottom)/this.view.fullHeight/this.zoom;z+=n*this.view.offsetX,c=z+n*this.view.width,Y-=j*this.view.offsetY,P=Y-j*this.view.height}this.projectionMatrix.makeOrthographic(z,c,Y,P,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(U){let E=super.toJSON(U);if(E.object.zoom=this.zoom,E.object.left=this.left,E.object.right=this.right,E.object.top=this.top,E.object.bottom=this.bottom,E.object.near=this.near,E.object.far=this.far,this.view!==null)E.object.view=Object.assign({},this.view);return E}}class x3 extends dO{constructor(){super(new n0(-5,5,5,-5,0.5,500));this.isDirectionalLightShadow=!0}}class jq extends Cc{constructor(U,E){super(U,E);this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ou.DEFAULT_UP),this.updateMatrix(),this.target=new Ou,this.shadow=new x3}dispose(){super.dispose(),this.shadow.dispose()}copy(U){return super.copy(U),this.target=U.target.clone(),this.shadow=U.shadow.clone(),this}toJSON(U){let E=super.toJSON(U);return E.object.shadow=this.shadow.toJSON(),E.object.target=this.target.uuid,E}}class wO extends Cc{constructor(U,E){super(U,E);this.isAmbientLight=!0,this.type="AmbientLight"}}class vO extends Cc{constructor(U,E,u=10,p=10){super(U,E);this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=u,this.height=p}get power(){return this.intensity*this.width*this.height*Math.PI}set power(U){this.intensity=U/(this.width*this.height*Math.PI)}copy(U){return super.copy(U),this.width=U.width,this.height=U.height,this}toJSON(U){let E=super.toJSON(U);return E.object.width=this.width,E.object.height=this.height,E}}class EQ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let U=0;U<9;U++)this.coefficients.push(new b)}set(U){for(let E=0;E<9;E++)this.coefficients[E].copy(U[E]);return this}zero(){for(let U=0;U<9;U++)this.coefficients[U].set(0,0,0);return this}getAt(U,E){let{x:u,y:p,z}=U,c=this.coefficients;return E.copy(c[0]).multiplyScalar(0.282095),E.addScaledVector(c[1],0.488603*p),E.addScaledVector(c[2],0.488603*z),E.addScaledVector(c[3],0.488603*u),E.addScaledVector(c[4],1.092548*(u*p)),E.addScaledVector(c[5],1.092548*(p*z)),E.addScaledVector(c[6],0.315392*(3*z*z-1)),E.addScaledVector(c[7],1.092548*(u*z)),E.addScaledVector(c[8],0.546274*(u*u-p*p)),E}getIrradianceAt(U,E){let{x:u,y:p,z}=U,c=this.coefficients;return E.copy(c[0]).multiplyScalar(0.886227),E.addScaledVector(c[1],1.023328*p),E.addScaledVector(c[2],1.023328*z),E.addScaledVector(c[3],1.023328*u),E.addScaledVector(c[4],0.858086*u*p),E.addScaledVector(c[5],0.858086*p*z),E.addScaledVector(c[6],0.743125*z*z-0.247708),E.addScaledVector(c[7],0.858086*u*z),E.addScaledVector(c[8],0.429043*(u*u-p*p)),E}add(U){for(let E=0;E<9;E++)this.coefficients[E].add(U.coefficients[E]);return this}addScaledSH(U,E){for(let u=0;u<9;u++)this.coefficients[u].addScaledVector(U.coefficients[u],E);return this}scale(U){for(let E=0;E<9;E++)this.coefficients[E].multiplyScalar(U);return this}lerp(U,E){for(let u=0;u<9;u++)this.coefficients[u].lerp(U.coefficients[u],E);return this}equals(U){for(let E=0;E<9;E++)if(!this.coefficients[E].equals(U.coefficients[E]))return!1;return!0}copy(U){return this.set(U.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(U,E=0){let u=this.coefficients;for(let p=0;p<9;p++)u[p].fromArray(U,E+p*3);return this}toArray(U=[],E=0){let u=this.coefficients;for(let p=0;p<9;p++)u[p].toArray(U,E+p*3);return U}static getBasisAt(U,E){let{x:u,y:p,z}=U;E[0]=0.282095,E[1]=0.488603*p,E[2]=0.488603*z,E[3]=0.488603*u,E[4]=1.092548*u*p,E[5]=1.092548*p*z,E[6]=0.315392*(3*z*z-1),E[7]=1.092548*u*z,E[8]=0.546274*(u*u-p*p)}}class SO extends Cc{constructor(U=new EQ,E=1){super(void 0,E);this.isLightProbe=!0,this.sh=U}copy(U){return super.copy(U),this.sh.copy(U.sh),this}toJSON(U){let E=super.toJSON(U);return E.object.sh=this.sh.toArray(),E}}class uQ extends Dp{constructor(U){super(U);this.textures={}}load(U,E,u,p){let z=this,c=new vp(z.manager);c.setPath(z.path),c.setRequestHeader(z.requestHeader),c.setWithCredentials(z.withCredentials),c.load(U,function(Y){try{E(z.parse(JSON.parse(Y)))}catch(P){if(p)p(P);else SE(P);z.manager.itemError(U)}},u,p)}parse(U){let E=this.textures;function u(z){if(E[z]===void 0)PE("MaterialLoader: Undefined texture",z);return E[z]}let p=this.createMaterialFromType(U.type);if(U.uuid!==void 0)p.uuid=U.uuid;if(U.name!==void 0)p.name=U.name;if(U.color!==void 0&&p.color!==void 0)p.color.setHex(U.color);if(U.roughness!==void 0)p.roughness=U.roughness;if(U.metalness!==void 0)p.metalness=U.metalness;if(U.sheen!==void 0)p.sheen=U.sheen;if(U.sheenColor!==void 0)p.sheenColor=new EE().setHex(U.sheenColor);if(U.sheenRoughness!==void 0)p.sheenRoughness=U.sheenRoughness;if(U.emissive!==void 0&&p.emissive!==void 0)p.emissive.setHex(U.emissive);if(U.specular!==void 0&&p.specular!==void 0)p.specular.setHex(U.specular);if(U.specularIntensity!==void 0)p.specularIntensity=U.specularIntensity;if(U.specularColor!==void 0&&p.specularColor!==void 0)p.specularColor.setHex(U.specularColor);if(U.shininess!==void 0)p.shininess=U.shininess;if(U.clearcoat!==void 0)p.clearcoat=U.clearcoat;if(U.clearcoatRoughness!==void 0)p.clearcoatRoughness=U.clearcoatRoughness;if(U.dispersion!==void 0)p.dispersion=U.dispersion;if(U.iridescence!==void 0)p.iridescence=U.iridescence;if(U.iridescenceIOR!==void 0)p.iridescenceIOR=U.iridescenceIOR;if(U.iridescenceThicknessRange!==void 0)p.iridescenceThicknessRange=U.iridescenceThicknessRange;if(U.transmission!==void 0)p.transmission=U.transmission;if(U.thickness!==void 0)p.thickness=U.thickness;if(U.attenuationDistance!==void 0)p.attenuationDistance=U.attenuationDistance;if(U.attenuationColor!==void 0&&p.attenuationColor!==void 0)p.attenuationColor.setHex(U.attenuationColor);if(U.anisotropy!==void 0)p.anisotropy=U.anisotropy;if(U.anisotropyRotation!==void 0)p.anisotropyRotation=U.anisotropyRotation;if(U.fog!==void 0)p.fog=U.fog;if(U.flatShading!==void 0)p.flatShading=U.flatShading;if(U.blending!==void 0)p.blending=U.blending;if(U.combine!==void 0)p.combine=U.combine;if(U.side!==void 0)p.side=U.side;if(U.shadowSide!==void 0)p.shadowSide=U.shadowSide;if(U.opacity!==void 0)p.opacity=U.opacity;if(U.transparent!==void 0)p.transparent=U.transparent;if(U.alphaTest!==void 0)p.alphaTest=U.alphaTest;if(U.alphaHash!==void 0)p.alphaHash=U.alphaHash;if(U.depthFunc!==void 0)p.depthFunc=U.depthFunc;if(U.depthTest!==void 0)p.depthTest=U.depthTest;if(U.depthWrite!==void 0)p.depthWrite=U.depthWrite;if(U.colorWrite!==void 0)p.colorWrite=U.colorWrite;if(U.blendSrc!==void 0)p.blendSrc=U.blendSrc;if(U.blendDst!==void 0)p.blendDst=U.blendDst;if(U.blendEquation!==void 0)p.blendEquation=U.blendEquation;if(U.blendSrcAlpha!==void 0)p.blendSrcAlpha=U.blendSrcAlpha;if(U.blendDstAlpha!==void 0)p.blendDstAlpha=U.blendDstAlpha;if(U.blendEquationAlpha!==void 0)p.blendEquationAlpha=U.blendEquationAlpha;if(U.blendColor!==void 0&&p.blendColor!==void 0)p.blendColor.setHex(U.blendColor);if(U.blendAlpha!==void 0)p.blendAlpha=U.blendAlpha;if(U.stencilWriteMask!==void 0)p.stencilWriteMask=U.stencilWriteMask;if(U.stencilFunc!==void 0)p.stencilFunc=U.stencilFunc;if(U.stencilRef!==void 0)p.stencilRef=U.stencilRef;if(U.stencilFuncMask!==void 0)p.stencilFuncMask=U.stencilFuncMask;if(U.stencilFail!==void 0)p.stencilFail=U.stencilFail;if(U.stencilZFail!==void 0)p.stencilZFail=U.stencilZFail;if(U.stencilZPass!==void 0)p.stencilZPass=U.stencilZPass;if(U.stencilWrite!==void 0)p.stencilWrite=U.stencilWrite;if(U.wireframe!==void 0)p.wireframe=U.wireframe;if(U.wireframeLinewidth!==void 0)p.wireframeLinewidth=U.wireframeLinewidth;if(U.wireframeLinecap!==void 0)p.wireframeLinecap=U.wireframeLinecap;if(U.wireframeLinejoin!==void 0)p.wireframeLinejoin=U.wireframeLinejoin;if(U.rotation!==void 0)p.rotation=U.rotation;if(U.linewidth!==void 0)p.linewidth=U.linewidth;if(U.dashSize!==void 0)p.dashSize=U.dashSize;if(U.gapSize!==void 0)p.gapSize=U.gapSize;if(U.scale!==void 0)p.scale=U.scale;if(U.polygonOffset!==void 0)p.polygonOffset=U.polygonOffset;if(U.polygonOffsetFactor!==void 0)p.polygonOffsetFactor=U.polygonOffsetFactor;if(U.polygonOffsetUnits!==void 0)p.polygonOffsetUnits=U.polygonOffsetUnits;if(U.dithering!==void 0)p.dithering=U.dithering;if(U.alphaToCoverage!==void 0)p.alphaToCoverage=U.alphaToCoverage;if(U.premultipliedAlpha!==void 0)p.premultipliedAlpha=U.premultipliedAlpha;if(U.forceSinglePass!==void 0)p.forceSinglePass=U.forceSinglePass;if(U.allowOverride!==void 0)p.allowOverride=U.allowOverride;if(U.visible!==void 0)p.visible=U.visible;if(U.toneMapped!==void 0)p.toneMapped=U.toneMapped;if(U.userData!==void 0)p.userData=U.userData;if(U.vertexColors!==void 0)if(typeof U.vertexColors==="number")p.vertexColors=U.vertexColors>0?!0:!1;else p.vertexColors=U.vertexColors;if(U.uniforms!==void 0)for(let z in U.uniforms){let c=U.uniforms[z];switch(p.uniforms[z]={},c.type){case"t":p.uniforms[z].value=u(c.value);break;case"c":p.uniforms[z].value=new EE().setHex(c.value);break;case"v2":p.uniforms[z].value=new LU().fromArray(c.value);break;case"v3":p.uniforms[z].value=new b().fromArray(c.value);break;case"v4":p.uniforms[z].value=new Gu().fromArray(c.value);break;case"m3":p.uniforms[z].value=new CE().fromArray(c.value);break;case"m4":p.uniforms[z].value=new RE().fromArray(c.value);break;default:p.uniforms[z].value=c.value}}if(U.defines!==void 0)p.defines=U.defines;if(U.vertexShader!==void 0)p.vertexShader=U.vertexShader;if(U.fragmentShader!==void 0)p.fragmentShader=U.fragmentShader;if(U.glslVersion!==void 0)p.glslVersion=U.glslVersion;if(U.extensions!==void 0)for(let z in U.extensions)p.extensions[z]=U.extensions[z];if(U.lights!==void 0)p.lights=U.lights;if(U.clipping!==void 0)p.clipping=U.clipping;if(U.size!==void 0)p.size=U.size;if(U.sizeAttenuation!==void 0)p.sizeAttenuation=U.sizeAttenuation;if(U.map!==void 0)p.map=u(U.map);if(U.matcap!==void 0)p.matcap=u(U.matcap);if(U.alphaMap!==void 0)p.alphaMap=u(U.alphaMap);if(U.bumpMap!==void 0)p.bumpMap=u(U.bumpMap);if(U.bumpScale!==void 0)p.bumpScale=U.bumpScale;if(U.normalMap!==void 0)p.normalMap=u(U.normalMap);if(U.normalMapType!==void 0)p.normalMapType=U.normalMapType;if(U.normalScale!==void 0){let z=U.normalScale;if(Array.isArray(z)===!1)z=[z,z];p.normalScale=new LU().fromArray(z)}if(U.displacementMap!==void 0)p.displacementMap=u(U.displacementMap);if(U.displacementScale!==void 0)p.displacementScale=U.displacementScale;if(U.displacementBias!==void 0)p.displacementBias=U.displacementBias;if(U.roughnessMap!==void 0)p.roughnessMap=u(U.roughnessMap);if(U.metalnessMap!==void 0)p.metalnessMap=u(U.metalnessMap);if(U.emissiveMap!==void 0)p.emissiveMap=u(U.emissiveMap);if(U.emissiveIntensity!==void 0)p.emissiveIntensity=U.emissiveIntensity;if(U.specularMap!==void 0)p.specularMap=u(U.specularMap);if(U.specularIntensityMap!==void 0)p.specularIntensityMap=u(U.specularIntensityMap);if(U.specularColorMap!==void 0)p.specularColorMap=u(U.specularColorMap);if(U.envMap!==void 0)p.envMap=u(U.envMap);if(U.envMapRotation!==void 0)p.envMapRotation.fromArray(U.envMapRotation);if(U.envMapIntensity!==void 0)p.envMapIntensity=U.envMapIntensity;if(U.reflectivity!==void 0)p.reflectivity=U.reflectivity;if(U.refractionRatio!==void 0)p.refractionRatio=U.refractionRatio;if(U.lightMap!==void 0)p.lightMap=u(U.lightMap);if(U.lightMapIntensity!==void 0)p.lightMapIntensity=U.lightMapIntensity;if(U.aoMap!==void 0)p.aoMap=u(U.aoMap);if(U.aoMapIntensity!==void 0)p.aoMapIntensity=U.aoMapIntensity;if(U.gradientMap!==void 0)p.gradientMap=u(U.gradientMap);if(U.clearcoatMap!==void 0)p.clearcoatMap=u(U.clearcoatMap);if(U.clearcoatRoughnessMap!==void 0)p.clearcoatRoughnessMap=u(U.clearcoatRoughnessMap);if(U.clearcoatNormalMap!==void 0)p.clearcoatNormalMap=u(U.clearcoatNormalMap);if(U.clearcoatNormalScale!==void 0)p.clearcoatNormalScale=new LU().fromArray(U.clearcoatNormalScale);if(U.iridescenceMap!==void 0)p.iridescenceMap=u(U.iridescenceMap);if(U.iridescenceThicknessMap!==void 0)p.iridescenceThicknessMap=u(U.iridescenceThicknessMap);if(U.transmissionMap!==void 0)p.transmissionMap=u(U.transmissionMap);if(U.thicknessMap!==void 0)p.thicknessMap=u(U.thicknessMap);if(U.anisotropyMap!==void 0)p.anisotropyMap=u(U.anisotropyMap);if(U.sheenColorMap!==void 0)p.sheenColorMap=u(U.sheenColorMap);if(U.sheenRoughnessMap!==void 0)p.sheenRoughnessMap=u(U.sheenRoughnessMap);return p}setTextures(U){return this.textures=U,this}createMaterialFromType(U){return uQ.createMaterialFromType(U)}static createMaterialFromType(U){return new{ShadowMaterial:LO,SpriteMaterial:V9,RawShaderMaterial:a9,ShaderMaterial:Ap,PointsMaterial:Hx,MeshPhysicalMaterial:nz,MeshStandardMaterial:GZ,MeshPhongMaterial:XO,MeshToonMaterial:TO,MeshNormalMaterial:oO,MeshLambertMaterial:iO,MeshDepthMaterial:Qx,MeshDistanceMaterial:_9,MeshBasicMaterial:A5,MeshMatcapMaterial:FO,LineDashedMaterial:AO,LineBasicMaterial:q5,Material:Rp}[U]}}class kc{static extractUrlBase(U){let E=U.lastIndexOf("/");if(E===-1)return"./";return U.slice(0,E+1)}static resolveURL(U,E){if(typeof U!=="string"||U==="")return"";if(/^https?:\/\//i.test(E)&&/^\//.test(U))E=E.replace(/(^https?:\/\/[^\/]+).*/i,"$1");if(/^(https?:)?\/\//i.test(U))return U;if(/^data:.*,.*$/i.test(U))return U;if(/^blob:.*$/i.test(U))return U;return E+U}}class RO extends WE{constructor(){super();this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(U){return super.copy(U),this.instanceCount=U.instanceCount,this}toJSON(){let U=super.toJSON();return U.instanceCount=this.instanceCount,U.isInstancedBufferGeometry=!0,U}}class DO extends Dp{constructor(U){super(U)}load(U,E,u,p){let z=this,c=new vp(z.manager);c.setPath(z.path),c.setRequestHeader(z.requestHeader),c.setWithCredentials(z.withCredentials),c.load(U,function(Y){try{E(z.parse(JSON.parse(Y)))}catch(P){if(p)p(P);else SE(P);z.manager.itemError(U)}},u,p)}parse(U){let E={},u={};function p(Q,y){if(E[y]!==void 0)return E[y];let T=Q.interleavedBuffers[y],N=z(Q,T.buffer),O=Sj(T.type,N),L=new zY(O,T.stride);return L.uuid=T.uuid,E[y]=L,L}function z(Q,y){if(u[y]!==void 0)return u[y];let T=Q.arrayBuffers[y],N=new Uint32Array(T).buffer;return u[y]=N,N}let c=U.isInstancedBufferGeometry?new RO:new WE,Y=U.data.index;if(Y!==void 0){let Q=Sj(Y.type,Y.array);c.setIndex(new ju(Q,1))}let P=U.data.attributes;for(let Q in P){let y=P[Q],r;if(y.isInterleavedBufferAttribute){let T=p(U.data,y.data);r=new Hc(T,y.itemSize,y.offset,y.normalized)}else{let T=Sj(y.type,y.array);r=new(y.isInstancedBufferAttribute?fc:ju)(T,y.itemSize,y.normalized)}if(y.name!==void 0)r.name=y.name;if(y.usage!==void 0)r.setUsage(y.usage);c.setAttribute(Q,r)}let n=U.data.morphAttributes;if(n)for(let Q in n){let y=n[Q],r=[];for(let T=0,N=y.length;T<N;T++){let O=y[T],L;if(O.isInterleavedBufferAttribute){let X=p(U.data,O.data);L=new Hc(X,O.itemSize,O.offset,O.normalized)}else{let X=Sj(O.type,O.array);L=new ju(X,O.itemSize,O.normalized)}if(O.name!==void 0)L.name=O.name;r.push(L)}c.morphAttributes[Q]=r}if(U.data.morphTargetsRelative)c.morphTargetsRelative=!0;let H=U.data.groups||U.data.drawcalls||U.data.offsets;if(H!==void 0)for(let Q=0,y=H.length;Q!==y;++Q){let r=H[Q];c.addGroup(r.start,r.count,r.materialIndex)}let k=U.data.boundingSphere;if(k!==void 0)c.boundingSphere=new Mp().fromJSON(k);if(U.name)c.name=U.name;if(U.userData)c.userData=U.userData;return c}}class P1 extends Dp{constructor(U){super(U)}load(U,E,u,p){let z=this,c=this.path===""?kc.extractUrlBase(U):this.path;this.resourcePath=this.resourcePath||c;let Y=new vp(this.manager);Y.setPath(this.path),Y.setRequestHeader(this.requestHeader),Y.setWithCredentials(this.withCredentials),Y.load(U,function(P){let n=null;try{n=JSON.parse(P)}catch(H){if(p!==void 0)p(H);H("ObjectLoader: Can't parse "+U+".",H.message);return}let j=n.metadata;if(j===void 0||j.type===void 0||j.type.toLowerCase()==="geometry"){if(p!==void 0)p(new Error("THREE.ObjectLoader: Can't load "+U));SE("ObjectLoader: Can't load "+U);return}z.parse(n,E)},u,p)}async loadAsync(U,E){let u=this,p=this.path===""?kc.extractUrlBase(U):this.path;this.resourcePath=this.resourcePath||p;let z=new vp(this.manager);z.setPath(this.path),z.setRequestHeader(this.requestHeader),z.setWithCredentials(this.withCredentials);let c=await z.loadAsync(U,E),Y=JSON.parse(c),P=Y.metadata;if(P===void 0||P.type===void 0||P.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+U);return await u.parseAsync(Y)}parse(U,E){let u=this.parseAnimations(U.animations),p=this.parseShapes(U.shapes),z=this.parseGeometries(U.geometries,p),c=this.parseImages(U.images,function(){if(E!==void 0)E(n)}),Y=this.parseTextures(U.textures,c),P=this.parseMaterials(U.materials,Y),n=this.parseObject(U.object,z,P,Y,u),j=this.parseSkeletons(U.skeletons,n);if(this.bindSkeletons(n,j),this.bindLightTargets(n),E!==void 0){let H=!1;for(let k in c)if(c[k].data instanceof HTMLImageElement){H=!0;break}if(H===!1)E(n)}return n}async parseAsync(U){let E=this.parseAnimations(U.animations),u=this.parseShapes(U.shapes),p=this.parseGeometries(U.geometries,u),z=await this.parseImagesAsync(U.images),c=this.parseTextures(U.textures,z),Y=this.parseMaterials(U.materials,c),P=this.parseObject(U.object,p,Y,c,E),n=this.parseSkeletons(U.skeletons,P);return this.bindSkeletons(P,n),this.bindLightTargets(P),P}parseShapes(U){let E={};if(U!==void 0)for(let u=0,p=U.length;u<p;u++){let z=new g4().fromJSON(U[u]);E[z.uuid]=z}return E}parseSkeletons(U,E){let u={},p={};if(E.traverse(function(z){if(z.isBone)p[z.uuid]=z}),U!==void 0)for(let z=0,c=U.length;z<c;z++){let Y=new qx().fromJSON(U[z],p);u[Y.uuid]=Y}return u}parseGeometries(U,E){let u={};if(U!==void 0){let p=new DO;for(let z=0,c=U.length;z<c;z++){let Y,P=U[z];switch(P.type){case"BufferGeometry":case"InstancedBufferGeometry":Y=p.parse(P);break;default:if(P.type in AR)Y=AR[P.type].fromJSON(P,E);else PE(`ObjectLoader: Unsupported geometry type "${P.type}"`)}if(Y.uuid=P.uuid,P.name!==void 0)Y.name=P.name;if(P.userData!==void 0)Y.userData=P.userData;u[P.uuid]=Y}}return u}parseMaterials(U,E){let u={},p={};if(U!==void 0){let z=new uQ;z.setTextures(E);for(let c=0,Y=U.length;c<Y;c++){let P=U[c];if(u[P.uuid]===void 0)u[P.uuid]=z.parse(P);p[P.uuid]=u[P.uuid]}}return p}parseAnimations(U){let E={};if(U!==void 0)for(let u=0;u<U.length;u++){let p=U[u],z=e4.parse(p);E[z.uuid]=z}return E}parseImages(U,E){let u=this,p={},z;function c(P){return u.manager.itemStart(P),z.load(P,function(){u.manager.itemEnd(P)},void 0,function(){u.manager.itemError(P),u.manager.itemEnd(P)})}function Y(P){if(typeof P==="string"){let n=P,j=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:u.resourcePath+n;return c(j)}else if(P.data)return{data:Sj(P.type,P.data),width:P.width,height:P.height};else return null}if(U!==void 0&&U.length>0){let P=new $x(E);z=new CP(P),z.setCrossOrigin(this.crossOrigin);for(let n=0,j=U.length;n<j;n++){let H=U[n],k=H.url;if(Array.isArray(k)){let Q=[];for(let y=0,r=k.length;y<r;y++){let T=k[y],N=Y(T);if(N!==null)if(N instanceof HTMLImageElement)Q.push(N);else Q.push(new Pz(N.data,N.width,N.height))}p[H.uuid]=new Wc(Q)}else{let Q=Y(H.url);p[H.uuid]=new Wc(Q)}}}return p}async parseImagesAsync(U){let E=this,u={},p;async function z(c){if(typeof c==="string"){let Y=c,P=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Y)?Y:E.resourcePath+Y;return await p.loadAsync(P)}else if(c.data)return{data:Sj(c.type,c.data),width:c.width,height:c.height};else return null}if(U!==void 0&&U.length>0){p=new CP(this.manager),p.setCrossOrigin(this.crossOrigin);for(let c=0,Y=U.length;c<Y;c++){let P=U[c],n=P.url;if(Array.isArray(n)){let j=[];for(let H=0,k=n.length;H<k;H++){let Q=n[H],y=await z(Q);if(y!==null)if(y instanceof HTMLImageElement)j.push(y);else j.push(new Pz(y.data,y.width,y.height))}u[P.uuid]=new Wc(j)}else{let j=await z(P.url);u[P.uuid]=new Wc(j)}}}return u}parseTextures(U,E){function u(z,c){if(typeof z==="number")return z;return PE("ObjectLoader.parseTexture: Constant should be in numeric form.",z),c[z]}let p={};if(U!==void 0)for(let z=0,c=U.length;z<c;z++){let Y=U[z];if(Y.image===void 0)PE('ObjectLoader: No "image" specified for',Y.uuid);if(E[Y.image]===void 0)PE("ObjectLoader: Undefined image",Y.image);let P=E[Y.image],n=P.data,j;if(Array.isArray(n)){if(j=new xx,n.length===6)j.needsUpdate=!0}else{if(n&&n.data)j=new Pz;else j=new Vu;if(n)j.needsUpdate=!0}if(j.source=P,j.uuid=Y.uuid,Y.name!==void 0)j.name=Y.name;if(Y.mapping!==void 0)j.mapping=u(Y.mapping,BC);if(Y.channel!==void 0)j.channel=Y.channel;if(Y.offset!==void 0)j.offset.fromArray(Y.offset);if(Y.repeat!==void 0)j.repeat.fromArray(Y.repeat);if(Y.center!==void 0)j.center.fromArray(Y.center);if(Y.rotation!==void 0)j.rotation=Y.rotation;if(Y.wrap!==void 0)j.wrapS=u(Y.wrap[0],GR),j.wrapT=u(Y.wrap[1],GR);if(Y.format!==void 0)j.format=Y.format;if(Y.internalFormat!==void 0)j.internalFormat=Y.internalFormat;if(Y.type!==void 0)j.type=Y.type;if(Y.colorSpace!==void 0)j.colorSpace=Y.colorSpace;if(Y.minFilter!==void 0)j.minFilter=u(Y.minFilter,BR);if(Y.magFilter!==void 0)j.magFilter=u(Y.magFilter,BR);if(Y.anisotropy!==void 0)j.anisotropy=Y.anisotropy;if(Y.flipY!==void 0)j.flipY=Y.flipY;if(Y.generateMipmaps!==void 0)j.generateMipmaps=Y.generateMipmaps;if(Y.premultiplyAlpha!==void 0)j.premultiplyAlpha=Y.premultiplyAlpha;if(Y.unpackAlignment!==void 0)j.unpackAlignment=Y.unpackAlignment;if(Y.compareFunction!==void 0)j.compareFunction=Y.compareFunction;if(Y.userData!==void 0)j.userData=Y.userData;p[Y.uuid]=j}return p}parseObject(U,E,u,p,z){let c;function Y(k){if(E[k]===void 0)PE("ObjectLoader: Undefined geometry",k);return E[k]}function P(k){if(k===void 0)return;if(Array.isArray(k)){let Q=[];for(let y=0,r=k.length;y<r;y++){let T=k[y];if(u[T]===void 0)PE("ObjectLoader: Undefined material",T);Q.push(u[T])}return Q}if(u[k]===void 0)PE("ObjectLoader: Undefined material",k);return u[k]}function n(k){if(p[k]===void 0)PE("ObjectLoader: Undefined texture",k);return p[k]}let j,H;switch(U.type){case"Scene":if(c=new gc,U.background!==void 0)if(Number.isInteger(U.background))c.background=new EE(U.background);else c.background=n(U.background);if(U.environment!==void 0)c.environment=n(U.environment);if(U.fog!==void 0){if(U.fog.type==="Fog")c.fog=new m9(U.fog.color,U.fog.near,U.fog.far);else if(U.fog.type==="FogExp2")c.fog=new A9(U.fog.color,U.fog.density);if(U.fog.name!=="")c.fog.name=U.fog.name}if(U.backgroundBlurriness!==void 0)c.backgroundBlurriness=U.backgroundBlurriness;if(U.backgroundIntensity!==void 0)c.backgroundIntensity=U.backgroundIntensity;if(U.backgroundRotation!==void 0)c.backgroundRotation.fromArray(U.backgroundRotation);if(U.environmentIntensity!==void 0)c.environmentIntensity=U.environmentIntensity;if(U.environmentRotation!==void 0)c.environmentRotation.fromArray(U.environmentRotation);break;case"PerspectiveCamera":if(c=new ip(U.fov,U.aspect,U.near,U.far),U.focus!==void 0)c.focus=U.focus;if(U.zoom!==void 0)c.zoom=U.zoom;if(U.filmGauge!==void 0)c.filmGauge=U.filmGauge;if(U.filmOffset!==void 0)c.filmOffset=U.filmOffset;if(U.view!==void 0)c.view=Object.assign({},U.view);break;case"OrthographicCamera":if(c=new n0(U.left,U.right,U.top,U.bottom,U.near,U.far),U.zoom!==void 0)c.zoom=U.zoom;if(U.view!==void 0)c.view=Object.assign({},U.view);break;case"AmbientLight":c=new wO(U.color,U.intensity);break;case"DirectionalLight":c=new jq(U.color,U.intensity),c.target=U.target||"";break;case"PointLight":c=new nq(U.color,U.intensity,U.distance,U.decay);break;case"RectAreaLight":c=new vO(U.color,U.intensity,U.width,U.height);break;case"SpotLight":c=new xq(U.color,U.intensity,U.distance,U.angle,U.penumbra,U.decay),c.target=U.target||"";break;case"HemisphereLight":c=new BO(U.color,U.groundColor,U.intensity);break;case"LightProbe":let k=new EQ().fromArray(U.sh);c=new SO(k,U.intensity);break;case"SkinnedMesh":if(j=Y(U.geometry),H=P(U.material),c=new Cj(j,H),U.bindMode!==void 0)c.bindMode=U.bindMode;if(U.bindMatrix!==void 0)c.bindMatrix.fromArray(U.bindMatrix);if(U.skeleton!==void 0)c.skeleton=U.skeleton;break;case"Mesh":j=Y(U.geometry),H=P(U.material),c=new tu(j,H);break;case"InstancedMesh":j=Y(U.geometry),H=P(U.material);let{count:Q,instanceMatrix:y,instanceColor:r}=U;if(c=new Uq(j,H,Q),c.instanceMatrix=new fc(new Float32Array(y.array),16),r!==void 0)c.instanceColor=new fc(new Float32Array(r.array),r.itemSize);break;case"BatchedMesh":if(j=Y(U.geometry),H=P(U.material),c=new qO(U.maxInstanceCount,U.maxVertexCount,U.maxIndexCount,H),c.geometry=j,c.perObjectFrustumCulled=U.perObjectFrustumCulled,c.sortObjects=U.sortObjects,c._drawRanges=U.drawRanges,c._reservedRanges=U.reservedRanges,c._geometryInfo=U.geometryInfo.map((T)=>{let N=null,O=null;if(T.boundingBox!==void 0)N=new lp().fromJSON(T.boundingBox);if(T.boundingSphere!==void 0)O=new Mp().fromJSON(T.boundingSphere);return{...T,boundingBox:N,boundingSphere:O}}),c._instanceInfo=U.instanceInfo,c._availableInstanceIds=U._availableInstanceIds,c._availableGeometryIds=U._availableGeometryIds,c._nextIndexStart=U.nextIndexStart,c._nextVertexStart=U.nextVertexStart,c._geometryCount=U.geometryCount,c._maxInstanceCount=U.maxInstanceCount,c._maxVertexCount=U.maxVertexCount,c._maxIndexCount=U.maxIndexCount,c._geometryInitialized=U.geometryInitialized,c._matricesTexture=n(U.matricesTexture.uuid),c._indirectTexture=n(U.indirectTexture.uuid),U.colorsTexture!==void 0)c._colorsTexture=n(U.colorsTexture.uuid);if(U.boundingSphere!==void 0)c.boundingSphere=new Mp().fromJSON(U.boundingSphere);if(U.boundingBox!==void 0)c.boundingBox=new lp().fromJSON(U.boundingBox);break;case"LOD":c=new jO;break;case"Line":c=new h0(Y(U.geometry),P(U.material));break;case"LineLoop":c=new Eq(Y(U.geometry),P(U.material));break;case"LineSegments":c=new wz(Y(U.geometry),P(U.material));break;case"PointCloud":case"Points":c=new uq(Y(U.geometry),P(U.material));break;case"Sprite":c=new nO(P(U.material));break;case"Group":c=new t0;break;case"Bone":c=new jx;break;default:c=new Ou}if(c.uuid=U.uuid,U.name!==void 0)c.name=U.name;if(U.matrix!==void 0){if(c.matrix.fromArray(U.matrix),U.matrixAutoUpdate!==void 0)c.matrixAutoUpdate=U.matrixAutoUpdate;if(c.matrixAutoUpdate)c.matrix.decompose(c.position,c.quaternion,c.scale)}else{if(U.position!==void 0)c.position.fromArray(U.position);if(U.rotation!==void 0)c.rotation.fromArray(U.rotation);if(U.quaternion!==void 0)c.quaternion.fromArray(U.quaternion);if(U.scale!==void 0)c.scale.fromArray(U.scale)}if(U.up!==void 0)c.up.fromArray(U.up);if(U.castShadow!==void 0)c.castShadow=U.castShadow;if(U.receiveShadow!==void 0)c.receiveShadow=U.receiveShadow;if(U.shadow){if(U.shadow.intensity!==void 0)c.shadow.intensity=U.shadow.intensity;if(U.shadow.bias!==void 0)c.shadow.bias=U.shadow.bias;if(U.shadow.normalBias!==void 0)c.shadow.normalBias=U.shadow.normalBias;if(U.shadow.radius!==void 0)c.shadow.radius=U.shadow.radius;if(U.shadow.mapSize!==void 0)c.shadow.mapSize.fromArray(U.shadow.mapSize);if(U.shadow.camera!==void 0)c.shadow.camera=this.parseObject(U.shadow.camera)}if(U.visible!==void 0)c.visible=U.visible;if(U.frustumCulled!==void 0)c.frustumCulled=U.frustumCulled;if(U.renderOrder!==void 0)c.renderOrder=U.renderOrder;if(U.userData!==void 0)c.userData=U.userData;if(U.layers!==void 0)c.layers.mask=U.layers;if(U.children!==void 0){let k=U.children;for(let Q=0;Q<k.length;Q++)c.add(this.parseObject(k[Q],E,u,p,z))}if(U.animations!==void 0){let k=U.animations;for(let Q=0;Q<k.length;Q++){let y=k[Q];c.animations.push(z[y])}}if(U.type==="LOD"){if(U.autoUpdate!==void 0)c.autoUpdate=U.autoUpdate;let k=U.levels;for(let Q=0;Q<k.length;Q++){let y=k[Q],r=c.getObjectByProperty("uuid",y.object);if(r!==void 0)c.addLevel(r,y.distance,y.hysteresis)}}return c}bindSkeletons(U,E){if(Object.keys(E).length===0)return;U.traverse(function(u){if(u.isSkinnedMesh===!0&&u.skeleton!==void 0){let p=E[u.skeleton];if(p===void 0)PE("ObjectLoader: No skeleton found with UUID:",u.skeleton);else u.bind(p,u.bindMatrix)}})}bindLightTargets(U){U.traverse(function(E){if(E.isDirectionalLight||E.isSpotLight){let u=E.target,p=U.getObjectByProperty("uuid",u);if(p!==void 0)E.target=p;else E.target=new Ou}})}}var BC={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},GR={RepeatWrapping:1000,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},BR={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008},MT=new WeakMap;class pQ extends Dp{constructor(U){super(U);if(this.isImageBitmapLoader=!0,typeof createImageBitmap==="undefined")PE("ImageBitmapLoader: createImageBitmap() not supported.");if(typeof fetch==="undefined")PE("ImageBitmapLoader: fetch() not supported.");this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(U){return this.options=U,this}load(U,E,u,p){if(U===void 0)U="";if(this.path!==void 0)U=this.path+U;U=this.manager.resolveURL(U);let z=this,c=qc.get(`image-bitmap:${U}`);if(c!==void 0){if(z.manager.itemStart(U),c.then){c.then((n)=>{if(MT.has(c)===!0){if(p)p(MT.get(c));z.manager.itemError(U),z.manager.itemEnd(U)}else{if(E)E(n);return z.manager.itemEnd(U),n}});return}return setTimeout(function(){if(E)E(c);z.manager.itemEnd(U)},0),c}let Y={};Y.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",Y.headers=this.requestHeader,Y.signal=typeof AbortSignal.any==="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;let P=fetch(U,Y).then(function(n){return n.blob()}).then(function(n){return createImageBitmap(n,Object.assign(z.options,{colorSpaceConversion:"none"}))}).then(function(n){if(qc.add(`image-bitmap:${U}`,n),E)E(n);return z.manager.itemEnd(U),n}).catch(function(n){if(p)p(n);MT.set(P,n),qc.remove(`image-bitmap:${U}`),z.manager.itemError(U),z.manager.itemEnd(U)});qc.add(`image-bitmap:${U}`,P),z.manager.itemStart(U)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}var C8;class zQ{static getContext(){if(C8===void 0)C8=new(window.AudioContext||window.webkitAudioContext);return C8}static setContext(U){C8=U}}class x1 extends Dp{constructor(U){super(U)}load(U,E,u,p){let z=this,c=new vp(this.manager);c.setResponseType("arraybuffer"),c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(U,function(P){try{let n=P.slice(0);zQ.getContext().decodeAudioData(n,function(H){E(H)}).catch(Y)}catch(n){Y(n)}},u,p);function Y(P){if(p)p(P);else SE(P);z.manager.itemError(U)}}}var dR=new RE,wR=new RE,bP=new RE;class n1{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=0.064,this.cameraL=new ip,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ip,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(U){let E=this._cache;if(E.focus!==U.focus||E.fov!==U.fov||E.aspect!==U.aspect*this.aspect||E.near!==U.near||E.far!==U.far||E.zoom!==U.zoom||E.eyeSep!==this.eyeSep){E.focus=U.focus,E.fov=U.fov,E.aspect=U.aspect*this.aspect,E.near=U.near,E.far=U.far,E.zoom=U.zoom,E.eyeSep=this.eyeSep,bP.copy(U.projectionMatrix);let p=E.eyeSep/2,z=p*E.near/E.focus,c=E.near*Math.tan(aP*E.fov*0.5)/E.zoom,Y,P;wR.elements[12]=-p,dR.elements[12]=p,Y=-c*E.aspect+z,P=c*E.aspect+z,bP.elements[0]=2*E.near/(P-Y),bP.elements[8]=(P+Y)/(P-Y),this.cameraL.projectionMatrix.copy(bP),Y=-c*E.aspect-z,P=c*E.aspect-z,bP.elements[0]=2*E.near/(P-Y),bP.elements[8]=(P+Y)/(P-Y),this.cameraR.projectionMatrix.copy(bP)}this.cameraL.matrixWorld.copy(U.matrixWorld).multiply(wR),this.cameraR.matrixWorld.copy(U.matrixWorld).multiply(dR)}}class tO extends ip{constructor(U=[]){super();this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=U}}class qq{constructor(U=!0){this.autoStart=U,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let U=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let E=performance.now();U=(E-this.oldTime)/1000,this.oldTime=E,this.elapsedTime+=U}return U}}var lP=new b,WT=new np,dC=new b,MP=new b,WP=new b;class j1 extends Ou{constructor(){super();this.type="AudioListener",this.context=zQ.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qq}getInput(){return this.gain}removeFilter(){if(this.filter!==null)this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null;return this}getFilter(){return this.filter}setFilter(U){if(this.filter!==null)this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination);else this.gain.disconnect(this.context.destination);return this.filter=U,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(U){return this.gain.gain.setTargetAtTime(U,this.context.currentTime,0.01),this}updateMatrixWorld(U){super.updateMatrixWorld(U);let E=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(lP,WT,dC),MP.set(0,0,-1).applyQuaternion(WT),WP.set(0,1,0).applyQuaternion(WT),E.positionX){let u=this.context.currentTime+this.timeDelta;E.positionX.linearRampToValueAtTime(lP.x,u),E.positionY.linearRampToValueAtTime(lP.y,u),E.positionZ.linearRampToValueAtTime(lP.z,u),E.forwardX.linearRampToValueAtTime(MP.x,u),E.forwardY.linearRampToValueAtTime(MP.y,u),E.forwardZ.linearRampToValueAtTime(MP.z,u),E.upX.linearRampToValueAtTime(WP.x,u),E.upY.linearRampToValueAtTime(WP.y,u),E.upZ.linearRampToValueAtTime(WP.z,u)}else E.setPosition(lP.x,lP.y,lP.z),E.setOrientation(MP.x,MP.y,MP.z,WP.x,WP.y,WP.z)}}class JO extends Ou{constructor(U){super();this.type="Audio",this.listener=U,this.context=U.context,this.gain=this.context.createGain(),this.gain.connect(U.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(U){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=U,this.connect(),this}setMediaElementSource(U){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(U),this.connect(),this}setMediaStreamSource(U){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(U),this.connect(),this}setBuffer(U){if(this.buffer=U,this.sourceType="buffer",this.autoplay)this.play();return this}play(U=0){if(this.isPlaying===!0){PE("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){PE("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+U;let E=this.context.createBufferSource();return E.buffer=this.buffer,E.loop=this.loop,E.loopStart=this.loopStart,E.loopEnd=this.loopEnd,E.onended=this.onEnded.bind(this),E.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=E,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){PE("Audio: this Audio has no playback control.");return}if(this.isPlaying===!0){if(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0)this._progress=this._progress%(this.duration||this.buffer.duration);this.source.stop(),this.source.onended=null,this.isPlaying=!1}return this}stop(U=0){if(this.hasPlaybackControl===!1){PE("Audio: this Audio has no playback control.");return}if(this._progress=0,this.source!==null)this.source.stop(this.context.currentTime+U),this.source.onended=null;return this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let U=1,E=this.filters.length;U<E;U++)this.filters[U-1].connect(this.filters[U]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected===!1)return;if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let U=1,E=this.filters.length;U<E;U++)this.filters[U-1].disconnect(this.filters[U]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(U){if(!U)U=[];if(this._connected===!0)this.disconnect(),this.filters=U.slice(),this.connect();else this.filters=U.slice();return this}setDetune(U){if(this.detune=U,this.isPlaying===!0&&this.source.detune!==void 0)this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,0.01);return this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(U){return this.setFilters(U?[U]:[])}setPlaybackRate(U){if(this.hasPlaybackControl===!1){PE("Audio: this Audio has no playback control.");return}if(this.playbackRate=U,this.isPlaying===!0)this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,0.01);return this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){if(this.hasPlaybackControl===!1)return PE("Audio: this Audio has no playback control."),!1;return this.loop}setLoop(U){if(this.hasPlaybackControl===!1){PE("Audio: this Audio has no playback control.");return}if(this.loop=U,this.isPlaying===!0)this.source.loop=this.loop;return this}setLoopStart(U){return this.loopStart=U,this}setLoopEnd(U){return this.loopEnd=U,this}getVolume(){return this.gain.gain.value}setVolume(U){return this.gain.gain.setTargetAtTime(U,this.context.currentTime,0.01),this}copy(U,E){if(super.copy(U,E),U.sourceType!=="buffer")return PE("Audio: Audio source type cannot be copied."),this;return this.autoplay=U.autoplay,this.buffer=U.buffer,this.detune=U.detune,this.loop=U.loop,this.loopStart=U.loopStart,this.loopEnd=U.loopEnd,this.offset=U.offset,this.duration=U.duration,this.playbackRate=U.playbackRate,this.hasPlaybackControl=U.hasPlaybackControl,this.sourceType=U.sourceType,this.filters=U.filters.slice(),this}clone(U){return new this.constructor(this.listener).copy(this,U)}}var fP=new b,vR=new np,wC=new b,sP=new b;class q1 extends JO{constructor(U){super(U);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(U){return this.panner.refDistance=U,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(U){return this.panner.rolloffFactor=U,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(U){return this.panner.distanceModel=U,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(U){return this.panner.maxDistance=U,this}setDirectionalCone(U,E,u){return this.panner.coneInnerAngle=U,this.panner.coneOuterAngle=E,this.panner.coneOuterGain=u,this}updateMatrixWorld(U){if(super.updateMatrixWorld(U),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(fP,vR,wC),sP.set(0,0,1).applyQuaternion(vR);let E=this.panner;if(E.positionX){let u=this.context.currentTime+this.listener.timeDelta;E.positionX.linearRampToValueAtTime(fP.x,u),E.positionY.linearRampToValueAtTime(fP.y,u),E.positionZ.linearRampToValueAtTime(fP.z,u),E.orientationX.linearRampToValueAtTime(sP.x,u),E.orientationY.linearRampToValueAtTime(sP.y,u),E.orientationZ.linearRampToValueAtTime(sP.z,u)}else E.setPosition(fP.x,fP.y,fP.z),E.setOrientation(sP.x,sP.y,sP.z)}}class H1{constructor(U,E=2048){this.analyser=U.context.createAnalyser(),this.analyser.fftSize=E,this.data=new Uint8Array(this.analyser.frequencyBinCount),U.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let U=0,E=this.getFrequencyData();for(let u=0;u<E.length;u++)U+=E[u];return U/E.length}}class hO{constructor(U,E,u){this.binding=U,this.valueSize=u;let p,z,c;switch(E){case"quaternion":p=this._slerp,z=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(u*6),this._workIndex=5;break;case"string":case"bool":p=this._select,z=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(u*5);break;default:p=this._lerp,z=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(u*5)}this._mixBufferRegion=p,this._mixBufferRegionAdditive=z,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(U,E){let u=this.buffer,p=this.valueSize,z=U*p+p,c=this.cumulativeWeight;if(c===0){for(let Y=0;Y!==p;++Y)u[z+Y]=u[Y];c=E}else{c+=E;let Y=E/c;this._mixBufferRegion(u,z,0,Y,p)}this.cumulativeWeight=c}accumulateAdditive(U){let E=this.buffer,u=this.valueSize,p=u*this._addIndex;if(this.cumulativeWeightAdditive===0)this._setIdentity();this._mixBufferRegionAdditive(E,p,0,U,u),this.cumulativeWeightAdditive+=U}apply(U){let E=this.valueSize,u=this.buffer,p=U*E+E,z=this.cumulativeWeight,c=this.cumulativeWeightAdditive,Y=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,z<1){let P=E*this._origIndex;this._mixBufferRegion(u,p,P,1-z,E)}if(c>0)this._mixBufferRegionAdditive(u,p,this._addIndex*E,1,E);for(let P=E,n=E+E;P!==n;++P)if(u[P]!==u[P+E]){Y.setValue(u,p);break}}saveOriginalState(){let U=this.binding,E=this.buffer,u=this.valueSize,p=u*this._origIndex;U.getValue(E,p);for(let z=u,c=p;z!==c;++z)E[z]=E[p+z%u];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let U=this.valueSize*3;this.binding.setValue(this.buffer,U)}_setAdditiveIdentityNumeric(){let U=this._addIndex*this.valueSize,E=U+this.valueSize;for(let u=U;u<E;u++)this.buffer[u]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let U=this._origIndex*this.valueSize,E=this._addIndex*this.valueSize;for(let u=0;u<this.valueSize;u++)this.buffer[E+u]=this.buffer[U+u]}_select(U,E,u,p,z){if(p>=0.5)for(let c=0;c!==z;++c)U[E+c]=U[u+c]}_slerp(U,E,u,p){np.slerpFlat(U,E,U,E,U,u,p)}_slerpAdditive(U,E,u,p,z){let c=this._workIndex*z;np.multiplyQuaternionsFlat(U,c,U,E,U,u),np.slerpFlat(U,E,U,E,U,c,p)}_lerp(U,E,u,p,z){let c=1-p;for(let Y=0;Y!==z;++Y){let P=E+Y;U[P]=U[P]*c+U[u+Y]*p}}_lerpAdditive(U,E,u,p,z){for(let c=0;c!==z;++c){let Y=E+c;U[Y]=U[Y]+U[u+c]*p}}}var k1="\\[\\]\\.:\\/",vC=new RegExp("["+k1+"]","g"),Q1="[^"+k1+"]",SC="[^"+k1.replace("\\.","")+"]",RC=/((?:WC+[\/:])*)/.source.replace("WC",Q1),DC=/(WCOD+)?/.source.replace("WCOD",SC),tC=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Q1),JC=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Q1),hC=new RegExp("^"+RC+DC+tC+JC+"$"),bC=["material","materials","bones","map"];class n3{constructor(U,E,u){let p=u||ou.parseTrackName(E);this._targetGroup=U,this._bindings=U.subscribe_(E,p)}getValue(U,E){this.bind();let u=this._targetGroup.nCachedObjects_,p=this._bindings[u];if(p!==void 0)p.getValue(U,E)}setValue(U,E){let u=this._bindings;for(let p=this._targetGroup.nCachedObjects_,z=u.length;p!==z;++p)u[p].setValue(U,E)}bind(){let U=this._bindings;for(let E=this._targetGroup.nCachedObjects_,u=U.length;E!==u;++E)U[E].bind()}unbind(){let U=this._bindings;for(let E=this._targetGroup.nCachedObjects_,u=U.length;E!==u;++E)U[E].unbind()}}class ou{constructor(U,E,u){this.path=E,this.parsedPath=u||ou.parseTrackName(E),this.node=ou.findNode(U,this.parsedPath.nodeName),this.rootNode=U,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(U,E,u){if(!(U&&U.isAnimationObjectGroup))return new ou(U,E,u);else return new ou.Composite(U,E,u)}static sanitizeNodeName(U){return U.replace(/\s/g,"_").replace(vC,"")}static parseTrackName(U){let E=hC.exec(U);if(E===null)throw new Error("PropertyBinding: Cannot parse trackName: "+U);let u={nodeName:E[2],objectName:E[3],objectIndex:E[4],propertyName:E[5],propertyIndex:E[6]},p=u.nodeName&&u.nodeName.lastIndexOf(".");if(p!==void 0&&p!==-1){let z=u.nodeName.substring(p+1);if(bC.indexOf(z)!==-1)u.nodeName=u.nodeName.substring(0,p),u.objectName=z}if(u.propertyName===null||u.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+U);return u}static findNode(U,E){if(E===void 0||E===""||E==="."||E===-1||E===U.name||E===U.uuid)return U;if(U.skeleton){let u=U.skeleton.getBoneByName(E);if(u!==void 0)return u}if(U.children){let u=function(z){for(let c=0;c<z.length;c++){let Y=z[c];if(Y.name===E||Y.uuid===E)return Y;let P=u(Y.children);if(P)return P}return null},p=u(U.children);if(p)return p}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(U,E){U[E]=this.targetObject[this.propertyName]}_getValue_array(U,E){let u=this.resolvedProperty;for(let p=0,z=u.length;p!==z;++p)U[E++]=u[p]}_getValue_arrayElement(U,E){U[E]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(U,E){this.resolvedProperty.toArray(U,E)}_setValue_direct(U,E){this.targetObject[this.propertyName]=U[E]}_setValue_direct_setNeedsUpdate(U,E){this.targetObject[this.propertyName]=U[E],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(U,E){this.targetObject[this.propertyName]=U[E],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(U,E){let u=this.resolvedProperty;for(let p=0,z=u.length;p!==z;++p)u[p]=U[E++]}_setValue_array_setNeedsUpdate(U,E){let u=this.resolvedProperty;for(let p=0,z=u.length;p!==z;++p)u[p]=U[E++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(U,E){let u=this.resolvedProperty;for(let p=0,z=u.length;p!==z;++p)u[p]=U[E++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(U,E){this.resolvedProperty[this.propertyIndex]=U[E]}_setValue_arrayElement_setNeedsUpdate(U,E){this.resolvedProperty[this.propertyIndex]=U[E],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(U,E){this.resolvedProperty[this.propertyIndex]=U[E],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(U,E){this.resolvedProperty.fromArray(U,E)}_setValue_fromArray_setNeedsUpdate(U,E){this.resolvedProperty.fromArray(U,E),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(U,E){this.resolvedProperty.fromArray(U,E),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(U,E){this.bind(),this.getValue(U,E)}_setValue_unbound(U,E){this.bind(),this.setValue(U,E)}bind(){let U=this.node,E=this.parsedPath,u=E.objectName,p=E.propertyName,z=E.propertyIndex;if(!U)U=ou.findNode(this.rootNode,E.nodeName),this.node=U;if(this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!U){PE("PropertyBinding: No target node found for track: "+this.path+".");return}if(u){let n=E.objectIndex;switch(u){case"materials":if(!U.material){SE("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!U.material.materials){SE("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}U=U.material.materials;break;case"bones":if(!U.skeleton){SE("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}U=U.skeleton.bones;for(let j=0;j<U.length;j++)if(U[j].name===n){n=j;break}break;case"map":if("map"in U){U=U.map;break}if(!U.material){SE("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!U.material.map){SE("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}U=U.material.map;break;default:if(U[u]===void 0){SE("PropertyBinding: Can not bind to objectName of node undefined.",this);return}U=U[u]}if(n!==void 0){if(U[n]===void 0){SE("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,U);return}U=U[n]}}let c=U[p];if(c===void 0){let n=E.nodeName;SE("PropertyBinding: Trying to update property for track: "+n+"."+p+" but it wasn't found.",U);return}let Y=this.Versioning.None;if(this.targetObject=U,U.isMaterial===!0)Y=this.Versioning.NeedsUpdate;else if(U.isObject3D===!0)Y=this.Versioning.MatrixWorldNeedsUpdate;let P=this.BindingType.Direct;if(z!==void 0){if(p==="morphTargetInfluences"){if(!U.geometry){SE("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!U.geometry.morphAttributes){SE("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}if(U.morphTargetDictionary[z]!==void 0)z=U.morphTargetDictionary[z]}P=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=z}else if(c.fromArray!==void 0&&c.toArray!==void 0)P=this.BindingType.HasFromToArray,this.resolvedProperty=c;else if(Array.isArray(c))P=this.BindingType.EntireArray,this.resolvedProperty=c;else this.propertyName=p;this.getValue=this.GetterByBindingType[P],this.setValue=this.SetterByBindingTypeAndVersioning[P][Y]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ou.Composite=n3;ou.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ou.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ou.prototype.GetterByBindingType=[ou.prototype._getValue_direct,ou.prototype._getValue_array,ou.prototype._getValue_arrayElement,ou.prototype._getValue_toArray];ou.prototype.SetterByBindingTypeAndVersioning=[[ou.prototype._setValue_direct,ou.prototype._setValue_direct_setNeedsUpdate,ou.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ou.prototype._setValue_array,ou.prototype._setValue_array_setNeedsUpdate,ou.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ou.prototype._setValue_arrayElement,ou.prototype._setValue_arrayElement_setNeedsUpdate,ou.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ou.prototype._setValue_fromArray,ou.prototype._setValue_fromArray_setNeedsUpdate,ou.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class $1{constructor(){this.isAnimationObjectGroup=!0,this.uuid=P0(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let U={};this._indicesByUUID=U;for(let u=0,p=arguments.length;u!==p;++u)U[arguments[u].uuid]=u;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let E=this;this.stats={objects:{get total(){return E._objects.length},get inUse(){return this.total-E.nCachedObjects_}},get bindingsPerObject(){return E._bindings.length}}}add(){let U=this._objects,E=this._indicesByUUID,u=this._paths,p=this._parsedPaths,z=this._bindings,c=z.length,Y=void 0,P=U.length,n=this.nCachedObjects_;for(let j=0,H=arguments.length;j!==H;++j){let k=arguments[j],Q=k.uuid,y=E[Q];if(y===void 0){y=P++,E[Q]=y,U.push(k);for(let r=0,T=c;r!==T;++r)z[r].push(new ou(k,u[r],p[r]))}else if(y<n){Y=U[y];let r=--n,T=U[r];E[T.uuid]=y,U[y]=T,E[Q]=r,U[r]=k;for(let N=0,O=c;N!==O;++N){let L=z[N],X=L[r],i=L[y];if(L[y]=X,i===void 0)i=new ou(k,u[N],p[N]);L[r]=i}}else if(U[y]!==Y)SE("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n}remove(){let U=this._objects,E=this._indicesByUUID,u=this._bindings,p=u.length,z=this.nCachedObjects_;for(let c=0,Y=arguments.length;c!==Y;++c){let P=arguments[c],n=P.uuid,j=E[n];if(j!==void 0&&j>=z){let H=z++,k=U[H];E[k.uuid]=j,U[j]=k,E[n]=H,U[H]=P;for(let Q=0,y=p;Q!==y;++Q){let r=u[Q],T=r[H],N=r[j];r[j]=T,r[H]=N}}}this.nCachedObjects_=z}uncache(){let U=this._objects,E=this._indicesByUUID,u=this._bindings,p=u.length,z=this.nCachedObjects_,c=U.length;for(let Y=0,P=arguments.length;Y!==P;++Y){let n=arguments[Y],j=n.uuid,H=E[j];if(H!==void 0)if(delete E[j],H<z){let k=--z,Q=U[k],y=--c,r=U[y];E[Q.uuid]=H,U[H]=Q,E[r.uuid]=k,U[k]=r,U.pop();for(let T=0,N=p;T!==N;++T){let O=u[T],L=O[k],X=O[y];O[H]=L,O[k]=X,O.pop()}}else{let k=--c,Q=U[k];if(k>0)E[Q.uuid]=H;U[H]=Q,U.pop();for(let y=0,r=p;y!==r;++y){let T=u[y];T[H]=T[k],T.pop()}}}this.nCachedObjects_=z}subscribe_(U,E){let u=this._bindingsIndicesByPath,p=u[U],z=this._bindings;if(p!==void 0)return z[p];let c=this._paths,Y=this._parsedPaths,P=this._objects,n=P.length,j=this.nCachedObjects_,H=new Array(n);p=z.length,u[U]=p,c.push(U),Y.push(E),z.push(H);for(let k=j,Q=P.length;k!==Q;++k){let y=P[k];H[k]=new ou(y,U,E)}return H}unsubscribe_(U){let E=this._bindingsIndicesByPath,u=E[U];if(u!==void 0){let p=this._paths,z=this._parsedPaths,c=this._bindings,Y=c.length-1,P=c[Y],n=U[Y];E[n]=u,c[u]=P,c.pop(),z[u]=z[Y],z.pop(),p[u]=p[Y],p.pop()}}}class bO{constructor(U,E,u=null,p=E.blendMode){this._mixer=U,this._clip=E,this._localRoot=u,this.blendMode=p;let z=E.tracks,c=z.length,Y=new Array(c),P={endingStart:2400,endingEnd:2400};for(let n=0;n!==c;++n){let j=z[n].createInterpolant(null);Y[n]=j,j.settings=P}this._interpolantSettings=P,this._interpolants=Y,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(U){return this._startTime=U,this}setLoop(U,E){return this.loop=U,this.repetitions=E,this}setEffectiveWeight(U){return this.weight=U,this._effectiveWeight=this.enabled?U:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(U){return this._scheduleFading(U,0,1)}fadeOut(U){return this._scheduleFading(U,1,0)}crossFadeFrom(U,E,u=!1){if(U.fadeOut(E),this.fadeIn(E),u===!0){let p=this._clip.duration,z=U._clip.duration,c=z/p,Y=p/z;U.warp(1,c,E),this.warp(Y,1,E)}return this}crossFadeTo(U,E,u=!1){return U.crossFadeFrom(this,E,u)}stopFading(){let U=this._weightInterpolant;if(U!==null)this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(U);return this}setEffectiveTimeScale(U){return this.timeScale=U,this._effectiveTimeScale=this.paused?0:U,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(U){return this.timeScale=this._clip.duration/U,this.stopWarping()}syncWith(U){return this.time=U.time,this.timeScale=U.timeScale,this.stopWarping()}halt(U){return this.warp(this._effectiveTimeScale,0,U)}warp(U,E,u){let p=this._mixer,z=p.time,c=this.timeScale,Y=this._timeScaleInterpolant;if(Y===null)Y=p._lendControlInterpolant(),this._timeScaleInterpolant=Y;let{parameterPositions:P,sampleValues:n}=Y;return P[0]=z,P[1]=z+u,n[0]=U/c,n[1]=E/c,this}stopWarping(){let U=this._timeScaleInterpolant;if(U!==null)this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(U);return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(U,E,u,p){if(!this.enabled){this._updateWeight(U);return}let z=this._startTime;if(z!==null){let P=(U-z)*u;if(P<0||u===0)E=0;else this._startTime=null,E=u*P}E*=this._updateTimeScale(U);let c=this._updateTime(E),Y=this._updateWeight(U);if(Y>0){let P=this._interpolants,n=this._propertyBindings;switch(this.blendMode){case 2501:for(let j=0,H=P.length;j!==H;++j)P[j].evaluate(c),n[j].accumulateAdditive(Y);break;case 2500:default:for(let j=0,H=P.length;j!==H;++j)P[j].evaluate(c),n[j].accumulate(p,Y)}}}_updateWeight(U){let E=0;if(this.enabled){E=this.weight;let u=this._weightInterpolant;if(u!==null){let p=u.evaluate(U)[0];if(E*=p,U>u.parameterPositions[1]){if(this.stopFading(),p===0)this.enabled=!1}}}return this._effectiveWeight=E,E}_updateTimeScale(U){let E=0;if(!this.paused){E=this.timeScale;let u=this._timeScaleInterpolant;if(u!==null){let p=u.evaluate(U)[0];if(E*=p,U>u.parameterPositions[1])if(this.stopWarping(),E===0)this.paused=!0;else this.timeScale=E}}return this._effectiveTimeScale=E,E}_updateTime(U){let E=this._clip.duration,u=this.loop,p=this.time+U,z=this._loopCount,c=u===2202;if(U===0){if(z===-1)return p;return c&&(z&1)===1?E-p:p}if(u===2200){if(z===-1)this._loopCount=0,this._setEndings(!0,!0,!1);U:{if(p>=E)p=E;else if(p<0)p=0;else{this.time=p;break U}if(this.clampWhenFinished)this.paused=!0;else this.enabled=!1;this.time=p,this._mixer.dispatchEvent({type:"finished",action:this,direction:U<0?-1:1})}}else{if(z===-1)if(U>=0)z=0,this._setEndings(!0,this.repetitions===0,c);else this._setEndings(this.repetitions===0,!0,c);if(p>=E||p<0){let Y=Math.floor(p/E);p-=E*Y,z+=Math.abs(Y);let P=this.repetitions-z;if(P<=0){if(this.clampWhenFinished)this.paused=!0;else this.enabled=!1;p=U>0?E:0,this.time=p,this._mixer.dispatchEvent({type:"finished",action:this,direction:U>0?1:-1})}else{if(P===1){let n=U<0;this._setEndings(n,!n,c)}else this._setEndings(!1,!1,c);this._loopCount=z,this.time=p,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:Y})}}else this.time=p;if(c&&(z&1)===1)return E-p}return p}_setEndings(U,E,u){let p=this._interpolantSettings;if(u)p.endingStart=2401,p.endingEnd=2401;else{if(U)p.endingStart=this.zeroSlopeAtStart?2401:2400;else p.endingStart=2402;if(E)p.endingEnd=this.zeroSlopeAtEnd?2401:2400;else p.endingEnd=2402}}_scheduleFading(U,E,u){let p=this._mixer,z=p.time,c=this._weightInterpolant;if(c===null)c=p._lendControlInterpolant(),this._weightInterpolant=c;let{parameterPositions:Y,sampleValues:P}=c;return Y[0]=z,P[0]=E,Y[1]=z+U,P[1]=u,this}}var lC=new Float32Array(1);class y1 extends l0{constructor(U){super();this._root=U,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(U,E){let u=U._localRoot||this._root,p=U._clip.tracks,z=p.length,c=U._propertyBindings,Y=U._interpolants,P=u.uuid,n=this._bindingsByRootAndName,j=n[P];if(j===void 0)j={},n[P]=j;for(let H=0;H!==z;++H){let k=p[H],Q=k.name,y=j[Q];if(y!==void 0)++y.referenceCount,c[H]=y;else{if(y=c[H],y!==void 0){if(y._cacheIndex===null)++y.referenceCount,this._addInactiveBinding(y,P,Q);continue}let r=E&&E._propertyBindings[H].binding.parsedPath;y=new hO(ou.create(u,Q,r),k.ValueTypeName,k.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,P,Q),c[H]=y}Y[H].resultBuffer=y.buffer}}_activateAction(U){if(!this._isActiveAction(U)){if(U._cacheIndex===null){let u=(U._localRoot||this._root).uuid,p=U._clip.uuid,z=this._actionsByClip[p];this._bindAction(U,z&&z.knownActions[0]),this._addInactiveAction(U,p,u)}let E=U._propertyBindings;for(let u=0,p=E.length;u!==p;++u){let z=E[u];if(z.useCount++===0)this._lendBinding(z),z.saveOriginalState()}this._lendAction(U)}}_deactivateAction(U){if(this._isActiveAction(U)){let E=U._propertyBindings;for(let u=0,p=E.length;u!==p;++u){let z=E[u];if(--z.useCount===0)z.restoreOriginalState(),this._takeBackBinding(z)}this._takeBackAction(U)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let U=this;this.stats={actions:{get total(){return U._actions.length},get inUse(){return U._nActiveActions}},bindings:{get total(){return U._bindings.length},get inUse(){return U._nActiveBindings}},controlInterpolants:{get total(){return U._controlInterpolants.length},get inUse(){return U._nActiveControlInterpolants}}}}_isActiveAction(U){let E=U._cacheIndex;return E!==null&&E<this._nActiveActions}_addInactiveAction(U,E,u){let p=this._actions,z=this._actionsByClip,c=z[E];if(c===void 0)c={knownActions:[U],actionByRoot:{}},U._byClipCacheIndex=0,z[E]=c;else{let Y=c.knownActions;U._byClipCacheIndex=Y.length,Y.push(U)}U._cacheIndex=p.length,p.push(U),c.actionByRoot[u]=U}_removeInactiveAction(U){let E=this._actions,u=E[E.length-1],p=U._cacheIndex;u._cacheIndex=p,E[p]=u,E.pop(),U._cacheIndex=null;let z=U._clip.uuid,c=this._actionsByClip,Y=c[z],P=Y.knownActions,n=P[P.length-1],j=U._byClipCacheIndex;n._byClipCacheIndex=j,P[j]=n,P.pop(),U._byClipCacheIndex=null;let H=Y.actionByRoot,k=(U._localRoot||this._root).uuid;if(delete H[k],P.length===0)delete c[z];this._removeInactiveBindingsForAction(U)}_removeInactiveBindingsForAction(U){let E=U._propertyBindings;for(let u=0,p=E.length;u!==p;++u){let z=E[u];if(--z.referenceCount===0)this._removeInactiveBinding(z)}}_lendAction(U){let E=this._actions,u=U._cacheIndex,p=this._nActiveActions++,z=E[p];U._cacheIndex=p,E[p]=U,z._cacheIndex=u,E[u]=z}_takeBackAction(U){let E=this._actions,u=U._cacheIndex,p=--this._nActiveActions,z=E[p];U._cacheIndex=p,E[p]=U,z._cacheIndex=u,E[u]=z}_addInactiveBinding(U,E,u){let p=this._bindingsByRootAndName,z=this._bindings,c=p[E];if(c===void 0)c={},p[E]=c;c[u]=U,U._cacheIndex=z.length,z.push(U)}_removeInactiveBinding(U){let E=this._bindings,u=U.binding,p=u.rootNode.uuid,z=u.path,c=this._bindingsByRootAndName,Y=c[p],P=E[E.length-1],n=U._cacheIndex;if(P._cacheIndex=n,E[n]=P,E.pop(),delete Y[z],Object.keys(Y).length===0)delete c[p]}_lendBinding(U){let E=this._bindings,u=U._cacheIndex,p=this._nActiveBindings++,z=E[p];U._cacheIndex=p,E[p]=U,z._cacheIndex=u,E[u]=z}_takeBackBinding(U){let E=this._bindings,u=U._cacheIndex,p=--this._nActiveBindings,z=E[p];U._cacheIndex=p,E[p]=U,z._cacheIndex=u,E[u]=z}_lendControlInterpolant(){let U=this._controlInterpolants,E=this._nActiveControlInterpolants++,u=U[E];if(u===void 0)u=new g9(new Float32Array(2),new Float32Array(2),1,lC),u.__cacheIndex=E,U[E]=u;return u}_takeBackControlInterpolant(U){let E=this._controlInterpolants,u=U.__cacheIndex,p=--this._nActiveControlInterpolants,z=E[p];U.__cacheIndex=p,E[p]=U,z.__cacheIndex=u,E[u]=z}clipAction(U,E,u){let p=E||this._root,z=p.uuid,c=typeof U==="string"?e4.findByName(p,U):U,Y=c!==null?c.uuid:U,P=this._actionsByClip[Y],n=null;if(u===void 0)if(c!==null)u=c.blendMode;else u=2500;if(P!==void 0){let H=P.actionByRoot[z];if(H!==void 0&&H.blendMode===u)return H;if(n=P.knownActions[0],c===null)c=n._clip}if(c===null)return null;let j=new bO(this,c,E,u);return this._bindAction(j,n),this._addInactiveAction(j,Y,z),j}existingAction(U,E){let u=E||this._root,p=u.uuid,z=typeof U==="string"?e4.findByName(u,U):U,c=z?z.uuid:U,Y=this._actionsByClip[c];if(Y!==void 0)return Y.actionByRoot[p]||null;return null}stopAllAction(){let U=this._actions,E=this._nActiveActions;for(let u=E-1;u>=0;--u)U[u].stop();return this}update(U){U*=this.timeScale;let E=this._actions,u=this._nActiveActions,p=this.time+=U,z=Math.sign(U),c=this._accuIndex^=1;for(let n=0;n!==u;++n)E[n]._update(p,U,z,c);let Y=this._bindings,P=this._nActiveBindings;for(let n=0;n!==P;++n)Y[n].apply(c);return this}setTime(U){this.time=0;for(let E=0;E<this._actions.length;E++)this._actions[E].time=0;return this.update(U)}getRoot(){return this._root}uncacheClip(U){let E=this._actions,u=U.uuid,p=this._actionsByClip,z=p[u];if(z!==void 0){let c=z.knownActions;for(let Y=0,P=c.length;Y!==P;++Y){let n=c[Y];this._deactivateAction(n);let j=n._cacheIndex,H=E[E.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,H._cacheIndex=j,E[j]=H,E.pop(),this._removeInactiveBindingsForAction(n)}delete p[u]}}uncacheRoot(U){let E=U.uuid,u=this._actionsByClip;for(let c in u){let Y=u[c].actionByRoot,P=Y[E];if(P!==void 0)this._deactivateAction(P),this._removeInactiveAction(P)}let p=this._bindingsByRootAndName,z=p[E];if(z!==void 0)for(let c in z){let Y=z[c];Y.restoreOriginalState(),this._removeInactiveBinding(Y)}}uncacheAction(U,E){let u=this.existingAction(U,E);if(u!==null)this._deactivateAction(u),this._removeInactiveAction(u)}}class I1 extends o9{constructor(U=1,E=1,u=1,p={}){super(U,E,p);this.isRenderTarget3D=!0,this.depth=u,this.texture=new _j(null,U,E,u),this._setTextureOptions(p),this.texture.isRenderTargetTexture=!0}}class lO{constructor(U){this.value=U}clone(){return new lO(this.value.clone===void 0?this.value:this.value.clone())}}var MC=0;class O1 extends l0{constructor(){super();this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:MC++}),this.name="",this.usage=35044,this.uniforms=[]}add(U){return this.uniforms.push(U),this}remove(U){let E=this.uniforms.indexOf(U);if(E!==-1)this.uniforms.splice(E,1);return this}setName(U){return this.name=U,this}setUsage(U){return this.usage=U,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(U){this.name=U.name,this.usage=U.usage;let E=U.uniforms;this.uniforms.length=0;for(let u=0,p=E.length;u<p;u++){let z=Array.isArray(E[u])?E[u]:[E[u]];for(let c=0;c<z.length;c++)this.uniforms.push(z[c].clone())}return this}clone(){return new this.constructor().copy(this)}}class N1 extends zY{constructor(U,E,u=1){super(U,E);this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=u}copy(U){return super.copy(U),this.meshPerAttribute=U.meshPerAttribute,this}clone(U){let E=super.clone(U);return E.meshPerAttribute=this.meshPerAttribute,E}toJSON(U){let E=super.toJSON(U);return E.isInstancedInterleavedBuffer=!0,E.meshPerAttribute=this.meshPerAttribute,E}}class r1{constructor(U,E,u,p,z,c=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=U,this.type=E,this.itemSize=u,this.elementSize=p,this.count=z,this.normalized=c,this.version=0}set needsUpdate(U){if(U===!0)this.version++}setBuffer(U){return this.buffer=U,this}setType(U,E){return this.type=U,this.elementSize=E,this}setItemSize(U){return this.itemSize=U,this}setCount(U){return this.count=U,this}}var SR=new RE;class Hq{constructor(U,E,u=0,p=1/0){this.ray=new AZ(U,E),this.near=u,this.far=p,this.camera=null,this.layers=new uY,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(U,E){this.ray.set(U,E)}setFromCamera(U,E){if(E.isPerspectiveCamera)this.ray.origin.setFromMatrixPosition(E.matrixWorld),this.ray.direction.set(U.x,U.y,0.5).unproject(E).sub(this.ray.origin).normalize(),this.camera=E;else if(E.isOrthographicCamera)this.ray.origin.set(U.x,U.y,(E.near+E.far)/(E.near-E.far)).unproject(E),this.ray.direction.set(0,0,-1).transformDirection(E.matrixWorld),this.camera=E;else SE("Raycaster: Unsupported camera type: "+E.type)}setFromXRController(U){return SR.identity().extractRotation(U.matrixWorld),this.ray.origin.setFromMatrixPosition(U.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(SR),this}intersectObject(U,E=!0,u=[]){return CT(U,this,u,E),u.sort(RR),u}intersectObjects(U,E=!0,u=[]){for(let p=0,z=U.length;p<z;p++)CT(U[p],this,u,E);return u.sort(RR),u}}function RR(U,E){return U.distance-E.distance}function CT(U,E,u,p){let z=!0;if(U.layers.test(E.layers)){if(U.raycast(E,u)===!1)z=!1}if(z===!0&&p===!0){let c=U.children;for(let Y=0,P=c.length;Y<P;Y++)CT(c[Y],E,u,!0)}}class L1{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(U){if(this._document=U,U.hidden!==void 0)this._pageVisibilityHandler=WC.bind(this),U.addEventListener("visibilitychange",this._pageVisibilityHandler,!1)}disconnect(){if(this._pageVisibilityHandler!==null)this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null;this._document=null}getDelta(){return this._delta/1000}getElapsed(){return this._elapsed/1000}getTimescale(){return this._timescale}setTimescale(U){return this._timescale=U,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(U){if(this._pageVisibilityHandler!==null&&this._document.hidden===!0)this._delta=0;else this._previousTime=this._currentTime,this._currentTime=(U!==void 0?U:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta;return this}}function WC(){if(this._document.hidden===!1)this.reset()}class cQ{constructor(U=1,E=0,u=0){this.radius=U,this.phi=E,this.theta=u}set(U,E,u){return this.radius=U,this.phi=E,this.theta=u,this}copy(U){return this.radius=U.radius,this.phi=U.phi,this.theta=U.theta,this}makeSafe(){return this.phi=sE(this.phi,0.000001,Math.PI-0.000001),this}setFromVector3(U){return this.setFromCartesianCoords(U.x,U.y,U.z)}setFromCartesianCoords(U,E,u){if(this.radius=Math.sqrt(U*U+E*E+u*u),this.radius===0)this.theta=0,this.phi=0;else this.theta=Math.atan2(U,u),this.phi=Math.acos(sE(E/this.radius,-1,1));return this}clone(){return new this.constructor().copy(this)}}class X1{constructor(U=1,E=0,u=0){this.radius=U,this.theta=E,this.y=u}set(U,E,u){return this.radius=U,this.theta=E,this.y=u,this}copy(U){return this.radius=U.radius,this.theta=U.theta,this.y=U.y,this}setFromVector3(U){return this.setFromCartesianCoords(U.x,U.y,U.z)}setFromCartesianCoords(U,E,u){return this.radius=Math.sqrt(U*U+u*u),this.theta=Math.atan2(U,u),this.y=E,this}clone(){return new this.constructor().copy(this)}}class MO{constructor(U,E,u,p){if(MO.prototype.isMatrix2=!0,this.elements=[1,0,0,1],U!==void 0)this.set(U,E,u,p)}identity(){return this.set(1,0,0,1),this}fromArray(U,E=0){for(let u=0;u<4;u++)this.elements[u]=U[u+E];return this}set(U,E,u,p){let z=this.elements;return z[0]=U,z[2]=E,z[1]=u,z[3]=p,this}}var DR=new LU;class T1{constructor(U=new LU(1/0,1/0),E=new LU(-1/0,-1/0)){this.isBox2=!0,this.min=U,this.max=E}set(U,E){return this.min.copy(U),this.max.copy(E),this}setFromPoints(U){this.makeEmpty();for(let E=0,u=U.length;E<u;E++)this.expandByPoint(U[E]);return this}setFromCenterAndSize(U,E){let u=DR.copy(E).multiplyScalar(0.5);return this.min.copy(U).sub(u),this.max.copy(U).add(u),this}clone(){return new this.constructor().copy(this)}copy(U){return this.min.copy(U.min),this.max.copy(U.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(U){return this.isEmpty()?U.set(0,0):U.addVectors(this.min,this.max).multiplyScalar(0.5)}getSize(U){return this.isEmpty()?U.set(0,0):U.subVectors(this.max,this.min)}expandByPoint(U){return this.min.min(U),this.max.max(U),this}expandByVector(U){return this.min.sub(U),this.max.add(U),this}expandByScalar(U){return this.min.addScalar(-U),this.max.addScalar(U),this}containsPoint(U){return U.x>=this.min.x&&U.x<=this.max.x&&U.y>=this.min.y&&U.y<=this.max.y}containsBox(U){return this.min.x<=U.min.x&&U.max.x<=this.max.x&&this.min.y<=U.min.y&&U.max.y<=this.max.y}getParameter(U,E){return E.set((U.x-this.min.x)/(this.max.x-this.min.x),(U.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(U){return U.max.x>=this.min.x&&U.min.x<=this.max.x&&U.max.y>=this.min.y&&U.min.y<=this.max.y}clampPoint(U,E){return E.copy(U).clamp(this.min,this.max)}distanceToPoint(U){return this.clampPoint(U,DR).distanceTo(U)}intersect(U){if(this.min.max(U.min),this.max.min(U.max),this.isEmpty())this.makeEmpty();return this}union(U){return this.min.min(U.min),this.max.max(U.max),this}translate(U){return this.min.add(U),this.max.add(U),this}equals(U){return U.min.equals(this.min)&&U.max.equals(this.max)}}var tR=new b,UI=new b,wj=new b,vj=new b,fT=new b,fC=new b,sC=new b;class o1{constructor(U=new b,E=new b){this.start=U,this.end=E}set(U,E){return this.start.copy(U),this.end.copy(E),this}copy(U){return this.start.copy(U.start),this.end.copy(U.end),this}getCenter(U){return U.addVectors(this.start,this.end).multiplyScalar(0.5)}delta(U){return U.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(U,E){return this.delta(E).multiplyScalar(U).add(this.start)}closestPointToPointParameter(U,E){tR.subVectors(U,this.start),UI.subVectors(this.end,this.start);let u=UI.dot(UI),z=UI.dot(tR)/u;if(E)z=sE(z,0,1);return z}closestPointToPoint(U,E,u){let p=this.closestPointToPointParameter(U,E);return this.delta(u).multiplyScalar(p).add(this.start)}distanceSqToLine3(U,E=fC,u=sC){let z,c,Y=this.start,P=U.start,n=this.end,j=U.end;wj.subVectors(n,Y),vj.subVectors(j,P),fT.subVectors(Y,P);let H=wj.dot(wj),k=vj.dot(vj),Q=vj.dot(fT);if(H<=0.00000000000000010000000000000001&&k<=0.00000000000000010000000000000001)return E.copy(Y),u.copy(P),E.sub(u),E.dot(E);if(H<=0.00000000000000010000000000000001)z=0,c=Q/k,c=sE(c,0,1);else{let y=wj.dot(fT);if(k<=0.00000000000000010000000000000001)c=0,z=sE(-y/H,0,1);else{let r=wj.dot(vj),T=H*k-r*r;if(T!==0)z=sE((r*Q-y*k)/T,0,1);else z=0;if(c=(r*z+Q)/k,c<0)c=0,z=sE(-y/H,0,1);else if(c>1)c=1,z=sE((r-y)/H,0,1)}}return E.copy(Y).add(wj.multiplyScalar(z)),u.copy(P).add(vj.multiplyScalar(c)),E.sub(u),E.dot(E)}applyMatrix4(U){return this.start.applyMatrix4(U),this.end.applyMatrix4(U),this}equals(U){return U.start.equals(this.start)&&U.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}var JR=new b;class i1 extends Ou{constructor(U,E){super();this.light=U,this.matrixAutoUpdate=!1,this.color=E,this.type="SpotLightHelper";let u=new WE,p=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,Y=1,P=32;c<P;c++,Y++){let n=c/P*Math.PI*2,j=Y/P*Math.PI*2;p.push(Math.cos(n),Math.sin(n),1,Math.cos(j),Math.sin(j),1)}u.setAttribute("position",new NE(p,3));let z=new q5({fog:!1,toneMapped:!1});this.cone=new wz(u,z),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){if(this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent)this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld);else this.matrix.copy(this.light.matrixWorld);this.matrixWorld.copy(this.light.matrixWorld);let U=this.light.distance?this.light.distance:1000,E=U*Math.tan(this.light.angle);if(this.cone.scale.set(E,E,U),JR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(JR),this.color!==void 0)this.cone.material.color.set(this.color);else this.cone.material.color.copy(this.light.color)}}var OZ=new b,EI=new RE,sT=new RE;class F1 extends wz{constructor(U){let E=j3(U),u=new WE,p=[],z=[];for(let n=0;n<E.length;n++){let j=E[n];if(j.parent&&j.parent.isBone)p.push(0,0,0),p.push(0,0,0),z.push(0,0,0),z.push(0,0,0)}u.setAttribute("position",new NE(p,3)),u.setAttribute("color",new NE(z,3));let c=new q5({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(u,c);this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=U,this.bones=E,this.matrix=U.matrixWorld,this.matrixAutoUpdate=!1;let Y=new EE(255),P=new EE(65280);this.setColors(Y,P)}updateMatrixWorld(U){let E=this.bones,u=this.geometry,p=u.getAttribute("position");sT.copy(this.root.matrixWorld).invert();for(let z=0,c=0;z<E.length;z++){let Y=E[z];if(Y.parent&&Y.parent.isBone)EI.multiplyMatrices(sT,Y.matrixWorld),OZ.setFromMatrixPosition(EI),p.setXYZ(c,OZ.x,OZ.y,OZ.z),EI.multiplyMatrices(sT,Y.parent.matrixWorld),OZ.setFromMatrixPosition(EI),p.setXYZ(c+1,OZ.x,OZ.y,OZ.z),c+=2}u.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(U)}setColors(U,E){let p=this.geometry.getAttribute("color");for(let z=0;z<p.count;z+=2)p.setXYZ(z,U.r,U.g,U.b),p.setXYZ(z+1,E.r,E.g,E.b);return p.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function j3(U){let E=[];if(U.isBone===!0)E.push(U);for(let u=0;u<U.children.length;u++)E.push(...j3(U.children[u]));return E}class A1 extends tu{constructor(U,E,u){let p=new Pq(E,4,2),z=new A5({wireframe:!0,fog:!1,toneMapped:!1});super(p,z);this.light=U,this.color=u,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){if(this.light.updateWorldMatrix(!0,!1),this.color!==void 0)this.material.color.set(this.color);else this.material.color.copy(this.light.color)}}var KC=new b,hR=new EE,bR=new EE;class m1 extends Ou{constructor(U,E,u){super();this.light=U,this.matrix=U.matrixWorld,this.matrixAutoUpdate=!1,this.color=u,this.type="HemisphereLightHelper";let p=new Zq(E);if(p.rotateY(Math.PI*0.5),this.material=new A5({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0)this.material.vertexColors=!0;let z=p.getAttribute("position"),c=new Float32Array(z.count*3);p.setAttribute("color",new ju(c,3)),this.add(new tu(p,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let U=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{let E=U.geometry.getAttribute("color");hR.copy(this.light.color),bR.copy(this.light.groundColor);for(let u=0,p=E.count;u<p;u++){let z=u<p/2?hR:bR;E.setXYZ(u,z.r,z.g,z.b)}E.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),U.lookAt(KC.setFromMatrixPosition(this.light.matrixWorld).negate())}}class V1 extends wz{constructor(U=10,E=10,u=4473924,p=8947848){u=new EE(u),p=new EE(p);let z=E/2,c=U/E,Y=U/2,P=[],n=[];for(let k=0,Q=0,y=-Y;k<=E;k++,y+=c){P.push(-Y,0,y,Y,0,y),P.push(y,0,-Y,y,0,Y);let r=k===z?u:p;r.toArray(n,Q),Q+=3,r.toArray(n,Q),Q+=3,r.toArray(n,Q),Q+=3,r.toArray(n,Q),Q+=3}let j=new WE;j.setAttribute("position",new NE(P,3)),j.setAttribute("color",new NE(n,3));let H=new q5({vertexColors:!0,toneMapped:!1});super(j,H);this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class G1 extends wz{constructor(U=10,E=16,u=8,p=64,z=4473924,c=8947848){z=new EE(z),c=new EE(c);let Y=[],P=[];if(E>1)for(let H=0;H<E;H++){let k=H/E*(Math.PI*2),Q=Math.sin(k)*U,y=Math.cos(k)*U;Y.push(0,0,0),Y.push(Q,0,y);let r=H&1?z:c;P.push(r.r,r.g,r.b),P.push(r.r,r.g,r.b)}for(let H=0;H<u;H++){let k=H&1?z:c,Q=U-U/u*H;for(let y=0;y<p;y++){let r=y/p*(Math.PI*2),T=Math.sin(r)*Q,N=Math.cos(r)*Q;Y.push(T,0,N),P.push(k.r,k.g,k.b),r=(y+1)/p*(Math.PI*2),T=Math.sin(r)*Q,N=Math.cos(r)*Q,Y.push(T,0,N),P.push(k.r,k.g,k.b)}}let n=new WE;n.setAttribute("position",new NE(Y,3)),n.setAttribute("color",new NE(P,3));let j=new q5({vertexColors:!0,toneMapped:!1});super(n,j);this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}var lR=new b,uI=new b,MR=new b;class B1 extends Ou{constructor(U,E,u){super();if(this.light=U,this.matrix=U.matrixWorld,this.matrixAutoUpdate=!1,this.color=u,this.type="DirectionalLightHelper",E===void 0)E=1;let p=new WE;p.setAttribute("position",new NE([-E,E,0,E,E,0,E,-E,0,-E,-E,0,-E,E,0],3));let z=new q5({fog:!1,toneMapped:!1});this.lightPlane=new h0(p,z),this.add(this.lightPlane),p=new WE,p.setAttribute("position",new NE([0,0,0,0,0,1],3)),this.targetLine=new h0(p,z),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){if(this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lR.setFromMatrixPosition(this.light.matrixWorld),uI.setFromMatrixPosition(this.light.target.matrixWorld),MR.subVectors(uI,lR),this.lightPlane.lookAt(uI),this.color!==void 0)this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color);else this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color);this.targetLine.lookAt(uI),this.targetLine.scale.z=MR.length()}}var pI=new b,wp=new gj;class d1 extends wz{constructor(U){let E=new WE,u=new q5({color:16777215,vertexColors:!0,toneMapped:!1}),p=[],z=[],c={};Y("n1","n2"),Y("n2","n4"),Y("n4","n3"),Y("n3","n1"),Y("f1","f2"),Y("f2","f4"),Y("f4","f3"),Y("f3","f1"),Y("n1","f1"),Y("n2","f2"),Y("n3","f3"),Y("n4","f4"),Y("p","n1"),Y("p","n2"),Y("p","n3"),Y("p","n4"),Y("u1","u2"),Y("u2","u3"),Y("u3","u1"),Y("c","t"),Y("p","c"),Y("cn1","cn2"),Y("cn3","cn4"),Y("cf1","cf2"),Y("cf3","cf4");function Y(y,r){P(y),P(r)}function P(y){if(p.push(0,0,0),z.push(0,0,0),c[y]===void 0)c[y]=[];c[y].push(p.length/3-1)}E.setAttribute("position",new NE(p,3)),E.setAttribute("color",new NE(z,3));super(E,u);if(this.type="CameraHelper",this.camera=U,this.camera.updateProjectionMatrix)this.camera.updateProjectionMatrix();this.matrix=U.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update();let n=new EE(16755200),j=new EE(16711680),H=new EE(43775),k=new EE(16777215),Q=new EE(3355443);this.setColors(n,j,H,k,Q)}setColors(U,E,u,p,z){let Y=this.geometry.getAttribute("color");return Y.setXYZ(0,U.r,U.g,U.b),Y.setXYZ(1,U.r,U.g,U.b),Y.setXYZ(2,U.r,U.g,U.b),Y.setXYZ(3,U.r,U.g,U.b),Y.setXYZ(4,U.r,U.g,U.b),Y.setXYZ(5,U.r,U.g,U.b),Y.setXYZ(6,U.r,U.g,U.b),Y.setXYZ(7,U.r,U.g,U.b),Y.setXYZ(8,U.r,U.g,U.b),Y.setXYZ(9,U.r,U.g,U.b),Y.setXYZ(10,U.r,U.g,U.b),Y.setXYZ(11,U.r,U.g,U.b),Y.setXYZ(12,U.r,U.g,U.b),Y.setXYZ(13,U.r,U.g,U.b),Y.setXYZ(14,U.r,U.g,U.b),Y.setXYZ(15,U.r,U.g,U.b),Y.setXYZ(16,U.r,U.g,U.b),Y.setXYZ(17,U.r,U.g,U.b),Y.setXYZ(18,U.r,U.g,U.b),Y.setXYZ(19,U.r,U.g,U.b),Y.setXYZ(20,U.r,U.g,U.b),Y.setXYZ(21,U.r,U.g,U.b),Y.setXYZ(22,U.r,U.g,U.b),Y.setXYZ(23,U.r,U.g,U.b),Y.setXYZ(24,E.r,E.g,E.b),Y.setXYZ(25,E.r,E.g,E.b),Y.setXYZ(26,E.r,E.g,E.b),Y.setXYZ(27,E.r,E.g,E.b),Y.setXYZ(28,E.r,E.g,E.b),Y.setXYZ(29,E.r,E.g,E.b),Y.setXYZ(30,E.r,E.g,E.b),Y.setXYZ(31,E.r,E.g,E.b),Y.setXYZ(32,u.r,u.g,u.b),Y.setXYZ(33,u.r,u.g,u.b),Y.setXYZ(34,u.r,u.g,u.b),Y.setXYZ(35,u.r,u.g,u.b),Y.setXYZ(36,u.r,u.g,u.b),Y.setXYZ(37,u.r,u.g,u.b),Y.setXYZ(38,p.r,p.g,p.b),Y.setXYZ(39,p.r,p.g,p.b),Y.setXYZ(40,z.r,z.g,z.b),Y.setXYZ(41,z.r,z.g,z.b),Y.setXYZ(42,z.r,z.g,z.b),Y.setXYZ(43,z.r,z.g,z.b),Y.setXYZ(44,z.r,z.g,z.b),Y.setXYZ(45,z.r,z.g,z.b),Y.setXYZ(46,z.r,z.g,z.b),Y.setXYZ(47,z.r,z.g,z.b),Y.setXYZ(48,z.r,z.g,z.b),Y.setXYZ(49,z.r,z.g,z.b),Y.needsUpdate=!0,this}update(){let U=this.geometry,E=this.pointMap,u=1,p=1,z,c;if(wp.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)z=1,c=0;else if(this.camera.coordinateSystem===2000)z=-1,c=1;else if(this.camera.coordinateSystem===2001)z=0,c=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);bp("c",E,U,wp,0,0,z),bp("t",E,U,wp,0,0,c),bp("n1",E,U,wp,-1,-1,z),bp("n2",E,U,wp,1,-1,z),bp("n3",E,U,wp,-1,1,z),bp("n4",E,U,wp,1,1,z),bp("f1",E,U,wp,-1,-1,c),bp("f2",E,U,wp,1,-1,c),bp("f3",E,U,wp,-1,1,c),bp("f4",E,U,wp,1,1,c),bp("u1",E,U,wp,0.7,1.1,z),bp("u2",E,U,wp,-0.7,1.1,z),bp("u3",E,U,wp,0,2,z),bp("cf1",E,U,wp,-1,0,c),bp("cf2",E,U,wp,1,0,c),bp("cf3",E,U,wp,0,-1,c),bp("cf4",E,U,wp,0,1,c),bp("cn1",E,U,wp,-1,0,z),bp("cn2",E,U,wp,1,0,z),bp("cn3",E,U,wp,0,-1,z),bp("cn4",E,U,wp,0,1,z),U.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function bp(U,E,u,p,z,c,Y){pI.set(z,c,Y).unproject(p);let P=E[U];if(P!==void 0){let n=u.getAttribute("position");for(let j=0,H=P.length;j<H;j++)n.setXYZ(P[j],pI.x,pI.y,pI.z)}}var zI=new lp;class w1 extends wz{constructor(U,E=16776960){let u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),p=new Float32Array(24),z=new WE;z.setIndex(new ju(u,1)),z.setAttribute("position",new ju(p,3));super(z,new q5({color:E,toneMapped:!1}));this.object=U,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0)zI.setFromObject(this.object);if(zI.isEmpty())return;let{min:U,max:E}=zI,u=this.geometry.attributes.position,p=u.array;p[0]=E.x,p[1]=E.y,p[2]=E.z,p[3]=U.x,p[4]=E.y,p[5]=E.z,p[6]=U.x,p[7]=U.y,p[8]=E.z,p[9]=E.x,p[10]=U.y,p[11]=E.z,p[12]=E.x,p[13]=E.y,p[14]=U.z,p[15]=U.x,p[16]=E.y,p[17]=U.z,p[18]=U.x,p[19]=U.y,p[20]=U.z,p[21]=E.x,p[22]=U.y,p[23]=U.z,u.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(U){return this.object=U,this.update(),this}copy(U,E){return super.copy(U,E),this.object=U.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class v1 extends wz{constructor(U,E=16776960){let u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),p=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],z=new WE;z.setIndex(new ju(u,1)),z.setAttribute("position",new NE(p,3));super(z,new q5({color:E,toneMapped:!1}));this.box=U,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(U){let E=this.box;if(E.isEmpty())return;E.getCenter(this.position),E.getSize(this.scale),this.scale.multiplyScalar(0.5),super.updateMatrixWorld(U)}dispose(){this.geometry.dispose(),this.material.dispose()}}class S1 extends h0{constructor(U,E=1,u=16776960){let p=u,z=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],c=new WE;c.setAttribute("position",new NE(z,3)),c.computeBoundingSphere();super(c,new q5({color:p,toneMapped:!1}));this.type="PlaneHelper",this.plane=U,this.size=E;let Y=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],P=new WE;P.setAttribute("position",new NE(Y,3)),P.computeBoundingSphere(),this.add(new tu(P,new A5({color:p,opacity:0.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(U){this.position.set(0,0,0),this.scale.set(0.5*this.size,0.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(U)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}var WR=new b,cI,KT;class R1 extends Ou{constructor(U=new b(0,0,1),E=new b(0,0,0),u=1,p=16776960,z=u*0.2,c=z*0.2){super();if(this.type="ArrowHelper",cI===void 0)cI=new WE,cI.setAttribute("position",new NE([0,0,0,0,1,0],3)),KT=new cq(0.5,1,5,1),KT.translate(0,-0.5,0);this.position.copy(E),this.line=new h0(cI,new q5({color:p,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new tu(KT,new A5({color:p,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(U),this.setLength(u,z,c)}setDirection(U){if(U.y>0.99999)this.quaternion.set(0,0,0,1);else if(U.y<-0.99999)this.quaternion.set(1,0,0,0);else{WR.set(U.z,0,-U.x).normalize();let E=Math.acos(U.y);this.quaternion.setFromAxisAngle(WR,E)}}setLength(U,E=U*0.2,u=E*0.2){this.line.scale.set(1,Math.max(0.0001,U-E),1),this.line.updateMatrix(),this.cone.scale.set(u,E,u),this.cone.position.y=U,this.cone.updateMatrix()}setColor(U){this.line.material.color.set(U),this.cone.material.color.set(U)}copy(U){return super.copy(U,!1),this.line.copy(U.line),this.cone.copy(U.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class D1 extends wz{constructor(U=1){let E=[0,0,0,U,0,0,0,0,0,0,U,0,0,0,0,0,0,U],u=[1,0,0,1,0.6,0,0,1,0,0.6,1,0,0,0,1,0,0.6,1],p=new WE;p.setAttribute("position",new NE(E,3)),p.setAttribute("color",new NE(u,3));let z=new q5({vertexColors:!0,toneMapped:!1});super(p,z);this.type="AxesHelper"}setColors(U,E,u){let p=new EE,z=this.geometry.attributes.color.array;return p.set(U),p.toArray(z,0),p.toArray(z,3),p.set(E),p.toArray(z,6),p.toArray(z,9),p.set(u),p.toArray(z,12),p.toArray(z,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class t1{constructor(){this.type="ShapePath",this.color=new EE,this.subPaths=[],this.currentPath=null}moveTo(U,E){return this.currentPath=new Jj,this.subPaths.push(this.currentPath),this.currentPath.moveTo(U,E),this}lineTo(U,E){return this.currentPath.lineTo(U,E),this}quadraticCurveTo(U,E,u,p){return this.currentPath.quadraticCurveTo(U,E,u,p),this}bezierCurveTo(U,E,u,p,z,c){return this.currentPath.bezierCurveTo(U,E,u,p,z,c),this}splineThru(U){return this.currentPath.splineThru(U),this}toShapes(U){function E(N){let O=[];for(let L=0,X=N.length;L<X;L++){let i=N[L],B=new g4;B.curves=i.curves,O.push(B)}return O}function u(N,O){let L=O.length,X=!1;for(let i=L-1,B=0;B<L;i=B++){let G=O[i],d=O[B],m=d.x-G.x,V=d.y-G.y;if(Math.abs(V)>Number.EPSILON){if(V<0)G=O[B],m=-m,d=O[i],V=-V;if(N.y<G.y||N.y>d.y)continue;if(N.y===G.y){if(N.x===G.x)return!0}else{let w=V*(N.x-G.x)-m*(N.y-G.y);if(w===0)return!0;if(w<0)continue;X=!X}}else{if(N.y!==G.y)continue;if(d.x<=N.x&&N.x<=G.x||G.x<=N.x&&N.x<=d.x)return!0}}return X}let p=J0.isClockWise,z=this.subPaths;if(z.length===0)return[];let c,Y,P,n=[];if(z.length===1)return Y=z[0],P=new g4,P.curves=Y.curves,n.push(P),n;let j=!p(z[0].getPoints());j=U?!j:j;let H=[],k=[],Q=[],y=0,r;k[y]=void 0,Q[y]=[];for(let N=0,O=z.length;N<O;N++)if(Y=z[N],r=Y.getPoints(),c=p(r),c=U?!c:c,c){if(!j&&k[y])y++;if(k[y]={s:new g4,p:r},k[y].s.curves=Y.curves,j)y++;Q[y]=[]}else Q[y].push({h:Y,p:r[0]});if(!k[0])return E(z);if(k.length>1){let N=!1,O=0;for(let L=0,X=k.length;L<X;L++)H[L]=[];for(let L=0,X=k.length;L<X;L++){let i=Q[L];for(let B=0;B<i.length;B++){let G=i[B],d=!0;for(let m=0;m<k.length;m++)if(u(G.p,k[m].p)){if(L!==m)O++;if(d)d=!1,H[m].push(G);else N=!0}if(d)H[L].push(G)}}if(O>0&&N===!1)Q=H}let T;for(let N=0,O=k.length;N<O;N++){P=k[N].s,n.push(P),T=Q[N];for(let L=0,X=T.length;L<X;L++)P.holes.push(T[L].h)}return n}}class J1 extends l0{constructor(U,E=null){super();this.object=U,this.domElement=E,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(U){if(U===void 0){PE("Controls: connect() now requires an element.");return}if(this.domElement!==null)this.disconnect();this.domElement=U}disconnect(){}dispose(){}update(){}}function aC(U,E){let u=U.image&&U.image.width?U.image.width/U.image.height:1;if(u>E)U.repeat.x=1,U.repeat.y=u/E,U.offset.x=0,U.offset.y=(1-U.repeat.y)/2;else U.repeat.x=E/u,U.repeat.y=1,U.offset.x=(1-U.repeat.x)/2,U.offset.y=0;return U}function _C(U,E){let u=U.image&&U.image.width?U.image.width/U.image.height:1;if(u>E)U.repeat.x=E/u,U.repeat.y=1,U.offset.x=(1-U.repeat.x)/2,U.offset.y=0;else U.repeat.x=1,U.repeat.y=u/E,U.offset.x=0,U.offset.y=(1-U.repeat.y)/2;return U}function gC(U){return U.repeat.x=1,U.repeat.y=1,U.offset.x=0,U.offset.y=0,U}function WO(U,E,u,p){let z=eC(p);switch(u){case 1021:return U*E;case 1028:return U*E/z.components*z.byteLength;case 1029:return U*E/z.components*z.byteLength;case 1030:return U*E*2/z.components*z.byteLength;case 1031:return U*E*2/z.components*z.byteLength;case 1022:return U*E*3/z.components*z.byteLength;case 1023:return U*E*4/z.components*z.byteLength;case 1033:return U*E*4/z.components*z.byteLength;case 33776:case 33777:return Math.floor((U+3)/4)*Math.floor((E+3)/4)*8;case 33778:case 33779:return Math.floor((U+3)/4)*Math.floor((E+3)/4)*16;case 35841:case 35843:return Math.max(U,16)*Math.max(E,8)/4;case 35840:case 35842:return Math.max(U,8)*Math.max(E,8)/2;case 36196:case 37492:case 37488:case 37489:return Math.floor((U+3)/4)*Math.floor((E+3)/4)*8;case 37496:case 37490:case 37491:return Math.floor((U+3)/4)*Math.floor((E+3)/4)*16;case 37808:return Math.floor((U+3)/4)*Math.floor((E+3)/4)*16;case 37809:return Math.floor((U+4)/5)*Math.floor((E+3)/4)*16;case 37810:return Math.floor((U+4)/5)*Math.floor((E+4)/5)*16;case 37811:return Math.floor((U+5)/6)*Math.floor((E+4)/5)*16;case 37812:return Math.floor((U+5)/6)*Math.floor((E+5)/6)*16;case 37813:return Math.floor((U+7)/8)*Math.floor((E+4)/5)*16;case 37814:return Math.floor((U+7)/8)*Math.floor((E+5)/6)*16;case 37815:return Math.floor((U+7)/8)*Math.floor((E+7)/8)*16;case 37816:return Math.floor((U+9)/10)*Math.floor((E+4)/5)*16;case 37817:return Math.floor((U+9)/10)*Math.floor((E+5)/6)*16;case 37818:return Math.floor((U+9)/10)*Math.floor((E+7)/8)*16;case 37819:return Math.floor((U+9)/10)*Math.floor((E+9)/10)*16;case 37820:return Math.floor((U+11)/12)*Math.floor((E+9)/10)*16;case 37821:return Math.floor((U+11)/12)*Math.floor((E+11)/12)*16;case 36492:case 36494:case 36495:return Math.ceil(U/4)*Math.ceil(E/4)*16;case 36283:case 36284:return Math.ceil(U/4)*Math.ceil(E/4)*8;case 36285:case 36286:return Math.ceil(U/4)*Math.ceil(E/4)*16}throw new Error(`Unable to determine texture byte length for ${u} format.`)}function eC(U){switch(U){case 1009:case 1010:return{byteLength:1,components:1};case 1012:case 1011:case 1016:return{byteLength:2,components:1};case 1017:case 1018:return{byteLength:2,components:4};case 1014:case 1013:case 1015:return{byteLength:4,components:1};case 35902:case 35899:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${U}.`)}class h1{static contain(U,E){return aC(U,E)}static cover(U,E){return _C(U,E)}static fill(U){return gC(U)}static getByteLength(U,E,u,p){return WO(U,E,u,p)}}if(typeof __THREE_DEVTOOLS__!=="undefined")__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"182"}}));if(typeof window!=="undefined")if(window.__THREE__)PE("WARNING: Multiple instances of Three.js being imported.");else window.__THREE__="182";function w3(){let U=null,E=!1,u=null,p=null;function z(c,Y){u(c,Y),p=U.requestAnimationFrame(z)}return{start:function(){if(E===!0)return;if(u===null)return;p=U.requestAnimationFrame(z),E=!0},stop:function(){U.cancelAnimationFrame(p),E=!1},setAnimationLoop:function(c){u=c},setContext:function(c){U=c}}}function CC(U){let E=new WeakMap;function u(P,n){let{array:j,usage:H}=P,k=j.byteLength,Q=U.createBuffer();U.bindBuffer(n,Q),U.bufferData(n,j,H),P.onUploadCallback();let y;if(j instanceof Float32Array)y=U.FLOAT;else if(typeof Float16Array!=="undefined"&&j instanceof Float16Array)y=U.HALF_FLOAT;else if(j instanceof Uint16Array)if(P.isFloat16BufferAttribute)y=U.HALF_FLOAT;else y=U.UNSIGNED_SHORT;else if(j instanceof Int16Array)y=U.SHORT;else if(j instanceof Uint32Array)y=U.UNSIGNED_INT;else if(j instanceof Int32Array)y=U.INT;else if(j instanceof Int8Array)y=U.BYTE;else if(j instanceof Uint8Array)y=U.UNSIGNED_BYTE;else if(j instanceof Uint8ClampedArray)y=U.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+j);return{buffer:Q,type:y,bytesPerElement:j.BYTES_PER_ELEMENT,version:P.version,size:k}}function p(P,n,j){let{array:H,updateRanges:k}=n;if(U.bindBuffer(j,P),k.length===0)U.bufferSubData(j,0,H);else{k.sort((y,r)=>y.start-r.start);let Q=0;for(let y=1;y<k.length;y++){let r=k[Q],T=k[y];if(T.start<=r.start+r.count+1)r.count=Math.max(r.count,T.start+T.count-r.start);else++Q,k[Q]=T}k.length=Q+1;for(let y=0,r=k.length;y<r;y++){let T=k[y];U.bufferSubData(j,T.start*H.BYTES_PER_ELEMENT,H,T.start,T.count)}n.clearUpdateRanges()}n.onUploadCallback()}function z(P){if(P.isInterleavedBufferAttribute)P=P.data;return E.get(P)}function c(P){if(P.isInterleavedBufferAttribute)P=P.data;let n=E.get(P);if(n)U.deleteBuffer(n.buffer),E.delete(P)}function Y(P,n){if(P.isInterleavedBufferAttribute)P=P.data;if(P.isGLBufferAttribute){let H=E.get(P);if(!H||H.version<P.version)E.set(P,{buffer:P.buffer,type:P.type,bytesPerElement:P.elementSize,version:P.version});return}let j=E.get(P);if(j===void 0)E.set(P,u(P,n));else if(j.version<P.version){if(j.size!==P.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");p(j.buffer,P,n),j.version=P.version}}return{get:z,remove:c,update:Y}}var UUU=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,EUU=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,uUU=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,pUU=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zUU=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,cUU=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,YUU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ZUU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,PUU=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,xUU=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,nUU=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jUU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qUU=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,HUU=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,kUU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,QUU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,$UU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yUU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,IUU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,OUU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,NUU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,rUU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,LUU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,XUU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,TUU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,oUU=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,iUU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FUU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,AUU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,mUU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VUU="gl_FragColor = linearToOutputTexel( gl_FragColor );",GUU=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,BUU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,dUU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,wUU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,vUU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,SUU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,RUU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,DUU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,tUU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,JUU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,hUU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,bUU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lUU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,MUU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,WUU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,fUU=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,sUU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,KUU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,aUU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,_UU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,gUU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,eUU=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,CUU=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,UEU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,EEU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,uEU=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,pEU=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,zEU=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,cEU=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,YEU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ZEU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,PEU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,xEU=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nEU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jEU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,qEU=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,HEU=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,kEU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,QEU=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,$EU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,yEU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,IEU=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,OEU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NEU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rEU=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,LEU=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,XEU=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,TEU=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,oEU=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iEU=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,FEU=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,AEU=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,mEU=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VEU=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,GEU=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,BEU=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,dEU=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,wEU=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,vEU=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,SEU=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,REU=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,DEU=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,tEU=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,JEU=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,hEU=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,bEU=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,lEU=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,MEU=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,WEU=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,fEU=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sEU=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,KEU=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,aEU=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_EU=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gEU=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,eEU=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,CEU=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,UuU=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EuU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uuU=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,puU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zuU=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cuU=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,YuU=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ZuU=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,PuU=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,xuU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,nuU=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,juU=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,quU=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HuU=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,kuU=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QuU=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$uU=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yuU=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,IuU=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OuU=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,NuU=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ruU=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LuU=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XuU=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,TuU=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ouU=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iuU=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FuU=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,AuU=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,muU=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VuU=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,GuU=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,BuU=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cu={alphahash_fragment:UUU,alphahash_pars_fragment:EUU,alphamap_fragment:uUU,alphamap_pars_fragment:pUU,alphatest_fragment:zUU,alphatest_pars_fragment:cUU,aomap_fragment:YUU,aomap_pars_fragment:ZUU,batching_pars_vertex:PUU,batching_vertex:xUU,begin_vertex:nUU,beginnormal_vertex:jUU,bsdfs:qUU,iridescence_fragment:HUU,bumpmap_pars_fragment:kUU,clipping_planes_fragment:QUU,clipping_planes_pars_fragment:$UU,clipping_planes_pars_vertex:yUU,clipping_planes_vertex:IUU,color_fragment:OUU,color_pars_fragment:NUU,color_pars_vertex:rUU,color_vertex:LUU,common:XUU,cube_uv_reflection_fragment:TUU,defaultnormal_vertex:oUU,displacementmap_pars_vertex:iUU,displacementmap_vertex:FUU,emissivemap_fragment:AUU,emissivemap_pars_fragment:mUU,colorspace_fragment:VUU,colorspace_pars_fragment:GUU,envmap_fragment:BUU,envmap_common_pars_fragment:dUU,envmap_pars_fragment:wUU,envmap_pars_vertex:vUU,envmap_physical_pars_fragment:fUU,envmap_vertex:SUU,fog_vertex:RUU,fog_pars_vertex:DUU,fog_fragment:tUU,fog_pars_fragment:JUU,gradientmap_pars_fragment:hUU,lightmap_pars_fragment:bUU,lights_lambert_fragment:lUU,lights_lambert_pars_fragment:MUU,lights_pars_begin:WUU,lights_toon_fragment:sUU,lights_toon_pars_fragment:KUU,lights_phong_fragment:aUU,lights_phong_pars_fragment:_UU,lights_physical_fragment:gUU,lights_physical_pars_fragment:eUU,lights_fragment_begin:CUU,lights_fragment_maps:UEU,lights_fragment_end:EEU,logdepthbuf_fragment:uEU,logdepthbuf_pars_fragment:pEU,logdepthbuf_pars_vertex:zEU,logdepthbuf_vertex:cEU,map_fragment:YEU,map_pars_fragment:ZEU,map_particle_fragment:PEU,map_particle_pars_fragment:xEU,metalnessmap_fragment:nEU,metalnessmap_pars_fragment:jEU,morphinstance_vertex:qEU,morphcolor_vertex:HEU,morphnormal_vertex:kEU,morphtarget_pars_vertex:QEU,morphtarget_vertex:$EU,normal_fragment_begin:yEU,normal_fragment_maps:IEU,normal_pars_fragment:OEU,normal_pars_vertex:NEU,normal_vertex:rEU,normalmap_pars_fragment:LEU,clearcoat_normal_fragment_begin:XEU,clearcoat_normal_fragment_maps:TEU,clearcoat_pars_fragment:oEU,iridescence_pars_fragment:iEU,opaque_fragment:FEU,packing:AEU,premultiplied_alpha_fragment:mEU,project_vertex:VEU,dithering_fragment:GEU,dithering_pars_fragment:BEU,roughnessmap_fragment:dEU,roughnessmap_pars_fragment:wEU,shadowmap_pars_fragment:vEU,shadowmap_pars_vertex:SEU,shadowmap_vertex:REU,shadowmask_pars_fragment:DEU,skinbase_vertex:tEU,skinning_pars_vertex:JEU,skinning_vertex:hEU,skinnormal_vertex:bEU,specularmap_fragment:lEU,specularmap_pars_fragment:MEU,tonemapping_fragment:WEU,tonemapping_pars_fragment:fEU,transmission_fragment:sEU,transmission_pars_fragment:KEU,uv_pars_fragment:aEU,uv_pars_vertex:_EU,uv_vertex:gEU,worldpos_vertex:eEU,background_vert:CEU,background_frag:UuU,backgroundCube_vert:EuU,backgroundCube_frag:uuU,cube_vert:puU,cube_frag:zuU,depth_vert:cuU,depth_frag:YuU,distance_vert:ZuU,distance_frag:PuU,equirect_vert:xuU,equirect_frag:nuU,linedashed_vert:juU,linedashed_frag:quU,meshbasic_vert:HuU,meshbasic_frag:kuU,meshlambert_vert:QuU,meshlambert_frag:$uU,meshmatcap_vert:yuU,meshmatcap_frag:IuU,meshnormal_vert:OuU,meshnormal_frag:NuU,meshphong_vert:ruU,meshphong_frag:LuU,meshphysical_vert:XuU,meshphysical_frag:TuU,meshtoon_vert:ouU,meshtoon_frag:iuU,points_vert:FuU,points_frag:AuU,shadow_vert:muU,shadow_frag:VuU,sprite_vert:GuU,sprite_frag:BuU},jE={common:{diffuse:{value:new EE(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new CE},alphaMap:{value:null},alphaMapTransform:{value:new CE},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new CE}},envmap:{envMap:{value:null},envMapRotation:{value:new CE},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:0.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new CE}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new CE}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new CE},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new CE},normalScale:{value:new LU(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new CE},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new CE}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new CE}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new CE}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:0.00025},fogNear:{value:1},fogFar:{value:2000},fogColor:{value:new EE(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new EE(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new CE},alphaTest:{value:0},uvTransform:{value:new CE}},sprite:{diffuse:{value:new EE(16777215)},opacity:{value:1},center:{value:new LU(0.5,0.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new CE},alphaMap:{value:null},alphaMapTransform:{value:new CE},alphaTest:{value:0}}},Oc={basic:{uniforms:Uz([jE.common,jE.specularmap,jE.envmap,jE.aomap,jE.lightmap,jE.fog]),vertexShader:cu.meshbasic_vert,fragmentShader:cu.meshbasic_frag},lambert:{uniforms:Uz([jE.common,jE.specularmap,jE.envmap,jE.aomap,jE.lightmap,jE.emissivemap,jE.bumpmap,jE.normalmap,jE.displacementmap,jE.fog,jE.lights,{emissive:{value:new EE(0)}}]),vertexShader:cu.meshlambert_vert,fragmentShader:cu.meshlambert_frag},phong:{uniforms:Uz([jE.common,jE.specularmap,jE.envmap,jE.aomap,jE.lightmap,jE.emissivemap,jE.bumpmap,jE.normalmap,jE.displacementmap,jE.fog,jE.lights,{emissive:{value:new EE(0)},specular:{value:new EE(1118481)},shininess:{value:30}}]),vertexShader:cu.meshphong_vert,fragmentShader:cu.meshphong_frag},standard:{uniforms:Uz([jE.common,jE.envmap,jE.aomap,jE.lightmap,jE.emissivemap,jE.bumpmap,jE.normalmap,jE.displacementmap,jE.roughnessmap,jE.metalnessmap,jE.fog,jE.lights,{emissive:{value:new EE(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cu.meshphysical_vert,fragmentShader:cu.meshphysical_frag},toon:{uniforms:Uz([jE.common,jE.aomap,jE.lightmap,jE.emissivemap,jE.bumpmap,jE.normalmap,jE.displacementmap,jE.gradientmap,jE.fog,jE.lights,{emissive:{value:new EE(0)}}]),vertexShader:cu.meshtoon_vert,fragmentShader:cu.meshtoon_frag},matcap:{uniforms:Uz([jE.common,jE.bumpmap,jE.normalmap,jE.displacementmap,jE.fog,{matcap:{value:null}}]),vertexShader:cu.meshmatcap_vert,fragmentShader:cu.meshmatcap_frag},points:{uniforms:Uz([jE.points,jE.fog]),vertexShader:cu.points_vert,fragmentShader:cu.points_frag},dashed:{uniforms:Uz([jE.common,jE.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cu.linedashed_vert,fragmentShader:cu.linedashed_frag},depth:{uniforms:Uz([jE.common,jE.displacementmap]),vertexShader:cu.depth_vert,fragmentShader:cu.depth_frag},normal:{uniforms:Uz([jE.common,jE.bumpmap,jE.normalmap,jE.displacementmap,{opacity:{value:1}}]),vertexShader:cu.meshnormal_vert,fragmentShader:cu.meshnormal_frag},sprite:{uniforms:Uz([jE.sprite,jE.fog]),vertexShader:cu.sprite_vert,fragmentShader:cu.sprite_frag},background:{uniforms:{uvTransform:{value:new CE},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cu.background_vert,fragmentShader:cu.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new CE}},vertexShader:cu.backgroundCube_vert,fragmentShader:cu.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cu.cube_vert,fragmentShader:cu.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cu.equirect_vert,fragmentShader:cu.equirect_frag},distance:{uniforms:Uz([jE.common,jE.displacementmap,{referencePosition:{value:new b},nearDistance:{value:1},farDistance:{value:1000}}]),vertexShader:cu.distance_vert,fragmentShader:cu.distance_frag},shadow:{uniforms:Uz([jE.lights,jE.fog,{color:{value:new EE(0)},opacity:{value:1}}]),vertexShader:cu.shadow_vert,fragmentShader:cu.shadow_frag}};Oc.physical={uniforms:Uz([Oc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new CE},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new CE},clearcoatNormalScale:{value:new LU(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new CE},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new CE},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new CE},sheen:{value:0},sheenColor:{value:new EE(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new CE},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new CE},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new CE},transmissionSamplerSize:{value:new LU},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new CE},attenuationDistance:{value:0},attenuationColor:{value:new EE(0)},specularColor:{value:new EE(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new CE},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new CE},anisotropyVector:{value:new LU},anisotropyMap:{value:null},anisotropyMapTransform:{value:new CE}}]),vertexShader:cu.meshphysical_vert,fragmentShader:cu.meshphysical_frag};var fO={r:0,b:0,g:0},Ix=new e5,duU=new RE;function wuU(U,E,u,p,z,c,Y){let P=new EE(0),n=c===!0?0:1,j,H,k=null,Q=0,y=null;function r(X){let i=X.isScene===!0?X.background:null;if(i&&i.isTexture)i=(X.backgroundBlurriness>0?u:E).get(i);return i}function T(X){let i=!1,B=r(X);if(B===null)O(P,n);else if(B&&B.isColor)O(B,1),i=!0;let G=U.xr.getEnvironmentBlendMode();if(G==="additive")p.buffers.color.setClear(0,0,0,1,Y);else if(G==="alpha-blend")p.buffers.color.setClear(0,0,0,0,Y);if(U.autoClear||i)p.buffers.depth.setTest(!0),p.buffers.depth.setMask(!0),p.buffers.color.setMask(!0),U.clear(U.autoClearColor,U.autoClearDepth,U.autoClearStencil)}function N(X,i){let B=r(i);if(B&&(B.isCubeTexture||B.mapping===Wj)){if(H===void 0)H=new tu(new pY(1,1,1),new Ap({name:"BackgroundCubeMaterial",uniforms:Px(Oc.backgroundCube.uniforms),vertexShader:Oc.backgroundCube.vertexShader,fragmentShader:Oc.backgroundCube.fragmentShader,side:Bz,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),H.geometry.deleteAttribute("normal"),H.geometry.deleteAttribute("uv"),H.onBeforeRender=function(G,d,m){this.matrixWorld.copyPosition(m.matrixWorld)},Object.defineProperty(H.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),z.update(H);if(Ix.copy(i.backgroundRotation),Ix.x*=-1,Ix.y*=-1,Ix.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1)Ix.y*=-1,Ix.z*=-1;if(H.material.uniforms.envMap.value=B,H.material.uniforms.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,H.material.uniforms.backgroundBlurriness.value=i.backgroundBlurriness,H.material.uniforms.backgroundIntensity.value=i.backgroundIntensity,H.material.uniforms.backgroundRotation.value.setFromMatrix4(duU.makeRotationFromEuler(Ix)),H.material.toneMapped=Hu.getTransfer(B.colorSpace)!==pp,k!==B||Q!==B.version||y!==U.toneMapping)H.material.needsUpdate=!0,k=B,Q=B.version,y=U.toneMapping;H.layers.enableAll(),X.unshift(H,H.geometry,H.material,0,0,null)}else if(B&&B.isTexture){if(j===void 0)j=new tu(new M0(2,2),new Ap({name:"BackgroundMaterial",uniforms:Px(Oc.background.uniforms),vertexShader:Oc.background.vertexShader,fragmentShader:Oc.background.fragmentShader,side:UY,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),j.geometry.deleteAttribute("normal"),Object.defineProperty(j.material,"map",{get:function(){return this.uniforms.t2D.value}}),z.update(j);if(j.material.uniforms.t2D.value=B,j.material.uniforms.backgroundIntensity.value=i.backgroundIntensity,j.material.toneMapped=Hu.getTransfer(B.colorSpace)!==pp,B.matrixAutoUpdate===!0)B.updateMatrix();if(j.material.uniforms.uvTransform.value.copy(B.matrix),k!==B||Q!==B.version||y!==U.toneMapping)j.material.needsUpdate=!0,k=B,Q=B.version,y=U.toneMapping;j.layers.enableAll(),X.unshift(j,j.geometry,j.material,0,0,null)}}function O(X,i){X.getRGB(fO,ao(U)),p.buffers.color.setClear(fO.r,fO.g,fO.b,i,Y)}function L(){if(H!==void 0)H.geometry.dispose(),H.material.dispose(),H=void 0;if(j!==void 0)j.geometry.dispose(),j.material.dispose(),j=void 0}return{getClearColor:function(){return P},setClearColor:function(X,i=1){P.set(X),n=i,O(P,n)},getClearAlpha:function(){return n},setClearAlpha:function(X){n=X,O(P,n)},render:T,addToRenderList:N,dispose:L}}function vuU(U,E){let u=U.getParameter(U.MAX_VERTEX_ATTRIBS),p={},z=Q(null),c=z,Y=!1;function P(w,h,_,f,a){let uU=!1,UU=k(f,_,h);if(c!==UU)c=UU,j(c.object);if(uU=y(w,f,_,a),uU)r(w,f,_,a);if(a!==null)E.update(a,U.ELEMENT_ARRAY_BUFFER);if(uU||Y){if(Y=!1,i(w,h,_,f),a!==null)U.bindBuffer(U.ELEMENT_ARRAY_BUFFER,E.get(a).buffer)}}function n(){return U.createVertexArray()}function j(w){return U.bindVertexArray(w)}function H(w){return U.deleteVertexArray(w)}function k(w,h,_){let f=_.wireframe===!0,a=p[w.id];if(a===void 0)a={},p[w.id]=a;let uU=a[h.id];if(uU===void 0)uU={},a[h.id]=uU;let UU=uU[f];if(UU===void 0)UU=Q(n()),uU[f]=UU;return UU}function Q(w){let h=[],_=[],f=[];for(let a=0;a<u;a++)h[a]=0,_[a]=0,f[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:h,enabledAttributes:_,attributeDivisors:f,object:w,attributes:{},index:null}}function y(w,h,_,f){let a=c.attributes,uU=h.attributes,UU=0,ZU=_.getAttributes();for(let EU in ZU)if(ZU[EU].location>=0){let NU=a[EU],yU=uU[EU];if(yU===void 0){if(EU==="instanceMatrix"&&w.instanceMatrix)yU=w.instanceMatrix;if(EU==="instanceColor"&&w.instanceColor)yU=w.instanceColor}if(NU===void 0)return!0;if(NU.attribute!==yU)return!0;if(yU&&NU.data!==yU.data)return!0;UU++}if(c.attributesNum!==UU)return!0;if(c.index!==f)return!0;return!1}function r(w,h,_,f){let a={},uU=h.attributes,UU=0,ZU=_.getAttributes();for(let EU in ZU)if(ZU[EU].location>=0){let NU=uU[EU];if(NU===void 0){if(EU==="instanceMatrix"&&w.instanceMatrix)NU=w.instanceMatrix;if(EU==="instanceColor"&&w.instanceColor)NU=w.instanceColor}let yU={};if(yU.attribute=NU,NU&&NU.data)yU.data=NU.data;a[EU]=yU,UU++}c.attributes=a,c.attributesNum=UU,c.index=f}function T(){let w=c.newAttributes;for(let h=0,_=w.length;h<_;h++)w[h]=0}function N(w){O(w,0)}function O(w,h){let{newAttributes:_,enabledAttributes:f,attributeDivisors:a}=c;if(_[w]=1,f[w]===0)U.enableVertexAttribArray(w),f[w]=1;if(a[w]!==h)U.vertexAttribDivisor(w,h),a[w]=h}function L(){let{newAttributes:w,enabledAttributes:h}=c;for(let _=0,f=h.length;_<f;_++)if(h[_]!==w[_])U.disableVertexAttribArray(_),h[_]=0}function X(w,h,_,f,a,uU,UU){if(UU===!0)U.vertexAttribIPointer(w,h,_,a,uU);else U.vertexAttribPointer(w,h,_,f,a,uU)}function i(w,h,_,f){T();let a=f.attributes,uU=_.getAttributes(),UU=h.defaultAttributeValues;for(let ZU in uU){let EU=uU[ZU];if(EU.location>=0){let OU=a[ZU];if(OU===void 0){if(ZU==="instanceMatrix"&&w.instanceMatrix)OU=w.instanceMatrix;if(ZU==="instanceColor"&&w.instanceColor)OU=w.instanceColor}if(OU!==void 0){let{normalized:NU,itemSize:yU}=OU,wU=E.get(OU);if(wU===void 0)continue;let{buffer:QE,type:$E,bytesPerElement:PU}=wU,vU=$E===U.INT||$E===U.UNSIGNED_INT||OU.gpuType===sj;if(OU.isInterleavedBufferAttribute){let TU=OU.data,HE=TU.stride,yE=OU.offset;if(TU.isInstancedInterleavedBuffer){for(let DE=0;DE<EU.locationSize;DE++)O(EU.location+DE,TU.meshPerAttribute);if(w.isInstancedMesh!==!0&&f._maxInstanceCount===void 0)f._maxInstanceCount=TU.meshPerAttribute*TU.count}else for(let DE=0;DE<EU.locationSize;DE++)N(EU.location+DE);U.bindBuffer(U.ARRAY_BUFFER,QE);for(let DE=0;DE<EU.locationSize;DE++)X(EU.location+DE,yU/EU.locationSize,$E,NU,HE*PU,(yE+yU/EU.locationSize*DE)*PU,vU)}else{if(OU.isInstancedBufferAttribute){for(let TU=0;TU<EU.locationSize;TU++)O(EU.location+TU,OU.meshPerAttribute);if(w.isInstancedMesh!==!0&&f._maxInstanceCount===void 0)f._maxInstanceCount=OU.meshPerAttribute*OU.count}else for(let TU=0;TU<EU.locationSize;TU++)N(EU.location+TU);U.bindBuffer(U.ARRAY_BUFFER,QE);for(let TU=0;TU<EU.locationSize;TU++)X(EU.location+TU,yU/EU.locationSize,$E,NU,yU*PU,yU/EU.locationSize*TU*PU,vU)}}else if(UU!==void 0){let NU=UU[ZU];if(NU!==void 0)switch(NU.length){case 2:U.vertexAttrib2fv(EU.location,NU);break;case 3:U.vertexAttrib3fv(EU.location,NU);break;case 4:U.vertexAttrib4fv(EU.location,NU);break;default:U.vertexAttrib1fv(EU.location,NU)}}}}L()}function B(){m();for(let w in p){let h=p[w];for(let _ in h){let f=h[_];for(let a in f)H(f[a].object),delete f[a];delete h[_]}delete p[w]}}function G(w){if(p[w.id]===void 0)return;let h=p[w.id];for(let _ in h){let f=h[_];for(let a in f)H(f[a].object),delete f[a];delete h[_]}delete p[w.id]}function d(w){for(let h in p){let _=p[h];if(_[w.id]===void 0)continue;let f=_[w.id];for(let a in f)H(f[a].object),delete f[a];delete _[w.id]}}function m(){if(V(),Y=!0,c===z)return;c=z,j(c.object)}function V(){z.geometry=null,z.program=null,z.wireframe=!1}return{setup:P,reset:m,resetDefaultState:V,dispose:B,releaseStatesOfGeometry:G,releaseStatesOfProgram:d,initAttributes:T,enableAttribute:N,disableUnusedAttributes:L}}function SuU(U,E,u){let p;function z(j){p=j}function c(j,H){U.drawArrays(p,j,H),u.update(H,p,1)}function Y(j,H,k){if(k===0)return;U.drawArraysInstanced(p,j,H,k),u.update(H,p,k)}function P(j,H,k){if(k===0)return;E.get("WEBGL_multi_draw").multiDrawArraysWEBGL(p,j,0,H,0,k);let y=0;for(let r=0;r<k;r++)y+=H[r];u.update(y,p,1)}function n(j,H,k,Q){if(k===0)return;let y=E.get("WEBGL_multi_draw");if(y===null)for(let r=0;r<j.length;r++)Y(j[r],H[r],Q[r]);else{y.multiDrawArraysInstancedWEBGL(p,j,0,H,0,Q,0,k);let r=0;for(let T=0;T<k;T++)r+=H[T]*Q[T];u.update(r,p,1)}}this.setMode=z,this.render=c,this.renderInstances=Y,this.renderMultiDraw=P,this.renderMultiDrawInstances=n}function RuU(U,E,u,p){let z;function c(){if(z!==void 0)return z;if(E.has("EXT_texture_filter_anisotropic")===!0){let d=E.get("EXT_texture_filter_anisotropic");z=U.getParameter(d.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else z=0;return z}function Y(d){if(d!==Wp&&p.convert(d)!==U.getParameter(U.IMPLEMENTATION_COLOR_READ_FORMAT))return!1;return!0}function P(d){let m=d===up&&(E.has("EXT_color_buffer_half_float")||E.has("EXT_color_buffer_float"));if(d!==j5&&p.convert(d)!==U.getParameter(U.IMPLEMENTATION_COLOR_READ_TYPE)&&d!==Sp&&!m)return!1;return!0}function n(d){if(d==="highp"){if(U.getShaderPrecisionFormat(U.VERTEX_SHADER,U.HIGH_FLOAT).precision>0&&U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.HIGH_FLOAT).precision>0)return"highp";d="mediump"}if(d==="mediump"){if(U.getShaderPrecisionFormat(U.VERTEX_SHADER,U.MEDIUM_FLOAT).precision>0&&U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.MEDIUM_FLOAT).precision>0)return"mediump"}return"lowp"}let j=u.precision!==void 0?u.precision:"highp",H=n(j);if(H!==j)PE("WebGLRenderer:",j,"not supported, using",H,"instead."),j=H;let k=u.logarithmicDepthBuffer===!0,Q=u.reversedDepthBuffer===!0&&E.has("EXT_clip_control"),y=U.getParameter(U.MAX_TEXTURE_IMAGE_UNITS),r=U.getParameter(U.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=U.getParameter(U.MAX_TEXTURE_SIZE),N=U.getParameter(U.MAX_CUBE_MAP_TEXTURE_SIZE),O=U.getParameter(U.MAX_VERTEX_ATTRIBS),L=U.getParameter(U.MAX_VERTEX_UNIFORM_VECTORS),X=U.getParameter(U.MAX_VARYING_VECTORS),i=U.getParameter(U.MAX_FRAGMENT_UNIFORM_VECTORS),B=U.getParameter(U.MAX_SAMPLES),G=U.getParameter(U.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:c,getMaxPrecision:n,textureFormatReadable:Y,textureTypeReadable:P,precision:j,logarithmicDepthBuffer:k,reversedDepthBuffer:Q,maxTextures:y,maxVertexTextures:r,maxTextureSize:T,maxCubemapSize:N,maxAttributes:O,maxVertexUniforms:L,maxVaryings:X,maxFragmentUniforms:i,maxSamples:B,samples:G}}function DuU(U){let E=this,u=null,p=0,z=!1,c=!1,Y=new Mc,P=new CE,n={value:null,needsUpdate:!1};this.uniform=n,this.numPlanes=0,this.numIntersection=0,this.init=function(k,Q){let y=k.length!==0||Q||p!==0||z;return z=Q,p=k.length,y},this.beginShadows=function(){c=!0,H(null)},this.endShadows=function(){c=!1},this.setGlobalState=function(k,Q){u=H(k,Q,0)},this.setState=function(k,Q,y){let{clippingPlanes:r,clipIntersection:T,clipShadows:N}=k,O=U.get(k);if(!z||r===null||r.length===0||c&&!N)if(c)H(null);else j();else{let L=c?0:p,X=L*4,i=O.clippingState||null;n.value=i,i=H(r,Q,X,y);for(let B=0;B!==X;++B)i[B]=u[B];O.clippingState=i,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=L}};function j(){if(n.value!==u)n.value=u,n.needsUpdate=p>0;E.numPlanes=p,E.numIntersection=0}function H(k,Q,y,r){let T=k!==null?k.length:0,N=null;if(T!==0){if(N=n.value,r!==!0||N===null){let O=y+T*4,L=Q.matrixWorldInverse;if(P.getNormalMatrix(L),N===null||N.length<O)N=new Float32Array(O);for(let X=0,i=y;X!==T;++X,i+=4)Y.copy(k[X]).applyMatrix4(L,P),Y.normal.toArray(N,i),N[i+3]=Y.constant}n.value=N,n.needsUpdate=!0}return E.numPlanes=T,E.numIntersection=0,N}}function tuU(U){let E=new WeakMap;function u(Y,P){if(P===ux)Y.mapping=EY;else if(P===j9)Y.mapping=XZ;return Y}function p(Y){if(Y&&Y.isTexture){let P=Y.mapping;if(P===ux||P===j9)if(E.has(Y)){let n=E.get(Y).texture;return u(n,Y.mapping)}else{let n=Y.image;if(n&&n.height>0){let j=new nx(n.height);return j.fromEquirectangularTexture(U,Y),E.set(Y,j),Y.addEventListener("dispose",z),u(j.texture,Y.mapping)}else return null}}return Y}function z(Y){let P=Y.target;P.removeEventListener("dispose",z);let n=E.get(P);if(n!==void 0)E.delete(P),n.dispose()}function c(){E=new WeakMap}return{get:p,dispose:c}}var BZ=4,q3=[0.125,0.215,0.35,0.446,0.526,0.582],Nx=20,JuU=256,YQ=new n0,H3=new EE,b1=null,l1=0,M1=0,W1=!1,huU=new b;class KO{constructor(U){this._renderer=U,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(U,E=0,u=0.1,p=100,z={}){let{size:c=256,position:Y=huU}=z;b1=this._renderer.getRenderTarget(),l1=this._renderer.getActiveCubeFace(),M1=this._renderer.getActiveMipmapLevel(),W1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(c);let P=this._allocateTargets();if(P.depthBuffer=!0,this._sceneToCubeUV(U,u,p,P,Y),E>0)this._blur(P,0,0,E);return this._applyPMREM(P),this._cleanup(P),P}fromEquirectangular(U,E=null){return this._fromTexture(U,E)}fromCubemap(U,E=null){return this._fromTexture(U,E)}compileCubemapShader(){if(this._cubemapMaterial===null)this._cubemapMaterial=$3(),this._compileMaterial(this._cubemapMaterial)}compileEquirectangularShader(){if(this._equirectMaterial===null)this._equirectMaterial=Q3(),this._compileMaterial(this._equirectMaterial)}dispose(){if(this._dispose(),this._cubemapMaterial!==null)this._cubemapMaterial.dispose();if(this._equirectMaterial!==null)this._equirectMaterial.dispose();if(this._backgroundBox!==null)this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose()}_setSize(U){this._lodMax=Math.floor(Math.log2(U)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){if(this._blurMaterial!==null)this._blurMaterial.dispose();if(this._ggxMaterial!==null)this._ggxMaterial.dispose();if(this._pingPongRenderTarget!==null)this._pingPongRenderTarget.dispose();for(let U=0;U<this._lodMeshes.length;U++)this._lodMeshes[U].geometry.dispose()}_cleanup(U){this._renderer.setRenderTarget(b1,l1,M1),this._renderer.xr.enabled=W1,U.scissorTest=!1,kq(U,0,0,U.width,U.height)}_fromTexture(U,E){if(U.mapping===EY||U.mapping===XZ)this._setSize(U.image.length===0?16:U.image[0].width||U.image[0].image.width);else this._setSize(U.image.width/4);b1=this._renderer.getRenderTarget(),l1=this._renderer.getActiveCubeFace(),M1=this._renderer.getActiveMipmapLevel(),W1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let u=E||this._allocateTargets();return this._textureToCubeUV(U,u),this._applyPMREM(u),this._cleanup(u),u}_allocateTargets(){let U=3*Math.max(this._cubeSize,112),E=4*this._cubeSize,u={magFilter:Wu,minFilter:Wu,generateMipmaps:!1,type:up,format:Wp,colorSpace:C5,depthBuffer:!1},p=k3(U,E,u);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==U||this._pingPongRenderTarget.height!==E){if(this._pingPongRenderTarget!==null)this._dispose();this._pingPongRenderTarget=k3(U,E,u);let{_lodMax:z}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=buU(z)),this._blurMaterial=MuU(z,U,E),this._ggxMaterial=luU(z,U,E)}return p}_compileMaterial(U){let E=new tu(new WE,U);this._renderer.compile(E,YQ)}_sceneToCubeUV(U,E,u,p,z){let P=new ip(90,1,E,u),n=[1,-1,1,1,1,1],j=[1,1,1,-1,-1,-1],H=this._renderer,k=H.autoClear,Q=H.toneMapping;if(H.getClearColor(H3),H.toneMapping=dz,H.autoClear=!1,H.state.buffers.depth.getReversed())H.setRenderTarget(p),H.clearDepth(),H.setRenderTarget(null);if(this._backgroundBox===null)this._backgroundBox=new tu(new pY,new A5({name:"PMREM.Background",side:Bz,depthWrite:!1,depthTest:!1}));let r=this._backgroundBox,T=r.material,N=!1,O=U.background;if(O){if(O.isColor)T.color.copy(O),U.background=null,N=!0}else T.color.copy(H3),N=!0;for(let L=0;L<6;L++){let X=L%3;if(X===0)P.up.set(0,n[L],0),P.position.set(z.x,z.y,z.z),P.lookAt(z.x+j[L],z.y,z.z);else if(X===1)P.up.set(0,0,n[L]),P.position.set(z.x,z.y,z.z),P.lookAt(z.x,z.y+j[L],z.z);else P.up.set(0,n[L],0),P.position.set(z.x,z.y,z.z),P.lookAt(z.x,z.y,z.z+j[L]);let i=this._cubeSize;if(kq(p,X*i,L>2?i:0,i,i),H.setRenderTarget(p),N)H.render(r,P);H.render(U,P)}H.toneMapping=Q,H.autoClear=k,U.background=O}_textureToCubeUV(U,E){let u=this._renderer,p=U.mapping===EY||U.mapping===XZ;if(p){if(this._cubemapMaterial===null)this._cubemapMaterial=$3();this._cubemapMaterial.uniforms.flipEnvMap.value=U.isRenderTargetTexture===!1?-1:1}else if(this._equirectMaterial===null)this._equirectMaterial=Q3();let z=p?this._cubemapMaterial:this._equirectMaterial,c=this._lodMeshes[0];c.material=z;let Y=z.uniforms;Y.envMap.value=U;let P=this._cubeSize;kq(E,0,0,3*P,2*P),u.setRenderTarget(E),u.render(c,YQ)}_applyPMREM(U){let E=this._renderer,u=E.autoClear;E.autoClear=!1;let p=this._lodMeshes.length;for(let z=1;z<p;z++)this._applyGGXFilter(U,z-1,z);E.autoClear=u}_applyGGXFilter(U,E,u){let p=this._renderer,z=this._pingPongRenderTarget,c=this._ggxMaterial,Y=this._lodMeshes[u];Y.material=c;let P=c.uniforms,n=u/(this._lodMeshes.length-1),j=E/(this._lodMeshes.length-1),H=Math.sqrt(n*n-j*j),k=0+n*1.25,Q=H*k,{_lodMax:y}=this,r=this._sizeLods[u],T=3*r*(u>y-BZ?u-y+BZ:0),N=4*(this._cubeSize-r);P.envMap.value=U.texture,P.roughness.value=Q,P.mipInt.value=y-E,kq(z,T,N,3*r,2*r),p.setRenderTarget(z),p.render(Y,YQ),P.envMap.value=z.texture,P.roughness.value=0,P.mipInt.value=y-u,kq(U,T,N,3*r,2*r),p.setRenderTarget(U),p.render(Y,YQ)}_blur(U,E,u,p,z){let c=this._pingPongRenderTarget;this._halfBlur(U,c,E,u,p,"latitudinal",z),this._halfBlur(c,U,u,u,p,"longitudinal",z)}_halfBlur(U,E,u,p,z,c,Y){let P=this._renderer,n=this._blurMaterial;if(c!=="latitudinal"&&c!=="longitudinal")SE("blur direction must be either latitudinal or longitudinal!");let j=3,H=this._lodMeshes[p];H.material=n;let k=n.uniforms,Q=this._sizeLods[u]-1,y=isFinite(z)?Math.PI/(2*Q):2*Math.PI/(2*Nx-1),r=z/y,T=isFinite(z)?1+Math.floor(j*r):Nx;if(T>Nx)PE(`sigmaRadians, ${z}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Nx}`);let N=[],O=0;for(let G=0;G<Nx;++G){let d=G/r,m=Math.exp(-d*d/2);if(N.push(m),G===0)O+=m;else if(G<T)O+=2*m}for(let G=0;G<N.length;G++)N[G]=N[G]/O;if(k.envMap.value=U.texture,k.samples.value=T,k.weights.value=N,k.latitudinal.value=c==="latitudinal",Y)k.poleAxis.value=Y;let{_lodMax:L}=this;k.dTheta.value=y,k.mipInt.value=L-u;let X=this._sizeLods[p],i=3*X*(p>L-BZ?p-L+BZ:0),B=4*(this._cubeSize-X);kq(E,i,B,3*X,2*X),P.setRenderTarget(E),P.render(H,YQ)}}function buU(U){let E=[],u=[],p=[],z=U,c=U-BZ+1+q3.length;for(let Y=0;Y<c;Y++){let P=Math.pow(2,z);E.push(P);let n=1/P;if(Y>U-BZ)n=q3[Y-U+BZ-1];else if(Y===0)n=0;u.push(n);let j=1/(P-2),H=-j,k=1+j,Q=[H,H,k,H,k,k,H,H,k,k,H,k],y=6,r=6,T=3,N=2,O=1,L=new Float32Array(T*r*y),X=new Float32Array(N*r*y),i=new Float32Array(O*r*y);for(let G=0;G<y;G++){let d=G%3*2/3-1,m=G>2?0:-1,V=[d,m,0,d+0.6666666666666666,m,0,d+0.6666666666666666,m+1,0,d,m,0,d+0.6666666666666666,m+1,0,d,m+1,0];L.set(V,T*r*G),X.set(Q,N*r*G);let w=[G,G,G,G,G,G];i.set(w,O*r*G)}let B=new WE;if(B.setAttribute("position",new ju(L,T)),B.setAttribute("uv",new ju(X,N)),B.setAttribute("faceIndex",new ju(i,O)),p.push(new tu(B,null)),z>BZ)z--}return{lodMeshes:p,sizeLods:E,sigmas:u}}function k3(U,E,u){let p=new fp(U,E,u);return p.texture.mapping=Wj,p.texture.name="PMREM.cubeUv",p.scissorTest=!0,p}function kq(U,E,u,p,z){U.viewport.set(E,u,p,z),U.scissor.set(E,u,p,z)}function luU(U,E,u){return new Ap({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:JuU,CUBEUV_TEXEL_WIDTH:1/E,CUBEUV_TEXEL_HEIGHT:1/u,CUBEUV_MAX_MIP:`${U}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:aO(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:b0,depthTest:!1,depthWrite:!1})}function MuU(U,E,u){let p=new Float32Array(Nx),z=new b(0,1,0);return new Ap({name:"SphericalGaussianBlur",defines:{n:Nx,CUBEUV_TEXEL_WIDTH:1/E,CUBEUV_TEXEL_HEIGHT:1/u,CUBEUV_MAX_MIP:`${U}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:p},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:z}},vertexShader:aO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:b0,depthTest:!1,depthWrite:!1})}function Q3(){return new Ap({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:aO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:b0,depthTest:!1,depthWrite:!1})}function $3(){return new Ap({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:aO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:b0,depthTest:!1,depthWrite:!1})}function aO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WuU(U){let E=new WeakMap,u=null;function p(P){if(P&&P.isTexture){let n=P.mapping,j=n===ux||n===j9,H=n===EY||n===XZ;if(j||H){let k=E.get(P),Q=k!==void 0?k.texture.pmremVersion:0;if(P.isRenderTargetTexture&&P.pmremVersion!==Q){if(u===null)u=new KO(U);return k=j?u.fromEquirectangular(P,k):u.fromCubemap(P,k),k.texture.pmremVersion=P.pmremVersion,E.set(P,k),k.texture}else if(k!==void 0)return k.texture;else{let y=P.image;if(j&&y&&y.height>0||H&&y&&z(y)){if(u===null)u=new KO(U);return k=j?u.fromEquirectangular(P):u.fromCubemap(P),k.texture.pmremVersion=P.pmremVersion,E.set(P,k),P.addEventListener("dispose",c),k.texture}else return null}}}return P}function z(P){let n=0,j=6;for(let H=0;H<j;H++)if(P[H]!==void 0)n++;return n===j}function c(P){let n=P.target;n.removeEventListener("dispose",c);let j=E.get(n);if(j!==void 0)E.delete(n),j.dispose()}function Y(){if(E=new WeakMap,u!==null)u.dispose(),u=null}return{get:p,dispose:Y}}function fuU(U){let E={};function u(p){if(E[p]!==void 0)return E[p];let z=U.getExtension(p);return E[p]=z,z}return{has:function(p){return u(p)!==null},init:function(){u("EXT_color_buffer_float"),u("WEBGL_clip_cull_distance"),u("OES_texture_float_linear"),u("EXT_color_buffer_half_float"),u("WEBGL_multisampled_render_to_texture"),u("WEBGL_render_shared_exponent")},get:function(p){let z=u(p);if(z===null)_P("WebGLRenderer: "+p+" extension not supported.");return z}}}function suU(U,E,u,p){let z={},c=new WeakMap;function Y(k){let Q=k.target;if(Q.index!==null)E.remove(Q.index);for(let r in Q.attributes)E.remove(Q.attributes[r]);Q.removeEventListener("dispose",Y),delete z[Q.id];let y=c.get(Q);if(y)E.remove(y),c.delete(Q);if(p.releaseStatesOfGeometry(Q),Q.isInstancedBufferGeometry===!0)delete Q._maxInstanceCount;u.memory.geometries--}function P(k,Q){if(z[Q.id]===!0)return Q;return Q.addEventListener("dispose",Y),z[Q.id]=!0,u.memory.geometries++,Q}function n(k){let Q=k.attributes;for(let y in Q)E.update(Q[y],U.ARRAY_BUFFER)}function j(k){let Q=[],y=k.index,r=k.attributes.position,T=0;if(y!==null){let L=y.array;T=y.version;for(let X=0,i=L.length;X<i;X+=3){let B=L[X+0],G=L[X+1],d=L[X+2];Q.push(B,G,G,d,d,B)}}else if(r!==void 0){let L=r.array;T=r.version;for(let X=0,i=L.length/3-1;X<i;X+=3){let B=X+0,G=X+1,d=X+2;Q.push(B,G,G,d,d,B)}}else return;let N=new((Do(Q))?F9:i9)(Q,1);N.version=T;let O=c.get(k);if(O)E.remove(O);c.set(k,N)}function H(k){let Q=c.get(k);if(Q){let y=k.index;if(y!==null){if(Q.version<y.version)j(k)}}else j(k);return c.get(k)}return{get:P,update:n,getWireframeAttribute:H}}function KuU(U,E,u){let p;function z(Q){p=Q}let c,Y;function P(Q){c=Q.type,Y=Q.bytesPerElement}function n(Q,y){U.drawElements(p,y,c,Q*Y),u.update(y,p,1)}function j(Q,y,r){if(r===0)return;U.drawElementsInstanced(p,y,c,Q*Y,r),u.update(y,p,r)}function H(Q,y,r){if(r===0)return;E.get("WEBGL_multi_draw").multiDrawElementsWEBGL(p,y,0,c,Q,0,r);let N=0;for(let O=0;O<r;O++)N+=y[O];u.update(N,p,1)}function k(Q,y,r,T){if(r===0)return;let N=E.get("WEBGL_multi_draw");if(N===null)for(let O=0;O<Q.length;O++)j(Q[O]/Y,y[O],T[O]);else{N.multiDrawElementsInstancedWEBGL(p,y,0,c,Q,0,T,0,r);let O=0;for(let L=0;L<r;L++)O+=y[L]*T[L];u.update(O,p,1)}}this.setMode=z,this.setIndex=P,this.render=n,this.renderInstances=j,this.renderMultiDraw=H,this.renderMultiDrawInstances=k}function auU(U){let E={geometries:0,textures:0},u={frame:0,calls:0,triangles:0,points:0,lines:0};function p(c,Y,P){switch(u.calls++,Y){case U.TRIANGLES:u.triangles+=P*(c/3);break;case U.LINES:u.lines+=P*(c/2);break;case U.LINE_STRIP:u.lines+=P*(c-1);break;case U.LINE_LOOP:u.lines+=P*c;break;case U.POINTS:u.points+=P*c;break;default:SE("WebGLInfo: Unknown draw mode:",Y);break}}function z(){u.calls=0,u.triangles=0,u.points=0,u.lines=0}return{memory:E,render:u,programs:null,autoReset:!0,reset:z,update:p}}function _uU(U,E,u){let p=new WeakMap,z=new Gu;function c(Y,P,n){let j=Y.morphTargetInfluences,H=P.morphAttributes.position||P.morphAttributes.normal||P.morphAttributes.color,k=H!==void 0?H.length:0,Q=p.get(P);if(Q===void 0||Q.count!==k){let V=function(){d.dispose(),p.delete(P),P.removeEventListener("dispose",V)};if(Q!==void 0)Q.texture.dispose();let y=P.morphAttributes.position!==void 0,r=P.morphAttributes.normal!==void 0,T=P.morphAttributes.color!==void 0,N=P.morphAttributes.position||[],O=P.morphAttributes.normal||[],L=P.morphAttributes.color||[],X=0;if(y===!0)X=1;if(r===!0)X=2;if(T===!0)X=3;let i=P.attributes.position.count*X,B=1;if(i>E.maxTextureSize)B=Math.ceil(i/E.maxTextureSize),i=E.maxTextureSize;let G=new Float32Array(i*B*4*k),d=new aj(G,i,B,k);d.type=Sp,d.needsUpdate=!0;let m=X*4;for(let w=0;w<k;w++){let h=N[w],_=O[w],f=L[w],a=i*B*4*w;for(let uU=0;uU<h.count;uU++){let UU=uU*m;if(y===!0)z.fromBufferAttribute(h,uU),G[a+UU+0]=z.x,G[a+UU+1]=z.y,G[a+UU+2]=z.z,G[a+UU+3]=0;if(r===!0)z.fromBufferAttribute(_,uU),G[a+UU+4]=z.x,G[a+UU+5]=z.y,G[a+UU+6]=z.z,G[a+UU+7]=0;if(T===!0)z.fromBufferAttribute(f,uU),G[a+UU+8]=z.x,G[a+UU+9]=z.y,G[a+UU+10]=z.z,G[a+UU+11]=f.itemSize===4?z.w:1}}Q={count:k,texture:d,size:new LU(i,B)},p.set(P,Q),P.addEventListener("dispose",V)}if(Y.isInstancedMesh===!0&&Y.morphTexture!==null)n.getUniforms().setValue(U,"morphTexture",Y.morphTexture,u);else{let y=0;for(let T=0;T<j.length;T++)y+=j[T];let r=P.morphTargetsRelative?1:1-y;n.getUniforms().setValue(U,"morphTargetBaseInfluence",r),n.getUniforms().setValue(U,"morphTargetInfluences",j)}n.getUniforms().setValue(U,"morphTargetsTexture",Q.texture,u),n.getUniforms().setValue(U,"morphTargetsTextureSize",Q.size)}return{update:c}}function guU(U,E,u,p){let z=new WeakMap;function c(n){let j=p.render.frame,H=n.geometry,k=E.get(n,H);if(z.get(k)!==j)E.update(k),z.set(k,j);if(n.isInstancedMesh){if(n.hasEventListener("dispose",P)===!1)n.addEventListener("dispose",P);if(z.get(n)!==j){if(u.update(n.instanceMatrix,U.ARRAY_BUFFER),n.instanceColor!==null)u.update(n.instanceColor,U.ARRAY_BUFFER);z.set(n,j)}}if(n.isSkinnedMesh){let Q=n.skeleton;if(z.get(Q)!==j)Q.update(),z.set(Q,j)}return k}function Y(){z=new WeakMap}function P(n){let j=n.target;if(j.removeEventListener("dispose",P),u.remove(j.instanceMatrix),j.instanceColor!==null)u.remove(j.instanceColor)}return{update:c,dispose:Y}}var euU={[kI]:"LINEAR_TONE_MAPPING",[QI]:"REINHARD_TONE_MAPPING",[$I]:"CINEON_TONE_MAPPING",[Mj]:"ACES_FILMIC_TONE_MAPPING",[II]:"AGX_TONE_MAPPING",[OI]:"NEUTRAL_TONE_MAPPING",[yI]:"CUSTOM_TONE_MAPPING"};function CuU(U,E,u,p,z){let c=new fp(E,u,{type:U,depthBuffer:p,stencilBuffer:z}),Y=new fp(E,u,{type:up,depthBuffer:!1,stencilBuffer:!1}),P=new WE;P.setAttribute("position",new NE([-1,3,0,-1,-1,0,3,-1,0],3)),P.setAttribute("uv",new NE([0,2,0,0,2,0],2));let n=new a9({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),j=new tu(P,n),H=new n0(-1,1,1,-1,0,1),k=null,Q=null,y=!1,r,T=null,N=[],O=!1;this.setSize=function(L,X){c.setSize(L,X),Y.setSize(L,X);for(let i=0;i<N.length;i++){let B=N[i];if(B.setSize)B.setSize(L,X)}},this.setEffects=function(L){N=L,O=N.length>0&&N[0].isRenderPass===!0;let{width:X,height:i}=c;for(let B=0;B<N.length;B++){let G=N[B];if(G.setSize)G.setSize(X,i)}},this.begin=function(L,X){if(y)return!1;if(L.toneMapping===dz&&N.length===0)return!1;if(T=X,X!==null){let{width:i,height:B}=X;if(c.width!==i||c.height!==B)this.setSize(i,B)}if(O===!1)L.setRenderTarget(c);return r=L.toneMapping,L.toneMapping=dz,!0},this.hasRenderPass=function(){return O},this.end=function(L,X){L.toneMapping=r,y=!0;let i=c,B=Y;for(let G=0;G<N.length;G++){let d=N[G];if(d.enabled===!1)continue;if(d.render(L,B,i,X),d.needsSwap!==!1){let m=i;i=B,B=m}}if(k!==L.outputColorSpace||Q!==L.toneMapping){if(k=L.outputColorSpace,Q=L.toneMapping,n.defines={},Hu.getTransfer(k)===pp)n.defines.SRGB_TRANSFER="";let G=euU[Q];if(G)n.defines[G]="";n.needsUpdate=!0}n.uniforms.tDiffuse.value=i.texture,L.setRenderTarget(T),L.render(j,H),T=null,y=!1},this.isCompositing=function(){return y},this.dispose=function(){c.dispose(),Y.dispose(),P.dispose(),n.dispose()}}var v3=new Vu,K1=new VZ(1,1),S3=new aj,R3=new _j,D3=new xx,y3=[],I3=[],O3=new Float32Array(16),N3=new Float32Array(9),r3=new Float32Array(4);function Qq(U,E,u){let p=U[0];if(p<=0||p>0)return U;let z=E*u,c=y3[z];if(c===void 0)c=new Float32Array(z),y3[z]=c;if(E!==0){p.toArray(c,0);for(let Y=1,P=0;Y!==E;++Y)P+=u,U[Y].toArray(c,P)}return c}function H5(U,E){if(U.length!==E.length)return!1;for(let u=0,p=U.length;u<p;u++)if(U[u]!==E[u])return!1;return!0}function k5(U,E){for(let u=0,p=E.length;u<p;u++)U[u]=E[u]}function _O(U,E){let u=I3[E];if(u===void 0)u=new Int32Array(E),I3[E]=u;for(let p=0;p!==E;++p)u[p]=U.allocateTextureUnit();return u}function UpU(U,E){let u=this.cache;if(u[0]===E)return;U.uniform1f(this.addr,E),u[0]=E}function EpU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y)U.uniform2f(this.addr,E.x,E.y),u[0]=E.x,u[1]=E.y}else{if(H5(u,E))return;U.uniform2fv(this.addr,E),k5(u,E)}}function upU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y||u[2]!==E.z)U.uniform3f(this.addr,E.x,E.y,E.z),u[0]=E.x,u[1]=E.y,u[2]=E.z}else if(E.r!==void 0){if(u[0]!==E.r||u[1]!==E.g||u[2]!==E.b)U.uniform3f(this.addr,E.r,E.g,E.b),u[0]=E.r,u[1]=E.g,u[2]=E.b}else{if(H5(u,E))return;U.uniform3fv(this.addr,E),k5(u,E)}}function ppU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y||u[2]!==E.z||u[3]!==E.w)U.uniform4f(this.addr,E.x,E.y,E.z,E.w),u[0]=E.x,u[1]=E.y,u[2]=E.z,u[3]=E.w}else{if(H5(u,E))return;U.uniform4fv(this.addr,E),k5(u,E)}}function zpU(U,E){let u=this.cache,p=E.elements;if(p===void 0){if(H5(u,E))return;U.uniformMatrix2fv(this.addr,!1,E),k5(u,E)}else{if(H5(u,p))return;r3.set(p),U.uniformMatrix2fv(this.addr,!1,r3),k5(u,p)}}function cpU(U,E){let u=this.cache,p=E.elements;if(p===void 0){if(H5(u,E))return;U.uniformMatrix3fv(this.addr,!1,E),k5(u,E)}else{if(H5(u,p))return;N3.set(p),U.uniformMatrix3fv(this.addr,!1,N3),k5(u,p)}}function YpU(U,E){let u=this.cache,p=E.elements;if(p===void 0){if(H5(u,E))return;U.uniformMatrix4fv(this.addr,!1,E),k5(u,E)}else{if(H5(u,p))return;O3.set(p),U.uniformMatrix4fv(this.addr,!1,O3),k5(u,p)}}function ZpU(U,E){let u=this.cache;if(u[0]===E)return;U.uniform1i(this.addr,E),u[0]=E}function PpU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y)U.uniform2i(this.addr,E.x,E.y),u[0]=E.x,u[1]=E.y}else{if(H5(u,E))return;U.uniform2iv(this.addr,E),k5(u,E)}}function xpU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y||u[2]!==E.z)U.uniform3i(this.addr,E.x,E.y,E.z),u[0]=E.x,u[1]=E.y,u[2]=E.z}else{if(H5(u,E))return;U.uniform3iv(this.addr,E),k5(u,E)}}function npU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y||u[2]!==E.z||u[3]!==E.w)U.uniform4i(this.addr,E.x,E.y,E.z,E.w),u[0]=E.x,u[1]=E.y,u[2]=E.z,u[3]=E.w}else{if(H5(u,E))return;U.uniform4iv(this.addr,E),k5(u,E)}}function jpU(U,E){let u=this.cache;if(u[0]===E)return;U.uniform1ui(this.addr,E),u[0]=E}function qpU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y)U.uniform2ui(this.addr,E.x,E.y),u[0]=E.x,u[1]=E.y}else{if(H5(u,E))return;U.uniform2uiv(this.addr,E),k5(u,E)}}function HpU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y||u[2]!==E.z)U.uniform3ui(this.addr,E.x,E.y,E.z),u[0]=E.x,u[1]=E.y,u[2]=E.z}else{if(H5(u,E))return;U.uniform3uiv(this.addr,E),k5(u,E)}}function kpU(U,E){let u=this.cache;if(E.x!==void 0){if(u[0]!==E.x||u[1]!==E.y||u[2]!==E.z||u[3]!==E.w)U.uniform4ui(this.addr,E.x,E.y,E.z,E.w),u[0]=E.x,u[1]=E.y,u[2]=E.z,u[3]=E.w}else{if(H5(u,E))return;U.uniform4uiv(this.addr,E),k5(u,E)}}function QpU(U,E,u){let p=this.cache,z=u.allocateTextureUnit();if(p[0]!==z)U.uniform1i(this.addr,z),p[0]=z;let c;if(this.type===U.SAMPLER_2D_SHADOW)K1.compareFunction=u.isReversedDepthBuffer()?T9:X9,c=K1;else c=v3;u.setTexture2D(E||c,z)}function $pU(U,E,u){let p=this.cache,z=u.allocateTextureUnit();if(p[0]!==z)U.uniform1i(this.addr,z),p[0]=z;u.setTexture3D(E||R3,z)}function ypU(U,E,u){let p=this.cache,z=u.allocateTextureUnit();if(p[0]!==z)U.uniform1i(this.addr,z),p[0]=z;u.setTextureCube(E||D3,z)}function IpU(U,E,u){let p=this.cache,z=u.allocateTextureUnit();if(p[0]!==z)U.uniform1i(this.addr,z),p[0]=z;u.setTexture2DArray(E||S3,z)}function OpU(U){switch(U){case 5126:return UpU;case 35664:return EpU;case 35665:return upU;case 35666:return ppU;case 35674:return zpU;case 35675:return cpU;case 35676:return YpU;case 5124:case 35670:return ZpU;case 35667:case 35671:return PpU;case 35668:case 35672:return xpU;case 35669:case 35673:return npU;case 5125:return jpU;case 36294:return qpU;case 36295:return HpU;case 36296:return kpU;case 35678:case 36198:case 36298:case 36306:case 35682:return QpU;case 35679:case 36299:case 36307:return $pU;case 35680:case 36300:case 36308:case 36293:return ypU;case 36289:case 36303:case 36311:case 36292:return IpU}}function NpU(U,E){U.uniform1fv(this.addr,E)}function rpU(U,E){let u=Qq(E,this.size,2);U.uniform2fv(this.addr,u)}function LpU(U,E){let u=Qq(E,this.size,3);U.uniform3fv(this.addr,u)}function XpU(U,E){let u=Qq(E,this.size,4);U.uniform4fv(this.addr,u)}function TpU(U,E){let u=Qq(E,this.size,4);U.uniformMatrix2fv(this.addr,!1,u)}function opU(U,E){let u=Qq(E,this.size,9);U.uniformMatrix3fv(this.addr,!1,u)}function ipU(U,E){let u=Qq(E,this.size,16);U.uniformMatrix4fv(this.addr,!1,u)}function FpU(U,E){U.uniform1iv(this.addr,E)}function ApU(U,E){U.uniform2iv(this.addr,E)}function mpU(U,E){U.uniform3iv(this.addr,E)}function VpU(U,E){U.uniform4iv(this.addr,E)}function GpU(U,E){U.uniform1uiv(this.addr,E)}function BpU(U,E){U.uniform2uiv(this.addr,E)}function dpU(U,E){U.uniform3uiv(this.addr,E)}function wpU(U,E){U.uniform4uiv(this.addr,E)}function vpU(U,E,u){let p=this.cache,z=E.length,c=_O(u,z);if(!H5(p,c))U.uniform1iv(this.addr,c),k5(p,c);let Y;if(this.type===U.SAMPLER_2D_SHADOW)Y=K1;else Y=v3;for(let P=0;P!==z;++P)u.setTexture2D(E[P]||Y,c[P])}function SpU(U,E,u){let p=this.cache,z=E.length,c=_O(u,z);if(!H5(p,c))U.uniform1iv(this.addr,c),k5(p,c);for(let Y=0;Y!==z;++Y)u.setTexture3D(E[Y]||R3,c[Y])}function RpU(U,E,u){let p=this.cache,z=E.length,c=_O(u,z);if(!H5(p,c))U.uniform1iv(this.addr,c),k5(p,c);for(let Y=0;Y!==z;++Y)u.setTextureCube(E[Y]||D3,c[Y])}function DpU(U,E,u){let p=this.cache,z=E.length,c=_O(u,z);if(!H5(p,c))U.uniform1iv(this.addr,c),k5(p,c);for(let Y=0;Y!==z;++Y)u.setTexture2DArray(E[Y]||S3,c[Y])}function tpU(U){switch(U){case 5126:return NpU;case 35664:return rpU;case 35665:return LpU;case 35666:return XpU;case 35674:return TpU;case 35675:return opU;case 35676:return ipU;case 5124:case 35670:return FpU;case 35667:case 35671:return ApU;case 35668:case 35672:return mpU;case 35669:case 35673:return VpU;case 5125:return GpU;case 36294:return BpU;case 36295:return dpU;case 36296:return wpU;case 35678:case 36198:case 36298:case 36306:case 35682:return vpU;case 35679:case 36299:case 36307:return SpU;case 35680:case 36300:case 36308:case 36293:return RpU;case 36289:case 36303:case 36311:case 36292:return DpU}}class t3{constructor(U,E,u){this.id=U,this.addr=u,this.cache=[],this.type=E.type,this.setValue=OpU(E.type)}}class J3{constructor(U,E,u){this.id=U,this.addr=u,this.cache=[],this.type=E.type,this.size=E.size,this.setValue=tpU(E.type)}}class h3{constructor(U){this.id=U,this.seq=[],this.map={}}setValue(U,E,u){let p=this.seq;for(let z=0,c=p.length;z!==c;++z){let Y=p[z];Y.setValue(U,E[Y.id],u)}}}var f1=/(\w+)(\])?(\[|\.)?/g;function L3(U,E){U.seq.push(E),U.map[E.id]=E}function JpU(U,E,u){let p=U.name,z=p.length;f1.lastIndex=0;while(!0){let c=f1.exec(p),Y=f1.lastIndex,P=c[1],n=c[2]==="]",j=c[3];if(n)P=P|0;if(j===void 0||j==="["&&Y+2===z){L3(u,j===void 0?new t3(P,U,E):new J3(P,U,E));break}else{let k=u.map[P];if(k===void 0)k=new h3(P),L3(u,k);u=k}}}class xQ{constructor(U,E){this.seq=[],this.map={};let u=U.getProgramParameter(E,U.ACTIVE_UNIFORMS);for(let c=0;c<u;++c){let Y=U.getActiveUniform(E,c),P=U.getUniformLocation(E,Y.name);JpU(Y,P,this)}let p=[],z=[];for(let c of this.seq)if(c.type===U.SAMPLER_2D_SHADOW||c.type===U.SAMPLER_CUBE_SHADOW||c.type===U.SAMPLER_2D_ARRAY_SHADOW)p.push(c);else z.push(c);if(p.length>0)this.seq=p.concat(z)}setValue(U,E,u,p){let z=this.map[E];if(z!==void 0)z.setValue(U,u,p)}setOptional(U,E,u){let p=E[u];if(p!==void 0)this.setValue(U,u,p)}static upload(U,E,u,p){for(let z=0,c=E.length;z!==c;++z){let Y=E[z],P=u[Y.id];if(P.needsUpdate!==!1)Y.setValue(U,P.value,p)}}static seqWithValue(U,E){let u=[];for(let p=0,z=U.length;p!==z;++p){let c=U[p];if(c.id in E)u.push(c)}return u}}function X3(U,E,u){let p=U.createShader(E);return U.shaderSource(p,u),U.compileShader(p),p}var hpU=37297,bpU=0;function lpU(U,E){let u=U.split(`
`),p=[],z=Math.max(E-6,0),c=Math.min(E+6,u.length);for(let Y=z;Y<c;Y++){let P=Y+1;p.push(`${P===E?">":" "} ${P}: ${u[Y]}`)}return p.join(`
`)}var T3=new CE;function MpU(U){Hu._getMatrix(T3,Hu.workingColorSpace,U);let E=`mat3( ${T3.elements.map((u)=>u.toFixed(4))} )`;switch(Hu.getTransfer(U)){case cO:return[E,"LinearTransferOETF"];case pp:return[E,"sRGBTransferOETF"];default:return PE("WebGLProgram: Unsupported color space: ",U),[E,"LinearTransferOETF"]}}function o3(U,E,u){let p=U.getShaderParameter(E,U.COMPILE_STATUS),c=(U.getShaderInfoLog(E)||"").trim();if(p&&c==="")return"";let Y=/ERROR: 0:(\d+)/.exec(c);if(Y){let P=parseInt(Y[1]);return u.toUpperCase()+`

`+c+`

`+lpU(U.getShaderSource(E),P)}else return c}function WpU(U,E){let u=MpU(E);return[`vec4 ${U}( vec4 value ) {`,`	return ${u[1]}( vec4( value.rgb * ${u[0]}, value.a ) );`,"}"].join(`
`)}var fpU={[kI]:"Linear",[QI]:"Reinhard",[$I]:"Cineon",[Mj]:"ACESFilmic",[II]:"AgX",[OI]:"Neutral",[yI]:"Custom"};function spU(U,E){let u=fpU[E];if(u===void 0)return PE("WebGLProgram: Unsupported toneMapping:",E),"vec3 "+U+"( vec3 color ) { return LinearToneMapping( color ); }";return"vec3 "+U+"( vec3 color ) { return "+u+"ToneMapping( color ); }"}var sO=new b;function KpU(){Hu.getLuminanceCoefficients(sO);let U=sO.x.toFixed(4),E=sO.y.toFixed(4),u=sO.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${U}, ${E}, ${u} );`,"\treturn dot( weights, rgb );","}"].join(`
`)}function apU(U){return[U.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",U.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(PQ).join(`
`)}function _pU(U){let E=[];for(let u in U){let p=U[u];if(p===!1)continue;E.push("#define "+u+" "+p)}return E.join(`
`)}function gpU(U,E){let u={},p=U.getProgramParameter(E,U.ACTIVE_ATTRIBUTES);for(let z=0;z<p;z++){let c=U.getActiveAttrib(E,z),Y=c.name,P=1;if(c.type===U.FLOAT_MAT2)P=2;if(c.type===U.FLOAT_MAT3)P=3;if(c.type===U.FLOAT_MAT4)P=4;u[Y]={type:c.type,location:U.getAttribLocation(E,Y),locationSize:P}}return u}function PQ(U){return U!==""}function i3(U,E){let u=E.numSpotLightShadows+E.numSpotLightMaps-E.numSpotLightShadowsWithMaps;return U.replace(/NUM_DIR_LIGHTS/g,E.numDirLights).replace(/NUM_SPOT_LIGHTS/g,E.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,E.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,u).replace(/NUM_RECT_AREA_LIGHTS/g,E.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,E.numPointLights).replace(/NUM_HEMI_LIGHTS/g,E.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,E.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,E.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,E.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,E.numPointLightShadows)}function F3(U,E){return U.replace(/NUM_CLIPPING_PLANES/g,E.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,E.numClippingPlanes-E.numClipIntersection)}var epU=/^[ \t]*#include +<([\w\d./]+)>/gm;function a1(U){return U.replace(epU,U5U)}var CpU=new Map;function U5U(U,E){let u=cu[E];if(u===void 0){let p=CpU.get(E);if(p!==void 0)u=cu[p],PE('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',E,p);else throw new Error("Can not resolve #include <"+E+">")}return a1(u)}var E5U=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function A3(U){return U.replace(E5U,u5U)}function u5U(U,E,u,p){let z="";for(let c=parseInt(E);c<parseInt(u);c++)z+=p.replace(/\[\s*i\s*\]/g,"[ "+c+" ]").replace(/UNROLLED_LOOP_INDEX/g,c);return z}function m3(U){let E=`precision ${U.precision} float;
	precision ${U.precision} int;
	precision ${U.precision} sampler2D;
	precision ${U.precision} samplerCube;
	precision ${U.precision} sampler3D;
	precision ${U.precision} sampler2DArray;
	precision ${U.precision} sampler2DShadow;
	precision ${U.precision} samplerCubeShadow;
	precision ${U.precision} sampler2DArrayShadow;
	precision ${U.precision} isampler2D;
	precision ${U.precision} isampler3D;
	precision ${U.precision} isamplerCube;
	precision ${U.precision} isampler2DArray;
	precision ${U.precision} usampler2D;
	precision ${U.precision} usampler3D;
	precision ${U.precision} usamplerCube;
	precision ${U.precision} usampler2DArray;
	`;if(U.precision==="highp")E+=`
#define HIGH_PRECISION`;else if(U.precision==="mediump")E+=`
#define MEDIUM_PRECISION`;else if(U.precision==="lowp")E+=`
#define LOW_PRECISION`;return E}var p5U={[rZ]:"SHADOWMAP_TYPE_PCF",[C4]:"SHADOWMAP_TYPE_VSM"};function z5U(U){return p5U[U.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}var c5U={[EY]:"ENVMAP_TYPE_CUBE",[XZ]:"ENVMAP_TYPE_CUBE",[Wj]:"ENVMAP_TYPE_CUBE_UV"};function Y5U(U){if(U.envMap===!1)return"ENVMAP_TYPE_CUBE";return c5U[U.envMapMode]||"ENVMAP_TYPE_CUBE"}var Z5U={[XZ]:"ENVMAP_MODE_REFRACTION"};function P5U(U){if(U.envMap===!1)return"ENVMAP_MODE_REFLECTION";return Z5U[U.envMapMode]||"ENVMAP_MODE_REFLECTION"}var x5U={[Lo]:"ENVMAP_BLENDING_MULTIPLY",[Xo]:"ENVMAP_BLENDING_MIX",[To]:"ENVMAP_BLENDING_ADD"};function n5U(U){if(U.envMap===!1)return"ENVMAP_BLENDING_NONE";return x5U[U.combine]||"ENVMAP_BLENDING_NONE"}function j5U(U){let E=U.envMapCubeUVHeight;if(E===null)return null;let u=Math.log2(E)-2,p=1/E;return{texelWidth:1/(3*Math.max(Math.pow(2,u),112)),texelHeight:p,maxMip:u}}function q5U(U,E,u,p){let z=U.getContext(),c=u.defines,Y=u.vertexShader,P=u.fragmentShader,n=z5U(u),j=Y5U(u),H=P5U(u),k=n5U(u),Q=j5U(u),y=apU(u),r=_pU(c),T=z.createProgram(),N,O,L=u.glslVersion?"#version "+u.glslVersion+`
`:"";if(u.isRawShaderMaterial){if(N=["#define SHADER_TYPE "+u.shaderType,"#define SHADER_NAME "+u.shaderName,r].filter(PQ).join(`
`),N.length>0)N+=`
`;if(O=["#define SHADER_TYPE "+u.shaderType,"#define SHADER_NAME "+u.shaderName,r].filter(PQ).join(`
`),O.length>0)O+=`
`}else N=[m3(u),"#define SHADER_TYPE "+u.shaderType,"#define SHADER_NAME "+u.shaderName,r,u.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",u.batching?"#define USE_BATCHING":"",u.batchingColor?"#define USE_BATCHING_COLOR":"",u.instancing?"#define USE_INSTANCING":"",u.instancingColor?"#define USE_INSTANCING_COLOR":"",u.instancingMorph?"#define USE_INSTANCING_MORPH":"",u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp2?"#define FOG_EXP2":"",u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+H:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",u.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",u.displacementMap?"#define USE_DISPLACEMENTMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.anisotropy?"#define USE_ANISOTROPY":"",u.anisotropyMap?"#define USE_ANISOTROPYMAP":"",u.clearcoatMap?"#define USE_CLEARCOATMAP":"",u.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",u.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",u.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",u.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",u.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.alphaHash?"#define USE_ALPHAHASH":"",u.transmission?"#define USE_TRANSMISSION":"",u.transmissionMap?"#define USE_TRANSMISSIONMAP":"",u.thicknessMap?"#define USE_THICKNESSMAP":"",u.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",u.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",u.mapUv?"#define MAP_UV "+u.mapUv:"",u.alphaMapUv?"#define ALPHAMAP_UV "+u.alphaMapUv:"",u.lightMapUv?"#define LIGHTMAP_UV "+u.lightMapUv:"",u.aoMapUv?"#define AOMAP_UV "+u.aoMapUv:"",u.emissiveMapUv?"#define EMISSIVEMAP_UV "+u.emissiveMapUv:"",u.bumpMapUv?"#define BUMPMAP_UV "+u.bumpMapUv:"",u.normalMapUv?"#define NORMALMAP_UV "+u.normalMapUv:"",u.displacementMapUv?"#define DISPLACEMENTMAP_UV "+u.displacementMapUv:"",u.metalnessMapUv?"#define METALNESSMAP_UV "+u.metalnessMapUv:"",u.roughnessMapUv?"#define ROUGHNESSMAP_UV "+u.roughnessMapUv:"",u.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+u.anisotropyMapUv:"",u.clearcoatMapUv?"#define CLEARCOATMAP_UV "+u.clearcoatMapUv:"",u.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+u.clearcoatNormalMapUv:"",u.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+u.clearcoatRoughnessMapUv:"",u.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+u.iridescenceMapUv:"",u.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+u.iridescenceThicknessMapUv:"",u.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+u.sheenColorMapUv:"",u.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+u.sheenRoughnessMapUv:"",u.specularMapUv?"#define SPECULARMAP_UV "+u.specularMapUv:"",u.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+u.specularColorMapUv:"",u.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+u.specularIntensityMapUv:"",u.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+u.transmissionMapUv:"",u.thicknessMapUv?"#define THICKNESSMAP_UV "+u.thicknessMapUv:"",u.vertexTangents&&u.flatShading===!1?"#define USE_TANGENT":"",u.vertexColors?"#define USE_COLOR":"",u.vertexAlphas?"#define USE_COLOR_ALPHA":"",u.vertexUv1s?"#define USE_UV1":"",u.vertexUv2s?"#define USE_UV2":"",u.vertexUv3s?"#define USE_UV3":"",u.pointsUvs?"#define USE_POINTS_UV":"",u.flatShading?"#define FLAT_SHADED":"",u.skinning?"#define USE_SKINNING":"",u.morphTargets?"#define USE_MORPHTARGETS":"",u.morphNormals&&u.flatShading===!1?"#define USE_MORPHNORMALS":"",u.morphColors?"#define USE_MORPHCOLORS":"",u.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+u.morphTextureStride:"",u.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+u.morphTargetsCount:"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"",u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+n:"",u.sizeAttenuation?"#define USE_SIZEATTENUATION":"",u.numLightProbes>0?"#define USE_LIGHT_PROBES":"",u.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",u.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif",`
`].filter(PQ).join(`
`),O=[m3(u),"#define SHADER_TYPE "+u.shaderType,"#define SHADER_NAME "+u.shaderName,r,u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp2?"#define FOG_EXP2":"",u.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",u.map?"#define USE_MAP":"",u.matcap?"#define USE_MATCAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+j:"",u.envMap?"#define "+H:"",u.envMap?"#define "+k:"",Q?"#define CUBEUV_TEXEL_WIDTH "+Q.texelWidth:"",Q?"#define CUBEUV_TEXEL_HEIGHT "+Q.texelHeight:"",Q?"#define CUBEUV_MAX_MIP "+Q.maxMip+".0":"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",u.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.anisotropy?"#define USE_ANISOTROPY":"",u.anisotropyMap?"#define USE_ANISOTROPYMAP":"",u.clearcoat?"#define USE_CLEARCOAT":"",u.clearcoatMap?"#define USE_CLEARCOATMAP":"",u.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",u.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",u.dispersion?"#define USE_DISPERSION":"",u.iridescence?"#define USE_IRIDESCENCE":"",u.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",u.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",u.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.alphaTest?"#define USE_ALPHATEST":"",u.alphaHash?"#define USE_ALPHAHASH":"",u.sheen?"#define USE_SHEEN":"",u.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",u.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",u.transmission?"#define USE_TRANSMISSION":"",u.transmissionMap?"#define USE_TRANSMISSIONMAP":"",u.thicknessMap?"#define USE_THICKNESSMAP":"",u.vertexTangents&&u.flatShading===!1?"#define USE_TANGENT":"",u.vertexColors||u.instancingColor||u.batchingColor?"#define USE_COLOR":"",u.vertexAlphas?"#define USE_COLOR_ALPHA":"",u.vertexUv1s?"#define USE_UV1":"",u.vertexUv2s?"#define USE_UV2":"",u.vertexUv3s?"#define USE_UV3":"",u.pointsUvs?"#define USE_POINTS_UV":"",u.gradientMap?"#define USE_GRADIENTMAP":"",u.flatShading?"#define FLAT_SHADED":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"",u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+n:"",u.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",u.numLightProbes>0?"#define USE_LIGHT_PROBES":"",u.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",u.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",u.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",u.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",u.toneMapping!==dz?"#define TONE_MAPPING":"",u.toneMapping!==dz?cu.tonemapping_pars_fragment:"",u.toneMapping!==dz?spU("toneMapping",u.toneMapping):"",u.dithering?"#define DITHERING":"",u.opaque?"#define OPAQUE":"",cu.colorspace_pars_fragment,WpU("linearToOutputTexel",u.outputColorSpace),KpU(),u.useDepthPacking?"#define DEPTH_PACKING "+u.depthPacking:"",`
`].filter(PQ).join(`
`);if(Y=a1(Y),Y=i3(Y,u),Y=F3(Y,u),P=a1(P),P=i3(P,u),P=F3(P,u),Y=A3(Y),P=A3(P),u.isRawShaderMaterial!==!0)L=`#version 300 es
`,N=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+N,O=["#define varying in",u.glslVersion===YO?"":"layout(location = 0) out highp vec4 pc_fragColor;",u.glslVersion===YO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+O;let X=L+N+Y,i=L+O+P,B=X3(z,z.VERTEX_SHADER,X),G=X3(z,z.FRAGMENT_SHADER,i);if(z.attachShader(T,B),z.attachShader(T,G),u.index0AttributeName!==void 0)z.bindAttribLocation(T,0,u.index0AttributeName);else if(u.morphTargets===!0)z.bindAttribLocation(T,0,"position");z.linkProgram(T);function d(h){if(U.debug.checkShaderErrors){let _=z.getProgramInfoLog(T)||"",f=z.getShaderInfoLog(B)||"",a=z.getShaderInfoLog(G)||"",uU=_.trim(),UU=f.trim(),ZU=a.trim(),EU=!0,OU=!0;if(z.getProgramParameter(T,z.LINK_STATUS)===!1)if(EU=!1,typeof U.debug.onShaderError==="function")U.debug.onShaderError(z,T,B,G);else{let NU=o3(z,B,"vertex"),yU=o3(z,G,"fragment");SE("THREE.WebGLProgram: Shader Error "+z.getError()+" - VALIDATE_STATUS "+z.getProgramParameter(T,z.VALIDATE_STATUS)+`

Material Name: `+h.name+`
Material Type: `+h.type+`

Program Info Log: `+uU+`
`+NU+`
`+yU)}else if(uU!=="")PE("WebGLProgram: Program Info Log:",uU);else if(UU===""||ZU==="")OU=!1;if(OU)h.diagnostics={runnable:EU,programLog:uU,vertexShader:{log:UU,prefix:N},fragmentShader:{log:ZU,prefix:O}}}z.deleteShader(B),z.deleteShader(G),m=new xQ(z,T),V=gpU(z,T)}let m;this.getUniforms=function(){if(m===void 0)d(this);return m};let V;this.getAttributes=function(){if(V===void 0)d(this);return V};let w=u.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){if(w===!1)w=z.getProgramParameter(T,hpU);return w},this.destroy=function(){p.releaseStatesOfProgram(this),z.deleteProgram(T),this.program=void 0},this.type=u.shaderType,this.name=u.shaderName,this.id=bpU++,this.cacheKey=E,this.usedTimes=1,this.program=T,this.vertexShader=B,this.fragmentShader=G,this}var H5U=0;class b3{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(U){let{vertexShader:E,fragmentShader:u}=U,p=this._getShaderStage(E),z=this._getShaderStage(u),c=this._getShaderCacheForMaterial(U);if(c.has(p)===!1)c.add(p),p.usedTimes++;if(c.has(z)===!1)c.add(z),z.usedTimes++;return this}remove(U){let E=this.materialCache.get(U);for(let u of E)if(u.usedTimes--,u.usedTimes===0)this.shaderCache.delete(u.code);return this.materialCache.delete(U),this}getVertexShaderID(U){return this._getShaderStage(U.vertexShader).id}getFragmentShaderID(U){return this._getShaderStage(U.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(U){let E=this.materialCache,u=E.get(U);if(u===void 0)u=new Set,E.set(U,u);return u}_getShaderStage(U){let E=this.shaderCache,u=E.get(U);if(u===void 0)u=new l3(U),E.set(U,u);return u}}class l3{constructor(U){this.id=H5U++,this.code=U,this.usedTimes=0}}function k5U(U,E,u,p,z,c,Y){let P=new uY,n=new b3,j=new Set,H=[],k=new Map,Q=z.logarithmicDepthBuffer,y=z.precision,r={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(V){if(j.add(V),V===0)return"uv";return`uv${V}`}function N(V,w,h,_,f){let a=_.fog,uU=f.geometry,UU=V.isMeshStandardMaterial?_.environment:null,ZU=(V.isMeshStandardMaterial?u:E).get(V.envMap||UU),EU=!!ZU&&ZU.mapping===Wj?ZU.image.height:null,OU=r[V.type];if(V.precision!==null){if(y=z.getMaxPrecision(V.precision),y!==V.precision)PE("WebGLProgram.getParameters:",V.precision,"not supported, using",y,"instead.")}let NU=uU.morphAttributes.position||uU.morphAttributes.normal||uU.morphAttributes.color,yU=NU!==void 0?NU.length:0,wU=0;if(uU.morphAttributes.position!==void 0)wU=1;if(uU.morphAttributes.normal!==void 0)wU=2;if(uU.morphAttributes.color!==void 0)wU=3;let QE,$E,PU,vU;if(OU){let mu=Oc[OU];QE=mu.vertexShader,$E=mu.fragmentShader}else QE=V.vertexShader,$E=V.fragmentShader,n.update(V),PU=n.getVertexShaderID(V),vU=n.getFragmentShaderID(V);let TU=U.getRenderTarget(),HE=U.state.buffers.depth.getReversed(),yE=f.isInstancedMesh===!0,DE=f.isBatchedMesh===!0,Pu=!!V.map,tE=!!V.matcap,XU=!!ZU,SU=!!V.aoMap,AU=!!V.lightMap,uE=!!V.bumpMap,l=!!V.normalMap,bE=!!V.displacementMap,pE=!!V.emissiveMap,wE=!!V.metalnessMap,gU=!!V.roughnessMap,JE=V.anisotropy>0,t=V.clearcoat>0,S=V.dispersion>0,pU=V.iridescence>0,IU=V.sheen>0,oU=V.transmission>0,kU=JE&&!!V.anisotropyMap,xE=t&&!!V.clearcoatMap,bU=t&&!!V.clearcoatNormalMap,VE=t&&!!V.clearcoatRoughnessMap,BE=pU&&!!V.iridescenceMap,mU=pU&&!!V.iridescenceThicknessMap,lU=IU&&!!V.sheenColorMap,IE=IU&&!!V.sheenRoughnessMap,qE=!!V.specularMap,MU=!!V.specularColorMap,Uu=!!V.specularIntensityMap,M=oU&&!!V.transmissionMap,eU=oU&&!!V.thicknessMap,WU=!!V.gradientMap,kE=!!V.alphaMap,DU=V.alphaTest>0,$U=!!V.alphaHash,XE=!!V.extensions,fE=dz;if(V.toneMapped){if(TU===null||TU.isXRRenderTarget===!0)fE=U.toneMapping}let Lu={shaderID:OU,shaderType:V.type,shaderName:V.name,vertexShader:QE,fragmentShader:$E,defines:V.defines,customVertexShaderID:PU,customFragmentShaderID:vU,isRawShaderMaterial:V.isRawShaderMaterial===!0,glslVersion:V.glslVersion,precision:y,batching:DE,batchingColor:DE&&f._colorsTexture!==null,instancing:yE,instancingColor:yE&&f.instanceColor!==null,instancingMorph:yE&&f.morphTexture!==null,outputColorSpace:TU===null?U.outputColorSpace:TU.isXRRenderTarget===!0?TU.texture.colorSpace:C5,alphaToCoverage:!!V.alphaToCoverage,map:Pu,matcap:tE,envMap:XU,envMapMode:XU&&ZU.mapping,envMapCubeUVHeight:EU,aoMap:SU,lightMap:AU,bumpMap:uE,normalMap:l,displacementMap:bE,emissiveMap:pE,normalMapObjectSpace:l&&V.normalMapType===Vo,normalMapTangentSpace:l&&V.normalMapType===mo,metalnessMap:wE,roughnessMap:gU,anisotropy:JE,anisotropyMap:kU,clearcoat:t,clearcoatMap:xE,clearcoatNormalMap:bU,clearcoatRoughnessMap:VE,dispersion:S,iridescence:pU,iridescenceMap:BE,iridescenceThicknessMap:mU,sheen:IU,sheenColorMap:lU,sheenRoughnessMap:IE,specularMap:qE,specularColorMap:MU,specularIntensityMap:Uu,transmission:oU,transmissionMap:M,thicknessMap:eU,gradientMap:WU,opaque:V.transparent===!1&&V.blending===bj&&V.alphaToCoverage===!1,alphaMap:kE,alphaTest:DU,alphaHash:$U,combine:V.combine,mapUv:Pu&&T(V.map.channel),aoMapUv:SU&&T(V.aoMap.channel),lightMapUv:AU&&T(V.lightMap.channel),bumpMapUv:uE&&T(V.bumpMap.channel),normalMapUv:l&&T(V.normalMap.channel),displacementMapUv:bE&&T(V.displacementMap.channel),emissiveMapUv:pE&&T(V.emissiveMap.channel),metalnessMapUv:wE&&T(V.metalnessMap.channel),roughnessMapUv:gU&&T(V.roughnessMap.channel),anisotropyMapUv:kU&&T(V.anisotropyMap.channel),clearcoatMapUv:xE&&T(V.clearcoatMap.channel),clearcoatNormalMapUv:bU&&T(V.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:VE&&T(V.clearcoatRoughnessMap.channel),iridescenceMapUv:BE&&T(V.iridescenceMap.channel),iridescenceThicknessMapUv:mU&&T(V.iridescenceThicknessMap.channel),sheenColorMapUv:lU&&T(V.sheenColorMap.channel),sheenRoughnessMapUv:IE&&T(V.sheenRoughnessMap.channel),specularMapUv:qE&&T(V.specularMap.channel),specularColorMapUv:MU&&T(V.specularColorMap.channel),specularIntensityMapUv:Uu&&T(V.specularIntensityMap.channel),transmissionMapUv:M&&T(V.transmissionMap.channel),thicknessMapUv:eU&&T(V.thicknessMap.channel),alphaMapUv:kE&&T(V.alphaMap.channel),vertexTangents:!!uU.attributes.tangent&&(l||JE),vertexColors:V.vertexColors,vertexAlphas:V.vertexColors===!0&&!!uU.attributes.color&&uU.attributes.color.itemSize===4,pointsUvs:f.isPoints===!0&&!!uU.attributes.uv&&(Pu||kE),fog:!!a,useFog:V.fog===!0,fogExp2:!!a&&a.isFogExp2,flatShading:V.flatShading===!0&&V.wireframe===!1,sizeAttenuation:V.sizeAttenuation===!0,logarithmicDepthBuffer:Q,reversedDepthBuffer:HE,skinning:f.isSkinnedMesh===!0,morphTargets:uU.morphAttributes.position!==void 0,morphNormals:uU.morphAttributes.normal!==void 0,morphColors:uU.morphAttributes.color!==void 0,morphTargetsCount:yU,morphTextureStride:wU,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:Y.numPlanes,numClipIntersection:Y.numIntersection,dithering:V.dithering,shadowMapEnabled:U.shadowMap.enabled&&h.length>0,shadowMapType:U.shadowMap.type,toneMapping:fE,decodeVideoTexture:Pu&&V.map.isVideoTexture===!0&&Hu.getTransfer(V.map.colorSpace)===pp,decodeVideoTextureEmissive:pE&&V.emissiveMap.isVideoTexture===!0&&Hu.getTransfer(V.emissiveMap.colorSpace)===pp,premultipliedAlpha:V.premultipliedAlpha,doubleSided:V.side===xz,flipSided:V.side===Bz,useDepthPacking:V.depthPacking>=0,depthPacking:V.depthPacking||0,index0AttributeName:V.index0AttributeName,extensionClipCullDistance:XE&&V.extensions.clipCullDistance===!0&&p.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(XE&&V.extensions.multiDraw===!0||DE)&&p.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:p.has("KHR_parallel_shader_compile"),customProgramCacheKey:V.customProgramCacheKey()};return Lu.vertexUv1s=j.has(1),Lu.vertexUv2s=j.has(2),Lu.vertexUv3s=j.has(3),j.clear(),Lu}function O(V){let w=[];if(V.shaderID)w.push(V.shaderID);else w.push(V.customVertexShaderID),w.push(V.customFragmentShaderID);if(V.defines!==void 0)for(let h in V.defines)w.push(h),w.push(V.defines[h]);if(V.isRawShaderMaterial===!1)L(w,V),X(w,V),w.push(U.outputColorSpace);return w.push(V.customProgramCacheKey),w.join()}function L(V,w){V.push(w.precision),V.push(w.outputColorSpace),V.push(w.envMapMode),V.push(w.envMapCubeUVHeight),V.push(w.mapUv),V.push(w.alphaMapUv),V.push(w.lightMapUv),V.push(w.aoMapUv),V.push(w.bumpMapUv),V.push(w.normalMapUv),V.push(w.displacementMapUv),V.push(w.emissiveMapUv),V.push(w.metalnessMapUv),V.push(w.roughnessMapUv),V.push(w.anisotropyMapUv),V.push(w.clearcoatMapUv),V.push(w.clearcoatNormalMapUv),V.push(w.clearcoatRoughnessMapUv),V.push(w.iridescenceMapUv),V.push(w.iridescenceThicknessMapUv),V.push(w.sheenColorMapUv),V.push(w.sheenRoughnessMapUv),V.push(w.specularMapUv),V.push(w.specularColorMapUv),V.push(w.specularIntensityMapUv),V.push(w.transmissionMapUv),V.push(w.thicknessMapUv),V.push(w.combine),V.push(w.fogExp2),V.push(w.sizeAttenuation),V.push(w.morphTargetsCount),V.push(w.morphAttributeCount),V.push(w.numDirLights),V.push(w.numPointLights),V.push(w.numSpotLights),V.push(w.numSpotLightMaps),V.push(w.numHemiLights),V.push(w.numRectAreaLights),V.push(w.numDirLightShadows),V.push(w.numPointLightShadows),V.push(w.numSpotLightShadows),V.push(w.numSpotLightShadowsWithMaps),V.push(w.numLightProbes),V.push(w.shadowMapType),V.push(w.toneMapping),V.push(w.numClippingPlanes),V.push(w.numClipIntersection),V.push(w.depthPacking)}function X(V,w){if(P.disableAll(),w.instancing)P.enable(0);if(w.instancingColor)P.enable(1);if(w.instancingMorph)P.enable(2);if(w.matcap)P.enable(3);if(w.envMap)P.enable(4);if(w.normalMapObjectSpace)P.enable(5);if(w.normalMapTangentSpace)P.enable(6);if(w.clearcoat)P.enable(7);if(w.iridescence)P.enable(8);if(w.alphaTest)P.enable(9);if(w.vertexColors)P.enable(10);if(w.vertexAlphas)P.enable(11);if(w.vertexUv1s)P.enable(12);if(w.vertexUv2s)P.enable(13);if(w.vertexUv3s)P.enable(14);if(w.vertexTangents)P.enable(15);if(w.anisotropy)P.enable(16);if(w.alphaHash)P.enable(17);if(w.batching)P.enable(18);if(w.dispersion)P.enable(19);if(w.batchingColor)P.enable(20);if(w.gradientMap)P.enable(21);if(V.push(P.mask),P.disableAll(),w.fog)P.enable(0);if(w.useFog)P.enable(1);if(w.flatShading)P.enable(2);if(w.logarithmicDepthBuffer)P.enable(3);if(w.reversedDepthBuffer)P.enable(4);if(w.skinning)P.enable(5);if(w.morphTargets)P.enable(6);if(w.morphNormals)P.enable(7);if(w.morphColors)P.enable(8);if(w.premultipliedAlpha)P.enable(9);if(w.shadowMapEnabled)P.enable(10);if(w.doubleSided)P.enable(11);if(w.flipSided)P.enable(12);if(w.useDepthPacking)P.enable(13);if(w.dithering)P.enable(14);if(w.transmission)P.enable(15);if(w.sheen)P.enable(16);if(w.opaque)P.enable(17);if(w.pointsUvs)P.enable(18);if(w.decodeVideoTexture)P.enable(19);if(w.decodeVideoTextureEmissive)P.enable(20);if(w.alphaToCoverage)P.enable(21);V.push(P.mask)}function i(V){let w=r[V.type],h;if(w){let _=Oc[w];h=_o.clone(_.uniforms)}else h=V.uniforms;return h}function B(V,w){let h=k.get(w);if(h!==void 0)++h.usedTimes;else h=new q5U(U,w,V,c),H.push(h),k.set(w,h);return h}function G(V){if(--V.usedTimes===0){let w=H.indexOf(V);H[w]=H[H.length-1],H.pop(),k.delete(V.cacheKey),V.destroy()}}function d(V){n.remove(V)}function m(){n.dispose()}return{getParameters:N,getProgramCacheKey:O,getUniforms:i,acquireProgram:B,releaseProgram:G,releaseShaderCache:d,programs:H,dispose:m}}function Q5U(){let U=new WeakMap;function E(Y){return U.has(Y)}function u(Y){let P=U.get(Y);if(P===void 0)P={},U.set(Y,P);return P}function p(Y){U.delete(Y)}function z(Y,P,n){U.get(Y)[P]=n}function c(){U=new WeakMap}return{has:E,get:u,remove:p,update:z,dispose:c}}function $5U(U,E){if(U.groupOrder!==E.groupOrder)return U.groupOrder-E.groupOrder;else if(U.renderOrder!==E.renderOrder)return U.renderOrder-E.renderOrder;else if(U.material.id!==E.material.id)return U.material.id-E.material.id;else if(U.z!==E.z)return U.z-E.z;else return U.id-E.id}function V3(U,E){if(U.groupOrder!==E.groupOrder)return U.groupOrder-E.groupOrder;else if(U.renderOrder!==E.renderOrder)return U.renderOrder-E.renderOrder;else if(U.z!==E.z)return E.z-U.z;else return U.id-E.id}function G3(){let U=[],E=0,u=[],p=[],z=[];function c(){E=0,u.length=0,p.length=0,z.length=0}function Y(k,Q,y,r,T,N){let O=U[E];if(O===void 0)O={id:k.id,object:k,geometry:Q,material:y,groupOrder:r,renderOrder:k.renderOrder,z:T,group:N},U[E]=O;else O.id=k.id,O.object=k,O.geometry=Q,O.material=y,O.groupOrder=r,O.renderOrder=k.renderOrder,O.z=T,O.group=N;return E++,O}function P(k,Q,y,r,T,N){let O=Y(k,Q,y,r,T,N);if(y.transmission>0)p.push(O);else if(y.transparent===!0)z.push(O);else u.push(O)}function n(k,Q,y,r,T,N){let O=Y(k,Q,y,r,T,N);if(y.transmission>0)p.unshift(O);else if(y.transparent===!0)z.unshift(O);else u.unshift(O)}function j(k,Q){if(u.length>1)u.sort(k||$5U);if(p.length>1)p.sort(Q||V3);if(z.length>1)z.sort(Q||V3)}function H(){for(let k=E,Q=U.length;k<Q;k++){let y=U[k];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:u,transmissive:p,transparent:z,init:c,push:P,unshift:n,finish:H,sort:j}}function y5U(){let U=new WeakMap;function E(p,z){let c=U.get(p),Y;if(c===void 0)Y=new G3,U.set(p,[Y]);else if(z>=c.length)Y=new G3,c.push(Y);else Y=c[z];return Y}function u(){U=new WeakMap}return{get:E,dispose:u}}function I5U(){let U={};return{get:function(E){if(U[E.id]!==void 0)return U[E.id];let u;switch(E.type){case"DirectionalLight":u={direction:new b,color:new EE};break;case"SpotLight":u={position:new b,direction:new b,color:new EE,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":u={position:new b,color:new EE,distance:0,decay:0};break;case"HemisphereLight":u={direction:new b,skyColor:new EE,groundColor:new EE};break;case"RectAreaLight":u={color:new EE,position:new b,halfWidth:new b,halfHeight:new b};break}return U[E.id]=u,u}}}function O5U(){let U={};return{get:function(E){if(U[E.id]!==void 0)return U[E.id];let u;switch(E.type){case"DirectionalLight":u={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new LU};break;case"SpotLight":u={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new LU};break;case"PointLight":u={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new LU,shadowCameraNear:1,shadowCameraFar:1000};break}return U[E.id]=u,u}}}var N5U=0;function r5U(U,E){return(E.castShadow?2:0)-(U.castShadow?2:0)+(E.map?1:0)-(U.map?1:0)}function L5U(U){let E=new I5U,u=O5U(),p={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let j=0;j<9;j++)p.probe.push(new b);let z=new b,c=new RE,Y=new RE;function P(j){let H=0,k=0,Q=0;for(let V=0;V<9;V++)p.probe[V].set(0,0,0);let y=0,r=0,T=0,N=0,O=0,L=0,X=0,i=0,B=0,G=0,d=0;j.sort(r5U);for(let V=0,w=j.length;V<w;V++){let h=j[V],_=h.color,f=h.intensity,a=h.distance,uU=null;if(h.shadow&&h.shadow.map)if(h.shadow.map.texture.format===Yx)uU=h.shadow.map.texture;else uU=h.shadow.map.depthTexture||h.shadow.map.texture;if(h.isAmbientLight)H+=_.r*f,k+=_.g*f,Q+=_.b*f;else if(h.isLightProbe){for(let UU=0;UU<9;UU++)p.probe[UU].addScaledVector(h.sh.coefficients[UU],f);d++}else if(h.isDirectionalLight){let UU=E.get(h);if(UU.color.copy(h.color).multiplyScalar(h.intensity),h.castShadow){let ZU=h.shadow,EU=u.get(h);EU.shadowIntensity=ZU.intensity,EU.shadowBias=ZU.bias,EU.shadowNormalBias=ZU.normalBias,EU.shadowRadius=ZU.radius,EU.shadowMapSize=ZU.mapSize,p.directionalShadow[y]=EU,p.directionalShadowMap[y]=uU,p.directionalShadowMatrix[y]=h.shadow.matrix,L++}p.directional[y]=UU,y++}else if(h.isSpotLight){let UU=E.get(h);UU.position.setFromMatrixPosition(h.matrixWorld),UU.color.copy(_).multiplyScalar(f),UU.distance=a,UU.coneCos=Math.cos(h.angle),UU.penumbraCos=Math.cos(h.angle*(1-h.penumbra)),UU.decay=h.decay,p.spot[T]=UU;let ZU=h.shadow;if(h.map){if(p.spotLightMap[B]=h.map,B++,ZU.updateMatrices(h),h.castShadow)G++}if(p.spotLightMatrix[T]=ZU.matrix,h.castShadow){let EU=u.get(h);EU.shadowIntensity=ZU.intensity,EU.shadowBias=ZU.bias,EU.shadowNormalBias=ZU.normalBias,EU.shadowRadius=ZU.radius,EU.shadowMapSize=ZU.mapSize,p.spotShadow[T]=EU,p.spotShadowMap[T]=uU,i++}T++}else if(h.isRectAreaLight){let UU=E.get(h);UU.color.copy(_).multiplyScalar(f),UU.halfWidth.set(h.width*0.5,0,0),UU.halfHeight.set(0,h.height*0.5,0),p.rectArea[N]=UU,N++}else if(h.isPointLight){let UU=E.get(h);if(UU.color.copy(h.color).multiplyScalar(h.intensity),UU.distance=h.distance,UU.decay=h.decay,h.castShadow){let ZU=h.shadow,EU=u.get(h);EU.shadowIntensity=ZU.intensity,EU.shadowBias=ZU.bias,EU.shadowNormalBias=ZU.normalBias,EU.shadowRadius=ZU.radius,EU.shadowMapSize=ZU.mapSize,EU.shadowCameraNear=ZU.camera.near,EU.shadowCameraFar=ZU.camera.far,p.pointShadow[r]=EU,p.pointShadowMap[r]=uU,p.pointShadowMatrix[r]=h.shadow.matrix,X++}p.point[r]=UU,r++}else if(h.isHemisphereLight){let UU=E.get(h);UU.skyColor.copy(h.color).multiplyScalar(f),UU.groundColor.copy(h.groundColor).multiplyScalar(f),p.hemi[O]=UU,O++}}if(N>0)if(U.has("OES_texture_float_linear")===!0)p.rectAreaLTC1=jE.LTC_FLOAT_1,p.rectAreaLTC2=jE.LTC_FLOAT_2;else p.rectAreaLTC1=jE.LTC_HALF_1,p.rectAreaLTC2=jE.LTC_HALF_2;p.ambient[0]=H,p.ambient[1]=k,p.ambient[2]=Q;let m=p.hash;if(m.directionalLength!==y||m.pointLength!==r||m.spotLength!==T||m.rectAreaLength!==N||m.hemiLength!==O||m.numDirectionalShadows!==L||m.numPointShadows!==X||m.numSpotShadows!==i||m.numSpotMaps!==B||m.numLightProbes!==d)p.directional.length=y,p.spot.length=T,p.rectArea.length=N,p.point.length=r,p.hemi.length=O,p.directionalShadow.length=L,p.directionalShadowMap.length=L,p.pointShadow.length=X,p.pointShadowMap.length=X,p.spotShadow.length=i,p.spotShadowMap.length=i,p.directionalShadowMatrix.length=L,p.pointShadowMatrix.length=X,p.spotLightMatrix.length=i+B-G,p.spotLightMap.length=B,p.numSpotLightShadowsWithMaps=G,p.numLightProbes=d,m.directionalLength=y,m.pointLength=r,m.spotLength=T,m.rectAreaLength=N,m.hemiLength=O,m.numDirectionalShadows=L,m.numPointShadows=X,m.numSpotShadows=i,m.numSpotMaps=B,m.numLightProbes=d,p.version=N5U++}function n(j,H){let k=0,Q=0,y=0,r=0,T=0,N=H.matrixWorldInverse;for(let O=0,L=j.length;O<L;O++){let X=j[O];if(X.isDirectionalLight){let i=p.directional[k];i.direction.setFromMatrixPosition(X.matrixWorld),z.setFromMatrixPosition(X.target.matrixWorld),i.direction.sub(z),i.direction.transformDirection(N),k++}else if(X.isSpotLight){let i=p.spot[y];i.position.setFromMatrixPosition(X.matrixWorld),i.position.applyMatrix4(N),i.direction.setFromMatrixPosition(X.matrixWorld),z.setFromMatrixPosition(X.target.matrixWorld),i.direction.sub(z),i.direction.transformDirection(N),y++}else if(X.isRectAreaLight){let i=p.rectArea[r];i.position.setFromMatrixPosition(X.matrixWorld),i.position.applyMatrix4(N),Y.identity(),c.copy(X.matrixWorld),c.premultiply(N),Y.extractRotation(c),i.halfWidth.set(X.width*0.5,0,0),i.halfHeight.set(0,X.height*0.5,0),i.halfWidth.applyMatrix4(Y),i.halfHeight.applyMatrix4(Y),r++}else if(X.isPointLight){let i=p.point[Q];i.position.setFromMatrixPosition(X.matrixWorld),i.position.applyMatrix4(N),Q++}else if(X.isHemisphereLight){let i=p.hemi[T];i.direction.setFromMatrixPosition(X.matrixWorld),i.direction.transformDirection(N),T++}}}return{setup:P,setupView:n,state:p}}function B3(U){let E=new L5U(U),u=[],p=[];function z(H){j.camera=H,u.length=0,p.length=0}function c(H){u.push(H)}function Y(H){p.push(H)}function P(){E.setup(u)}function n(H){E.setupView(u,H)}let j={lightsArray:u,shadowsArray:p,camera:null,lights:E,transmissionRenderTarget:{}};return{init:z,state:j,setupLights:P,setupLightsView:n,pushLight:c,pushShadow:Y}}function X5U(U){let E=new WeakMap;function u(z,c=0){let Y=E.get(z),P;if(Y===void 0)P=new B3(U),E.set(z,[P]);else if(c>=Y.length)P=new B3(U),Y.push(P);else P=Y[c];return P}function p(){E=new WeakMap}return{get:u,dispose:p}}var T5U=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,o5U=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,i5U=[new b(1,0,0),new b(-1,0,0),new b(0,1,0),new b(0,-1,0),new b(0,0,1),new b(0,0,-1)],F5U=[new b(0,-1,0),new b(0,-1,0),new b(0,0,1),new b(0,0,-1),new b(0,-1,0),new b(0,-1,0)],d3=new RE,ZQ=new b,s1=new b;function A5U(U,E,u){let p=new mZ,z=new LU,c=new LU,Y=new Gu,P=new Qx,n=new _9,j={},H=u.maxTextureSize,k={[UY]:Bz,[Bz]:UY,[xz]:xz},Q=new Ap({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new LU},radius:{value:4}},vertexShader:T5U,fragmentShader:o5U}),y=Q.clone();y.defines.HORIZONTAL_PASS=1;let r=new WE;r.setAttribute("position",new ju(new Float32Array([-1,-1,0.5,3,-1,0.5,-1,3,0.5]),3));let T=new tu(r,Q),N=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rZ;let O=this.type;this.render=function(G,d,m){if(N.enabled===!1)return;if(N.autoUpdate===!1&&N.needsUpdate===!1)return;if(G.length===0)return;if(G.type===Ux)PE("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),G.type=rZ;let V=U.getRenderTarget(),w=U.getActiveCubeFace(),h=U.getActiveMipmapLevel(),_=U.state;if(_.setBlending(b0),_.buffers.depth.getReversed()===!0)_.buffers.color.setClear(0,0,0,0);else _.buffers.color.setClear(1,1,1,1);_.buffers.depth.setTest(!0),_.setScissorTest(!1);let f=O!==this.type;if(f)d.traverse(function(a){if(a.material)if(Array.isArray(a.material))a.material.forEach((uU)=>uU.needsUpdate=!0);else a.material.needsUpdate=!0});for(let a=0,uU=G.length;a<uU;a++){let UU=G[a],ZU=UU.shadow;if(ZU===void 0){PE("WebGLShadowMap:",UU,"has no shadow.");continue}if(ZU.autoUpdate===!1&&ZU.needsUpdate===!1)continue;z.copy(ZU.mapSize);let EU=ZU.getFrameExtents();if(z.multiply(EU),c.copy(ZU.mapSize),z.x>H||z.y>H){if(z.x>H)c.x=Math.floor(H/EU.x),z.x=c.x*EU.x,ZU.mapSize.x=c.x;if(z.y>H)c.y=Math.floor(H/EU.y),z.y=c.y*EU.y,ZU.mapSize.y=c.y}if(ZU.map===null||f===!0){if(ZU.map!==null){if(ZU.map.depthTexture!==null)ZU.map.depthTexture.dispose(),ZU.map.depthTexture=null;ZU.map.dispose()}if(this.type===C4){if(UU.isPointLight){PE("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}ZU.map=new fp(z.x,z.y,{format:Yx,type:up,minFilter:Wu,magFilter:Wu,generateMipmaps:!1}),ZU.map.texture.name=UU.name+".shadowMap",ZU.map.depthTexture=new VZ(z.x,z.y,Sp),ZU.map.depthTexture.name=UU.name+".shadowMapDepth",ZU.map.depthTexture.format=oZ,ZU.map.depthTexture.compareFunction=null,ZU.map.depthTexture.minFilter=Qc,ZU.map.depthTexture.magFilter=Qc}else{if(UU.isPointLight)ZU.map=new nx(z.x),ZU.map.depthTexture=new kO(z.x,$c);else ZU.map=new fp(z.x,z.y),ZU.map.depthTexture=new VZ(z.x,z.y,$c);ZU.map.depthTexture.name=UU.name+".shadowMap",ZU.map.depthTexture.format=oZ;let NU=U.state.buffers.depth.getReversed();if(this.type===rZ)ZU.map.depthTexture.compareFunction=NU?T9:X9,ZU.map.depthTexture.minFilter=Wu,ZU.map.depthTexture.magFilter=Wu;else ZU.map.depthTexture.compareFunction=null,ZU.map.depthTexture.minFilter=Qc,ZU.map.depthTexture.magFilter=Qc}ZU.camera.updateProjectionMatrix()}let OU=ZU.map.isWebGLCubeRenderTarget?6:1;for(let NU=0;NU<OU;NU++){if(ZU.map.isWebGLCubeRenderTarget)U.setRenderTarget(ZU.map,NU),U.clear();else{if(NU===0)U.setRenderTarget(ZU.map),U.clear();let yU=ZU.getViewport(NU);Y.set(c.x*yU.x,c.y*yU.y,c.x*yU.z,c.y*yU.w),_.viewport(Y)}if(UU.isPointLight){let{camera:yU,matrix:wU}=ZU,QE=UU.distance||yU.far;if(QE!==yU.far)yU.far=QE,yU.updateProjectionMatrix();ZQ.setFromMatrixPosition(UU.matrixWorld),yU.position.copy(ZQ),s1.copy(yU.position),s1.add(i5U[NU]),yU.up.copy(F5U[NU]),yU.lookAt(s1),yU.updateMatrixWorld(),wU.makeTranslation(-ZQ.x,-ZQ.y,-ZQ.z),d3.multiplyMatrices(yU.projectionMatrix,yU.matrixWorldInverse),ZU._frustum.setFromProjectionMatrix(d3,yU.coordinateSystem,yU.reversedDepth)}else ZU.updateMatrices(UU);p=ZU.getFrustum(),i(d,m,ZU.camera,UU,this.type)}if(ZU.isPointLightShadow!==!0&&this.type===C4)L(ZU,m);ZU.needsUpdate=!1}O=this.type,N.needsUpdate=!1,U.setRenderTarget(V,w,h)};function L(G,d){let m=E.update(T);if(Q.defines.VSM_SAMPLES!==G.blurSamples)Q.defines.VSM_SAMPLES=G.blurSamples,y.defines.VSM_SAMPLES=G.blurSamples,Q.needsUpdate=!0,y.needsUpdate=!0;if(G.mapPass===null)G.mapPass=new fp(z.x,z.y,{format:Yx,type:up});Q.uniforms.shadow_pass.value=G.map.depthTexture,Q.uniforms.resolution.value=G.mapSize,Q.uniforms.radius.value=G.radius,U.setRenderTarget(G.mapPass),U.clear(),U.renderBufferDirect(d,null,m,Q,T,null),y.uniforms.shadow_pass.value=G.mapPass.texture,y.uniforms.resolution.value=G.mapSize,y.uniforms.radius.value=G.radius,U.setRenderTarget(G.map),U.clear(),U.renderBufferDirect(d,null,m,y,T,null)}function X(G,d,m,V){let w=null,h=m.isPointLight===!0?G.customDistanceMaterial:G.customDepthMaterial;if(h!==void 0)w=h;else if(w=m.isPointLight===!0?n:P,U.localClippingEnabled&&d.clipShadows===!0&&Array.isArray(d.clippingPlanes)&&d.clippingPlanes.length!==0||d.displacementMap&&d.displacementScale!==0||d.alphaMap&&d.alphaTest>0||d.map&&d.alphaTest>0||d.alphaToCoverage===!0){let _=w.uuid,f=d.uuid,a=j[_];if(a===void 0)a={},j[_]=a;let uU=a[f];if(uU===void 0)uU=w.clone(),a[f]=uU,d.addEventListener("dispose",B);w=uU}if(w.visible=d.visible,w.wireframe=d.wireframe,V===C4)w.side=d.shadowSide!==null?d.shadowSide:d.side;else w.side=d.shadowSide!==null?d.shadowSide:k[d.side];if(w.alphaMap=d.alphaMap,w.alphaTest=d.alphaToCoverage===!0?0.5:d.alphaTest,w.map=d.map,w.clipShadows=d.clipShadows,w.clippingPlanes=d.clippingPlanes,w.clipIntersection=d.clipIntersection,w.displacementMap=d.displacementMap,w.displacementScale=d.displacementScale,w.displacementBias=d.displacementBias,w.wireframeLinewidth=d.wireframeLinewidth,w.linewidth=d.linewidth,m.isPointLight===!0&&w.isMeshDistanceMaterial===!0){let _=U.properties.get(w);_.light=m}return w}function i(G,d,m,V,w){if(G.visible===!1)return;if(G.layers.test(d.layers)&&(G.isMesh||G.isLine||G.isPoints)){if((G.castShadow||G.receiveShadow&&w===C4)&&(!G.frustumCulled||p.intersectsObject(G))){G.modelViewMatrix.multiplyMatrices(m.matrixWorldInverse,G.matrixWorld);let f=E.update(G),a=G.material;if(Array.isArray(a)){let uU=f.groups;for(let UU=0,ZU=uU.length;UU<ZU;UU++){let EU=uU[UU],OU=a[EU.materialIndex];if(OU&&OU.visible){let NU=X(G,OU,V,w);G.onBeforeShadow(U,G,d,m,f,NU,EU),U.renderBufferDirect(m,null,f,NU,G,EU),G.onAfterShadow(U,G,d,m,f,NU,EU)}}}else if(a.visible){let uU=X(G,a,V,w);G.onBeforeShadow(U,G,d,m,f,uU,null),U.renderBufferDirect(m,null,f,uU,G,null),G.onAfterShadow(U,G,d,m,f,uU,null)}}}let _=G.children;for(let f=0,a=_.length;f<a;f++)i(_[f],d,m,V,w)}function B(G){G.target.removeEventListener("dispose",B);for(let m in j){let V=j[m],w=G.target.uuid;if(w in V)V[w].dispose(),delete V[w]}}}var m5U={[z9]:c9,[Y9]:x9,[Z9]:n9,[lj]:P9,[c9]:z9,[x9]:Y9,[n9]:Z9,[P9]:lj};function V5U(U,E){function u(){let M=!1,eU=new Gu,WU=null,kE=new Gu(0,0,0,0);return{setMask:function(DU){if(WU!==DU&&!M)U.colorMask(DU,DU,DU,DU),WU=DU},setLocked:function(DU){M=DU},setClear:function(DU,$U,XE,fE,Lu){if(Lu===!0)DU*=fE,$U*=fE,XE*=fE;if(eU.set(DU,$U,XE,fE),kE.equals(eU)===!1)U.clearColor(DU,$U,XE,fE),kE.copy(eU)},reset:function(){M=!1,WU=null,kE.set(-1,0,0,0)}}}function p(){let M=!1,eU=!1,WU=null,kE=null,DU=null;return{setReversed:function($U){if(eU!==$U){let XE=E.get("EXT_clip_control");if($U)XE.clipControlEXT(XE.LOWER_LEFT_EXT,XE.ZERO_TO_ONE_EXT);else XE.clipControlEXT(XE.LOWER_LEFT_EXT,XE.NEGATIVE_ONE_TO_ONE_EXT);eU=$U;let fE=DU;DU=null,this.setClear(fE)}},getReversed:function(){return eU},setTest:function($U){if($U)TU(U.DEPTH_TEST);else HE(U.DEPTH_TEST)},setMask:function($U){if(WU!==$U&&!M)U.depthMask($U),WU=$U},setFunc:function($U){if(eU)$U=m5U[$U];if(kE!==$U){switch($U){case z9:U.depthFunc(U.NEVER);break;case c9:U.depthFunc(U.ALWAYS);break;case Y9:U.depthFunc(U.LESS);break;case lj:U.depthFunc(U.LEQUAL);break;case Z9:U.depthFunc(U.EQUAL);break;case P9:U.depthFunc(U.GEQUAL);break;case x9:U.depthFunc(U.GREATER);break;case n9:U.depthFunc(U.NOTEQUAL);break;default:U.depthFunc(U.LEQUAL)}kE=$U}},setLocked:function($U){M=$U},setClear:function($U){if(DU!==$U){if(eU)$U=1-$U;U.clearDepth($U),DU=$U}},reset:function(){M=!1,WU=null,kE=null,DU=null,eU=!1}}}function z(){let M=!1,eU=null,WU=null,kE=null,DU=null,$U=null,XE=null,fE=null,Lu=null;return{setTest:function(mu){if(!M)if(mu)TU(U.STENCIL_TEST);else HE(U.STENCIL_TEST)},setMask:function(mu){if(eU!==mu&&!M)U.stencilMask(mu),eU=mu},setFunc:function(mu,$z,h5){if(WU!==mu||kE!==$z||DU!==h5)U.stencilFunc(mu,$z,h5),WU=mu,kE=$z,DU=h5},setOp:function(mu,$z,h5){if($U!==mu||XE!==$z||fE!==h5)U.stencilOp(mu,$z,h5),$U=mu,XE=$z,fE=h5},setLocked:function(mu){M=mu},setClear:function(mu){if(Lu!==mu)U.clearStencil(mu),Lu=mu},reset:function(){M=!1,eU=null,WU=null,kE=null,DU=null,$U=null,XE=null,fE=null,Lu=null}}}let c=new u,Y=new p,P=new z,n=new WeakMap,j=new WeakMap,H={},k={},Q=new WeakMap,y=[],r=null,T=!1,N=null,O=null,L=null,X=null,i=null,B=null,G=null,d=new EE(0,0,0),m=0,V=!1,w=null,h=null,_=null,f=null,a=null,uU=U.getParameter(U.MAX_COMBINED_TEXTURE_IMAGE_UNITS),UU=!1,ZU=0,EU=U.getParameter(U.VERSION);if(EU.indexOf("WebGL")!==-1)ZU=parseFloat(/^WebGL (\d)/.exec(EU)[1]),UU=ZU>=1;else if(EU.indexOf("OpenGL ES")!==-1)ZU=parseFloat(/^OpenGL ES (\d)/.exec(EU)[1]),UU=ZU>=2;let OU=null,NU={},yU=U.getParameter(U.SCISSOR_BOX),wU=U.getParameter(U.VIEWPORT),QE=new Gu().fromArray(yU),$E=new Gu().fromArray(wU);function PU(M,eU,WU,kE){let DU=new Uint8Array(4),$U=U.createTexture();U.bindTexture(M,$U),U.texParameteri(M,U.TEXTURE_MIN_FILTER,U.NEAREST),U.texParameteri(M,U.TEXTURE_MAG_FILTER,U.NEAREST);for(let XE=0;XE<WU;XE++)if(M===U.TEXTURE_3D||M===U.TEXTURE_2D_ARRAY)U.texImage3D(eU,0,U.RGBA,1,1,kE,0,U.RGBA,U.UNSIGNED_BYTE,DU);else U.texImage2D(eU+XE,0,U.RGBA,1,1,0,U.RGBA,U.UNSIGNED_BYTE,DU);return $U}let vU={};vU[U.TEXTURE_2D]=PU(U.TEXTURE_2D,U.TEXTURE_2D,1),vU[U.TEXTURE_CUBE_MAP]=PU(U.TEXTURE_CUBE_MAP,U.TEXTURE_CUBE_MAP_POSITIVE_X,6),vU[U.TEXTURE_2D_ARRAY]=PU(U.TEXTURE_2D_ARRAY,U.TEXTURE_2D_ARRAY,1,1),vU[U.TEXTURE_3D]=PU(U.TEXTURE_3D,U.TEXTURE_3D,1,1),c.setClear(0,0,0,1),Y.setClear(1),P.setClear(0),TU(U.DEPTH_TEST),Y.setFunc(lj),uE(!1),l(xI),TU(U.CULL_FACE),SU(b0);function TU(M){if(H[M]!==!0)U.enable(M),H[M]=!0}function HE(M){if(H[M]!==!1)U.disable(M),H[M]=!1}function yE(M,eU){if(k[M]!==eU){if(U.bindFramebuffer(M,eU),k[M]=eU,M===U.DRAW_FRAMEBUFFER)k[U.FRAMEBUFFER]=eU;if(M===U.FRAMEBUFFER)k[U.DRAW_FRAMEBUFFER]=eU;return!0}return!1}function DE(M,eU){let WU=y,kE=!1;if(M){if(WU=Q.get(eU),WU===void 0)WU=[],Q.set(eU,WU);let DU=M.textures;if(WU.length!==DU.length||WU[0]!==U.COLOR_ATTACHMENT0){for(let $U=0,XE=DU.length;$U<XE;$U++)WU[$U]=U.COLOR_ATTACHMENT0+$U;WU.length=DU.length,kE=!0}}else if(WU[0]!==U.BACK)WU[0]=U.BACK,kE=!0;if(kE)U.drawBuffers(WU)}function Pu(M){if(r!==M)return U.useProgram(M),r=M,!0;return!1}let tE={[Ex]:U.FUNC_ADD,[po]:U.FUNC_SUBTRACT,[zo]:U.FUNC_REVERSE_SUBTRACT};tE[co]=U.MIN,tE[Yo]=U.MAX;let XU={[Zo]:U.ZERO,[Po]:U.ONE,[xo]:U.SRC_COLOR,[jo]:U.SRC_ALPHA,[yo]:U.SRC_ALPHA_SATURATE,[Qo]:U.DST_COLOR,[Ho]:U.DST_ALPHA,[no]:U.ONE_MINUS_SRC_COLOR,[qo]:U.ONE_MINUS_SRC_ALPHA,[$o]:U.ONE_MINUS_DST_COLOR,[ko]:U.ONE_MINUS_DST_ALPHA,[Io]:U.CONSTANT_COLOR,[Oo]:U.ONE_MINUS_CONSTANT_COLOR,[No]:U.CONSTANT_ALPHA,[ro]:U.ONE_MINUS_CONSTANT_ALPHA};function SU(M,eU,WU,kE,DU,$U,XE,fE,Lu,mu){if(M===b0){if(T===!0)HE(U.BLEND),T=!1;return}if(T===!1)TU(U.BLEND),T=!0;if(M!==uo){if(M!==N||mu!==V){if(O!==Ex||i!==Ex)U.blendEquation(U.FUNC_ADD),O=Ex,i=Ex;if(mu)switch(M){case bj:U.blendFuncSeparate(U.ONE,U.ONE_MINUS_SRC_ALPHA,U.ONE,U.ONE_MINUS_SRC_ALPHA);break;case jI:U.blendFunc(U.ONE,U.ONE);break;case qI:U.blendFuncSeparate(U.ZERO,U.ONE_MINUS_SRC_COLOR,U.ZERO,U.ONE);break;case HI:U.blendFuncSeparate(U.DST_COLOR,U.ONE_MINUS_SRC_ALPHA,U.ZERO,U.ONE);break;default:SE("WebGLState: Invalid blending: ",M);break}else switch(M){case bj:U.blendFuncSeparate(U.SRC_ALPHA,U.ONE_MINUS_SRC_ALPHA,U.ONE,U.ONE_MINUS_SRC_ALPHA);break;case jI:U.blendFuncSeparate(U.SRC_ALPHA,U.ONE,U.ONE,U.ONE);break;case qI:SE("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case HI:SE("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:SE("WebGLState: Invalid blending: ",M);break}L=null,X=null,B=null,G=null,d.set(0,0,0),m=0,N=M,V=mu}return}if(DU=DU||eU,$U=$U||WU,XE=XE||kE,eU!==O||DU!==i)U.blendEquationSeparate(tE[eU],tE[DU]),O=eU,i=DU;if(WU!==L||kE!==X||$U!==B||XE!==G)U.blendFuncSeparate(XU[WU],XU[kE],XU[$U],XU[XE]),L=WU,X=kE,B=$U,G=XE;if(fE.equals(d)===!1||Lu!==m)U.blendColor(fE.r,fE.g,fE.b,Lu),d.copy(fE),m=Lu;N=M,V=!1}function AU(M,eU){M.side===xz?HE(U.CULL_FACE):TU(U.CULL_FACE);let WU=M.side===Bz;if(eU)WU=!WU;uE(WU),M.blending===bj&&M.transparent===!1?SU(b0):SU(M.blending,M.blendEquation,M.blendSrc,M.blendDst,M.blendEquationAlpha,M.blendSrcAlpha,M.blendDstAlpha,M.blendColor,M.blendAlpha,M.premultipliedAlpha),Y.setFunc(M.depthFunc),Y.setTest(M.depthTest),Y.setMask(M.depthWrite),c.setMask(M.colorWrite);let kE=M.stencilWrite;if(P.setTest(kE),kE)P.setMask(M.stencilWriteMask),P.setFunc(M.stencilFunc,M.stencilRef,M.stencilFuncMask),P.setOp(M.stencilFail,M.stencilZFail,M.stencilZPass);pE(M.polygonOffset,M.polygonOffsetFactor,M.polygonOffsetUnits),M.alphaToCoverage===!0?TU(U.SAMPLE_ALPHA_TO_COVERAGE):HE(U.SAMPLE_ALPHA_TO_COVERAGE)}function uE(M){if(w!==M){if(M)U.frontFace(U.CW);else U.frontFace(U.CCW);w=M}}function l(M){if(M!==Uo){if(TU(U.CULL_FACE),M!==h)if(M===xI)U.cullFace(U.BACK);else if(M===Eo)U.cullFace(U.FRONT);else U.cullFace(U.FRONT_AND_BACK)}else HE(U.CULL_FACE);h=M}function bE(M){if(M!==_){if(UU)U.lineWidth(M);_=M}}function pE(M,eU,WU){if(M){if(TU(U.POLYGON_OFFSET_FILL),f!==eU||a!==WU)U.polygonOffset(eU,WU),f=eU,a=WU}else HE(U.POLYGON_OFFSET_FILL)}function wE(M){if(M)TU(U.SCISSOR_TEST);else HE(U.SCISSOR_TEST)}function gU(M){if(M===void 0)M=U.TEXTURE0+uU-1;if(OU!==M)U.activeTexture(M),OU=M}function JE(M,eU,WU){if(WU===void 0)if(OU===null)WU=U.TEXTURE0+uU-1;else WU=OU;let kE=NU[WU];if(kE===void 0)kE={type:void 0,texture:void 0},NU[WU]=kE;if(kE.type!==M||kE.texture!==eU){if(OU!==WU)U.activeTexture(WU),OU=WU;U.bindTexture(M,eU||vU[M]),kE.type=M,kE.texture=eU}}function t(){let M=NU[OU];if(M!==void 0&&M.type!==void 0)U.bindTexture(M.type,null),M.type=void 0,M.texture=void 0}function S(){try{U.compressedTexImage2D(...arguments)}catch(M){SE("WebGLState:",M)}}function pU(){try{U.compressedTexImage3D(...arguments)}catch(M){SE("WebGLState:",M)}}function IU(){try{U.texSubImage2D(...arguments)}catch(M){SE("WebGLState:",M)}}function oU(){try{U.texSubImage3D(...arguments)}catch(M){SE("WebGLState:",M)}}function kU(){try{U.compressedTexSubImage2D(...arguments)}catch(M){SE("WebGLState:",M)}}function xE(){try{U.compressedTexSubImage3D(...arguments)}catch(M){SE("WebGLState:",M)}}function bU(){try{U.texStorage2D(...arguments)}catch(M){SE("WebGLState:",M)}}function VE(){try{U.texStorage3D(...arguments)}catch(M){SE("WebGLState:",M)}}function BE(){try{U.texImage2D(...arguments)}catch(M){SE("WebGLState:",M)}}function mU(){try{U.texImage3D(...arguments)}catch(M){SE("WebGLState:",M)}}function lU(M){if(QE.equals(M)===!1)U.scissor(M.x,M.y,M.z,M.w),QE.copy(M)}function IE(M){if($E.equals(M)===!1)U.viewport(M.x,M.y,M.z,M.w),$E.copy(M)}function qE(M,eU){let WU=j.get(eU);if(WU===void 0)WU=new WeakMap,j.set(eU,WU);let kE=WU.get(M);if(kE===void 0)kE=U.getUniformBlockIndex(eU,M.name),WU.set(M,kE)}function MU(M,eU){let kE=j.get(eU).get(M);if(n.get(eU)!==kE)U.uniformBlockBinding(eU,kE,M.__bindingPointIndex),n.set(eU,kE)}function Uu(){U.disable(U.BLEND),U.disable(U.CULL_FACE),U.disable(U.DEPTH_TEST),U.disable(U.POLYGON_OFFSET_FILL),U.disable(U.SCISSOR_TEST),U.disable(U.STENCIL_TEST),U.disable(U.SAMPLE_ALPHA_TO_COVERAGE),U.blendEquation(U.FUNC_ADD),U.blendFunc(U.ONE,U.ZERO),U.blendFuncSeparate(U.ONE,U.ZERO,U.ONE,U.ZERO),U.blendColor(0,0,0,0),U.colorMask(!0,!0,!0,!0),U.clearColor(0,0,0,0),U.depthMask(!0),U.depthFunc(U.LESS),Y.setReversed(!1),U.clearDepth(1),U.stencilMask(4294967295),U.stencilFunc(U.ALWAYS,0,4294967295),U.stencilOp(U.KEEP,U.KEEP,U.KEEP),U.clearStencil(0),U.cullFace(U.BACK),U.frontFace(U.CCW),U.polygonOffset(0,0),U.activeTexture(U.TEXTURE0),U.bindFramebuffer(U.FRAMEBUFFER,null),U.bindFramebuffer(U.DRAW_FRAMEBUFFER,null),U.bindFramebuffer(U.READ_FRAMEBUFFER,null),U.useProgram(null),U.lineWidth(1),U.scissor(0,0,U.canvas.width,U.canvas.height),U.viewport(0,0,U.canvas.width,U.canvas.height),H={},OU=null,NU={},k={},Q=new WeakMap,y=[],r=null,T=!1,N=null,O=null,L=null,X=null,i=null,B=null,G=null,d=new EE(0,0,0),m=0,V=!1,w=null,h=null,_=null,f=null,a=null,QE.set(0,0,U.canvas.width,U.canvas.height),$E.set(0,0,U.canvas.width,U.canvas.height),c.reset(),Y.reset(),P.reset()}return{buffers:{color:c,depth:Y,stencil:P},enable:TU,disable:HE,bindFramebuffer:yE,drawBuffers:DE,useProgram:Pu,setBlending:SU,setMaterial:AU,setFlipSided:uE,setCullFace:l,setLineWidth:bE,setPolygonOffset:pE,setScissorTest:wE,activeTexture:gU,bindTexture:JE,unbindTexture:t,compressedTexImage2D:S,compressedTexImage3D:pU,texImage2D:BE,texImage3D:mU,updateUBOMapping:qE,uniformBlockBinding:MU,texStorage2D:bU,texStorage3D:VE,texSubImage2D:IU,texSubImage3D:oU,compressedTexSubImage2D:kU,compressedTexSubImage3D:xE,scissor:lU,viewport:IE,reset:Uu}}function G5U(U,E,u,p,z,c,Y){let P=E.has("WEBGL_multisampled_render_to_texture")?E.get("WEBGL_multisampled_render_to_texture"):null,n=typeof navigator==="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),j=new LU,H=new WeakMap,k,Q=new WeakMap,y=!1;try{y=typeof OffscreenCanvas!=="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(t){}function r(t,S){return y?new OffscreenCanvas(t,S):Dj("canvas")}function T(t,S,pU){let IU=1,oU=JE(t);if(oU.width>pU||oU.height>pU)IU=pU/Math.max(oU.width,oU.height);if(IU<1)if(typeof HTMLImageElement!=="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!=="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!=="undefined"&&t instanceof ImageBitmap||typeof VideoFrame!=="undefined"&&t instanceof VideoFrame){let kU=Math.floor(IU*oU.width),xE=Math.floor(IU*oU.height);if(k===void 0)k=r(kU,xE);let bU=S?r(kU,xE):k;return bU.width=kU,bU.height=xE,bU.getContext("2d").drawImage(t,0,0,kU,xE),PE("WebGLRenderer: Texture has been resized from ("+oU.width+"x"+oU.height+") to ("+kU+"x"+xE+")."),bU}else{if("data"in t)PE("WebGLRenderer: Image in DataTexture is too big ("+oU.width+"x"+oU.height+").");return t}return t}function N(t){return t.generateMipmaps}function O(t){U.generateMipmap(t)}function L(t){if(t.isWebGLCubeRenderTarget)return U.TEXTURE_CUBE_MAP;if(t.isWebGL3DRenderTarget)return U.TEXTURE_3D;if(t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture)return U.TEXTURE_2D_ARRAY;return U.TEXTURE_2D}function X(t,S,pU,IU,oU=!1){if(t!==null){if(U[t]!==void 0)return U[t];PE("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+t+"'")}let kU=S;if(S===U.RED){if(pU===U.FLOAT)kU=U.R32F;if(pU===U.HALF_FLOAT)kU=U.R16F;if(pU===U.UNSIGNED_BYTE)kU=U.R8}if(S===U.RED_INTEGER){if(pU===U.UNSIGNED_BYTE)kU=U.R8UI;if(pU===U.UNSIGNED_SHORT)kU=U.R16UI;if(pU===U.UNSIGNED_INT)kU=U.R32UI;if(pU===U.BYTE)kU=U.R8I;if(pU===U.SHORT)kU=U.R16I;if(pU===U.INT)kU=U.R32I}if(S===U.RG){if(pU===U.FLOAT)kU=U.RG32F;if(pU===U.HALF_FLOAT)kU=U.RG16F;if(pU===U.UNSIGNED_BYTE)kU=U.RG8}if(S===U.RG_INTEGER){if(pU===U.UNSIGNED_BYTE)kU=U.RG8UI;if(pU===U.UNSIGNED_SHORT)kU=U.RG16UI;if(pU===U.UNSIGNED_INT)kU=U.RG32UI;if(pU===U.BYTE)kU=U.RG8I;if(pU===U.SHORT)kU=U.RG16I;if(pU===U.INT)kU=U.RG32I}if(S===U.RGB_INTEGER){if(pU===U.UNSIGNED_BYTE)kU=U.RGB8UI;if(pU===U.UNSIGNED_SHORT)kU=U.RGB16UI;if(pU===U.UNSIGNED_INT)kU=U.RGB32UI;if(pU===U.BYTE)kU=U.RGB8I;if(pU===U.SHORT)kU=U.RGB16I;if(pU===U.INT)kU=U.RGB32I}if(S===U.RGBA_INTEGER){if(pU===U.UNSIGNED_BYTE)kU=U.RGBA8UI;if(pU===U.UNSIGNED_SHORT)kU=U.RGBA16UI;if(pU===U.UNSIGNED_INT)kU=U.RGBA32UI;if(pU===U.BYTE)kU=U.RGBA8I;if(pU===U.SHORT)kU=U.RGBA16I;if(pU===U.INT)kU=U.RGBA32I}if(S===U.RGB){if(pU===U.UNSIGNED_INT_5_9_9_9_REV)kU=U.RGB9_E5;if(pU===U.UNSIGNED_INT_10F_11F_11F_REV)kU=U.R11F_G11F_B10F}if(S===U.RGBA){let xE=oU?cO:Hu.getTransfer(IU);if(pU===U.FLOAT)kU=U.RGBA32F;if(pU===U.HALF_FLOAT)kU=U.RGBA16F;if(pU===U.UNSIGNED_BYTE)kU=xE===pp?U.SRGB8_ALPHA8:U.RGBA8;if(pU===U.UNSIGNED_SHORT_4_4_4_4)kU=U.RGBA4;if(pU===U.UNSIGNED_SHORT_5_5_5_1)kU=U.RGB5_A1}if(kU===U.R16F||kU===U.R32F||kU===U.RG16F||kU===U.RG32F||kU===U.RGBA16F||kU===U.RGBA32F)E.get("EXT_color_buffer_float");return kU}function i(t,S){let pU;if(t){if(S===null||S===$c||S===cx)pU=U.DEPTH24_STENCIL8;else if(S===Sp)pU=U.DEPTH32F_STENCIL8;else if(S===fj)pU=U.DEPTH24_STENCIL8,PE("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")}else if(S===null||S===$c||S===cx)pU=U.DEPTH_COMPONENT24;else if(S===Sp)pU=U.DEPTH_COMPONENT32F;else if(S===fj)pU=U.DEPTH_COMPONENT16;return pU}function B(t,S){if(N(t)===!0||t.isFramebufferTexture&&t.minFilter!==Qc&&t.minFilter!==Wu)return Math.log2(Math.max(S.width,S.height))+1;else if(t.mipmaps!==void 0&&t.mipmaps.length>0)return t.mipmaps.length;else if(t.isCompressedTexture&&Array.isArray(t.image))return S.mipmaps.length;else return 1}function G(t){let S=t.target;if(S.removeEventListener("dispose",G),m(S),S.isVideoTexture)H.delete(S)}function d(t){let S=t.target;S.removeEventListener("dispose",d),w(S)}function m(t){let S=p.get(t);if(S.__webglInit===void 0)return;let pU=t.source,IU=Q.get(pU);if(IU){let oU=IU[S.__cacheKey];if(oU.usedTimes--,oU.usedTimes===0)V(t);if(Object.keys(IU).length===0)Q.delete(pU)}p.remove(t)}function V(t){let S=p.get(t);U.deleteTexture(S.__webglTexture);let pU=t.source,IU=Q.get(pU);delete IU[S.__cacheKey],Y.memory.textures--}function w(t){let S=p.get(t);if(t.depthTexture)t.depthTexture.dispose(),p.remove(t.depthTexture);if(t.isWebGLCubeRenderTarget)for(let IU=0;IU<6;IU++){if(Array.isArray(S.__webglFramebuffer[IU]))for(let oU=0;oU<S.__webglFramebuffer[IU].length;oU++)U.deleteFramebuffer(S.__webglFramebuffer[IU][oU]);else U.deleteFramebuffer(S.__webglFramebuffer[IU]);if(S.__webglDepthbuffer)U.deleteRenderbuffer(S.__webglDepthbuffer[IU])}else{if(Array.isArray(S.__webglFramebuffer))for(let IU=0;IU<S.__webglFramebuffer.length;IU++)U.deleteFramebuffer(S.__webglFramebuffer[IU]);else U.deleteFramebuffer(S.__webglFramebuffer);if(S.__webglDepthbuffer)U.deleteRenderbuffer(S.__webglDepthbuffer);if(S.__webglMultisampledFramebuffer)U.deleteFramebuffer(S.__webglMultisampledFramebuffer);if(S.__webglColorRenderbuffer){for(let IU=0;IU<S.__webglColorRenderbuffer.length;IU++)if(S.__webglColorRenderbuffer[IU])U.deleteRenderbuffer(S.__webglColorRenderbuffer[IU])}if(S.__webglDepthRenderbuffer)U.deleteRenderbuffer(S.__webglDepthRenderbuffer)}let pU=t.textures;for(let IU=0,oU=pU.length;IU<oU;IU++){let kU=p.get(pU[IU]);if(kU.__webglTexture)U.deleteTexture(kU.__webglTexture),Y.memory.textures--;p.remove(pU[IU])}p.remove(t)}let h=0;function _(){h=0}function f(){let t=h;if(t>=z.maxTextures)PE("WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+z.maxTextures);return h+=1,t}function a(t){let S=[];return S.push(t.wrapS),S.push(t.wrapT),S.push(t.wrapR||0),S.push(t.magFilter),S.push(t.minFilter),S.push(t.anisotropy),S.push(t.internalFormat),S.push(t.format),S.push(t.type),S.push(t.generateMipmaps),S.push(t.premultiplyAlpha),S.push(t.flipY),S.push(t.unpackAlignment),S.push(t.colorSpace),S.join()}function uU(t,S){let pU=p.get(t);if(t.isVideoTexture)wE(t);if(t.isRenderTargetTexture===!1&&t.isExternalTexture!==!0&&t.version>0&&pU.__version!==t.version){let IU=t.image;if(IU===null)PE("WebGLRenderer: Texture marked for update but no image data found.");else if(IU.complete===!1)PE("WebGLRenderer: Texture marked for update but image is incomplete");else{vU(pU,t,S);return}}else if(t.isExternalTexture)pU.__webglTexture=t.sourceTexture?t.sourceTexture:null;u.bindTexture(U.TEXTURE_2D,pU.__webglTexture,U.TEXTURE0+S)}function UU(t,S){let pU=p.get(t);if(t.isRenderTargetTexture===!1&&t.version>0&&pU.__version!==t.version){vU(pU,t,S);return}else if(t.isExternalTexture)pU.__webglTexture=t.sourceTexture?t.sourceTexture:null;u.bindTexture(U.TEXTURE_2D_ARRAY,pU.__webglTexture,U.TEXTURE0+S)}function ZU(t,S){let pU=p.get(t);if(t.isRenderTargetTexture===!1&&t.version>0&&pU.__version!==t.version){vU(pU,t,S);return}u.bindTexture(U.TEXTURE_3D,pU.__webglTexture,U.TEXTURE0+S)}function EU(t,S){let pU=p.get(t);if(t.isCubeDepthTexture!==!0&&t.version>0&&pU.__version!==t.version){TU(pU,t,S);return}u.bindTexture(U.TEXTURE_CUBE_MAP,pU.__webglTexture,U.TEXTURE0+S)}let OU={[px]:U.REPEAT,[J5]:U.CLAMP_TO_EDGE,[q9]:U.MIRRORED_REPEAT},NU={[Qc]:U.NEAREST,[H9]:U.NEAREST_MIPMAP_NEAREST,[TZ]:U.NEAREST_MIPMAP_LINEAR,[Wu]:U.LINEAR,[zx]:U.LINEAR_MIPMAP_NEAREST,[ac]:U.LINEAR_MIPMAP_LINEAR},yU={[Go]:U.NEVER,[Ro]:U.ALWAYS,[Bo]:U.LESS,[X9]:U.LEQUAL,[wo]:U.EQUAL,[T9]:U.GEQUAL,[vo]:U.GREATER,[So]:U.NOTEQUAL};function wU(t,S){if(S.type===Sp&&E.has("OES_texture_float_linear")===!1&&(S.magFilter===Wu||S.magFilter===zx||S.magFilter===TZ||S.magFilter===ac||S.minFilter===Wu||S.minFilter===zx||S.minFilter===TZ||S.minFilter===ac))PE("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device.");if(U.texParameteri(t,U.TEXTURE_WRAP_S,OU[S.wrapS]),U.texParameteri(t,U.TEXTURE_WRAP_T,OU[S.wrapT]),t===U.TEXTURE_3D||t===U.TEXTURE_2D_ARRAY)U.texParameteri(t,U.TEXTURE_WRAP_R,OU[S.wrapR]);if(U.texParameteri(t,U.TEXTURE_MAG_FILTER,NU[S.magFilter]),U.texParameteri(t,U.TEXTURE_MIN_FILTER,NU[S.minFilter]),S.compareFunction)U.texParameteri(t,U.TEXTURE_COMPARE_MODE,U.COMPARE_REF_TO_TEXTURE),U.texParameteri(t,U.TEXTURE_COMPARE_FUNC,yU[S.compareFunction]);if(E.has("EXT_texture_filter_anisotropic")===!0){if(S.magFilter===Qc)return;if(S.minFilter!==TZ&&S.minFilter!==ac)return;if(S.type===Sp&&E.has("OES_texture_float_linear")===!1)return;if(S.anisotropy>1||p.get(S).__currentAnisotropy){let pU=E.get("EXT_texture_filter_anisotropic");U.texParameterf(t,pU.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(S.anisotropy,z.getMaxAnisotropy())),p.get(S).__currentAnisotropy=S.anisotropy}}}function QE(t,S){let pU=!1;if(t.__webglInit===void 0)t.__webglInit=!0,S.addEventListener("dispose",G);let IU=S.source,oU=Q.get(IU);if(oU===void 0)oU={},Q.set(IU,oU);let kU=a(S);if(kU!==t.__cacheKey){if(oU[kU]===void 0)oU[kU]={texture:U.createTexture(),usedTimes:0},Y.memory.textures++,pU=!0;oU[kU].usedTimes++;let xE=oU[t.__cacheKey];if(xE!==void 0){if(oU[t.__cacheKey].usedTimes--,xE.usedTimes===0)V(S)}t.__cacheKey=kU,t.__webglTexture=oU[kU].texture}return pU}function $E(t,S,pU){return Math.floor(Math.floor(t/pU)/S)}function PU(t,S,pU,IU){let kU=t.updateRanges;if(kU.length===0)u.texSubImage2D(U.TEXTURE_2D,0,0,0,S.width,S.height,pU,IU,S.data);else{kU.sort((mU,lU)=>mU.start-lU.start);let xE=0;for(let mU=1;mU<kU.length;mU++){let lU=kU[xE],IE=kU[mU],qE=lU.start+lU.count,MU=$E(IE.start,S.width,4),Uu=$E(lU.start,S.width,4);if(IE.start<=qE+1&&MU===Uu&&$E(IE.start+IE.count-1,S.width,4)===MU)lU.count=Math.max(lU.count,IE.start+IE.count-lU.start);else++xE,kU[xE]=IE}kU.length=xE+1;let bU=U.getParameter(U.UNPACK_ROW_LENGTH),VE=U.getParameter(U.UNPACK_SKIP_PIXELS),BE=U.getParameter(U.UNPACK_SKIP_ROWS);U.pixelStorei(U.UNPACK_ROW_LENGTH,S.width);for(let mU=0,lU=kU.length;mU<lU;mU++){let IE=kU[mU],qE=Math.floor(IE.start/4),MU=Math.ceil(IE.count/4),Uu=qE%S.width,M=Math.floor(qE/S.width),eU=MU,WU=1;U.pixelStorei(U.UNPACK_SKIP_PIXELS,Uu),U.pixelStorei(U.UNPACK_SKIP_ROWS,M),u.texSubImage2D(U.TEXTURE_2D,0,Uu,M,eU,1,pU,IU,S.data)}t.clearUpdateRanges(),U.pixelStorei(U.UNPACK_ROW_LENGTH,bU),U.pixelStorei(U.UNPACK_SKIP_PIXELS,VE),U.pixelStorei(U.UNPACK_SKIP_ROWS,BE)}}function vU(t,S,pU){let IU=U.TEXTURE_2D;if(S.isDataArrayTexture||S.isCompressedArrayTexture)IU=U.TEXTURE_2D_ARRAY;if(S.isData3DTexture)IU=U.TEXTURE_3D;let oU=QE(t,S),kU=S.source;u.bindTexture(IU,t.__webglTexture,U.TEXTURE0+pU);let xE=p.get(kU);if(kU.version!==xE.__version||oU===!0){u.activeTexture(U.TEXTURE0+pU);let bU=Hu.getPrimaries(Hu.workingColorSpace),VE=S.colorSpace===FZ?null:Hu.getPrimaries(S.colorSpace),BE=S.colorSpace===FZ||bU===VE?U.NONE:U.BROWSER_DEFAULT_WEBGL;U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,S.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,S.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,S.unpackAlignment),U.pixelStorei(U.UNPACK_COLORSPACE_CONVERSION_WEBGL,BE);let mU=T(S.image,!1,z.maxTextureSize);mU=gU(S,mU);let lU=c.convert(S.format,S.colorSpace),IE=c.convert(S.type),qE=X(S.internalFormat,lU,IE,S.colorSpace,S.isVideoTexture);wU(IU,S);let MU,Uu=S.mipmaps,M=S.isVideoTexture!==!0,eU=xE.__version===void 0||oU===!0,WU=kU.dataReady,kE=B(S,mU);if(S.isDepthTexture){if(qE=i(S.format===iZ,S.type),eU)if(M)u.texStorage2D(U.TEXTURE_2D,1,qE,mU.width,mU.height);else u.texImage2D(U.TEXTURE_2D,0,qE,mU.width,mU.height,0,lU,IE,null)}else if(S.isDataTexture)if(Uu.length>0){if(M&&eU)u.texStorage2D(U.TEXTURE_2D,kE,qE,Uu[0].width,Uu[0].height);for(let DU=0,$U=Uu.length;DU<$U;DU++)if(MU=Uu[DU],M){if(WU)u.texSubImage2D(U.TEXTURE_2D,DU,0,0,MU.width,MU.height,lU,IE,MU.data)}else u.texImage2D(U.TEXTURE_2D,DU,qE,MU.width,MU.height,0,lU,IE,MU.data);S.generateMipmaps=!1}else if(M){if(eU)u.texStorage2D(U.TEXTURE_2D,kE,qE,mU.width,mU.height);if(WU)PU(S,mU,lU,IE)}else u.texImage2D(U.TEXTURE_2D,0,qE,mU.width,mU.height,0,lU,IE,mU.data);else if(S.isCompressedTexture)if(S.isCompressedArrayTexture){if(M&&eU)u.texStorage3D(U.TEXTURE_2D_ARRAY,kE,qE,Uu[0].width,Uu[0].height,mU.depth);for(let DU=0,$U=Uu.length;DU<$U;DU++)if(MU=Uu[DU],S.format!==Wp)if(lU!==null)if(M){if(WU)if(S.layerUpdates.size>0){let XE=WO(MU.width,MU.height,S.format,S.type);for(let fE of S.layerUpdates){let Lu=MU.data.subarray(fE*XE/MU.data.BYTES_PER_ELEMENT,(fE+1)*XE/MU.data.BYTES_PER_ELEMENT);u.compressedTexSubImage3D(U.TEXTURE_2D_ARRAY,DU,0,0,fE,MU.width,MU.height,1,lU,Lu)}S.clearLayerUpdates()}else u.compressedTexSubImage3D(U.TEXTURE_2D_ARRAY,DU,0,0,0,MU.width,MU.height,mU.depth,lU,MU.data)}else u.compressedTexImage3D(U.TEXTURE_2D_ARRAY,DU,qE,MU.width,MU.height,mU.depth,0,MU.data,0,0);else PE("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else if(M){if(WU)u.texSubImage3D(U.TEXTURE_2D_ARRAY,DU,0,0,0,MU.width,MU.height,mU.depth,lU,IE,MU.data)}else u.texImage3D(U.TEXTURE_2D_ARRAY,DU,qE,MU.width,MU.height,mU.depth,0,lU,IE,MU.data)}else{if(M&&eU)u.texStorage2D(U.TEXTURE_2D,kE,qE,Uu[0].width,Uu[0].height);for(let DU=0,$U=Uu.length;DU<$U;DU++)if(MU=Uu[DU],S.format!==Wp)if(lU!==null)if(M){if(WU)u.compressedTexSubImage2D(U.TEXTURE_2D,DU,0,0,MU.width,MU.height,lU,MU.data)}else u.compressedTexImage2D(U.TEXTURE_2D,DU,qE,MU.width,MU.height,0,MU.data);else PE("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else if(M){if(WU)u.texSubImage2D(U.TEXTURE_2D,DU,0,0,MU.width,MU.height,lU,IE,MU.data)}else u.texImage2D(U.TEXTURE_2D,DU,qE,MU.width,MU.height,0,lU,IE,MU.data)}else if(S.isDataArrayTexture)if(M){if(eU)u.texStorage3D(U.TEXTURE_2D_ARRAY,kE,qE,mU.width,mU.height,mU.depth);if(WU)if(S.layerUpdates.size>0){let DU=WO(mU.width,mU.height,S.format,S.type);for(let $U of S.layerUpdates){let XE=mU.data.subarray($U*DU/mU.data.BYTES_PER_ELEMENT,($U+1)*DU/mU.data.BYTES_PER_ELEMENT);u.texSubImage3D(U.TEXTURE_2D_ARRAY,0,0,0,$U,mU.width,mU.height,1,lU,IE,XE)}S.clearLayerUpdates()}else u.texSubImage3D(U.TEXTURE_2D_ARRAY,0,0,0,0,mU.width,mU.height,mU.depth,lU,IE,mU.data)}else u.texImage3D(U.TEXTURE_2D_ARRAY,0,qE,mU.width,mU.height,mU.depth,0,lU,IE,mU.data);else if(S.isData3DTexture)if(M){if(eU)u.texStorage3D(U.TEXTURE_3D,kE,qE,mU.width,mU.height,mU.depth);if(WU)u.texSubImage3D(U.TEXTURE_3D,0,0,0,0,mU.width,mU.height,mU.depth,lU,IE,mU.data)}else u.texImage3D(U.TEXTURE_3D,0,qE,mU.width,mU.height,mU.depth,0,lU,IE,mU.data);else if(S.isFramebufferTexture){if(eU)if(M)u.texStorage2D(U.TEXTURE_2D,kE,qE,mU.width,mU.height);else{let{width:DU,height:$U}=mU;for(let XE=0;XE<kE;XE++)u.texImage2D(U.TEXTURE_2D,XE,qE,DU,$U,0,lU,IE,null),DU>>=1,$U>>=1}}else if(Uu.length>0){if(M&&eU){let DU=JE(Uu[0]);u.texStorage2D(U.TEXTURE_2D,kE,qE,DU.width,DU.height)}for(let DU=0,$U=Uu.length;DU<$U;DU++)if(MU=Uu[DU],M){if(WU)u.texSubImage2D(U.TEXTURE_2D,DU,0,0,lU,IE,MU)}else u.texImage2D(U.TEXTURE_2D,DU,qE,lU,IE,MU);S.generateMipmaps=!1}else if(M){if(eU){let DU=JE(mU);u.texStorage2D(U.TEXTURE_2D,kE,qE,DU.width,DU.height)}if(WU)u.texSubImage2D(U.TEXTURE_2D,0,0,0,lU,IE,mU)}else u.texImage2D(U.TEXTURE_2D,0,qE,lU,IE,mU);if(N(S))O(IU);if(xE.__version=kU.version,S.onUpdate)S.onUpdate(S)}t.__version=S.version}function TU(t,S,pU){if(S.image.length!==6)return;let IU=QE(t,S),oU=S.source;u.bindTexture(U.TEXTURE_CUBE_MAP,t.__webglTexture,U.TEXTURE0+pU);let kU=p.get(oU);if(oU.version!==kU.__version||IU===!0){u.activeTexture(U.TEXTURE0+pU);let xE=Hu.getPrimaries(Hu.workingColorSpace),bU=S.colorSpace===FZ?null:Hu.getPrimaries(S.colorSpace),VE=S.colorSpace===FZ||xE===bU?U.NONE:U.BROWSER_DEFAULT_WEBGL;U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,S.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,S.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,S.unpackAlignment),U.pixelStorei(U.UNPACK_COLORSPACE_CONVERSION_WEBGL,VE);let BE=S.isCompressedTexture||S.image[0].isCompressedTexture,mU=S.image[0]&&S.image[0].isDataTexture,lU=[];for(let $U=0;$U<6;$U++){if(!BE&&!mU)lU[$U]=T(S.image[$U],!0,z.maxCubemapSize);else lU[$U]=mU?S.image[$U].image:S.image[$U];lU[$U]=gU(S,lU[$U])}let IE=lU[0],qE=c.convert(S.format,S.colorSpace),MU=c.convert(S.type),Uu=X(S.internalFormat,qE,MU,S.colorSpace),M=S.isVideoTexture!==!0,eU=kU.__version===void 0||IU===!0,WU=oU.dataReady,kE=B(S,IE);wU(U.TEXTURE_CUBE_MAP,S);let DU;if(BE){if(M&&eU)u.texStorage2D(U.TEXTURE_CUBE_MAP,kE,Uu,IE.width,IE.height);for(let $U=0;$U<6;$U++){DU=lU[$U].mipmaps;for(let XE=0;XE<DU.length;XE++){let fE=DU[XE];if(S.format!==Wp)if(qE!==null)if(M){if(WU)u.compressedTexSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,XE,0,0,fE.width,fE.height,qE,fE.data)}else u.compressedTexImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,XE,Uu,fE.width,fE.height,0,fE.data);else PE("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()");else if(M){if(WU)u.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,XE,0,0,fE.width,fE.height,qE,MU,fE.data)}else u.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,XE,Uu,fE.width,fE.height,0,qE,MU,fE.data)}}}else{if(DU=S.mipmaps,M&&eU){if(DU.length>0)kE++;let $U=JE(lU[0]);u.texStorage2D(U.TEXTURE_CUBE_MAP,kE,Uu,$U.width,$U.height)}for(let $U=0;$U<6;$U++)if(mU){if(M){if(WU)u.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,0,0,0,lU[$U].width,lU[$U].height,qE,MU,lU[$U].data)}else u.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,0,Uu,lU[$U].width,lU[$U].height,0,qE,MU,lU[$U].data);for(let XE=0;XE<DU.length;XE++){let Lu=DU[XE].image[$U].image;if(M){if(WU)u.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,XE+1,0,0,Lu.width,Lu.height,qE,MU,Lu.data)}else u.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,XE+1,Uu,Lu.width,Lu.height,0,qE,MU,Lu.data)}}else{if(M){if(WU)u.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,0,0,0,qE,MU,lU[$U])}else u.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,0,Uu,qE,MU,lU[$U]);for(let XE=0;XE<DU.length;XE++){let fE=DU[XE];if(M){if(WU)u.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,XE+1,0,0,qE,MU,fE.image[$U])}else u.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+$U,XE+1,Uu,qE,MU,fE.image[$U])}}}if(N(S))O(U.TEXTURE_CUBE_MAP);if(kU.__version=oU.version,S.onUpdate)S.onUpdate(S)}t.__version=S.version}function HE(t,S,pU,IU,oU,kU){let xE=c.convert(pU.format,pU.colorSpace),bU=c.convert(pU.type),VE=X(pU.internalFormat,xE,bU,pU.colorSpace),BE=p.get(S),mU=p.get(pU);if(mU.__renderTarget=S,!BE.__hasExternalTextures){let lU=Math.max(1,S.width>>kU),IE=Math.max(1,S.height>>kU);if(oU===U.TEXTURE_3D||oU===U.TEXTURE_2D_ARRAY)u.texImage3D(oU,kU,VE,lU,IE,S.depth,0,xE,bU,null);else u.texImage2D(oU,kU,VE,lU,IE,0,xE,bU,null)}if(u.bindFramebuffer(U.FRAMEBUFFER,t),pE(S))P.framebufferTexture2DMultisampleEXT(U.FRAMEBUFFER,IU,oU,mU.__webglTexture,0,bE(S));else if(oU===U.TEXTURE_2D||oU>=U.TEXTURE_CUBE_MAP_POSITIVE_X&&oU<=U.TEXTURE_CUBE_MAP_NEGATIVE_Z)U.framebufferTexture2D(U.FRAMEBUFFER,IU,oU,mU.__webglTexture,kU);u.bindFramebuffer(U.FRAMEBUFFER,null)}function yE(t,S,pU){if(U.bindRenderbuffer(U.RENDERBUFFER,t),S.depthBuffer){let IU=S.depthTexture,oU=IU&&IU.isDepthTexture?IU.type:null,kU=i(S.stencilBuffer,oU),xE=S.stencilBuffer?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT;if(pE(S))P.renderbufferStorageMultisampleEXT(U.RENDERBUFFER,bE(S),kU,S.width,S.height);else if(pU)U.renderbufferStorageMultisample(U.RENDERBUFFER,bE(S),kU,S.width,S.height);else U.renderbufferStorage(U.RENDERBUFFER,kU,S.width,S.height);U.framebufferRenderbuffer(U.FRAMEBUFFER,xE,U.RENDERBUFFER,t)}else{let IU=S.textures;for(let oU=0;oU<IU.length;oU++){let kU=IU[oU],xE=c.convert(kU.format,kU.colorSpace),bU=c.convert(kU.type),VE=X(kU.internalFormat,xE,bU,kU.colorSpace);if(pE(S))P.renderbufferStorageMultisampleEXT(U.RENDERBUFFER,bE(S),VE,S.width,S.height);else if(pU)U.renderbufferStorageMultisample(U.RENDERBUFFER,bE(S),VE,S.width,S.height);else U.renderbufferStorage(U.RENDERBUFFER,VE,S.width,S.height)}}U.bindRenderbuffer(U.RENDERBUFFER,null)}function DE(t,S,pU){let IU=S.isWebGLCubeRenderTarget===!0;if(u.bindFramebuffer(U.FRAMEBUFFER,t),!(S.depthTexture&&S.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");let oU=p.get(S.depthTexture);if(oU.__renderTarget=S,!oU.__webglTexture||S.depthTexture.image.width!==S.width||S.depthTexture.image.height!==S.height)S.depthTexture.image.width=S.width,S.depthTexture.image.height=S.height,S.depthTexture.needsUpdate=!0;if(IU){if(oU.__webglInit===void 0)oU.__webglInit=!0,S.depthTexture.addEventListener("dispose",G);if(oU.__webglTexture===void 0){oU.__webglTexture=U.createTexture(),u.bindTexture(U.TEXTURE_CUBE_MAP,oU.__webglTexture),wU(U.TEXTURE_CUBE_MAP,S.depthTexture);let BE=c.convert(S.depthTexture.format),mU=c.convert(S.depthTexture.type),lU;if(S.depthTexture.format===oZ)lU=U.DEPTH_COMPONENT24;else if(S.depthTexture.format===iZ)lU=U.DEPTH24_STENCIL8;for(let IE=0;IE<6;IE++)U.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+IE,0,lU,S.width,S.height,0,BE,mU,null)}}else uU(S.depthTexture,0);let kU=oU.__webglTexture,xE=bE(S),bU=IU?U.TEXTURE_CUBE_MAP_POSITIVE_X+pU:U.TEXTURE_2D,VE=S.depthTexture.format===iZ?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT;if(S.depthTexture.format===oZ)if(pE(S))P.framebufferTexture2DMultisampleEXT(U.FRAMEBUFFER,VE,bU,kU,0,xE);else U.framebufferTexture2D(U.FRAMEBUFFER,VE,bU,kU,0);else if(S.depthTexture.format===iZ)if(pE(S))P.framebufferTexture2DMultisampleEXT(U.FRAMEBUFFER,VE,bU,kU,0,xE);else U.framebufferTexture2D(U.FRAMEBUFFER,VE,bU,kU,0);else throw new Error("Unknown depthTexture format")}function Pu(t){let S=p.get(t),pU=t.isWebGLCubeRenderTarget===!0;if(S.__boundDepthTexture!==t.depthTexture){let IU=t.depthTexture;if(S.__depthDisposeCallback)S.__depthDisposeCallback();if(IU){let oU=()=>{delete S.__boundDepthTexture,delete S.__depthDisposeCallback,IU.removeEventListener("dispose",oU)};IU.addEventListener("dispose",oU),S.__depthDisposeCallback=oU}S.__boundDepthTexture=IU}if(t.depthTexture&&!S.__autoAllocateDepthBuffer)if(pU)for(let IU=0;IU<6;IU++)DE(S.__webglFramebuffer[IU],t,IU);else{let IU=t.texture.mipmaps;if(IU&&IU.length>0)DE(S.__webglFramebuffer[0],t,0);else DE(S.__webglFramebuffer,t,0)}else if(pU){S.__webglDepthbuffer=[];for(let IU=0;IU<6;IU++)if(u.bindFramebuffer(U.FRAMEBUFFER,S.__webglFramebuffer[IU]),S.__webglDepthbuffer[IU]===void 0)S.__webglDepthbuffer[IU]=U.createRenderbuffer(),yE(S.__webglDepthbuffer[IU],t,!1);else{let oU=t.stencilBuffer?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT,kU=S.__webglDepthbuffer[IU];U.bindRenderbuffer(U.RENDERBUFFER,kU),U.framebufferRenderbuffer(U.FRAMEBUFFER,oU,U.RENDERBUFFER,kU)}}else{let IU=t.texture.mipmaps;if(IU&&IU.length>0)u.bindFramebuffer(U.FRAMEBUFFER,S.__webglFramebuffer[0]);else u.bindFramebuffer(U.FRAMEBUFFER,S.__webglFramebuffer);if(S.__webglDepthbuffer===void 0)S.__webglDepthbuffer=U.createRenderbuffer(),yE(S.__webglDepthbuffer,t,!1);else{let oU=t.stencilBuffer?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT,kU=S.__webglDepthbuffer;U.bindRenderbuffer(U.RENDERBUFFER,kU),U.framebufferRenderbuffer(U.FRAMEBUFFER,oU,U.RENDERBUFFER,kU)}}u.bindFramebuffer(U.FRAMEBUFFER,null)}function tE(t,S,pU){let IU=p.get(t);if(S!==void 0)HE(IU.__webglFramebuffer,t,t.texture,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,0);if(pU!==void 0)Pu(t)}function XU(t){let S=t.texture,pU=p.get(t),IU=p.get(S);t.addEventListener("dispose",d);let oU=t.textures,kU=t.isWebGLCubeRenderTarget===!0,xE=oU.length>1;if(!xE){if(IU.__webglTexture===void 0)IU.__webglTexture=U.createTexture();IU.__version=S.version,Y.memory.textures++}if(kU){pU.__webglFramebuffer=[];for(let bU=0;bU<6;bU++)if(S.mipmaps&&S.mipmaps.length>0){pU.__webglFramebuffer[bU]=[];for(let VE=0;VE<S.mipmaps.length;VE++)pU.__webglFramebuffer[bU][VE]=U.createFramebuffer()}else pU.__webglFramebuffer[bU]=U.createFramebuffer()}else{if(S.mipmaps&&S.mipmaps.length>0){pU.__webglFramebuffer=[];for(let bU=0;bU<S.mipmaps.length;bU++)pU.__webglFramebuffer[bU]=U.createFramebuffer()}else pU.__webglFramebuffer=U.createFramebuffer();if(xE)for(let bU=0,VE=oU.length;bU<VE;bU++){let BE=p.get(oU[bU]);if(BE.__webglTexture===void 0)BE.__webglTexture=U.createTexture(),Y.memory.textures++}if(t.samples>0&&pE(t)===!1){pU.__webglMultisampledFramebuffer=U.createFramebuffer(),pU.__webglColorRenderbuffer=[],u.bindFramebuffer(U.FRAMEBUFFER,pU.__webglMultisampledFramebuffer);for(let bU=0;bU<oU.length;bU++){let VE=oU[bU];pU.__webglColorRenderbuffer[bU]=U.createRenderbuffer(),U.bindRenderbuffer(U.RENDERBUFFER,pU.__webglColorRenderbuffer[bU]);let BE=c.convert(VE.format,VE.colorSpace),mU=c.convert(VE.type),lU=X(VE.internalFormat,BE,mU,VE.colorSpace,t.isXRRenderTarget===!0),IE=bE(t);U.renderbufferStorageMultisample(U.RENDERBUFFER,IE,lU,t.width,t.height),U.framebufferRenderbuffer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0+bU,U.RENDERBUFFER,pU.__webglColorRenderbuffer[bU])}if(U.bindRenderbuffer(U.RENDERBUFFER,null),t.depthBuffer)pU.__webglDepthRenderbuffer=U.createRenderbuffer(),yE(pU.__webglDepthRenderbuffer,t,!0);u.bindFramebuffer(U.FRAMEBUFFER,null)}}if(kU){u.bindTexture(U.TEXTURE_CUBE_MAP,IU.__webglTexture),wU(U.TEXTURE_CUBE_MAP,S);for(let bU=0;bU<6;bU++)if(S.mipmaps&&S.mipmaps.length>0)for(let VE=0;VE<S.mipmaps.length;VE++)HE(pU.__webglFramebuffer[bU][VE],t,S,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+bU,VE);else HE(pU.__webglFramebuffer[bU],t,S,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+bU,0);if(N(S))O(U.TEXTURE_CUBE_MAP);u.unbindTexture()}else if(xE){for(let bU=0,VE=oU.length;bU<VE;bU++){let BE=oU[bU],mU=p.get(BE),lU=U.TEXTURE_2D;if(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)lU=t.isWebGL3DRenderTarget?U.TEXTURE_3D:U.TEXTURE_2D_ARRAY;if(u.bindTexture(lU,mU.__webglTexture),wU(lU,BE),HE(pU.__webglFramebuffer,t,BE,U.COLOR_ATTACHMENT0+bU,lU,0),N(BE))O(lU)}u.unbindTexture()}else{let bU=U.TEXTURE_2D;if(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)bU=t.isWebGL3DRenderTarget?U.TEXTURE_3D:U.TEXTURE_2D_ARRAY;if(u.bindTexture(bU,IU.__webglTexture),wU(bU,S),S.mipmaps&&S.mipmaps.length>0)for(let VE=0;VE<S.mipmaps.length;VE++)HE(pU.__webglFramebuffer[VE],t,S,U.COLOR_ATTACHMENT0,bU,VE);else HE(pU.__webglFramebuffer,t,S,U.COLOR_ATTACHMENT0,bU,0);if(N(S))O(bU);u.unbindTexture()}if(t.depthBuffer)Pu(t)}function SU(t){let S=t.textures;for(let pU=0,IU=S.length;pU<IU;pU++){let oU=S[pU];if(N(oU)){let kU=L(t),xE=p.get(oU).__webglTexture;u.bindTexture(kU,xE),O(kU),u.unbindTexture()}}}let AU=[],uE=[];function l(t){if(t.samples>0){if(pE(t)===!1){let{textures:S,width:pU,height:IU}=t,oU=U.COLOR_BUFFER_BIT,kU=t.stencilBuffer?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT,xE=p.get(t),bU=S.length>1;if(bU)for(let BE=0;BE<S.length;BE++)u.bindFramebuffer(U.FRAMEBUFFER,xE.__webglMultisampledFramebuffer),U.framebufferRenderbuffer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0+BE,U.RENDERBUFFER,null),u.bindFramebuffer(U.FRAMEBUFFER,xE.__webglFramebuffer),U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0+BE,U.TEXTURE_2D,null,0);u.bindFramebuffer(U.READ_FRAMEBUFFER,xE.__webglMultisampledFramebuffer);let VE=t.texture.mipmaps;if(VE&&VE.length>0)u.bindFramebuffer(U.DRAW_FRAMEBUFFER,xE.__webglFramebuffer[0]);else u.bindFramebuffer(U.DRAW_FRAMEBUFFER,xE.__webglFramebuffer);for(let BE=0;BE<S.length;BE++){if(t.resolveDepthBuffer){if(t.depthBuffer)oU|=U.DEPTH_BUFFER_BIT;if(t.stencilBuffer&&t.resolveStencilBuffer)oU|=U.STENCIL_BUFFER_BIT}if(bU){U.framebufferRenderbuffer(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.RENDERBUFFER,xE.__webglColorRenderbuffer[BE]);let mU=p.get(S[BE]).__webglTexture;U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,mU,0)}if(U.blitFramebuffer(0,0,pU,IU,0,0,pU,IU,oU,U.NEAREST),n===!0){if(AU.length=0,uE.length=0,AU.push(U.COLOR_ATTACHMENT0+BE),t.depthBuffer&&t.resolveDepthBuffer===!1)AU.push(kU),uE.push(kU),U.invalidateFramebuffer(U.DRAW_FRAMEBUFFER,uE);U.invalidateFramebuffer(U.READ_FRAMEBUFFER,AU)}}if(u.bindFramebuffer(U.READ_FRAMEBUFFER,null),u.bindFramebuffer(U.DRAW_FRAMEBUFFER,null),bU)for(let BE=0;BE<S.length;BE++){u.bindFramebuffer(U.FRAMEBUFFER,xE.__webglMultisampledFramebuffer),U.framebufferRenderbuffer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0+BE,U.RENDERBUFFER,xE.__webglColorRenderbuffer[BE]);let mU=p.get(S[BE]).__webglTexture;u.bindFramebuffer(U.FRAMEBUFFER,xE.__webglFramebuffer),U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0+BE,U.TEXTURE_2D,mU,0)}u.bindFramebuffer(U.DRAW_FRAMEBUFFER,xE.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&t.resolveDepthBuffer===!1&&n){let S=t.stencilBuffer?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT;U.invalidateFramebuffer(U.DRAW_FRAMEBUFFER,[S])}}}function bE(t){return Math.min(z.maxSamples,t.samples)}function pE(t){let S=p.get(t);return t.samples>0&&E.has("WEBGL_multisampled_render_to_texture")===!0&&S.__useRenderToTexture!==!1}function wE(t){let S=Y.render.frame;if(H.get(t)!==S)H.set(t,S),t.update()}function gU(t,S){let{colorSpace:pU,format:IU,type:oU}=t;if(t.isCompressedTexture===!0||t.isVideoTexture===!0)return S;if(pU!==C5&&pU!==FZ)if(Hu.getTransfer(pU)===pp){if(IU!==Wp||oU!==j5)PE("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.")}else SE("WebGLTextures: Unsupported texture color space:",pU);return S}function JE(t){if(typeof HTMLImageElement!=="undefined"&&t instanceof HTMLImageElement)j.width=t.naturalWidth||t.width,j.height=t.naturalHeight||t.height;else if(typeof VideoFrame!=="undefined"&&t instanceof VideoFrame)j.width=t.displayWidth,j.height=t.displayHeight;else j.width=t.width,j.height=t.height;return j}this.allocateTextureUnit=f,this.resetTextureUnits=_,this.setTexture2D=uU,this.setTexture2DArray=UU,this.setTexture3D=ZU,this.setTextureCube=EU,this.rebindTextures=tE,this.setupRenderTarget=XU,this.updateRenderTargetMipmap=SU,this.updateMultisampleRenderTarget=l,this.setupDepthRenderbuffer=Pu,this.setupFrameBufferTexture=HE,this.useMultisampledRTT=pE,this.isReversedDepthBuffer=function(){return u.buffers.depth.getReversed()}}function M3(U,E){function u(p,z=FZ){let c,Y=Hu.getTransfer(z);if(p===j5)return U.UNSIGNED_BYTE;if(p===NI)return U.UNSIGNED_SHORT_4_4_4_4;if(p===rI)return U.UNSIGNED_SHORT_5_5_5_1;if(p===oo)return U.UNSIGNED_INT_5_9_9_9_REV;if(p===io)return U.UNSIGNED_INT_10F_11F_11F_REV;if(p===Q9)return U.BYTE;if(p===$9)return U.SHORT;if(p===fj)return U.UNSIGNED_SHORT;if(p===sj)return U.INT;if(p===$c)return U.UNSIGNED_INT;if(p===Sp)return U.FLOAT;if(p===up)return U.HALF_FLOAT;if(p===Fo)return U.ALPHA;if(p===Ao)return U.RGB;if(p===Wp)return U.RGBA;if(p===oZ)return U.DEPTH_COMPONENT;if(p===iZ)return U.DEPTH_STENCIL;if(p===y9)return U.RED;if(p===LI)return U.RED_INTEGER;if(p===Yx)return U.RG;if(p===XI)return U.RG_INTEGER;if(p===TI)return U.RGBA_INTEGER;if(p===I9||p===O9||p===N9||p===r9)if(Y===pp)if(c=E.get("WEBGL_compressed_texture_s3tc_srgb"),c!==null){if(p===I9)return c.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(p===O9)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(p===N9)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(p===r9)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(c=E.get("WEBGL_compressed_texture_s3tc"),c!==null){if(p===I9)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(p===O9)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(p===N9)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(p===r9)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(p===oI||p===iI||p===FI||p===AI)if(c=E.get("WEBGL_compressed_texture_pvrtc"),c!==null){if(p===oI)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(p===iI)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(p===FI)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(p===AI)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(p===mI||p===VI||p===GI||p===BI||p===dI||p===wI||p===vI)if(c=E.get("WEBGL_compressed_texture_etc"),c!==null){if(p===mI||p===VI)return Y===pp?c.COMPRESSED_SRGB8_ETC2:c.COMPRESSED_RGB8_ETC2;if(p===GI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:c.COMPRESSED_RGBA8_ETC2_EAC;if(p===BI)return c.COMPRESSED_R11_EAC;if(p===dI)return c.COMPRESSED_SIGNED_R11_EAC;if(p===wI)return c.COMPRESSED_RG11_EAC;if(p===vI)return c.COMPRESSED_SIGNED_RG11_EAC}else return null;if(p===SI||p===RI||p===DI||p===tI||p===JI||p===hI||p===bI||p===lI||p===MI||p===WI||p===fI||p===sI||p===KI||p===aI)if(c=E.get("WEBGL_compressed_texture_astc"),c!==null){if(p===SI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:c.COMPRESSED_RGBA_ASTC_4x4_KHR;if(p===RI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:c.COMPRESSED_RGBA_ASTC_5x4_KHR;if(p===DI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:c.COMPRESSED_RGBA_ASTC_5x5_KHR;if(p===tI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:c.COMPRESSED_RGBA_ASTC_6x5_KHR;if(p===JI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:c.COMPRESSED_RGBA_ASTC_6x6_KHR;if(p===hI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:c.COMPRESSED_RGBA_ASTC_8x5_KHR;if(p===bI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:c.COMPRESSED_RGBA_ASTC_8x6_KHR;if(p===lI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:c.COMPRESSED_RGBA_ASTC_8x8_KHR;if(p===MI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:c.COMPRESSED_RGBA_ASTC_10x5_KHR;if(p===WI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:c.COMPRESSED_RGBA_ASTC_10x6_KHR;if(p===fI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:c.COMPRESSED_RGBA_ASTC_10x8_KHR;if(p===sI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:c.COMPRESSED_RGBA_ASTC_10x10_KHR;if(p===KI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:c.COMPRESSED_RGBA_ASTC_12x10_KHR;if(p===aI)return Y===pp?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:c.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(p===_I||p===gI||p===eI)if(c=E.get("EXT_texture_compression_bptc"),c!==null){if(p===_I)return Y===pp?c.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:c.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(p===gI)return c.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(p===eI)return c.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(p===CI||p===UO||p===EO||p===uO)if(c=E.get("EXT_texture_compression_rgtc"),c!==null){if(p===CI)return c.COMPRESSED_RED_RGTC1_EXT;if(p===UO)return c.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(p===EO)return c.COMPRESSED_RED_GREEN_RGTC2_EXT;if(p===uO)return c.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;if(p===cx)return U.UNSIGNED_INT_24_8;return U[p]!==void 0?U[p]:null}return{convert:u}}var B5U=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,d5U=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class W3{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(U,E){if(this.texture===null){let u=new B9(U.texture);if(U.depthNear!==E.depthNear||U.depthFar!==E.depthFar)this.depthNear=U.depthNear,this.depthFar=U.depthFar;this.texture=u}}getMesh(U){if(this.texture!==null){if(this.mesh===null){let E=U.cameras[0].viewport,u=new Ap({vertexShader:B5U,fragmentShader:d5U,uniforms:{depthColor:{value:this.texture},depthWidth:{value:E.z},depthHeight:{value:E.w}}});this.mesh=new tu(new M0(20,20),u)}}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class f3 extends l0{constructor(U,E){super();let u=this,p=null,z=1,c=null,Y="local-floor",P=1,n=null,j=null,H=null,k=null,Q=null,y=null,r=typeof XRWebGLBinding!=="undefined",T=new W3,N={},O=E.getContextAttributes(),L=null,X=null,i=[],B=[],G=new LU,d=null,m=new ip;m.viewport=new Gu;let V=new ip;V.viewport=new Gu;let w=[m,V],h=new tO,_=null,f=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(PU){let vU=i[PU];if(vU===void 0)vU=new ej,i[PU]=vU;return vU.getTargetRaySpace()},this.getControllerGrip=function(PU){let vU=i[PU];if(vU===void 0)vU=new ej,i[PU]=vU;return vU.getGripSpace()},this.getHand=function(PU){let vU=i[PU];if(vU===void 0)vU=new ej,i[PU]=vU;return vU.getHandSpace()};function a(PU){let vU=B.indexOf(PU.inputSource);if(vU===-1)return;let TU=i[vU];if(TU!==void 0)TU.update(PU.inputSource,PU.frame,n||c),TU.dispatchEvent({type:PU.type,data:PU.inputSource})}function uU(){p.removeEventListener("select",a),p.removeEventListener("selectstart",a),p.removeEventListener("selectend",a),p.removeEventListener("squeeze",a),p.removeEventListener("squeezestart",a),p.removeEventListener("squeezeend",a),p.removeEventListener("end",uU),p.removeEventListener("inputsourceschange",UU);for(let PU=0;PU<i.length;PU++){let vU=B[PU];if(vU===null)continue;B[PU]=null,i[PU].disconnect(vU)}_=null,f=null,T.reset();for(let PU in N)delete N[PU];U.setRenderTarget(L),Q=null,k=null,H=null,p=null,X=null,$E.stop(),u.isPresenting=!1,U.setPixelRatio(d),U.setSize(G.width,G.height,!1),u.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(PU){if(z=PU,u.isPresenting===!0)PE("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(PU){if(Y=PU,u.isPresenting===!0)PE("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return n||c},this.setReferenceSpace=function(PU){n=PU},this.getBaseLayer=function(){return k!==null?k:Q},this.getBinding=function(){if(H===null&&r)H=new XRWebGLBinding(p,E);return H},this.getFrame=function(){return y},this.getSession=function(){return p},this.setSession=async function(PU){if(p=PU,p!==null){if(L=U.getRenderTarget(),p.addEventListener("select",a),p.addEventListener("selectstart",a),p.addEventListener("selectend",a),p.addEventListener("squeeze",a),p.addEventListener("squeezestart",a),p.addEventListener("squeezeend",a),p.addEventListener("end",uU),p.addEventListener("inputsourceschange",UU),O.xrCompatible!==!0)await E.makeXRCompatible();if(d=U.getPixelRatio(),U.getSize(G),!(r&&("createProjectionLayer"in XRWebGLBinding.prototype))){let TU={antialias:O.antialias,alpha:!0,depth:O.depth,stencil:O.stencil,framebufferScaleFactor:z};Q=new XRWebGLLayer(p,E,TU),p.updateRenderState({baseLayer:Q}),U.setPixelRatio(1),U.setSize(Q.framebufferWidth,Q.framebufferHeight,!1),X=new fp(Q.framebufferWidth,Q.framebufferHeight,{format:Wp,type:j5,colorSpace:U.outputColorSpace,stencilBuffer:O.stencil,resolveDepthBuffer:Q.ignoreDepthValues===!1,resolveStencilBuffer:Q.ignoreDepthValues===!1})}else{let TU=null,HE=null,yE=null;if(O.depth)yE=O.stencil?E.DEPTH24_STENCIL8:E.DEPTH_COMPONENT24,TU=O.stencil?iZ:oZ,HE=O.stencil?cx:$c;let DE={colorFormat:E.RGBA8,depthFormat:yE,scaleFactor:z};H=this.getBinding(),k=H.createProjectionLayer(DE),p.updateRenderState({layers:[k]}),U.setPixelRatio(1),U.setSize(k.textureWidth,k.textureHeight,!1),X=new fp(k.textureWidth,k.textureHeight,{format:Wp,type:j5,depthTexture:new VZ(k.textureWidth,k.textureHeight,HE,void 0,void 0,void 0,void 0,void 0,void 0,TU),stencilBuffer:O.stencil,colorSpace:U.outputColorSpace,samples:O.antialias?4:0,resolveDepthBuffer:k.ignoreDepthValues===!1,resolveStencilBuffer:k.ignoreDepthValues===!1})}X.isXRRenderTarget=!0,this.setFoveation(P),n=null,c=await p.requestReferenceSpace(Y),$E.setContext(p),$E.start(),u.isPresenting=!0,u.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(p!==null)return p.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function UU(PU){for(let vU=0;vU<PU.removed.length;vU++){let TU=PU.removed[vU],HE=B.indexOf(TU);if(HE>=0)B[HE]=null,i[HE].disconnect(TU)}for(let vU=0;vU<PU.added.length;vU++){let TU=PU.added[vU],HE=B.indexOf(TU);if(HE===-1){for(let DE=0;DE<i.length;DE++)if(DE>=B.length){B.push(TU),HE=DE;break}else if(B[DE]===null){B[DE]=TU,HE=DE;break}if(HE===-1)break}let yE=i[HE];if(yE)yE.connect(TU)}}let ZU=new b,EU=new b;function OU(PU,vU,TU){ZU.setFromMatrixPosition(vU.matrixWorld),EU.setFromMatrixPosition(TU.matrixWorld);let HE=ZU.distanceTo(EU),yE=vU.projectionMatrix.elements,DE=TU.projectionMatrix.elements,Pu=yE[14]/(yE[10]-1),tE=yE[14]/(yE[10]+1),XU=(yE[9]+1)/yE[5],SU=(yE[9]-1)/yE[5],AU=(yE[8]-1)/yE[0],uE=(DE[8]+1)/DE[0],l=Pu*AU,bE=Pu*uE,pE=HE/(-AU+uE),wE=pE*-AU;if(vU.matrixWorld.decompose(PU.position,PU.quaternion,PU.scale),PU.translateX(wE),PU.translateZ(pE),PU.matrixWorld.compose(PU.position,PU.quaternion,PU.scale),PU.matrixWorldInverse.copy(PU.matrixWorld).invert(),yE[10]===-1)PU.projectionMatrix.copy(vU.projectionMatrix),PU.projectionMatrixInverse.copy(vU.projectionMatrixInverse);else{let gU=Pu+pE,JE=tE+pE,t=l-wE,S=bE+(HE-wE),pU=XU*tE/JE*gU,IU=SU*tE/JE*gU;PU.projectionMatrix.makePerspective(t,S,pU,IU,gU,JE),PU.projectionMatrixInverse.copy(PU.projectionMatrix).invert()}}function NU(PU,vU){if(vU===null)PU.matrixWorld.copy(PU.matrix);else PU.matrixWorld.multiplyMatrices(vU.matrixWorld,PU.matrix);PU.matrixWorldInverse.copy(PU.matrixWorld).invert()}this.updateCamera=function(PU){if(p===null)return;let{near:vU,far:TU}=PU;if(T.texture!==null){if(T.depthNear>0)vU=T.depthNear;if(T.depthFar>0)TU=T.depthFar}if(h.near=V.near=m.near=vU,h.far=V.far=m.far=TU,_!==h.near||f!==h.far)p.updateRenderState({depthNear:h.near,depthFar:h.far}),_=h.near,f=h.far;h.layers.mask=PU.layers.mask|6,m.layers.mask=h.layers.mask&3,V.layers.mask=h.layers.mask&5;let HE=PU.parent,yE=h.cameras;NU(h,HE);for(let DE=0;DE<yE.length;DE++)NU(yE[DE],HE);if(yE.length===2)OU(h,m,V);else h.projectionMatrix.copy(m.projectionMatrix);yU(PU,h,HE)};function yU(PU,vU,TU){if(TU===null)PU.matrix.copy(vU.matrixWorld);else PU.matrix.copy(TU.matrixWorld),PU.matrix.invert(),PU.matrix.multiply(vU.matrixWorld);if(PU.matrix.decompose(PU.position,PU.quaternion,PU.scale),PU.updateMatrixWorld(!0),PU.projectionMatrix.copy(vU.projectionMatrix),PU.projectionMatrixInverse.copy(vU.projectionMatrixInverse),PU.isPerspectiveCamera)PU.fov=gP*2*Math.atan(1/PU.projectionMatrix.elements[5]),PU.zoom=1}this.getCamera=function(){return h},this.getFoveation=function(){if(k===null&&Q===null)return;return P},this.setFoveation=function(PU){if(P=PU,k!==null)k.fixedFoveation=PU;if(Q!==null&&Q.fixedFoveation!==void 0)Q.fixedFoveation=PU},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(h)},this.getCameraTexture=function(PU){return N[PU]};let wU=null;function QE(PU,vU){if(j=vU.getViewerPose(n||c),y=vU,j!==null){let TU=j.views;if(Q!==null)U.setRenderTargetFramebuffer(X,Q.framebuffer),U.setRenderTarget(X);let HE=!1;if(TU.length!==h.cameras.length)h.cameras.length=0,HE=!0;for(let tE=0;tE<TU.length;tE++){let XU=TU[tE],SU=null;if(Q!==null)SU=Q.getViewport(XU);else{let uE=H.getViewSubImage(k,XU);if(SU=uE.viewport,tE===0)U.setRenderTargetTextures(X,uE.colorTexture,uE.depthStencilTexture),U.setRenderTarget(X)}let AU=w[tE];if(AU===void 0)AU=new ip,AU.layers.enable(tE),AU.viewport=new Gu,w[tE]=AU;if(AU.matrix.fromArray(XU.transform.matrix),AU.matrix.decompose(AU.position,AU.quaternion,AU.scale),AU.projectionMatrix.fromArray(XU.projectionMatrix),AU.projectionMatrixInverse.copy(AU.projectionMatrix).invert(),AU.viewport.set(SU.x,SU.y,SU.width,SU.height),tE===0)h.matrix.copy(AU.matrix),h.matrix.decompose(h.position,h.quaternion,h.scale);if(HE===!0)h.cameras.push(AU)}let yE=p.enabledFeatures;if(yE&&yE.includes("depth-sensing")&&p.depthUsage=="gpu-optimized"&&r){H=u.getBinding();let tE=H.getDepthInformation(TU[0]);if(tE&&tE.isValid&&tE.texture)T.init(tE,p.renderState)}if(yE&&yE.includes("camera-access")&&r){U.state.unbindTexture(),H=u.getBinding();for(let tE=0;tE<TU.length;tE++){let XU=TU[tE].camera;if(XU){let SU=N[XU];if(!SU)SU=new B9,N[XU]=SU;let AU=H.getCameraImage(XU);SU.sourceTexture=AU}}}}for(let TU=0;TU<i.length;TU++){let HE=B[TU],yE=i[TU];if(HE!==null&&yE!==void 0)yE.update(HE,vU,n||c)}if(wU)wU(PU,vU);if(vU.detectedPlanes)u.dispatchEvent({type:"planesdetected",data:vU});y=null}let $E=new w3;$E.setAnimationLoop(QE),this.setAnimationLoop=function(PU){wU=PU},this.dispose=function(){}}}var Ox=new e5,w5U=new RE;function v5U(U,E){function u(N,O){if(N.matrixAutoUpdate===!0)N.updateMatrix();O.value.copy(N.matrix)}function p(N,O){if(O.color.getRGB(N.fogColor.value,ao(U)),O.isFog)N.fogNear.value=O.near,N.fogFar.value=O.far;else if(O.isFogExp2)N.fogDensity.value=O.density}function z(N,O,L,X,i){if(O.isMeshBasicMaterial)c(N,O);else if(O.isMeshLambertMaterial)c(N,O);else if(O.isMeshToonMaterial)c(N,O),k(N,O);else if(O.isMeshPhongMaterial)c(N,O),H(N,O);else if(O.isMeshStandardMaterial){if(c(N,O),Q(N,O),O.isMeshPhysicalMaterial)y(N,O,i)}else if(O.isMeshMatcapMaterial)c(N,O),r(N,O);else if(O.isMeshDepthMaterial)c(N,O);else if(O.isMeshDistanceMaterial)c(N,O),T(N,O);else if(O.isMeshNormalMaterial)c(N,O);else if(O.isLineBasicMaterial){if(Y(N,O),O.isLineDashedMaterial)P(N,O)}else if(O.isPointsMaterial)n(N,O,L,X);else if(O.isSpriteMaterial)j(N,O);else if(O.isShadowMaterial)N.color.value.copy(O.color),N.opacity.value=O.opacity;else if(O.isShaderMaterial)O.uniformsNeedUpdate=!1}function c(N,O){if(N.opacity.value=O.opacity,O.color)N.diffuse.value.copy(O.color);if(O.emissive)N.emissive.value.copy(O.emissive).multiplyScalar(O.emissiveIntensity);if(O.map)N.map.value=O.map,u(O.map,N.mapTransform);if(O.alphaMap)N.alphaMap.value=O.alphaMap,u(O.alphaMap,N.alphaMapTransform);if(O.bumpMap){if(N.bumpMap.value=O.bumpMap,u(O.bumpMap,N.bumpMapTransform),N.bumpScale.value=O.bumpScale,O.side===Bz)N.bumpScale.value*=-1}if(O.normalMap){if(N.normalMap.value=O.normalMap,u(O.normalMap,N.normalMapTransform),N.normalScale.value.copy(O.normalScale),O.side===Bz)N.normalScale.value.negate()}if(O.displacementMap)N.displacementMap.value=O.displacementMap,u(O.displacementMap,N.displacementMapTransform),N.displacementScale.value=O.displacementScale,N.displacementBias.value=O.displacementBias;if(O.emissiveMap)N.emissiveMap.value=O.emissiveMap,u(O.emissiveMap,N.emissiveMapTransform);if(O.specularMap)N.specularMap.value=O.specularMap,u(O.specularMap,N.specularMapTransform);if(O.alphaTest>0)N.alphaTest.value=O.alphaTest;let L=E.get(O),X=L.envMap,i=L.envMapRotation;if(X){if(N.envMap.value=X,Ox.copy(i),Ox.x*=-1,Ox.y*=-1,Ox.z*=-1,X.isCubeTexture&&X.isRenderTargetTexture===!1)Ox.y*=-1,Ox.z*=-1;N.envMapRotation.value.setFromMatrix4(w5U.makeRotationFromEuler(Ox)),N.flipEnvMap.value=X.isCubeTexture&&X.isRenderTargetTexture===!1?-1:1,N.reflectivity.value=O.reflectivity,N.ior.value=O.ior,N.refractionRatio.value=O.refractionRatio}if(O.lightMap)N.lightMap.value=O.lightMap,N.lightMapIntensity.value=O.lightMapIntensity,u(O.lightMap,N.lightMapTransform);if(O.aoMap)N.aoMap.value=O.aoMap,N.aoMapIntensity.value=O.aoMapIntensity,u(O.aoMap,N.aoMapTransform)}function Y(N,O){if(N.diffuse.value.copy(O.color),N.opacity.value=O.opacity,O.map)N.map.value=O.map,u(O.map,N.mapTransform)}function P(N,O){N.dashSize.value=O.dashSize,N.totalSize.value=O.dashSize+O.gapSize,N.scale.value=O.scale}function n(N,O,L,X){if(N.diffuse.value.copy(O.color),N.opacity.value=O.opacity,N.size.value=O.size*L,N.scale.value=X*0.5,O.map)N.map.value=O.map,u(O.map,N.uvTransform);if(O.alphaMap)N.alphaMap.value=O.alphaMap,u(O.alphaMap,N.alphaMapTransform);if(O.alphaTest>0)N.alphaTest.value=O.alphaTest}function j(N,O){if(N.diffuse.value.copy(O.color),N.opacity.value=O.opacity,N.rotation.value=O.rotation,O.map)N.map.value=O.map,u(O.map,N.mapTransform);if(O.alphaMap)N.alphaMap.value=O.alphaMap,u(O.alphaMap,N.alphaMapTransform);if(O.alphaTest>0)N.alphaTest.value=O.alphaTest}function H(N,O){N.specular.value.copy(O.specular),N.shininess.value=Math.max(O.shininess,0.0001)}function k(N,O){if(O.gradientMap)N.gradientMap.value=O.gradientMap}function Q(N,O){if(N.metalness.value=O.metalness,O.metalnessMap)N.metalnessMap.value=O.metalnessMap,u(O.metalnessMap,N.metalnessMapTransform);if(N.roughness.value=O.roughness,O.roughnessMap)N.roughnessMap.value=O.roughnessMap,u(O.roughnessMap,N.roughnessMapTransform);if(O.envMap)N.envMapIntensity.value=O.envMapIntensity}function y(N,O,L){if(N.ior.value=O.ior,O.sheen>0){if(N.sheenColor.value.copy(O.sheenColor).multiplyScalar(O.sheen),N.sheenRoughness.value=O.sheenRoughness,O.sheenColorMap)N.sheenColorMap.value=O.sheenColorMap,u(O.sheenColorMap,N.sheenColorMapTransform);if(O.sheenRoughnessMap)N.sheenRoughnessMap.value=O.sheenRoughnessMap,u(O.sheenRoughnessMap,N.sheenRoughnessMapTransform)}if(O.clearcoat>0){if(N.clearcoat.value=O.clearcoat,N.clearcoatRoughness.value=O.clearcoatRoughness,O.clearcoatMap)N.clearcoatMap.value=O.clearcoatMap,u(O.clearcoatMap,N.clearcoatMapTransform);if(O.clearcoatRoughnessMap)N.clearcoatRoughnessMap.value=O.clearcoatRoughnessMap,u(O.clearcoatRoughnessMap,N.clearcoatRoughnessMapTransform);if(O.clearcoatNormalMap){if(N.clearcoatNormalMap.value=O.clearcoatNormalMap,u(O.clearcoatNormalMap,N.clearcoatNormalMapTransform),N.clearcoatNormalScale.value.copy(O.clearcoatNormalScale),O.side===Bz)N.clearcoatNormalScale.value.negate()}}if(O.dispersion>0)N.dispersion.value=O.dispersion;if(O.iridescence>0){if(N.iridescence.value=O.iridescence,N.iridescenceIOR.value=O.iridescenceIOR,N.iridescenceThicknessMinimum.value=O.iridescenceThicknessRange[0],N.iridescenceThicknessMaximum.value=O.iridescenceThicknessRange[1],O.iridescenceMap)N.iridescenceMap.value=O.iridescenceMap,u(O.iridescenceMap,N.iridescenceMapTransform);if(O.iridescenceThicknessMap)N.iridescenceThicknessMap.value=O.iridescenceThicknessMap,u(O.iridescenceThicknessMap,N.iridescenceThicknessMapTransform)}if(O.transmission>0){if(N.transmission.value=O.transmission,N.transmissionSamplerMap.value=L.texture,N.transmissionSamplerSize.value.set(L.width,L.height),O.transmissionMap)N.transmissionMap.value=O.transmissionMap,u(O.transmissionMap,N.transmissionMapTransform);if(N.thickness.value=O.thickness,O.thicknessMap)N.thicknessMap.value=O.thicknessMap,u(O.thicknessMap,N.thicknessMapTransform);N.attenuationDistance.value=O.attenuationDistance,N.attenuationColor.value.copy(O.attenuationColor)}if(O.anisotropy>0){if(N.anisotropyVector.value.set(O.anisotropy*Math.cos(O.anisotropyRotation),O.anisotropy*Math.sin(O.anisotropyRotation)),O.anisotropyMap)N.anisotropyMap.value=O.anisotropyMap,u(O.anisotropyMap,N.anisotropyMapTransform)}if(N.specularIntensity.value=O.specularIntensity,N.specularColor.value.copy(O.specularColor),O.specularColorMap)N.specularColorMap.value=O.specularColorMap,u(O.specularColorMap,N.specularColorMapTransform);if(O.specularIntensityMap)N.specularIntensityMap.value=O.specularIntensityMap,u(O.specularIntensityMap,N.specularIntensityMapTransform)}function r(N,O){if(O.matcap)N.matcap.value=O.matcap}function T(N,O){let L=E.get(O).light;N.referencePosition.value.setFromMatrixPosition(L.matrixWorld),N.nearDistance.value=L.shadow.camera.near,N.farDistance.value=L.shadow.camera.far}return{refreshFogUniforms:p,refreshMaterialUniforms:z}}function S5U(U,E,u,p){let z={},c={},Y=[],P=U.getParameter(U.MAX_UNIFORM_BUFFER_BINDINGS);function n(L,X){let i=X.program;p.uniformBlockBinding(L,i)}function j(L,X){let i=z[L.id];if(i===void 0)r(L),i=H(L),z[L.id]=i,L.addEventListener("dispose",N);let B=X.program;p.updateUBOMapping(L,B);let G=E.render.frame;if(c[L.id]!==G)Q(L),c[L.id]=G}function H(L){let X=k();L.__bindingPointIndex=X;let i=U.createBuffer(),B=L.__size,G=L.usage;return U.bindBuffer(U.UNIFORM_BUFFER,i),U.bufferData(U.UNIFORM_BUFFER,B,G),U.bindBuffer(U.UNIFORM_BUFFER,null),U.bindBufferBase(U.UNIFORM_BUFFER,X,i),i}function k(){for(let L=0;L<P;L++)if(Y.indexOf(L)===-1)return Y.push(L),L;return SE("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Q(L){let X=z[L.id],i=L.uniforms,B=L.__cache;U.bindBuffer(U.UNIFORM_BUFFER,X);for(let G=0,d=i.length;G<d;G++){let m=Array.isArray(i[G])?i[G]:[i[G]];for(let V=0,w=m.length;V<w;V++){let h=m[V];if(y(h,G,V,B)===!0){let _=h.__offset,f=Array.isArray(h.value)?h.value:[h.value],a=0;for(let uU=0;uU<f.length;uU++){let UU=f[uU],ZU=T(UU);if(typeof UU==="number"||typeof UU==="boolean")h.__data[0]=UU,U.bufferSubData(U.UNIFORM_BUFFER,_+a,h.__data);else if(UU.isMatrix3)h.__data[0]=UU.elements[0],h.__data[1]=UU.elements[1],h.__data[2]=UU.elements[2],h.__data[3]=0,h.__data[4]=UU.elements[3],h.__data[5]=UU.elements[4],h.__data[6]=UU.elements[5],h.__data[7]=0,h.__data[8]=UU.elements[6],h.__data[9]=UU.elements[7],h.__data[10]=UU.elements[8],h.__data[11]=0;else UU.toArray(h.__data,a),a+=ZU.storage/Float32Array.BYTES_PER_ELEMENT}U.bufferSubData(U.UNIFORM_BUFFER,_,h.__data)}}}U.bindBuffer(U.UNIFORM_BUFFER,null)}function y(L,X,i,B){let G=L.value,d=X+"_"+i;if(B[d]===void 0){if(typeof G==="number"||typeof G==="boolean")B[d]=G;else B[d]=G.clone();return!0}else{let m=B[d];if(typeof G==="number"||typeof G==="boolean"){if(m!==G)return B[d]=G,!0}else if(m.equals(G)===!1)return m.copy(G),!0}return!1}function r(L){let X=L.uniforms,i=0,B=16;for(let d=0,m=X.length;d<m;d++){let V=Array.isArray(X[d])?X[d]:[X[d]];for(let w=0,h=V.length;w<h;w++){let _=V[w],f=Array.isArray(_.value)?_.value:[_.value];for(let a=0,uU=f.length;a<uU;a++){let UU=f[a],ZU=T(UU),EU=i%B,OU=EU%ZU.boundary,NU=EU+OU;if(i+=OU,NU!==0&&B-NU<ZU.storage)i+=B-NU;_.__data=new Float32Array(ZU.storage/Float32Array.BYTES_PER_ELEMENT),_.__offset=i,i+=ZU.storage}}}let G=i%B;if(G>0)i+=B-G;return L.__size=i,L.__cache={},this}function T(L){let X={boundary:0,storage:0};if(typeof L==="number"||typeof L==="boolean")X.boundary=4,X.storage=4;else if(L.isVector2)X.boundary=8,X.storage=8;else if(L.isVector3||L.isColor)X.boundary=16,X.storage=12;else if(L.isVector4)X.boundary=16,X.storage=16;else if(L.isMatrix3)X.boundary=48,X.storage=48;else if(L.isMatrix4)X.boundary=64,X.storage=64;else if(L.isTexture)PE("WebGLRenderer: Texture samplers can not be part of an uniforms group.");else PE("WebGLRenderer: Unsupported uniform value type.",L);return X}function N(L){let X=L.target;X.removeEventListener("dispose",N);let i=Y.indexOf(X.__bindingPointIndex);Y.splice(i,1),U.deleteBuffer(z[X.id]),delete z[X.id],delete c[X.id]}function O(){for(let L in z)U.deleteBuffer(z[L]);Y=[],z={},c={}}return{bind:n,update:j,dispose:O}}var R5U=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]),U4=null;function D5U(){if(U4===null)U4=new Pz(R5U,16,16,Yx,up),U4.name="DFG_LUT",U4.minFilter=Wu,U4.magFilter=Wu,U4.wrapS=J5,U4.wrapT=J5,U4.generateMipmaps=!1,U4.needsUpdate=!0;return U4}class dZ{constructor(U={}){let{canvas:E=to(),context:u=null,depth:p=!0,stencil:z=!1,alpha:c=!1,antialias:Y=!1,premultipliedAlpha:P=!0,preserveDrawingBuffer:n=!1,powerPreference:j="default",failIfMajorPerformanceCaveat:H=!1,reversedDepthBuffer:k=!1,outputBufferType:Q=j5}=U;this.isWebGLRenderer=!0;let y;if(u!==null){if(typeof WebGLRenderingContext!=="undefined"&&u instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=u.getContextAttributes().alpha}else y=c;let r=Q,T=new Set([TI,XI,LI]),N=new Set([j5,$c,fj,cx,NI,rI]),O=new Uint32Array(4),L=new Int32Array(4),X=null,i=null,B=[],G=[],d=null;this.domElement=E,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=dz,this.toneMappingExposure=1,this.transmissionResolutionScale=1;let m=this,V=!1;this._outputColorSpace=_c;let w=0,h=0,_=null,f=-1,a=null,uU=new Gu,UU=new Gu,ZU=null,EU=new EE(0),OU=0,NU=E.width,yU=E.height,wU=1,QE=null,$E=null,PU=new Gu(0,0,NU,yU),vU=new Gu(0,0,NU,yU),TU=!1,HE=new mZ,yE=!1,DE=!1,Pu=new RE,tE=new b,XU=new Gu,SU={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},AU=!1;function uE(){return _===null?wU:1}let l=u;function bE(R,W){return E.getContext(R,W)}try{let R={alpha:!0,depth:p,stencil:z,antialias:Y,premultipliedAlpha:P,preserveDrawingBuffer:n,powerPreference:j,failIfMajorPerformanceCaveat:H};if("setAttribute"in E)E.setAttribute("data-engine",`three.js r${p9}`);if(E.addEventListener("webglcontextlost",XE,!1),E.addEventListener("webglcontextrestored",fE,!1),E.addEventListener("webglcontextcreationerror",Lu,!1),l===null){if(l=bE("webgl2",R),l===null)if(bE("webgl2"))throw new Error("Error creating WebGL context with your selected attributes.");else throw new Error("Error creating WebGL context.")}}catch(R){throw SE("WebGLRenderer: "+R.message),R}let pE,wE,gU,JE,t,S,pU,IU,oU,kU,xE,bU,VE,BE,mU,lU,IE,qE,MU,Uu,M,eU,WU,kE;function DU(){if(pE=new fuU(l),pE.init(),eU=new M3(l,pE),wE=new RuU(l,pE,U,eU),gU=new V5U(l,pE),wE.reversedDepthBuffer&&k)gU.buffers.depth.setReversed(!0);JE=new auU(l),t=new Q5U,S=new G5U(l,pE,gU,t,wE,eU,JE),pU=new tuU(m),IU=new WuU(m),oU=new CC(l),WU=new vuU(l,oU),kU=new suU(l,oU,JE,WU),xE=new guU(l,kU,oU,JE),MU=new _uU(l,wE,S),lU=new DuU(t),bU=new k5U(m,pU,IU,pE,wE,WU,lU),VE=new v5U(m,t),BE=new y5U,mU=new X5U(pE),qE=new wuU(m,pU,IU,gU,xE,y,P),IE=new A5U(m,xE,wE),kE=new S5U(l,JE,wE,gU),Uu=new SuU(l,pE,JE),M=new KuU(l,pE,JE),JE.programs=bU.programs,m.capabilities=wE,m.extensions=pE,m.properties=t,m.renderLists=BE,m.shadowMap=IE,m.state=gU,m.info=JE}if(DU(),r!==j5)d=new CuU(r,E.width,E.height,p,z);let $U=new f3(m,l);this.xr=$U,this.getContext=function(){return l},this.getContextAttributes=function(){return l.getContextAttributes()},this.forceContextLoss=function(){let R=pE.get("WEBGL_lose_context");if(R)R.loseContext()},this.forceContextRestore=function(){let R=pE.get("WEBGL_lose_context");if(R)R.restoreContext()},this.getPixelRatio=function(){return wU},this.setPixelRatio=function(R){if(R===void 0)return;wU=R,this.setSize(NU,yU,!1)},this.getSize=function(R){return R.set(NU,yU)},this.setSize=function(R,W,g=!0){if($U.isPresenting){PE("WebGLRenderer: Can't change size while VR device is presenting.");return}if(NU=R,yU=W,E.width=Math.floor(R*wU),E.height=Math.floor(W*wU),g===!0)E.style.width=R+"px",E.style.height=W+"px";if(d!==null)d.setSize(E.width,E.height);this.setViewport(0,0,R,W)},this.getDrawingBufferSize=function(R){return R.set(NU*wU,yU*wU).floor()},this.setDrawingBufferSize=function(R,W,g){NU=R,yU=W,wU=g,E.width=Math.floor(R*g),E.height=Math.floor(W*g),this.setViewport(0,0,R,W)},this.setEffects=function(R){if(r===j5){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(R){for(let W=0;W<R.length;W++)if(R[W].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}d.setEffects(R||[])},this.getCurrentViewport=function(R){return R.copy(uU)},this.getViewport=function(R){return R.copy(PU)},this.setViewport=function(R,W,g,C){if(R.isVector4)PU.set(R.x,R.y,R.z,R.w);else PU.set(R,W,g,C);gU.viewport(uU.copy(PU).multiplyScalar(wU).round())},this.getScissor=function(R){return R.copy(vU)},this.setScissor=function(R,W,g,C){if(R.isVector4)vU.set(R.x,R.y,R.z,R.w);else vU.set(R,W,g,C);gU.scissor(UU.copy(vU).multiplyScalar(wU).round())},this.getScissorTest=function(){return TU},this.setScissorTest=function(R){gU.setScissorTest(TU=R)},this.setOpaqueSort=function(R){QE=R},this.setTransparentSort=function(R){$E=R},this.getClearColor=function(R){return R.copy(qE.getClearColor())},this.setClearColor=function(){qE.setClearColor(...arguments)},this.getClearAlpha=function(){return qE.getClearAlpha()},this.setClearAlpha=function(){qE.setClearAlpha(...arguments)},this.clear=function(R=!0,W=!0,g=!0){let C=0;if(R){let e=!1;if(_!==null){let FU=_.texture.format;e=T.has(FU)}if(e){let FU=_.texture.type,VU=N.has(FU),RU=qE.getClearColor(),dU=qE.getClearAlpha(),_U=RU.r,mE=RU.g,YE=RU.b;if(VU)O[0]=_U,O[1]=mE,O[2]=YE,O[3]=dU,l.clearBufferuiv(l.COLOR,0,O);else L[0]=_U,L[1]=mE,L[2]=YE,L[3]=dU,l.clearBufferiv(l.COLOR,0,L)}else C|=l.COLOR_BUFFER_BIT}if(W)C|=l.DEPTH_BUFFER_BIT;if(g)C|=l.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295);l.clear(C)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){E.removeEventListener("webglcontextlost",XE,!1),E.removeEventListener("webglcontextrestored",fE,!1),E.removeEventListener("webglcontextcreationerror",Lu,!1),qE.dispose(),BE.dispose(),mU.dispose(),t.dispose(),pU.dispose(),IU.dispose(),xE.dispose(),WU.dispose(),kE.dispose(),bU.dispose(),$U.dispose(),$U.removeEventListener("sessionstart",Jz),$U.removeEventListener("sessionend",hz),gE.stop()};function XE(R){R.preventDefault(),tj("WebGLRenderer: Context Lost."),V=!0}function fE(){tj("WebGLRenderer: Context Restored."),V=!1;let R=JE.autoReset,W=IE.enabled,g=IE.autoUpdate,C=IE.needsUpdate,e=IE.type;DU(),JE.autoReset=R,IE.enabled=W,IE.autoUpdate=g,IE.needsUpdate=C,IE.type=e}function Lu(R){SE("WebGLRenderer: A WebGL context could not be created. Reason: ",R.statusMessage)}function mu(R){let W=R.target;W.removeEventListener("dispose",mu),$z(W)}function $z(R){h5(R),t.remove(R)}function h5(R){let W=t.get(R).programs;if(W!==void 0){if(W.forEach(function(g){bU.releaseProgram(g)}),R.isShaderMaterial)bU.releaseShaderCache(R)}}this.renderBufferDirect=function(R,W,g,C,e,FU){if(W===null)W=SU;let VU=e.isMesh&&e.matrixWorld.determinant()<0,RU=hU(R,W,g,C,e);gU.setMaterial(C,VU);let dU=g.index,_U=1;if(C.wireframe===!0){if(dU=kU.getWireframeAttribute(g),dU===void 0)return;_U=2}let mE=g.drawRange,YE=g.attributes.position,dE=mE.start*_U,Zu=(mE.start+mE.count)*_U;if(FU!==null)dE=Math.max(dE,FU.start*_U),Zu=Math.min(Zu,(FU.start+FU.count)*_U);if(dU!==null)dE=Math.max(dE,0),Zu=Math.min(Zu,dU.count);else if(YE!==void 0&&YE!==null)dE=Math.max(dE,0),Zu=Math.min(Zu,YE.count);let du=Zu-dE;if(du<0||du===1/0)return;WU.setup(e,C,RU,g,dU);let xu,vE=Uu;if(dU!==null)xu=oU.get(dU),vE=M,vE.setIndex(xu);if(e.isMesh)if(C.wireframe===!0)gU.setLineWidth(C.wireframeLinewidth*uE()),vE.setMode(l.LINES);else vE.setMode(l.TRIANGLES);else if(e.isLine){let zE=C.linewidth;if(zE===void 0)zE=1;if(gU.setLineWidth(zE*uE()),e.isLineSegments)vE.setMode(l.LINES);else if(e.isLineLoop)vE.setMode(l.LINE_LOOP);else vE.setMode(l.LINE_STRIP)}else if(e.isPoints)vE.setMode(l.POINTS);else if(e.isSprite)vE.setMode(l.TRIANGLES);if(e.isBatchedMesh)if(e._multiDrawInstances!==null)_P("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),vE.renderMultiDrawInstances(e._multiDrawStarts,e._multiDrawCounts,e._multiDrawCount,e._multiDrawInstances);else if(!pE.get("WEBGL_multi_draw")){let{_multiDrawStarts:zE,_multiDrawCounts:nE,_multiDrawCount:rE}=e,wu=dU?oU.get(dU).bytesPerElement:1,Y5=t.get(C).currentProgram.getUniforms();for(let hu=0;hu<rE;hu++)Y5.setValue(l,"_gl_DrawID",hu),vE.render(zE[hu]/wu,nE[hu])}else vE.renderMultiDraw(e._multiDrawStarts,e._multiDrawCounts,e._multiDrawCount);else if(e.isInstancedMesh)vE.renderInstances(dE,du,e.count);else if(g.isInstancedBufferGeometry){let zE=g._maxInstanceCount!==void 0?g._maxInstanceCount:1/0,nE=Math.min(g.instanceCount,zE);vE.renderInstances(dE,du,nE)}else vE.render(dE,du)};function Fc(R,W,g){if(R.transparent===!0&&R.side===xz&&R.forceSinglePass===!1)R.side=Bz,R.needsUpdate=!0,YU(R,W,g),R.side=UY,R.needsUpdate=!0,YU(R,W,g),R.side=xz;else YU(R,W,g)}this.compile=function(R,W,g=null){if(g===null)g=R;if(i=mU.get(g),i.init(W),G.push(i),g.traverseVisible(function(e){if(e.isLight&&e.layers.test(W.layers)){if(i.pushLight(e),e.castShadow)i.pushShadow(e)}}),R!==g)R.traverseVisible(function(e){if(e.isLight&&e.layers.test(W.layers)){if(i.pushLight(e),e.castShadow)i.pushShadow(e)}});i.setupLights();let C=new Set;return R.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;let FU=e.material;if(FU)if(Array.isArray(FU))for(let VU=0;VU<FU.length;VU++){let RU=FU[VU];Fc(RU,g,e),C.add(RU)}else Fc(FU,g,e),C.add(FU)}),i=G.pop(),C},this.compileAsync=function(R,W,g=null){let C=this.compile(R,W,g);return new Promise((e)=>{function FU(){if(C.forEach(function(VU){if(t.get(VU).currentProgram.isReady())C.delete(VU)}),C.size===0){e(R);return}setTimeout(FU,10)}if(pE.get("KHR_parallel_shader_compile")!==null)FU();else setTimeout(FU,10)})};let tz=null;function Bx(R){if(tz)tz(R)}function Jz(){gE.stop()}function hz(){gE.start()}let gE=new w3;if(gE.setAnimationLoop(Bx),typeof self!=="undefined")gE.setContext(self);this.setAnimationLoop=function(R){tz=R,$U.setAnimationLoop(R),R===null?gE.stop():gE.start()},$U.addEventListener("sessionstart",Jz),$U.addEventListener("sessionend",hz),this.render=function(R,W){if(W!==void 0&&W.isCamera!==!0){SE("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(V===!0)return;let g=$U.enabled===!0&&$U.isPresenting===!0,C=d!==null&&(_===null||g)&&d.begin(m,_);if(R.matrixWorldAutoUpdate===!0)R.updateMatrixWorld();if(W.parent===null&&W.matrixWorldAutoUpdate===!0)W.updateMatrixWorld();if($U.enabled===!0&&$U.isPresenting===!0&&(d===null||d.isCompositing()===!1)){if($U.cameraAutoUpdate===!0)$U.updateCamera(W);W=$U.getCamera()}if(R.isScene===!0)R.onBeforeRender(m,R,W,_);if(i=mU.get(R,G.length),i.init(W),G.push(i),Pu.multiplyMatrices(W.projectionMatrix,W.matrixWorldInverse),HE.setFromProjectionMatrix(Pu,ZO,W.reversedDepth),DE=this.localClippingEnabled,yE=lU.init(this.clippingPlanes,DE),X=BE.get(R,B.length),X.init(),B.push(X),$U.enabled===!0&&$U.isPresenting===!0){let VU=m.xr.getDepthSensingMesh();if(VU!==null)yz(VU,W,-1/0,m.sortObjects)}if(yz(R,W,0,m.sortObjects),X.finish(),m.sortObjects===!0)X.sort(QE,$E);if(AU=$U.enabled===!1||$U.isPresenting===!1||$U.hasDepthSensing()===!1,AU)qE.addToRenderList(X,R);if(this.info.render.frame++,yE===!0)lU.beginShadows();let e=i.state.shadowsArray;if(IE.render(e,R,W),yE===!0)lU.endShadows();if(this.info.autoReset===!0)this.info.reset();if((C&&d.hasRenderPass())===!1){let{opaque:VU,transmissive:RU}=X;if(i.setupLights(),W.isArrayCamera){let dU=W.cameras;if(RU.length>0)for(let _U=0,mE=dU.length;_U<mE;_U++){let YE=dU[_U];v(VU,RU,R,YE)}if(AU)qE.render(R);for(let _U=0,mE=dU.length;_U<mE;_U++){let YE=dU[_U];WZ(X,R,YE,YE.viewport)}}else{if(RU.length>0)v(VU,RU,R,W);if(AU)qE.render(R);WZ(X,R,W)}}if(_!==null&&h===0)S.updateMultisampleRenderTarget(_),S.updateRenderTargetMipmap(_);if(C)d.end(m);if(R.isScene===!0)R.onAfterRender(m,R,W);if(WU.resetDefaultState(),f=-1,a=null,G.pop(),G.length>0){if(i=G[G.length-1],yE===!0)lU.setGlobalState(m.clippingPlanes,i.state.camera)}else i=null;if(B.pop(),B.length>0)X=B[B.length-1];else X=null};function yz(R,W,g,C){if(R.visible===!1)return;if(R.layers.test(W.layers)){if(R.isGroup)g=R.renderOrder;else if(R.isLOD){if(R.autoUpdate===!0)R.update(W)}else if(R.isLight){if(i.pushLight(R),R.castShadow)i.pushShadow(R)}else if(R.isSprite){if(!R.frustumCulled||HE.intersectsSprite(R)){if(C)XU.setFromMatrixPosition(R.matrixWorld).applyMatrix4(Pu);let VU=xE.update(R),RU=R.material;if(RU.visible)X.push(R,VU,RU,g,XU.z,null)}}else if(R.isMesh||R.isLine||R.isPoints){if(!R.frustumCulled||HE.intersectsObject(R)){let VU=xE.update(R),RU=R.material;if(C){if(R.boundingSphere!==void 0){if(R.boundingSphere===null)R.computeBoundingSphere();XU.copy(R.boundingSphere.center)}else{if(VU.boundingSphere===null)VU.computeBoundingSphere();XU.copy(VU.boundingSphere.center)}XU.applyMatrix4(R.matrixWorld).applyMatrix4(Pu)}if(Array.isArray(RU)){let dU=VU.groups;for(let _U=0,mE=dU.length;_U<mE;_U++){let YE=dU[_U],dE=RU[YE.materialIndex];if(dE&&dE.visible)X.push(R,VU,dE,g,XU.z,YE)}}else if(RU.visible)X.push(R,VU,RU,g,XU.z,null)}}}let FU=R.children;for(let VU=0,RU=FU.length;VU<RU;VU++)yz(FU[VU],W,g,C)}function WZ(R,W,g,C){let{opaque:e,transmissive:FU,transparent:VU}=R;if(i.setupLightsView(g),yE===!0)lU.setGlobalState(m.clippingPlanes,g);if(C)gU.viewport(uU.copy(C));if(e.length>0)J(e,W,g);if(FU.length>0)J(FU,W,g);if(VU.length>0)J(VU,W,g);gU.buffers.depth.setTest(!0),gU.buffers.depth.setMask(!0),gU.buffers.color.setMask(!0),gU.setPolygonOffset(!1)}function v(R,W,g,C){if((g.isScene===!0?g.overrideMaterial:null)!==null)return;if(i.state.transmissionRenderTarget[C.id]===void 0){let dE=pE.has("EXT_color_buffer_half_float")||pE.has("EXT_color_buffer_float");i.state.transmissionRenderTarget[C.id]=new fp(1,1,{generateMipmaps:!0,type:dE?up:j5,minFilter:ac,samples:wE.samples,stencilBuffer:z,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Hu.workingColorSpace})}let FU=i.state.transmissionRenderTarget[C.id],VU=C.viewport||uU;FU.setSize(VU.z*m.transmissionResolutionScale,VU.w*m.transmissionResolutionScale);let RU=m.getRenderTarget(),dU=m.getActiveCubeFace(),_U=m.getActiveMipmapLevel();if(m.setRenderTarget(FU),m.getClearColor(EU),OU=m.getClearAlpha(),OU<1)m.setClearColor(16777215,0.5);if(m.clear(),AU)qE.render(g);let mE=m.toneMapping;m.toneMapping=dz;let YE=C.viewport;if(C.viewport!==void 0)C.viewport=void 0;if(i.setupLightsView(C),yE===!0)lU.setGlobalState(m.clippingPlanes,C);if(J(R,g,C),S.updateMultisampleRenderTarget(FU),S.updateRenderTargetMipmap(FU),pE.has("WEBGL_multisampled_render_to_texture")===!1){let dE=!1;for(let Zu=0,du=W.length;Zu<du;Zu++){let xu=W[Zu],{object:vE,geometry:zE,material:nE,group:rE}=xu;if(nE.side===xz&&vE.layers.test(C.layers)){let wu=nE.side;nE.side=Bz,nE.needsUpdate=!0,K(vE,g,C,zE,nE,rE),nE.side=wu,nE.needsUpdate=!0,dE=!0}}if(dE===!0)S.updateMultisampleRenderTarget(FU),S.updateRenderTargetMipmap(FU)}if(m.setRenderTarget(RU,dU,_U),m.setClearColor(EU,OU),YE!==void 0)C.viewport=YE;m.toneMapping=mE}function J(R,W,g){let C=W.isScene===!0?W.overrideMaterial:null;for(let e=0,FU=R.length;e<FU;e++){let VU=R[e],{object:RU,geometry:dU,group:_U}=VU,mE=VU.material;if(mE.allowOverride===!0&&C!==null)mE=C;if(RU.layers.test(g.layers))K(RU,W,g,dU,mE,_U)}}function K(R,W,g,C,e,FU){if(R.onBeforeRender(m,W,g,C,e,FU),R.modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,R.matrixWorld),R.normalMatrix.getNormalMatrix(R.modelViewMatrix),e.onBeforeRender(m,W,g,C,R,FU),e.transparent===!0&&e.side===xz&&e.forceSinglePass===!1)e.side=Bz,e.needsUpdate=!0,m.renderBufferDirect(g,W,C,e,R,FU),e.side=UY,e.needsUpdate=!0,m.renderBufferDirect(g,W,C,e,R,FU),e.side=xz;else m.renderBufferDirect(g,W,C,e,R,FU);R.onAfterRender(m,W,g,C,e,FU)}function YU(R,W,g){if(W.isScene!==!0)W=SU;let C=t.get(R),e=i.state.lights,FU=i.state.shadowsArray,VU=e.state.version,RU=bU.getParameters(R,e.state,FU,W,g),dU=bU.getProgramCacheKey(RU),_U=C.programs;if(C.environment=R.isMeshStandardMaterial?W.environment:null,C.fog=W.fog,C.envMap=(R.isMeshStandardMaterial?IU:pU).get(R.envMap||C.environment),C.envMapRotation=C.environment!==null&&R.envMap===null?W.environmentRotation:R.envMapRotation,_U===void 0)R.addEventListener("dispose",mu),_U=new Map,C.programs=_U;let mE=_U.get(dU);if(mE!==void 0){if(C.currentProgram===mE&&C.lightsStateVersion===VU)return HU(R,RU),mE}else RU.uniforms=bU.getUniforms(R),R.onBeforeCompile(RU,m),mE=bU.acquireProgram(RU,dU),_U.set(dU,mE),C.uniforms=RU.uniforms;let YE=C.uniforms;if(!R.isShaderMaterial&&!R.isRawShaderMaterial||R.clipping===!0)YE.clippingPlanes=lU.uniform;if(HU(R,RU),C.needsLights=aU(R),C.lightsStateVersion=VU,C.needsLights)YE.ambientLightColor.value=e.state.ambient,YE.lightProbe.value=e.state.probe,YE.directionalLights.value=e.state.directional,YE.directionalLightShadows.value=e.state.directionalShadow,YE.spotLights.value=e.state.spot,YE.spotLightShadows.value=e.state.spotShadow,YE.rectAreaLights.value=e.state.rectArea,YE.ltc_1.value=e.state.rectAreaLTC1,YE.ltc_2.value=e.state.rectAreaLTC2,YE.pointLights.value=e.state.point,YE.pointLightShadows.value=e.state.pointShadow,YE.hemisphereLights.value=e.state.hemi,YE.directionalShadowMap.value=e.state.directionalShadowMap,YE.directionalShadowMatrix.value=e.state.directionalShadowMatrix,YE.spotShadowMap.value=e.state.spotShadowMap,YE.spotLightMatrix.value=e.state.spotLightMatrix,YE.spotLightMap.value=e.state.spotLightMap,YE.pointShadowMap.value=e.state.pointShadowMap,YE.pointShadowMatrix.value=e.state.pointShadowMatrix;return C.currentProgram=mE,C.uniformsList=null,mE}function jU(R){if(R.uniformsList===null){let W=R.currentProgram.getUniforms();R.uniformsList=xQ.seqWithValue(W.seq,R.uniforms)}return R.uniformsList}function HU(R,W){let g=t.get(R);g.outputColorSpace=W.outputColorSpace,g.batching=W.batching,g.batchingColor=W.batchingColor,g.instancing=W.instancing,g.instancingColor=W.instancingColor,g.instancingMorph=W.instancingMorph,g.skinning=W.skinning,g.morphTargets=W.morphTargets,g.morphNormals=W.morphNormals,g.morphColors=W.morphColors,g.morphTargetsCount=W.morphTargetsCount,g.numClippingPlanes=W.numClippingPlanes,g.numIntersection=W.numClipIntersection,g.vertexAlphas=W.vertexAlphas,g.vertexTangents=W.vertexTangents,g.toneMapping=W.toneMapping}function hU(R,W,g,C,e){if(W.isScene!==!0)W=SU;S.resetTextureUnits();let FU=W.fog,VU=C.isMeshStandardMaterial?W.environment:null,RU=_===null?m.outputColorSpace:_.isXRRenderTarget===!0?_.texture.colorSpace:C5,dU=(C.isMeshStandardMaterial?IU:pU).get(C.envMap||VU),_U=C.vertexColors===!0&&!!g.attributes.color&&g.attributes.color.itemSize===4,mE=!!g.attributes.tangent&&(!!C.normalMap||C.anisotropy>0),YE=!!g.morphAttributes.position,dE=!!g.morphAttributes.normal,Zu=!!g.morphAttributes.color,du=dz;if(C.toneMapped){if(_===null||_.isXRRenderTarget===!0)du=m.toneMapping}let xu=g.morphAttributes.position||g.morphAttributes.normal||g.morphAttributes.color,vE=xu!==void 0?xu.length:0,zE=t.get(C),nE=i.state.lights;if(yE===!0){if(DE===!0||R!==a){let O5=R===a&&C.id===f;lU.setState(C,R,O5)}}let rE=!1;if(C.version===zE.__version){if(zE.needsLights&&zE.lightsStateVersion!==nE.state.version)rE=!0;else if(zE.outputColorSpace!==RU)rE=!0;else if(e.isBatchedMesh&&zE.batching===!1)rE=!0;else if(!e.isBatchedMesh&&zE.batching===!0)rE=!0;else if(e.isBatchedMesh&&zE.batchingColor===!0&&e.colorTexture===null)rE=!0;else if(e.isBatchedMesh&&zE.batchingColor===!1&&e.colorTexture!==null)rE=!0;else if(e.isInstancedMesh&&zE.instancing===!1)rE=!0;else if(!e.isInstancedMesh&&zE.instancing===!0)rE=!0;else if(e.isSkinnedMesh&&zE.skinning===!1)rE=!0;else if(!e.isSkinnedMesh&&zE.skinning===!0)rE=!0;else if(e.isInstancedMesh&&zE.instancingColor===!0&&e.instanceColor===null)rE=!0;else if(e.isInstancedMesh&&zE.instancingColor===!1&&e.instanceColor!==null)rE=!0;else if(e.isInstancedMesh&&zE.instancingMorph===!0&&e.morphTexture===null)rE=!0;else if(e.isInstancedMesh&&zE.instancingMorph===!1&&e.morphTexture!==null)rE=!0;else if(zE.envMap!==dU)rE=!0;else if(C.fog===!0&&zE.fog!==FU)rE=!0;else if(zE.numClippingPlanes!==void 0&&(zE.numClippingPlanes!==lU.numPlanes||zE.numIntersection!==lU.numIntersection))rE=!0;else if(zE.vertexAlphas!==_U)rE=!0;else if(zE.vertexTangents!==mE)rE=!0;else if(zE.morphTargets!==YE)rE=!0;else if(zE.morphNormals!==dE)rE=!0;else if(zE.morphColors!==Zu)rE=!0;else if(zE.toneMapping!==du)rE=!0;else if(zE.morphTargetsCount!==vE)rE=!0}else rE=!0,zE.__version=C.version;let wu=zE.currentProgram;if(rE===!0)wu=YU(C,W,e);let Y5=!1,hu=!1,Op=!1,bu=wu.getUniforms(),I5=zE.uniforms;if(gU.useProgram(wu.program))Y5=!0,hu=!0,Op=!0;if(C.id!==f)f=C.id,hu=!0;if(Y5||a!==R){if(gU.buffers.depth.getReversed()&&R.reversedDepth!==!0)R._reversedDepth=!0,R.updateProjectionMatrix();bu.setValue(l,"projectionMatrix",R.projectionMatrix),bu.setValue(l,"viewMatrix",R.matrixWorldInverse);let V5=bu.map.cameraPosition;if(V5!==void 0)V5.setValue(l,tE.setFromMatrixPosition(R.matrixWorld));if(wE.logarithmicDepthBuffer)bu.setValue(l,"logDepthBufFC",2/(Math.log(R.far+1)/Math.LN2));if(C.isMeshPhongMaterial||C.isMeshToonMaterial||C.isMeshLambertMaterial||C.isMeshBasicMaterial||C.isMeshStandardMaterial||C.isShaderMaterial)bu.setValue(l,"isOrthographic",R.isOrthographicCamera===!0);if(a!==R)a=R,hu=!0,Op=!0}if(zE.needsLights){if(nE.state.directionalShadowMap.length>0)bu.setValue(l,"directionalShadowMap",nE.state.directionalShadowMap,S);if(nE.state.spotShadowMap.length>0)bu.setValue(l,"spotShadowMap",nE.state.spotShadowMap,S);if(nE.state.pointShadowMap.length>0)bu.setValue(l,"pointShadowMap",nE.state.pointShadowMap,S)}if(e.isSkinnedMesh){bu.setOptional(l,e,"bindMatrix"),bu.setOptional(l,e,"bindMatrixInverse");let O5=e.skeleton;if(O5){if(O5.boneTexture===null)O5.computeBoneTexture();bu.setValue(l,"boneTexture",O5.boneTexture,S)}}if(e.isBatchedMesh){if(bu.setOptional(l,e,"batchingTexture"),bu.setValue(l,"batchingTexture",e._matricesTexture,S),bu.setOptional(l,e,"batchingIdTexture"),bu.setValue(l,"batchingIdTexture",e._indirectTexture,S),bu.setOptional(l,e,"batchingColorTexture"),e._colorsTexture!==null)bu.setValue(l,"batchingColorTexture",e._colorsTexture,S)}let b5=g.morphAttributes;if(b5.position!==void 0||b5.normal!==void 0||b5.color!==void 0)MU.update(e,g,wu);if(hu||zE.receiveShadow!==e.receiveShadow)zE.receiveShadow=e.receiveShadow,bu.setValue(l,"receiveShadow",e.receiveShadow);if(C.isMeshGouraudMaterial&&C.envMap!==null)I5.envMap.value=dU,I5.flipEnvMap.value=dU.isCubeTexture&&dU.isRenderTargetTexture===!1?-1:1;if(C.isMeshStandardMaterial&&C.envMap===null&&W.environment!==null)I5.envMapIntensity.value=W.environmentIntensity;if(I5.dfgLUT!==void 0)I5.dfgLUT.value=D5U();if(hu){if(bu.setValue(l,"toneMappingExposure",m.toneMappingExposure),zE.needsLights)GU(I5,Op);if(FU&&C.fog===!0)VE.refreshFogUniforms(I5,FU);VE.refreshMaterialUniforms(I5,C,wU,yU,i.state.transmissionRenderTarget[R.id]),xQ.upload(l,jU(zE),I5,S)}if(C.isShaderMaterial&&C.uniformsNeedUpdate===!0)xQ.upload(l,jU(zE),I5,S),C.uniformsNeedUpdate=!1;if(C.isSpriteMaterial)bu.setValue(l,"center",e.center);if(bu.setValue(l,"modelViewMatrix",e.modelViewMatrix),bu.setValue(l,"normalMatrix",e.normalMatrix),bu.setValue(l,"modelMatrix",e.matrixWorld),C.isShaderMaterial||C.isRawShaderMaterial){let O5=C.uniformsGroups;for(let V5=0,dx=O5.length;V5<dx;V5++){let Ac=O5[V5];kE.update(Ac,wu),kE.bind(Ac,wu)}}return wu}function GU(R,W){R.ambientLightColor.needsUpdate=W,R.lightProbe.needsUpdate=W,R.directionalLights.needsUpdate=W,R.directionalLightShadows.needsUpdate=W,R.pointLights.needsUpdate=W,R.pointLightShadows.needsUpdate=W,R.spotLights.needsUpdate=W,R.spotLightShadows.needsUpdate=W,R.rectAreaLights.needsUpdate=W,R.hemisphereLights.needsUpdate=W}function aU(R){return R.isMeshLambertMaterial||R.isMeshToonMaterial||R.isMeshPhongMaterial||R.isMeshStandardMaterial||R.isShadowMaterial||R.isShaderMaterial&&R.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return h},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(R,W,g){let C=t.get(R);if(C.__autoAllocateDepthBuffer=R.resolveDepthBuffer===!1,C.__autoAllocateDepthBuffer===!1)C.__useRenderToTexture=!1;t.get(R.texture).__webglTexture=W,t.get(R.depthTexture).__webglTexture=C.__autoAllocateDepthBuffer?void 0:g,C.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(R,W){let g=t.get(R);g.__webglFramebuffer=W,g.__useDefaultFramebuffer=W===void 0};let UE=l.createFramebuffer();this.setRenderTarget=function(R,W=0,g=0){_=R,w=W,h=g;let C=null,e=!1,FU=!1;if(R){let RU=t.get(R);if(RU.__useDefaultFramebuffer!==void 0){gU.bindFramebuffer(l.FRAMEBUFFER,RU.__webglFramebuffer),uU.copy(R.viewport),UU.copy(R.scissor),ZU=R.scissorTest,gU.viewport(uU),gU.scissor(UU),gU.setScissorTest(ZU),f=-1;return}else if(RU.__webglFramebuffer===void 0)S.setupRenderTarget(R);else if(RU.__hasExternalTextures)S.rebindTextures(R,t.get(R.texture).__webglTexture,t.get(R.depthTexture).__webglTexture);else if(R.depthBuffer){let mE=R.depthTexture;if(RU.__boundDepthTexture!==mE){if(mE!==null&&t.has(mE)&&(R.width!==mE.image.width||R.height!==mE.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");S.setupDepthRenderbuffer(R)}}let dU=R.texture;if(dU.isData3DTexture||dU.isDataArrayTexture||dU.isCompressedArrayTexture)FU=!0;let _U=t.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget){if(Array.isArray(_U[W]))C=_U[W][g];else C=_U[W];e=!0}else if(R.samples>0&&S.useMultisampledRTT(R)===!1)C=t.get(R).__webglMultisampledFramebuffer;else if(Array.isArray(_U))C=_U[g];else C=_U;uU.copy(R.viewport),UU.copy(R.scissor),ZU=R.scissorTest}else uU.copy(PU).multiplyScalar(wU).floor(),UU.copy(vU).multiplyScalar(wU).floor(),ZU=TU;if(g!==0)C=UE;if(gU.bindFramebuffer(l.FRAMEBUFFER,C))gU.drawBuffers(R,C);if(gU.viewport(uU),gU.scissor(UU),gU.setScissorTest(ZU),e){let RU=t.get(R.texture);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_CUBE_MAP_POSITIVE_X+W,RU.__webglTexture,g)}else if(FU){let RU=W;for(let dU=0;dU<R.textures.length;dU++){let _U=t.get(R.textures[dU]);l.framebufferTextureLayer(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0+dU,_U.__webglTexture,g,RU)}}else if(R!==null&&g!==0){let RU=t.get(R.texture);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,RU.__webglTexture,g)}f=-1},this.readRenderTargetPixels=function(R,W,g,C,e,FU,VU,RU=0){if(!(R&&R.isWebGLRenderTarget)){SE("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dU=t.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget&&VU!==void 0)dU=dU[VU];if(dU){gU.bindFramebuffer(l.FRAMEBUFFER,dU);try{let _U=R.textures[RU],mE=_U.format,YE=_U.type;if(!wE.textureFormatReadable(mE)){SE("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!wE.textureTypeReadable(YE)){SE("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}if(W>=0&&W<=R.width-C&&(g>=0&&g<=R.height-e)){if(R.textures.length>1)l.readBuffer(l.COLOR_ATTACHMENT0+RU);l.readPixels(W,g,C,e,eU.convert(mE),eU.convert(YE),FU)}}finally{let _U=_!==null?t.get(_).__webglFramebuffer:null;gU.bindFramebuffer(l.FRAMEBUFFER,_U)}}},this.readRenderTargetPixelsAsync=async function(R,W,g,C,e,FU,VU,RU=0){if(!(R&&R.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let dU=t.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget&&VU!==void 0)dU=dU[VU];if(dU)if(W>=0&&W<=R.width-C&&(g>=0&&g<=R.height-e)){gU.bindFramebuffer(l.FRAMEBUFFER,dU);let _U=R.textures[RU],mE=_U.format,YE=_U.type;if(!wE.textureFormatReadable(mE))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!wE.textureTypeReadable(YE))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");let dE=l.createBuffer();if(l.bindBuffer(l.PIXEL_PACK_BUFFER,dE),l.bufferData(l.PIXEL_PACK_BUFFER,FU.byteLength,l.STREAM_READ),R.textures.length>1)l.readBuffer(l.COLOR_ATTACHMENT0+RU);l.readPixels(W,g,C,e,eU.convert(mE),eU.convert(YE),0);let Zu=_!==null?t.get(_).__webglFramebuffer:null;gU.bindFramebuffer(l.FRAMEBUFFER,Zu);let du=l.fenceSync(l.SYNC_GPU_COMMANDS_COMPLETE,0);return l.flush(),await _D(l,du,4),l.bindBuffer(l.PIXEL_PACK_BUFFER,dE),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,FU),l.deleteBuffer(dE),l.deleteSync(du),FU}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(R,W=null,g=0){let C=Math.pow(2,-g),e=Math.floor(R.image.width*C),FU=Math.floor(R.image.height*C),VU=W!==null?W.x:0,RU=W!==null?W.y:0;S.setTexture2D(R,0),l.copyTexSubImage2D(l.TEXTURE_2D,g,0,0,VU,RU,e,FU),gU.unbindTexture()};let cE=l.createFramebuffer(),CU=l.createFramebuffer();if(this.copyTextureToTexture=function(R,W,g=null,C=null,e=0,FU=null){if(FU===null)if(e!==0)_P("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),FU=e,e=0;else FU=0;let VU,RU,dU,_U,mE,YE,dE,Zu,du,xu=R.isCompressedTexture?R.mipmaps[FU]:R.image;if(g!==null)VU=g.max.x-g.min.x,RU=g.max.y-g.min.y,dU=g.isBox3?g.max.z-g.min.z:1,_U=g.min.x,mE=g.min.y,YE=g.isBox3?g.min.z:0;else{let b5=Math.pow(2,-e);if(VU=Math.floor(xu.width*b5),RU=Math.floor(xu.height*b5),R.isDataArrayTexture)dU=xu.depth;else if(R.isData3DTexture)dU=Math.floor(xu.depth*b5);else dU=1;_U=0,mE=0,YE=0}if(C!==null)dE=C.x,Zu=C.y,du=C.z;else dE=0,Zu=0,du=0;let vE=eU.convert(W.format),zE=eU.convert(W.type),nE;if(W.isData3DTexture)S.setTexture3D(W,0),nE=l.TEXTURE_3D;else if(W.isDataArrayTexture||W.isCompressedArrayTexture)S.setTexture2DArray(W,0),nE=l.TEXTURE_2D_ARRAY;else S.setTexture2D(W,0),nE=l.TEXTURE_2D;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,W.flipY),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),l.pixelStorei(l.UNPACK_ALIGNMENT,W.unpackAlignment);let rE=l.getParameter(l.UNPACK_ROW_LENGTH),wu=l.getParameter(l.UNPACK_IMAGE_HEIGHT),Y5=l.getParameter(l.UNPACK_SKIP_PIXELS),hu=l.getParameter(l.UNPACK_SKIP_ROWS),Op=l.getParameter(l.UNPACK_SKIP_IMAGES);l.pixelStorei(l.UNPACK_ROW_LENGTH,xu.width),l.pixelStorei(l.UNPACK_IMAGE_HEIGHT,xu.height),l.pixelStorei(l.UNPACK_SKIP_PIXELS,_U),l.pixelStorei(l.UNPACK_SKIP_ROWS,mE),l.pixelStorei(l.UNPACK_SKIP_IMAGES,YE);let bu=R.isDataArrayTexture||R.isData3DTexture,I5=W.isDataArrayTexture||W.isData3DTexture;if(R.isDepthTexture){let b5=t.get(R),O5=t.get(W),V5=t.get(b5.__renderTarget),dx=t.get(O5.__renderTarget);gU.bindFramebuffer(l.READ_FRAMEBUFFER,V5.__webglFramebuffer),gU.bindFramebuffer(l.DRAW_FRAMEBUFFER,dx.__webglFramebuffer);for(let Ac=0;Ac<dU;Ac++){if(bu)l.framebufferTextureLayer(l.READ_FRAMEBUFFER,l.COLOR_ATTACHMENT0,t.get(R).__webglTexture,e,YE+Ac),l.framebufferTextureLayer(l.DRAW_FRAMEBUFFER,l.COLOR_ATTACHMENT0,t.get(W).__webglTexture,FU,du+Ac);l.blitFramebuffer(_U,mE,VU,RU,dE,Zu,VU,RU,l.DEPTH_BUFFER_BIT,l.NEAREST)}gU.bindFramebuffer(l.READ_FRAMEBUFFER,null),gU.bindFramebuffer(l.DRAW_FRAMEBUFFER,null)}else if(e!==0||R.isRenderTargetTexture||t.has(R)){let b5=t.get(R),O5=t.get(W);gU.bindFramebuffer(l.READ_FRAMEBUFFER,cE),gU.bindFramebuffer(l.DRAW_FRAMEBUFFER,CU);for(let V5=0;V5<dU;V5++){if(bu)l.framebufferTextureLayer(l.READ_FRAMEBUFFER,l.COLOR_ATTACHMENT0,b5.__webglTexture,e,YE+V5);else l.framebufferTexture2D(l.READ_FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,b5.__webglTexture,e);if(I5)l.framebufferTextureLayer(l.DRAW_FRAMEBUFFER,l.COLOR_ATTACHMENT0,O5.__webglTexture,FU,du+V5);else l.framebufferTexture2D(l.DRAW_FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,O5.__webglTexture,FU);if(e!==0)l.blitFramebuffer(_U,mE,VU,RU,dE,Zu,VU,RU,l.COLOR_BUFFER_BIT,l.NEAREST);else if(I5)l.copyTexSubImage3D(nE,FU,dE,Zu,du+V5,_U,mE,VU,RU);else l.copyTexSubImage2D(nE,FU,dE,Zu,_U,mE,VU,RU)}gU.bindFramebuffer(l.READ_FRAMEBUFFER,null),gU.bindFramebuffer(l.DRAW_FRAMEBUFFER,null)}else if(I5)if(R.isDataTexture||R.isData3DTexture)l.texSubImage3D(nE,FU,dE,Zu,du,VU,RU,dU,vE,zE,xu.data);else if(W.isCompressedArrayTexture)l.compressedTexSubImage3D(nE,FU,dE,Zu,du,VU,RU,dU,vE,xu.data);else l.texSubImage3D(nE,FU,dE,Zu,du,VU,RU,dU,vE,zE,xu);else if(R.isDataTexture)l.texSubImage2D(l.TEXTURE_2D,FU,dE,Zu,VU,RU,vE,zE,xu.data);else if(R.isCompressedTexture)l.compressedTexSubImage2D(l.TEXTURE_2D,FU,dE,Zu,xu.width,xu.height,vE,xu.data);else l.texSubImage2D(l.TEXTURE_2D,FU,dE,Zu,VU,RU,vE,zE,xu);if(l.pixelStorei(l.UNPACK_ROW_LENGTH,rE),l.pixelStorei(l.UNPACK_IMAGE_HEIGHT,wu),l.pixelStorei(l.UNPACK_SKIP_PIXELS,Y5),l.pixelStorei(l.UNPACK_SKIP_ROWS,hu),l.pixelStorei(l.UNPACK_SKIP_IMAGES,Op),FU===0&&W.generateMipmaps)l.generateMipmap(nE);gU.unbindTexture()},this.initRenderTarget=function(R){if(t.get(R).__webglFramebuffer===void 0)S.setupRenderTarget(R)},this.initTexture=function(R){if(R.isCubeTexture)S.setTextureCube(R,0);else if(R.isData3DTexture)S.setTexture3D(R,0);else if(R.isDataArrayTexture||R.isCompressedArrayTexture)S.setTexture2DArray(R,0);else S.setTexture2D(R,0);gU.unbindTexture()},this.resetState=function(){w=0,h=0,_=null,gU.reset(),WU.reset()},typeof __THREE_DEVTOOLS__!=="undefined")__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ZO}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(U){this._outputColorSpace=U;let E=this.getContext();E.drawingBufferColorSpace=Hu._getDrawingBufferColorSpace(U),E.unpackColorSpace=Hu._getUnpackColorSpace()}}var e3=OE(TE(),1),C3=OE(K3(),1);var a3=(U)=>{let E,u=new Set,p=(j,H)=>{let k=typeof j==="function"?j(E):j;if(!Object.is(k,E)){let Q=E;E=(H!=null?H:typeof k!=="object"||k===null)?k:Object.assign({},E,k),u.forEach((y)=>y(E,Q))}},z=()=>E,P={setState:p,getState:z,getInitialState:()=>n,subscribe:(j)=>{return u.add(j),()=>u.delete(j)}},n=E=U(p,z,P);return P},_3=(U)=>U?a3(U):a3;var{useSyncExternalStoreWithSelector:YzU}=C3.default,ZzU=(U)=>U;function PzU(U,E=ZzU,u){let p=YzU(U.subscribe,U.getState,U.getInitialState,E,u);return e3.default.useDebugValue(p),p}var g3=(U,E)=>{let u=_3(U),p=(z,c=E)=>PzU(u,z,c);return Object.assign(p,u),p},g1=(U,E)=>U?g3(U,E):g3;var xzU=(U)=>typeof U==="object"&&typeof U.then==="function",Lx=[];function U6(U,E,u=(p,z)=>p===z){if(U===E)return!0;if(!U||!E)return!1;let p=U.length;if(E.length!==p)return!1;for(let z=0;z<p;z++)if(!u(U[z],E[z]))return!1;return!0}function E6(U,E=null,u=!1,p={}){if(E===null)E=[U];for(let c of Lx)if(U6(E,c.keys,c.equal)){if(u)return;if(Object.prototype.hasOwnProperty.call(c,"error"))throw c.error;if(Object.prototype.hasOwnProperty.call(c,"response")){if(p.lifespan&&p.lifespan>0){if(c.timeout)clearTimeout(c.timeout);c.timeout=setTimeout(c.remove,p.lifespan)}return c.response}if(!u)throw c.promise}let z={keys:E,equal:p.equal,remove:()=>{let c=Lx.indexOf(z);if(c!==-1)Lx.splice(c,1)},promise:(xzU(U)?U:U(...E)).then((c)=>{if(z.response=c,p.lifespan&&p.lifespan>0)z.timeout=setTimeout(z.remove,p.lifespan)}).catch((c)=>z.error=c)};if(Lx.push(z),!u)throw z.promise;return}var u6=(U,E,u)=>E6(U,E,!1,u),p6=(U,E,u)=>void E6(U,E,!0,u);var z6=(U)=>{if(U===void 0||U.length===0)Lx.splice(0,Lx.length);else{let E=Lx.find((u)=>U6(U,u.keys,u.equal));if(E)E.remove()}};var Nq=OE(R$(),1);JU();var mp=OE(TE(),1);function gO(U,E,u){if(!U)return;if(u(U)===!0)return U;let p=E?U.return:U.child;for(;p;){let z=gO(p,E,u);if(z)return z;p=E?null:p.sibling}}function c6(U){try{return Object.defineProperties(U,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(E){return U}}var e1=c6(mp.createContext(null));class eO extends mp.Component{render(){return mp.createElement(e1.Provider,{value:this._reactInternals},this.props.children)}}function C1(){let U=mp.useContext(e1);if(U===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");let E=mp.useId();return mp.useMemo(()=>{for(let u of[U,U==null?void 0:U.alternate]){if(!u)continue;let p=gO(u,!1,(z)=>{let c=z.memoizedState;for(;c;){if(c.memoizedState===E)return!0;c=c.next}});if(p)return p}},[U,E])}var nzU=Symbol.for("react.context"),jzU=(U)=>U!==null&&typeof U=="object"&&("$$typeof"in U)&&U.$$typeof===nzU;function qzU(){let U=C1(),[E]=mp.useState(()=>new Map);E.clear();let u=U;for(;u;){let p=u.type;jzU(p)&&p!==e1&&!E.has(p)&&E.set(p,mp.use(c6(p))),u=u.return}return E}function Y6(){let U=qzU();return mp.useMemo(()=>Array.from(U.keys()).reduce((E,u)=>(p)=>mp.createElement(E,null,mp.createElement(u.Provider,{...p,value:U.get(u)})),(E)=>mp.createElement(eO,{...E})),[U])}function I6(U){let E=U.root;while(E.getState().previousRoot)E=E.getState().previousRoot;return E}var O6=(U)=>U&&U.isOrthographicCamera,N6=(U)=>U&&U.hasOwnProperty("current"),HzU=(U)=>U!=null&&(typeof U==="string"||typeof U==="number"||U.isColor),rq=((U,E)=>typeof window!=="undefined"&&(((U=window.document)==null?void 0:U.createElement)||((E=window.navigator)==null?void 0:E.product)==="ReactNative"))()?zp.useLayoutEffect:zp.useEffect;function ZN(U){let E=zp.useRef(U);return rq(()=>void(E.current=U),[U]),E}function r6(){let U=C1(),E=Y6();return zp.useMemo(()=>({children:u})=>{let z=gO(U,!0,(c)=>c.type===zp.StrictMode)?zp.StrictMode:zp.Fragment;return $(z,{children:$(E,{children:u})})},[U,E])}function L6({set:U}){return rq(()=>{return U(new Promise(()=>null)),()=>U(!1)},[U]),null}var X6=((U)=>(U=class E extends zp.Component{constructor(...u){super(...u);this.state={error:!1}}componentDidCatch(u){this.props.set(u)}render(){return this.state.error?null:this.props.children}},U.getDerivedStateFromError=()=>({error:!0}),U))();function T6(U){var E;let u=typeof window!=="undefined"?(E=window.devicePixelRatio)!=null?E:2:1;return Array.isArray(U)?Math.min(Math.max(U[0],u),U[1]):U}function Xx(U){var E;return(E=U.__r3f)==null?void 0:E.root.getState()}var rp={obj:(U)=>U===Object(U)&&!rp.arr(U)&&typeof U!=="function",fun:(U)=>typeof U==="function",str:(U)=>typeof U==="string",num:(U)=>typeof U==="number",boo:(U)=>typeof U==="boolean",und:(U)=>U===void 0,nul:(U)=>U===null,arr:(U)=>Array.isArray(U),equ(U,E,{arrays:u="shallow",objects:p="reference",strict:z=!0}={}){if(typeof U!==typeof E||!!U!==!!E)return!1;if(rp.str(U)||rp.num(U)||rp.boo(U))return U===E;let c=rp.obj(U);if(c&&p==="reference")return U===E;let Y=rp.arr(U);if(Y&&u==="reference")return U===E;if((Y||c)&&U===E)return!0;let P;for(P in U)if(!(P in E))return!1;if(c&&u==="shallow"&&p==="shallow"){for(P in z?E:U)if(!rp.equ(U[P],E[P],{strict:z,objects:"reference"}))return!1}else for(P in z?E:U)if(U[P]!==E[P])return!1;if(rp.und(P)){if(Y&&U.length===0&&E.length===0)return!0;if(c&&Object.keys(U).length===0&&Object.keys(E).length===0)return!0;if(U!==E)return!1}return!0}};function o6(U){let E={nodes:{},materials:{},meshes:{}};if(U)U.traverse((u)=>{if(u.name)E.nodes[u.name]=u;if(u.material&&!E.materials[u.material.name])E.materials[u.material.name]=u.material;if(u.isMesh&&!E.meshes[u.name])E.meshes[u.name]=u});return E}function i6(U){if(U.type!=="Scene")U.dispose==null||U.dispose();for(let E in U){let u=U[E];if((u==null?void 0:u.type)!=="Scene")u==null||u.dispose==null||u.dispose()}}var F6=["children","key","ref"];function kzU(U){let E={};for(let u in U)if(!F6.includes(u))E[u]=U[u];return E}function uN(U,E,u,p){let z=U,c=z==null?void 0:z.__r3f;if(!c){if(c={root:E,type:u,parent:null,children:[],props:kzU(p),object:z,eventCount:0,handlers:{},isHidden:!1},z)z.__r3f=c}return c}function nQ(U,E){if(!E.includes("-"))return{root:U,key:E,target:U[E]};if(E in U)return{root:U,key:E,target:U[E]};let u=U,p=E.split("-");for(let z of p){if(typeof u!=="object"||u===null){if(u!==void 0){let c=p.slice(p.indexOf(z)).join("-");return{root:u,key:c,target:void 0}}return{root:U,key:E,target:void 0}}E=z,U=u,u=u[E]}return{root:U,key:E,target:u}}var Z6=/-\d+$/;function pN(U,E){if(rp.str(E.props.attach)){if(Z6.test(E.props.attach)){let z=E.props.attach.replace(Z6,""),{root:c,key:Y}=nQ(U.object,z);if(!Array.isArray(c[Y]))c[Y]=[]}let{root:u,key:p}=nQ(U.object,E.props.attach);E.previousAttach=u[p],u[p]=E.object}else if(rp.fun(E.props.attach))E.previousAttach=E.props.attach(U.object,E.object)}function zN(U,E){if(rp.str(E.props.attach)){let{root:u,key:p}=nQ(U.object,E.props.attach),z=E.previousAttach;if(z===void 0)delete u[p];else u[p]=z}else E.previousAttach==null||E.previousAttach(U.object,E.object);delete E.previousAttach}var Zi=[...F6,"args","dispose","attach","object","onUpdate","dispose"],P6=new Map;function QzU(U){let E=P6.get(U.constructor);try{if(!E)E=new U.constructor,P6.set(U.constructor,E)}catch(u){}return E}function $zU(U,E){let u={};for(let p in E){if(Zi.includes(p))continue;if(rp.equ(E[p],U.props[p]))continue;u[p]=E[p];for(let z in E)if(z.startsWith(`${p}-`))u[z]=E[z]}for(let p in U.props){if(Zi.includes(p)||E.hasOwnProperty(p))continue;let{root:z,key:c}=nQ(U.object,p);if(z.constructor&&z.constructor.length===0){let Y=QzU(z);if(!rp.und(Y))u[c]=Y[c]}else u[c]=0}return u}var yzU=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],IzU=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function W0(U,E){var u;let p=U.__r3f,z=p&&I6(p).getState(),c=p==null?void 0:p.eventCount;for(let P in E){let n=E[P];if(Zi.includes(P))continue;if(p&&IzU.test(P)){if(typeof n==="function")p.handlers[P]=n;else delete p.handlers[P];p.eventCount=Object.keys(p.handlers).length;continue}if(n===void 0)continue;let{root:j,key:H,target:k}=nQ(U,P);if(k===void 0&&(typeof j!=="object"||j===null))throw Error(`R3F: Cannot set "${P}". Ensure it is an object before setting "${H}".`);if(k instanceof uY&&n instanceof uY)k.mask=n.mask;else if(k instanceof EE&&HzU(n))k.set(n);else if(k!==null&&typeof k==="object"&&typeof k.set==="function"&&typeof k.copy==="function"&&n!=null&&n.constructor&&k.constructor===n.constructor)k.copy(n);else if(k!==null&&typeof k==="object"&&typeof k.set==="function"&&Array.isArray(n))if(typeof k.fromArray==="function")k.fromArray(n);else k.set(...n);else if(k!==null&&typeof k==="object"&&typeof k.set==="function"&&typeof n==="number")if(typeof k.setScalar==="function")k.setScalar(n);else k.set(n);else{var Y;if(j[H]=n,z&&!z.linear&&yzU.includes(H)&&(Y=j[H])!=null&&Y.isTexture&&j[H].format===Wp&&j[H].type===j5)j[H].colorSpace=_c}}if(p!=null&&p.parent&&z!=null&&z.internal&&(u=p.object)!=null&&u.isObject3D&&c!==p.eventCount){let P=p.object,n=z.internal.interaction.indexOf(P);if(n>-1)z.internal.interaction.splice(n,1);if(p.eventCount&&P.raycast!==null)z.internal.interaction.push(P)}if(p&&p.props.attach===void 0){if(p.object.isBufferGeometry)p.props.attach="geometry";else if(p.object.isMaterial)p.props.attach="material"}if(p)Lq(p);return U}function Lq(U){var E;if(!U.parent)return;U.props.onUpdate==null||U.props.onUpdate(U.object);let u=(E=U.root)==null?void 0:E.getState==null?void 0:E.getState();if(u&&u.internal.frames===0)u.invalidate()}function A6(U,E){if(U.manual)return;if(O6(U))U.left=E.width/-2,U.right=E.width/2,U.top=E.height/2,U.bottom=E.height/-2;else U.aspect=E.width/E.height;U.updateProjectionMatrix()}var jz=(U)=>U==null?void 0:U.isObject3D;function CO(U){return(U.eventObject||U.object).uuid+"/"+U.index+U.instanceId}function m6(U,E,u,p){let z=u.get(E);if(z){if(u.delete(E),u.size===0)U.delete(p),z.target.releasePointerCapture(p)}}function OzU(U,E){let{internal:u}=U.getState();u.interaction=u.interaction.filter((p)=>p!==E),u.initialHits=u.initialHits.filter((p)=>p!==E),u.hovered.forEach((p,z)=>{if(p.eventObject===E||p.object===E)u.hovered.delete(z)}),u.capturedMap.forEach((p,z)=>{m6(u.capturedMap,E,p,z)})}function V6(U){function E(n){let{internal:j}=U.getState(),H=n.offsetX-j.initialClick[0],k=n.offsetY-j.initialClick[1];return Math.round(Math.sqrt(H*H+k*k))}function u(n){return n.filter((j)=>["Move","Over","Enter","Out","Leave"].some((H)=>{var k;return(k=j.__r3f)==null?void 0:k.handlers["onPointer"+H]}))}function p(n,j){let H=U.getState(),k=new Set,Q=[],y=j?j(H.internal.interaction):H.internal.interaction;for(let O=0;O<y.length;O++){let L=Xx(y[O]);if(L)L.raycaster.camera=void 0}if(!H.previousRoot)H.events.compute==null||H.events.compute(n,H);function r(O){let L=Xx(O);if(!L||!L.events.enabled||L.raycaster.camera===null)return[];if(L.raycaster.camera===void 0){var X;if(L.events.compute==null||L.events.compute(n,L,(X=L.previousRoot)==null?void 0:X.getState()),L.raycaster.camera===void 0)L.raycaster.camera=null}return L.raycaster.camera?L.raycaster.intersectObject(O,!0):[]}let T=y.flatMap(r).sort((O,L)=>{let X=Xx(O.object),i=Xx(L.object);if(!X||!i)return O.distance-L.distance;return i.events.priority-X.events.priority||O.distance-L.distance}).filter((O)=>{let L=CO(O);if(k.has(L))return!1;return k.add(L),!0});if(H.events.filter)T=H.events.filter(T,H);for(let O of T){let L=O.object;while(L){var N;if((N=L.__r3f)!=null&&N.eventCount)Q.push({...O,eventObject:L});L=L.parent}}if("pointerId"in n&&H.internal.capturedMap.has(n.pointerId)){for(let O of H.internal.capturedMap.get(n.pointerId).values())if(!k.has(CO(O.intersection)))Q.push(O.intersection)}return Q}function z(n,j,H,k){if(n.length){let Q={stopped:!1};for(let y of n){let r=Xx(y.object);if(!r)y.object.traverseAncestors((T)=>{let N=Xx(T);if(N)return r=N,!1});if(r){let{raycaster:T,pointer:N,camera:O,internal:L}=r,X=new b(N.x,N.y,0).unproject(O),i=(V)=>{var w,h;return(w=(h=L.capturedMap.get(V))==null?void 0:h.has(y.eventObject))!=null?w:!1},B=(V)=>{let w={intersection:y,target:j.target};if(L.capturedMap.has(V))L.capturedMap.get(V).set(y.eventObject,w);else L.capturedMap.set(V,new Map([[y.eventObject,w]]));j.target.setPointerCapture(V)},G=(V)=>{let w=L.capturedMap.get(V);if(w)m6(L.capturedMap,y.eventObject,w,V)},d={};for(let V in j){let w=j[V];if(typeof w!=="function")d[V]=w}let m={...y,...d,pointer:N,intersections:n,stopped:Q.stopped,delta:H,unprojectedPoint:X,ray:T.ray,camera:O,stopPropagation(){let V="pointerId"in j&&L.capturedMap.get(j.pointerId);if(!V||V.has(y.eventObject)){if(m.stopped=Q.stopped=!0,L.hovered.size&&Array.from(L.hovered.values()).find((w)=>w.eventObject===y.eventObject)){let w=n.slice(0,n.indexOf(y));c([...w,y])}}},target:{hasPointerCapture:i,setPointerCapture:B,releasePointerCapture:G},currentTarget:{hasPointerCapture:i,setPointerCapture:B,releasePointerCapture:G},nativeEvent:j};if(k(m),Q.stopped===!0)break}}}return n}function c(n){let{internal:j}=U.getState();for(let H of j.hovered.values())if(!n.length||!n.find((k)=>k.object===H.object&&k.index===H.index&&k.instanceId===H.instanceId)){let Q=H.eventObject.__r3f;if(j.hovered.delete(CO(H)),Q!=null&&Q.eventCount){let y=Q.handlers,r={...H,intersections:n};y.onPointerOut==null||y.onPointerOut(r),y.onPointerLeave==null||y.onPointerLeave(r)}}}function Y(n,j){for(let H=0;H<j.length;H++){let k=j[H].__r3f;k==null||k.handlers.onPointerMissed==null||k.handlers.onPointerMissed(n)}}function P(n){switch(n){case"onPointerLeave":case"onPointerCancel":return()=>c([]);case"onLostPointerCapture":return(j)=>{let{internal:H}=U.getState();if("pointerId"in j&&H.capturedMap.has(j.pointerId))requestAnimationFrame(()=>{if(H.capturedMap.has(j.pointerId))H.capturedMap.delete(j.pointerId),c([])})}}return function j(H){let{onPointerMissed:k,internal:Q}=U.getState();Q.lastEvent.current=H;let y=n==="onPointerMove",r=n==="onClick"||n==="onContextMenu"||n==="onDoubleClick",N=p(H,y?u:void 0),O=r?E(H):0;if(n==="onPointerDown")Q.initialClick=[H.offsetX,H.offsetY],Q.initialHits=N.map((X)=>X.eventObject);if(r&&!N.length){if(O<=2){if(Y(H,Q.interaction),k)k(H)}}if(y)c(N);function L(X){let i=X.eventObject,B=i.__r3f;if(!(B!=null&&B.eventCount))return;let G=B.handlers;if(y){if(G.onPointerOver||G.onPointerEnter||G.onPointerOut||G.onPointerLeave){let d=CO(X),m=Q.hovered.get(d);if(!m)Q.hovered.set(d,X),G.onPointerOver==null||G.onPointerOver(X),G.onPointerEnter==null||G.onPointerEnter(X);else if(m.stopped)X.stopPropagation()}G.onPointerMove==null||G.onPointerMove(X)}else{let d=G[n];if(d){if(!r||Q.initialHits.includes(i))Y(H,Q.interaction.filter((m)=>!Q.initialHits.includes(m))),d(X)}else if(r&&Q.initialHits.includes(i))Y(H,Q.interaction.filter((m)=>!Q.initialHits.includes(m)))}}z(N,H,O,L)}}return{handlePointer:P}}var x6=(U)=>!!(U!=null&&U.render),PN=zp.createContext(null),NzU=(U,E)=>{let u=g1((P,n)=>{let j=new b,H=new b,k=new b;function Q(O=n().camera,L=H,X=n().size){let{width:i,height:B,top:G,left:d}=X,m=i/B;if(L.isVector3)k.copy(L);else k.set(...L);let V=O.getWorldPosition(j).distanceTo(k);if(O6(O))return{width:i/O.zoom,height:B/O.zoom,top:G,left:d,factor:1,distance:V,aspect:m};else{let w=O.fov*Math.PI/180,h=2*Math.tan(w/2)*V,_=h*(i/B);return{width:_,height:h,top:G,left:d,factor:i/_,distance:V,aspect:m}}}let y=void 0,r=(O)=>P((L)=>({performance:{...L.performance,current:O}})),T=new LU;return{set:P,get:n,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(O=1)=>U(n(),O),advance:(O,L)=>E(O,L,n()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new qq,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:0.5,max:1,debounce:200,regress:()=>{let O=n();if(y)clearTimeout(y);if(O.performance.current!==O.performance.min)r(O.performance.min);y=setTimeout(()=>r(n().performance.max),O.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Q},setEvents:(O)=>P((L)=>({...L,events:{...L.events,...O}})),setSize:(O,L,X=0,i=0)=>{let B=n().camera,G={width:O,height:L,top:X,left:i};P((d)=>({size:G,viewport:{...d.viewport,...Q(B,H,G)}}))},setDpr:(O)=>P((L)=>{let X=T6(O);return{viewport:{...L.viewport,dpr:X,initialDpr:L.viewport.initialDpr||X}}}),setFrameloop:(O="always")=>{let L=n().clock;if(L.stop(),L.elapsedTime=0,O!=="never")L.start(),L.elapsedTime=0;P(()=>({frameloop:O}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:zp.createRef(),active:!1,frames:0,priority:0,subscribe:(O,L,X)=>{let i=n().internal;return i.priority=i.priority+(L>0?1:0),i.subscribers.push({ref:O,priority:L,store:X}),i.subscribers=i.subscribers.sort((B,G)=>B.priority-G.priority),()=>{let B=n().internal;if(B!=null&&B.subscribers)B.priority=B.priority-(L>0?1:0),B.subscribers=B.subscribers.filter((G)=>G.ref!==O)}}}}}),p=u.getState(),z=p.size,c=p.viewport.dpr,Y=p.camera;return u.subscribe(()=>{let{camera:P,size:n,viewport:j,gl:H,set:k}=u.getState();if(n.width!==z.width||n.height!==z.height||j.dpr!==c){if(z=n,c=j.dpr,A6(P,n),j.dpr>0)H.setPixelRatio(j.dpr);let Q=typeof HTMLCanvasElement!=="undefined"&&H.domElement instanceof HTMLCanvasElement;H.setSize(n.width,n.height,Q)}if(P!==Y)Y=P,k((Q)=>({viewport:{...Q.viewport,...Q.viewport.getCurrentViewport(P)}}))}),u.subscribe((P)=>U(P)),u};function xN(){let U=zp.useContext(PN);if(!U)throw new Error("R3F: Hooks can only be used within the Canvas component!");return U}function qz(U=(u)=>u,E){return xN()(U,E)}function rc(U,E=0){let u=xN(),p=u.getState().internal.subscribe,z=ZN(U);return rq(()=>p(z,E,u),[E,p,u]),null}var n6=new WeakMap,rzU=(U)=>{var E;return typeof U==="function"&&(U==null?void 0:(E=U.prototype)==null?void 0:E.constructor)===U};function G6(U,E){return function(u,...p){let z;if(rzU(u)){if(z=n6.get(u),!z)z=new u,n6.set(u,z)}else z=u;if(U)U(z);return Promise.all(p.map((c)=>new Promise((Y,P)=>z.load(c,(n)=>{if(jz(n==null?void 0:n.scene))Object.assign(n,o6(n.scene));Y(n)},E,(n)=>P(new Error(`Could not load ${c}: ${n==null?void 0:n.message}`))))))}}function f0(U,E,u,p){let z=Array.isArray(E)?E:[E],c=u6(G6(u,p),[U,...z],{equal:rp.equ});return Array.isArray(E)?c:c[0]}f0.preload=function(U,E,u){let p=Array.isArray(E)?E:[E];return p6(G6(u),[U,...p])};f0.clear=function(U,E){let u=Array.isArray(E)?E:[E];return z6([U,...u])};var LzU=1,XzU=8,TzU=32,ozU=2,izU={name:"@react-three/fiber",version:"9.5.0",description:"A React renderer for Threejs",keywords:["react","renderer","fiber","three","threejs"],author:"Paul Henschel (https://github.com/drcmda)",license:"MIT",maintainers:["Josh Ellis (https://github.com/joshuaellis)","Cody Bennett (https://github.com/codyjasonbennett)","Kris Baumgarter (https://github.com/krispya)"],bugs:{url:"https://github.com/pmndrs/react-three-fiber/issues"},homepage:"https://github.com/pmndrs/react-three-fiber#readme",repository:{type:"git",url:"git+https://github.com/pmndrs/react-three-fiber.git"},collective:{type:"opencollective",url:"https://opencollective.com/react-three-fiber"},main:"dist/react-three-fiber.cjs.js",module:"dist/react-three-fiber.esm.js",types:"dist/react-three-fiber.cjs.d.ts","react-native":"native/dist/react-three-fiber-native.cjs.js",sideEffects:!1,preconstruct:{entrypoints:["index.tsx","native.tsx"]},scripts:{prebuild:"cp ../../readme.md readme.md"},devDependencies:{"@types/react-reconciler":"^0.32.3","react-reconciler":"^0.33.0"},dependencies:{"@babel/runtime":"^7.17.8","@types/webxr":"*","base64-js":"^1.5.1",buffer:"^6.0.3","its-fine":"^2.0.0","react-use-measure":"^2.1.7",scheduler:"^0.27.0","suspend-react":"^0.1.3","use-sync-external-store":"^1.4.0",zustand:"^5.0.3"},peerDependencies:{expo:">=43.0","expo-asset":">=8.4","expo-file-system":">=11.0","expo-gl":">=11.0",react:">=19 <19.3","react-dom":">=19 <19.3","react-native":">=0.78",three:">=0.156"},peerDependenciesMeta:{"react-dom":{optional:!0},"react-native":{optional:!0},expo:{optional:!0},"expo-asset":{optional:!0},"expo-file-system":{optional:!0},"expo-gl":{optional:!0}}};function FzU(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U}var j6={exports:{}},Pi={exports:{}};Pi.exports;var q6;function AzU(){return q6||(q6=1,function(U){U.exports=function(E){function u(Z,x,q,I){return new jW(Z,x,q,I)}function p(){}function z(Z){var x="https://react.dev/errors/"+Z;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var q=2;q<arguments.length;q++)x+="&args[]="+encodeURIComponent(arguments[q])}return"Minified React error #"+Z+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(Z){var x=Z,q=Z;if(Z.alternate)for(;x.return;)x=x.return;else{Z=x;do x=Z,(x.flags&4098)!==0&&(q=x.return),Z=x.return;while(Z)}return x.tag===3?q:null}function Y(Z){if(c(Z)!==Z)throw Error(z(188))}function P(Z){var x=Z.alternate;if(!x){if(x=c(Z),x===null)throw Error(z(188));return x!==Z?null:Z}for(var q=Z,I=x;;){var o=q.return;if(o===null)break;var F=o.alternate;if(F===null){if(I=o.return,I!==null){q=I;continue}break}if(o.child===F.child){for(F=o.child;F;){if(F===q)return Y(o),Z;if(F===I)return Y(o),x;F=F.sibling}throw Error(z(188))}if(q.return!==I.return)q=o,I=F;else{for(var D=!1,s=o.child;s;){if(s===q){D=!0,q=o,I=F;break}if(s===I){D=!0,I=o,q=F;break}s=s.sibling}if(!D){for(s=F.child;s;){if(s===q){D=!0,q=F,I=o;break}if(s===I){D=!0,I=F,q=o;break}s=s.sibling}if(!D)throw Error(z(189))}}if(q.alternate!==I)throw Error(z(190))}if(q.tag!==3)throw Error(z(188));return q.stateNode.current===q?Z:x}function n(Z){var x=Z.tag;if(x===5||x===26||x===27||x===6)return Z;for(Z=Z.child;Z!==null;){if(x=n(Z),x!==null)return x;Z=Z.sibling}return null}function j(Z){var x=Z.tag;if(x===5||x===26||x===27||x===6)return Z;for(Z=Z.child;Z!==null;){if(Z.tag!==4&&(x=j(Z),x!==null))return x;Z=Z.sibling}return null}function H(Z){return Z===null||typeof Z!="object"?null:(Z=Im&&Z[Im]||Z["@@iterator"],typeof Z=="function"?Z:null)}function k(Z){if(Z==null)return null;if(typeof Z=="function")return Z.$$typeof===$W?null:Z.displayName||Z.name||null;if(typeof Z=="string")return Z;switch(Z){case tx:return"Fragment";case vr:return"Profiler";case $m:return"StrictMode";case Rr:return"Suspense";case Dr:return"SuspenseList";case Jr:return"Activity"}if(typeof Z=="object")switch(Z.$$typeof){case Dx:return"Portal";case OY:return Z.displayName||"Context";case ym:return(Z._context.displayName||"Context")+".Consumer";case Sr:var x=Z.render;return Z=Z.displayName,Z||(Z=x.displayName||x.name||"",Z=Z!==""?"ForwardRef("+Z+")":"ForwardRef"),Z;case tr:return x=Z.displayName||null,x!==null?x:k(Z.type)||"Memo";case NY:x=Z._payload,Z=Z._init;try{return k(Z(x))}catch{}}return null}function Q(Z){return{current:Z}}function y(Z){0>bx||(Z.current=fr[bx],fr[bx]=null,bx--)}function r(Z,x){bx++,fr[bx]=Z.current,Z.current=x}function T(Z){return Z>>>=0,Z===0?32:31-(Wf(Z)/ff|0)|0}function N(Z){var x=Z&42;if(x!==0)return x;switch(Z&-Z){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return Z&261888;case 262144:case 524288:case 1048576:case 2097152:return Z&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return Z&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Z}}function O(Z,x,q){var I=Z.pendingLanes;if(I===0)return 0;var o=0,F=Z.suspendedLanes,D=Z.pingedLanes;Z=Z.warmLanes;var s=I&134217727;return s!==0?(I=s&~F,I!==0?o=N(I):(D&=s,D!==0?o=N(D):q||(q=s&~Z,q!==0&&(o=N(q))))):(s=I&~F,s!==0?o=N(s):D!==0?o=N(D):q||(q=I&~Z,q!==0&&(o=N(q)))),o===0?0:x!==0&&x!==o&&(x&F)===0&&(F=o&-o,q=x&-x,F>=q||F===32&&(q&4194048)!==0)?x:o}function L(Z,x){return(Z.pendingLanes&~(Z.suspendedLanes&~Z.pingedLanes)&x)===0}function X(Z,x){switch(Z){case 1:case 2:case 4:case 8:case 64:return x+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i(){var Z=q$;return q$<<=1,(q$&62914560)===0&&(q$=4194304),Z}function B(Z){for(var x=[],q=0;31>q;q++)x.push(Z);return x}function G(Z,x){Z.pendingLanes|=x,x!==268435456&&(Z.suspendedLanes=0,Z.pingedLanes=0,Z.warmLanes=0)}function d(Z,x,q,I,o,F){var D=Z.pendingLanes;Z.pendingLanes=q,Z.suspendedLanes=0,Z.pingedLanes=0,Z.warmLanes=0,Z.expiredLanes&=q,Z.entangledLanes&=q,Z.errorRecoveryDisabledLanes&=q,Z.shellSuspendCounter=0;var{entanglements:s,expirationTimes:QU,hiddenUpdates:BU}=Z;for(q=D&~q;0<q;){var ZE=31-Mz(q),fU=1<<ZE;s[ZE]=0,QU[ZE]=-1;var LE=BU[ZE];if(LE!==null)for(BU[ZE]=null,ZE=0;ZE<LE.length;ZE++){var Eu=LE[ZE];Eu!==null&&(Eu.lane&=-536870913)}q&=~fU}I!==0&&m(Z,I,0),F!==0&&o===0&&Z.tag!==0&&(Z.suspendedLanes|=F&~(D&~x))}function m(Z,x,q){Z.pendingLanes|=x,Z.suspendedLanes&=~x;var I=31-Mz(x);Z.entangledLanes|=x,Z.entanglements[I]=Z.entanglements[I]|1073741824|q&261930}function V(Z,x){var q=Z.entangledLanes|=x;for(Z=Z.entanglements;q;){var I=31-Mz(q),o=1<<I;o&x|Z[I]&x&&(Z[I]|=x),q&=~o}}function w(Z,x){var q=x&-x;return q=(q&42)!==0?1:h(q),(q&(Z.suspendedLanes|x))!==0?0:q}function h(Z){switch(Z){case 2:Z=1;break;case 8:Z=4;break;case 32:Z=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Z=128;break;case 268435456:Z=134217728;break;default:Z=0}return Z}function _(Z){return Z&=-Z,2<Z?8<Z?(Z&134217727)!==0?32:268435456:8:2}function f(Z){if(typeof gf=="function"&&ef(Z),Wz&&typeof Wz.setStrictMode=="function")try{Wz.setStrictMode(UH,Z)}catch{}}function a(Z,x){return Z===x&&(Z!==0||1/Z===1/x)||Z!==Z&&x!==x}function uU(Z){if(ar===void 0)try{throw Error()}catch(q){var x=q.stack.trim().match(/\n( *(at )?)/);ar=x&&x[1]||"",Mm=-1<q.stack.indexOf(`
    at`)?" (<anonymous>)":-1<q.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ar+Z+Mm}function UU(Z,x){if(!Z||_r)return"";_r=!0;var q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(x){var fU=function(){throw Error()};if(Object.defineProperty(fU.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fU,[])}catch(Eu){var LE=Eu}Reflect.construct(Z,[],fU)}else{try{fU.call()}catch(Eu){LE=Eu}Z.call(fU.prototype)}}else{try{throw Error()}catch(Eu){LE=Eu}(fU=Z())&&typeof fU.catch=="function"&&fU.catch(function(){})}}catch(Eu){if(Eu&&LE&&typeof Eu.stack=="string")return[Eu.stack,LE.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=I.DetermineComponentFrameRoot(),D=F[0],s=F[1];if(D&&s){var QU=D.split(`
`),BU=s.split(`
`);for(o=I=0;I<QU.length&&!QU[I].includes("DetermineComponentFrameRoot");)I++;for(;o<BU.length&&!BU[o].includes("DetermineComponentFrameRoot");)o++;if(I===QU.length||o===BU.length)for(I=QU.length-1,o=BU.length-1;1<=I&&0<=o&&QU[I]!==BU[o];)o--;for(;1<=I&&0<=o;I--,o--)if(QU[I]!==BU[o]){if(I!==1||o!==1)do if(I--,o--,0>o||QU[I]!==BU[o]){var ZE=`
`+QU[I].replace(" at new "," at ");return Z.displayName&&ZE.includes("<anonymous>")&&(ZE=ZE.replace("<anonymous>",Z.displayName)),ZE}while(1<=I&&0<=o);break}}}finally{_r=!1,Error.prepareStackTrace=q}return(q=Z?Z.displayName||Z.name:"")?uU(q):""}function ZU(Z,x){switch(Z.tag){case 26:case 27:case 5:return uU(Z.type);case 16:return uU("Lazy");case 13:return Z.child!==x&&x!==null?uU("Suspense Fallback"):uU("Suspense");case 19:return uU("SuspenseList");case 0:case 15:return UU(Z.type,!1);case 11:return UU(Z.type.render,!1);case 1:return UU(Z.type,!0);case 31:return uU("Activity");default:return""}}function EU(Z){try{var x="",q=null;do x+=ZU(Z,q),q=Z,Z=Z.return;while(Z);return x}catch(I){return`
Error generating stack: `+I.message+`
`+I.stack}}function OU(Z,x){if(typeof Z=="object"&&Z!==null){var q=Wm.get(Z);return q!==void 0?q:(x={value:Z,source:x,stack:EU(x)},Wm.set(Z,x),x)}return{value:Z,source:x,stack:EU(x)}}function NU(Z,x){Mx[Wx++]=EH,Mx[Wx++]=k$,k$=Z,EH=x}function yU(Z,x,q){y0[I0++]=Gc,y0[I0++]=Bc,y0[I0++]=rY,rY=Z;var I=Gc;Z=Bc;var o=32-Mz(I)-1;I&=~(1<<o),q+=1;var F=32-Mz(x)+o;if(30<F){var D=o-o%5;F=(I&(1<<D)-1).toString(32),I>>=D,o-=D,Gc=1<<32-Mz(x)+o|q<<o|I,Bc=F+Z}else Gc=1<<F|q<<o|I,Bc=Z}function wU(Z){Z.return!==null&&(NU(Z,1),yU(Z,1,0))}function QE(Z){for(;Z===k$;)k$=Mx[--Wx],Mx[Wx]=null,EH=Mx[--Wx],Mx[Wx]=null;for(;Z===rY;)rY=y0[--I0],y0[I0]=null,Bc=y0[--I0],y0[I0]=null,Gc=y0[--I0],y0[I0]=null}function $E(Z,x){y0[I0++]=Gc,y0[I0++]=Bc,y0[I0++]=rY,Gc=x.id,Bc=x.overflow,rY=Z}function PU(Z,x){r(LY,x),r(uH,Z),r(B5,null),Z=OW(x),y(B5),r(B5,Z)}function vU(){y(B5),y(uH),y(LY)}function TU(Z){Z.memoizedState!==null&&r(Q$,Z);var x=B5.current,q=NW(x,Z.type);x!==q&&(r(uH,Z),r(B5,q))}function HE(Z){uH.current===Z&&(y(B5),y(uH)),Q$.current===Z&&(y(Q$),q4?gZ._currentValue=Jx:gZ._currentValue2=Jx)}function yE(Z){var x=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw AU(OU(x,Z)),gr}function DE(Z,x){if(!W5)throw Error(z(175));Nf(Z.stateNode,Z.type,Z.memoizedProps,x,Z)||yE(Z,!0)}function Pu(Z){for(d5=Z.return;d5;)switch(d5.tag){case 5:case 31:case 13:O0=!1;return;case 27:case 3:O0=!0;return;default:d5=d5.return}}function tE(Z){if(!W5||Z!==d5)return!1;if(!Fu)return Pu(Z),Fu=!0,!1;var x=Z.tag;if(Z5?x!==3&&x!==27&&(x!==5||Gm(Z.type)&&!x$(Z.type,Z.memoizedProps))&&Xp&&yE(Z):x!==3&&(x!==5||Gm(Z.type)&&!x$(Z.type,Z.memoizedProps))&&Xp&&yE(Z),Pu(Z),x===13){if(!W5)throw Error(z(316));if(Z=Z.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(z(317));Xp=of(Z)}else if(x===31){if(Z=Z.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(z(317));Xp=Tf(Z)}else Xp=Z5&&x===27?nf(Z.type,Xp):d5?Vm(Z.stateNode):null;return!0}function XU(){W5&&(Xp=d5=null,Fu=!1)}function SU(){var Z=XY;return Z!==null&&(rz===null?rz=Z:rz.push.apply(rz,Z),XY=null),Z}function AU(Z){XY===null?XY=[Z]:XY.push(Z)}function uE(Z,x,q){q4?(r($$,x._currentValue),x._currentValue=q):(r($$,x._currentValue2),x._currentValue2=q)}function l(Z){var x=$$.current;q4?Z._currentValue=x:Z._currentValue2=x,y($$)}function bE(Z,x,q){for(;Z!==null;){var I=Z.alternate;if((Z.childLanes&x)!==x?(Z.childLanes|=x,I!==null&&(I.childLanes|=x)):I!==null&&(I.childLanes&x)!==x&&(I.childLanes|=x),Z===q)break;Z=Z.return}}function pE(Z,x,q,I){var o=Z.child;for(o!==null&&(o.return=Z);o!==null;){var F=o.dependencies;if(F!==null){var D=o.child;F=F.firstContext;U:for(;F!==null;){var s=F;F=o;for(var QU=0;QU<x.length;QU++)if(s.context===x[QU]){F.lanes|=q,s=F.alternate,s!==null&&(s.lanes|=q),bE(F.return,q,Z),I||(D=null);break U}F=s.next}}else if(o.tag===18){if(D=o.return,D===null)throw Error(z(341));D.lanes|=q,F=D.alternate,F!==null&&(F.lanes|=q),bE(D,q,Z),D=null}else D=o.child;if(D!==null)D.return=o;else for(D=o;D!==null;){if(D===Z){D=null;break}if(o=D.sibling,o!==null){o.return=D.return,D=o;break}D=D.return}o=D}}function wE(Z,x,q,I){Z=null;for(var o=x,F=!1;o!==null;){if(!F){if((o.flags&524288)!==0)F=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var D=o.alternate;if(D===null)throw Error(z(387));if(D=D.memoizedProps,D!==null){var s=o.type;fz(o.pendingProps.value,D.value)||(Z!==null?Z.push(s):Z=[s])}}else if(o===Q$.current){if(D=o.alternate,D===null)throw Error(z(387));D.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(Z!==null?Z.push(gZ):Z=[gZ])}o=o.return}Z!==null&&pE(x,Z,q,I),x.flags|=262144}function gU(Z){for(Z=Z.firstContext;Z!==null;){var x=Z.context;if(!fz(q4?x._currentValue:x._currentValue2,Z.memoizedValue))return!0;Z=Z.next}return!1}function JE(Z){eZ=Z,k4=null,Z=Z.dependencies,Z!==null&&(Z.firstContext=null)}function t(Z){return pU(eZ,Z)}function S(Z,x){return eZ===null&&JE(Z),pU(Z,x)}function pU(Z,x){var q=q4?x._currentValue:x._currentValue2;if(x={context:x,memoizedValue:q,next:null},k4===null){if(Z===null)throw Error(z(308));k4=x,Z.dependencies={lanes:0,firstContext:x},Z.flags|=524288}else k4=k4.next=x;return q}function IU(){return{controller:new Us,data:new Map,refCount:0}}function oU(Z){Z.refCount--,Z.refCount===0&&Es(us,function(){Z.controller.abort()})}function kU(){}function xE(Z){Z!==fx&&Z.next===null&&(fx===null?y$=fx=Z:fx=fx.next=Z),I$=!0,er||(er=!0,qE())}function bU(Z,x){if(!Cr&&I$){Cr=!0;do for(var q=!1,I=y$;I!==null;){if(!x)if(Z!==0){var o=I.pendingLanes;if(o===0)var F=0;else{var{suspendedLanes:D,pingedLanes:s}=I;F=(1<<31-Mz(42|Z)+1)-1,F&=o&~(D&~s),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(q=!0,IE(I,F))}else F=Xu,F=O(I,I===cp?F:0,I.cancelPendingCommit!==null||I.timeoutHandle!==_Z),(F&3)===0||L(I,F)||(q=!0,IE(I,F));I=I.next}while(q);Cr=!1}}function VE(){BE()}function BE(){I$=er=!1;var Z=0;CZ!==0&&mW()&&(Z=CZ);for(var x=Oz(),q=null,I=y$;I!==null;){var o=I.next,F=mU(I,x);F===0?(I.next=null,q===null?y$=o:q.next=o,o===null&&(fx=q)):(q=I,(Z!==0||(F&3)!==0)&&(I$=!0)),I=o}P5!==0&&P5!==5||bU(Z,!1),CZ!==0&&(CZ=0)}function mU(Z,x){for(var{suspendedLanes:q,pingedLanes:I,expirationTimes:o}=Z,F=Z.pendingLanes&-62914561;0<F;){var D=31-Mz(F),s=1<<D,QU=o[D];QU===-1?((s&q)===0||(s&I)!==0)&&(o[D]=X(s,x)):QU<=x&&(Z.expiredLanes|=s),F&=~s}if(x=cp,q=Xu,q=O(Z,Z===x?q:0,Z.cancelPendingCommit!==null||Z.timeoutHandle!==_Z),I=Z.callbackNode,q===0||Z===x&&(au===2||au===9)||Z.cancelPendingCommit!==null)return I!==null&&I!==null&&sr(I),Z.callbackNode=null,Z.callbackPriority=0;if((q&3)===0||L(Z,q)){if(x=q&-q,x===Z.callbackPriority)return x;switch(I!==null&&sr(I),_(q)){case 2:case 8:q=af;break;case 32:q=Kr;break;case 268435456:q=_f;break;default:q=Kr}return I=lU.bind(null,Z),q=H$(q,I),Z.callbackPriority=x,Z.callbackNode=q,x}return I!==null&&I!==null&&sr(I),Z.callbackPriority=2,Z.callbackNode=null,2}function lU(Z,x){if(P5!==0&&P5!==5)return Z.callbackNode=null,Z.callbackPriority=0,null;var q=Z.callbackNode;if(_q()&&Z.callbackNode!==q)return null;var I=Xu;return I=O(Z,Z===cp?I:0,Z.cancelPendingCommit!==null||Z.timeoutHandle!==_Z),I===0?null:(WA(Z,I,x),mU(Z,Oz()),Z.callbackNode!=null&&Z.callbackNode===q?lU.bind(null,Z):null)}function IE(Z,x){if(_q())return null;WA(Z,x,!0)}function qE(){SW?RW(function(){(Qu&6)!==0?H$(bm,VE):BE()}):H$(bm,VE)}function MU(){if(CZ===0){var Z=sx;Z===0&&(Z=n$,n$<<=1,(n$&261888)===0&&(n$=256)),CZ=Z}return CZ}function Uu(Z,x){if(pH===null){var q=pH=[];UL=0,sx=MU(),Kx={status:"pending",value:void 0,then:function(I){q.push(I)}}}return UL++,x.then(M,M),x}function M(){if(--UL===0&&pH!==null){Kx!==null&&(Kx.status="fulfilled");var Z=pH;pH=null,sx=0,Kx=null;for(var x=0;x<Z.length;x++)Z[x]()}}function eU(Z,x){var q=[],I={status:"pending",value:null,reason:null,then:function(o){q.push(o)}};return Z.then(function(){I.status="fulfilled",I.value=x;for(var o=0;o<q.length;o++)q[o](x)},function(o){for(I.status="rejected",I.reason=o,o=0;o<q.length;o++)q[o](void 0)}),I}function WU(){var Z=UP.current;return Z!==null?Z:cp.pooledCache}function kE(Z,x){x===null?r(UP,UP.current):r(UP,x.pool)}function DU(){var Z=WU();return Z===null?null:{parent:q4?Tp._currentValue:Tp._currentValue2,pool:Z}}function $U(Z,x){if(fz(Z,x))return!0;if(typeof Z!="object"||Z===null||typeof x!="object"||x===null)return!1;var q=Object.keys(Z),I=Object.keys(x);if(q.length!==I.length)return!1;for(I=0;I<q.length;I++){var o=q[I];if(!Cf.call(x,o)||!fz(Z[o],x[o]))return!1}return!0}function XE(Z){return Z=Z.status,Z==="fulfilled"||Z==="rejected"}function fE(Z,x,q){switch(q=Z[q],q===void 0?Z.push(x):q!==x&&(x.then(kU,kU),x=q),x.status){case"fulfilled":return x.value;case"rejected":throw Z=x.reason,$z(Z),Z;default:if(typeof x.status=="string")x.then(kU,kU);else{if(Z=cp,Z!==null&&100<Z.shellSuspendCounter)throw Error(z(482));Z=x,Z.status="pending",Z.then(function(I){if(x.status==="pending"){var o=x;o.status="fulfilled",o.value=I}},function(I){if(x.status==="pending"){var o=x;o.status="rejected",o.reason=I}})}switch(x.status){case"fulfilled":return x.value;case"rejected":throw Z=x.reason,$z(Z),Z}throw EP=x,ax}}function Lu(Z){try{var x=Z._init;return x(Z._payload)}catch(q){throw q!==null&&typeof q=="object"&&typeof q.then=="function"?(EP=q,ax):q}}function mu(){if(EP===null)throw Error(z(459));var Z=EP;return EP=null,Z}function $z(Z){if(Z===ax||Z===O$)throw Error(z(483))}function h5(Z){var x=zH;return zH+=1,_x===null&&(_x=[]),fE(_x,Z,x)}function Fc(Z,x){x=x.props.ref,Z.ref=x!==void 0?x:null}function tz(Z,x){throw x.$$typeof===kW?Error(z(525)):(Z=Object.prototype.toString.call(x),Error(z(31,Z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Z)))}function Bx(Z){function x(xU,zU){if(Z){var qU=xU.deletions;qU===null?(xU.deletions=[zU],xU.flags|=16):qU.push(zU)}}function q(xU,zU){if(!Z)return null;for(;zU!==null;)x(xU,zU),zU=zU.sibling;return null}function I(xU){for(var zU=new Map;xU!==null;)xU.key!==null?zU.set(xU.key,xU):zU.set(xU.index,xU),xU=xU.sibling;return zU}function o(xU,zU){return xU=j4(xU,zU),xU.index=0,xU.sibling=null,xU}function F(xU,zU,qU){return xU.index=qU,Z?(qU=xU.alternate,qU!==null?(qU=qU.index,qU<zU?(xU.flags|=67108866,zU):qU):(xU.flags|=67108866,zU)):(xU.flags|=1048576,zU)}function D(xU){return Z&&xU.alternate===null&&(xU.flags|=67108866),xU}function s(xU,zU,qU,sU){return zU===null||zU.tag!==6?(zU=Gr(qU,xU.mode,sU),zU.return=xU,zU):(zU=o(zU,qU),zU.return=xU,zU)}function QU(xU,zU,qU,sU){var ME=qU.type;return ME===tx?ZE(xU,zU,qU.props.children,sU,qU.key):zU!==null&&(zU.elementType===ME||typeof ME=="object"&&ME!==null&&ME.$$typeof===NY&&Lu(ME)===zU.type)?(zU=o(zU,qU.props),Fc(zU,qU),zU.return=xU,zU):(zU=Y$(qU.type,qU.key,qU.props,null,xU.mode,sU),Fc(zU,qU),zU.return=xU,zU)}function BU(xU,zU,qU,sU){return zU===null||zU.tag!==4||zU.stateNode.containerInfo!==qU.containerInfo||zU.stateNode.implementation!==qU.implementation?(zU=Br(qU,xU.mode,sU),zU.return=xU,zU):(zU=o(zU,qU.children||[]),zU.return=xU,zU)}function ZE(xU,zU,qU,sU,ME){return zU===null||zU.tag!==7?(zU=aZ(qU,xU.mode,sU,ME),zU.return=xU,zU):(zU=o(zU,qU),zU.return=xU,zU)}function fU(xU,zU,qU){if(typeof zU=="string"&&zU!==""||typeof zU=="number"||typeof zU=="bigint")return zU=Gr(""+zU,xU.mode,qU),zU.return=xU,zU;if(typeof zU=="object"&&zU!==null){switch(zU.$$typeof){case Z$:return qU=Y$(zU.type,zU.key,zU.props,null,xU.mode,qU),Fc(qU,zU),qU.return=xU,qU;case Dx:return zU=Br(zU,xU.mode,qU),zU.return=xU,zU;case NY:return zU=Lu(zU),fU(xU,zU,qU)}if(P$(zU)||H(zU))return zU=aZ(zU,xU.mode,qU,null),zU.return=xU,zU;if(typeof zU.then=="function")return fU(xU,h5(zU),qU);if(zU.$$typeof===OY)return fU(xU,S(xU,zU),qU);tz(xU,zU)}return null}function LE(xU,zU,qU,sU){var ME=zU!==null?zU.key:null;if(typeof qU=="string"&&qU!==""||typeof qU=="number"||typeof qU=="bigint")return ME!==null?null:s(xU,zU,""+qU,sU);if(typeof qU=="object"&&qU!==null){switch(qU.$$typeof){case Z$:return qU.key===ME?QU(xU,zU,qU,sU):null;case Dx:return qU.key===ME?BU(xU,zU,qU,sU):null;case NY:return qU=Lu(qU),LE(xU,zU,qU,sU)}if(P$(qU)||H(qU))return ME!==null?null:ZE(xU,zU,qU,sU,null);if(typeof qU.then=="function")return LE(xU,zU,h5(qU),sU);if(qU.$$typeof===OY)return LE(xU,zU,S(xU,qU),sU);tz(xU,qU)}return null}function Eu(xU,zU,qU,sU,ME){if(typeof sU=="string"&&sU!==""||typeof sU=="number"||typeof sU=="bigint")return xU=xU.get(qU)||null,s(zU,xU,""+sU,ME);if(typeof sU=="object"&&sU!==null){switch(sU.$$typeof){case Z$:return xU=xU.get(sU.key===null?qU:sU.key)||null,QU(zU,xU,sU,ME);case Dx:return xU=xU.get(sU.key===null?qU:sU.key)||null,BU(zU,xU,sU,ME);case NY:return sU=Lu(sU),Eu(xU,zU,qU,sU,ME)}if(P$(sU)||H(sU))return xU=xU.get(qU)||null,ZE(zU,xU,sU,ME,null);if(typeof sU.then=="function")return Eu(xU,zU,qU,h5(sU),ME);if(sU.$$typeof===OY)return Eu(xU,zU,qU,S(zU,sU),ME);tz(zU,sU)}return null}function ep(xU,zU,qU,sU){for(var ME=null,op=null,KE=zU,Su=zU=0,L5=null;KE!==null&&Su<qU.length;Su++){KE.index>Su?(L5=KE,KE=null):L5=KE.sibling;var Ru=LE(xU,KE,qU[Su],sU);if(Ru===null){KE===null&&(KE=L5);break}Z&&KE&&Ru.alternate===null&&x(xU,KE),zU=F(Ru,zU,Su),op===null?ME=Ru:op.sibling=Ru,op=Ru,KE=L5}if(Su===qU.length)return q(xU,KE),Fu&&NU(xU,Su),ME;if(KE===null){for(;Su<qU.length;Su++)KE=fU(xU,qU[Su],sU),KE!==null&&(zU=F(KE,zU,Su),op===null?ME=KE:op.sibling=KE,op=KE);return Fu&&NU(xU,Su),ME}for(KE=I(KE);Su<qU.length;Su++)L5=Eu(KE,xU,Su,qU[Su],sU),L5!==null&&(Z&&L5.alternate!==null&&KE.delete(L5.key===null?Su:L5.key),zU=F(L5,zU,Su),op===null?ME=L5:op.sibling=L5,op=L5);return Z&&KE.forEach(function(mY){return x(xU,mY)}),Fu&&NU(xU,Su),ME}function jH(xU,zU,qU,sU){if(qU==null)throw Error(z(151));for(var ME=null,op=null,KE=zU,Su=zU=0,L5=null,Ru=qU.next();KE!==null&&!Ru.done;Su++,Ru=qU.next()){KE.index>Su?(L5=KE,KE=null):L5=KE.sibling;var mY=LE(xU,KE,Ru.value,sU);if(mY===null){KE===null&&(KE=L5);break}Z&&KE&&mY.alternate===null&&x(xU,KE),zU=F(mY,zU,Su),op===null?ME=mY:op.sibling=mY,op=mY,KE=L5}if(Ru.done)return q(xU,KE),Fu&&NU(xU,Su),ME;if(KE===null){for(;!Ru.done;Su++,Ru=qU.next())Ru=fU(xU,Ru.value,sU),Ru!==null&&(zU=F(Ru,zU,Su),op===null?ME=Ru:op.sibling=Ru,op=Ru);return Fu&&NU(xU,Su),ME}for(KE=I(KE);!Ru.done;Su++,Ru=qU.next())Ru=Eu(KE,xU,Su,Ru.value,sU),Ru!==null&&(Z&&Ru.alternate!==null&&KE.delete(Ru.key===null?Su:Ru.key),zU=F(Ru,zU,Su),op===null?ME=Ru:op.sibling=Ru,op=Ru);return Z&&KE.forEach(function(Ys){return x(xU,Ys)}),Fu&&NU(xU,Su),ME}function cP(xU,zU,qU,sU){if(typeof qU=="object"&&qU!==null&&qU.type===tx&&qU.key===null&&(qU=qU.props.children),typeof qU=="object"&&qU!==null){switch(qU.$$typeof){case Z$:U:{for(var ME=qU.key;zU!==null;){if(zU.key===ME){if(ME=qU.type,ME===tx){if(zU.tag===7){q(xU,zU.sibling),sU=o(zU,qU.props.children),sU.return=xU,xU=sU;break U}}else if(zU.elementType===ME||typeof ME=="object"&&ME!==null&&ME.$$typeof===NY&&Lu(ME)===zU.type){q(xU,zU.sibling),sU=o(zU,qU.props),Fc(sU,qU),sU.return=xU,xU=sU;break U}q(xU,zU);break}else x(xU,zU);zU=zU.sibling}qU.type===tx?(sU=aZ(qU.props.children,xU.mode,sU,qU.key),sU.return=xU,xU=sU):(sU=Y$(qU.type,qU.key,qU.props,null,xU.mode,sU),Fc(sU,qU),sU.return=xU,xU=sU)}return D(xU);case Dx:U:{for(ME=qU.key;zU!==null;){if(zU.key===ME)if(zU.tag===4&&zU.stateNode.containerInfo===qU.containerInfo&&zU.stateNode.implementation===qU.implementation){q(xU,zU.sibling),sU=o(zU,qU.children||[]),sU.return=xU,xU=sU;break U}else{q(xU,zU);break}else x(xU,zU);zU=zU.sibling}sU=Br(qU,xU.mode,sU),sU.return=xU,xU=sU}return D(xU);case NY:return qU=Lu(qU),cP(xU,zU,qU,sU)}if(P$(qU))return ep(xU,zU,qU,sU);if(H(qU)){if(ME=H(qU),typeof ME!="function")throw Error(z(150));return qU=ME.call(qU),jH(xU,zU,qU,sU)}if(typeof qU.then=="function")return cP(xU,zU,h5(qU),sU);if(qU.$$typeof===OY)return cP(xU,zU,S(xU,qU),sU);tz(xU,qU)}return typeof qU=="string"&&qU!==""||typeof qU=="number"||typeof qU=="bigint"?(qU=""+qU,zU!==null&&zU.tag===6?(q(xU,zU.sibling),sU=o(zU,qU),sU.return=xU,xU=sU):(q(xU,zU),sU=Gr(qU,xU.mode,sU),sU.return=xU,xU=sU),D(xU)):q(xU,zU)}return function(xU,zU,qU,sU){try{zH=0;var ME=cP(xU,zU,qU,sU);return _x=null,ME}catch(KE){if(KE===ax||KE===O$)throw KE;var op=u(29,KE,null,xU.mode);return op.lanes=sU,op.return=xU,op}finally{}}}function Jz(){for(var Z=gx,x=uL=gx=0;x<Z;){var q=N0[x];N0[x++]=null;var I=N0[x];N0[x++]=null;var o=N0[x];N0[x++]=null;var F=N0[x];if(N0[x++]=null,I!==null&&o!==null){var D=I.pending;D===null?o.next=o:(o.next=D.next,D.next=o),I.pending=o}F!==0&&WZ(q,o,F)}}function hz(Z,x,q,I){N0[gx++]=Z,N0[gx++]=x,N0[gx++]=q,N0[gx++]=I,uL|=I,Z.lanes|=I,Z=Z.alternate,Z!==null&&(Z.lanes|=I)}function gE(Z,x,q,I){return hz(Z,x,q,I),v(Z)}function yz(Z,x){return hz(Z,null,null,x),v(Z)}function WZ(Z,x,q){Z.lanes|=q;var I=Z.alternate;I!==null&&(I.lanes|=q);for(var o=!1,F=Z.return;F!==null;)F.childLanes|=q,I=F.alternate,I!==null&&(I.childLanes|=q),F.tag===22&&(Z=F.stateNode,Z===null||Z._visibility&1||(o=!0)),Z=F,F=F.return;return Z.tag===3?(F=Z.stateNode,o&&x!==null&&(o=31-Mz(q),Z=F.hiddenUpdates,I=Z[o],I===null?Z[o]=[x]:I.push(x),x.lane=q|536870912),F):null}function v(Z){if(50<nH)throw nH=0,kL=null,Error(z(185));for(var x=Z.return;x!==null;)Z=x,x=Z.return;return Z.tag===3?Z.stateNode:null}function J(Z){Z.updateQueue={baseState:Z.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function K(Z,x){Z=Z.updateQueue,x.updateQueue===Z&&(x.updateQueue={baseState:Z.baseState,firstBaseUpdate:Z.firstBaseUpdate,lastBaseUpdate:Z.lastBaseUpdate,shared:Z.shared,callbacks:null})}function YU(Z){return{lane:Z,tag:0,payload:null,callback:null,next:null}}function jU(Z,x,q){var I=Z.updateQueue;if(I===null)return null;if(I=I.shared,(Qu&2)!==0){var o=I.pending;return o===null?x.next=x:(x.next=o.next,o.next=x),I.pending=x,x=v(Z),WZ(Z,null,q),x}return hz(Z,I,x,q),v(Z)}function HU(Z,x,q){if(x=x.updateQueue,x!==null&&(x=x.shared,(q&4194048)!==0)){var I=x.lanes;I&=Z.pendingLanes,q|=I,x.lanes=q,V(Z,q)}}function hU(Z,x){var{updateQueue:q,alternate:I}=Z;if(I!==null&&(I=I.updateQueue,q===I)){var o=null,F=null;if(q=q.firstBaseUpdate,q!==null){do{var D={lane:q.lane,tag:q.tag,payload:q.payload,callback:null,next:null};F===null?o=F=D:F=F.next=D,q=q.next}while(q!==null);F===null?o=F=x:F=F.next=x}else o=F=x;q={baseState:I.baseState,firstBaseUpdate:o,lastBaseUpdate:F,shared:I.shared,callbacks:I.callbacks},Z.updateQueue=q;return}Z=q.lastBaseUpdate,Z===null?q.firstBaseUpdate=x:Z.next=x,q.lastBaseUpdate=x}function GU(){if(pL){var Z=Kx;if(Z!==null)throw Z}}function aU(Z,x,q,I){pL=!1;var o=Z.updateQueue;TY=!1;var{firstBaseUpdate:F,lastBaseUpdate:D}=o,s=o.shared.pending;if(s!==null){o.shared.pending=null;var QU=s,BU=QU.next;QU.next=null,D===null?F=BU:D.next=BU,D=QU;var ZE=Z.alternate;ZE!==null&&(ZE=ZE.updateQueue,s=ZE.lastBaseUpdate,s!==D&&(s===null?ZE.firstBaseUpdate=BU:s.next=BU,ZE.lastBaseUpdate=QU))}if(F!==null){var fU=o.baseState;D=0,ZE=BU=QU=null,s=F;do{var LE=s.lane&-536870913,Eu=LE!==s.lane;if(Eu?(Xu&LE)===LE:(I&LE)===LE){LE!==0&&LE===sx&&(pL=!0),ZE!==null&&(ZE=ZE.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});U:{var ep=Z,jH=s;LE=x;var cP=q;switch(jH.tag){case 1:if(ep=jH.payload,typeof ep=="function"){fU=ep.call(cP,fU,LE);break U}fU=ep;break U;case 3:ep.flags=ep.flags&-65537|128;case 0:if(ep=jH.payload,LE=typeof ep=="function"?ep.call(cP,fU,LE):ep,LE==null)break U;fU=wr({},fU,LE);break U;case 2:TY=!0}}LE=s.callback,LE!==null&&(Z.flags|=64,Eu&&(Z.flags|=8192),Eu=o.callbacks,Eu===null?o.callbacks=[LE]:Eu.push(LE))}else Eu={lane:LE,tag:s.tag,payload:s.payload,callback:s.callback,next:null},ZE===null?(BU=ZE=Eu,QU=fU):ZE=ZE.next=Eu,D|=LE;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;Eu=s,s=Eu.next,Eu.next=null,o.lastBaseUpdate=Eu,o.shared.pending=null}}while(!0);ZE===null&&(QU=fU),o.baseState=QU,o.firstBaseUpdate=BU,o.lastBaseUpdate=ZE,F===null&&(o.shared.lanes=0),iY|=D,Z.lanes=D,Z.memoizedState=fU}}function UE(Z,x){if(typeof Z!="function")throw Error(z(191,Z));Z.call(x)}function cE(Z,x){var q=Z.callbacks;if(q!==null)for(Z.callbacks=null,Z=0;Z<q.length;Z++)UE(q[Z],x)}function CU(Z,x){Z=y4,r(r$,Z),r(ex,x),y4=Z|x.baseLanes}function R(){r(r$,y4),r(ex,ex.current)}function W(){y4=r$.current,y(ex),y(r$)}function g(Z){var x=Z.alternate;r(tp,tp.current&1),r(sz,Z),pc===null&&(x===null||ex.current!==null||x.memoizedState!==null)&&(pc=Z)}function C(Z){r(tp,tp.current),r(sz,Z),pc===null&&(pc=Z)}function e(Z){Z.tag===22?(r(tp,tp.current),r(sz,Z),pc===null&&(pc=Z)):FU()}function FU(){r(tp,tp.current),r(sz,sz.current)}function VU(Z){y(sz),pc===Z&&(pc=null),y(tp)}function RU(Z){for(var x=Z;x!==null;){if(x.tag===13){var q=x.memoizedState;if(q!==null&&(q=q.dehydrated,q===null||lr(q)||Mr(q)))return x}else if(x.tag===19&&(x.memoizedProps.revealOrder==="forwards"||x.memoizedProps.revealOrder==="backwards"||x.memoizedProps.revealOrder==="unstable_legacy-backwards"||x.memoizedProps.revealOrder==="together")){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===Z)break;for(;x.sibling===null;){if(x.return===null||x.return===Z)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}function dU(){throw Error(z(321))}function _U(Z,x){if(x===null)return!1;for(var q=0;q<x.length&&q<Z.length;q++)if(!fz(Z[q],x[q]))return!1;return!0}function mE(Z,x,q,I,o,F){return Q4=F,uu=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,lE.H=Z===null||Z.memoizedState===null?Km:zL,pP=!1,F=q(I,o),pP=!1,Cx&&(F=dE(x,q,I,o)),YE(Z),F}function YE(Z){lE.H=YH;var x=eu!==null&&eu.next!==null;if(Q4=0,Kp=eu=uu=null,L$=!1,cH=0,Un=null,x)throw Error(z(300));Z===null||ap||(Z=Z.dependencies,Z!==null&&gU(Z)&&(ap=!0))}function dE(Z,x,q,I){uu=Z;var o=0;do{if(Cx&&(Un=null),cH=0,Cx=!1,25<=o)throw Error(z(301));if(o+=1,Kp=eu=null,Z.updateQueue!=null){var F=Z.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}lE.H=am,F=x(q,I)}while(Cx);return F}function Zu(){var Z=lE.H,x=Z.useState()[0];return x=typeof x.then=="function"?wu(x):x,Z=Z.useState()[0],(eu!==null?eu.memoizedState:null)!==Z&&(uu.flags|=1024),x}function du(){var Z=X$!==0;return X$=0,Z}function xu(Z,x,q){x.updateQueue=Z.updateQueue,x.flags&=-2053,Z.lanes&=~q}function vE(Z){if(L$){for(Z=Z.memoizedState;Z!==null;){var x=Z.queue;x!==null&&(x.pending=null),Z=Z.next}L$=!1}Q4=0,Kp=eu=uu=null,Cx=!1,cH=X$=0,Un=null}function zE(){var Z={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kp===null?uu.memoizedState=Kp=Z:Kp=Kp.next=Z,Kp}function nE(){if(eu===null){var Z=uu.alternate;Z=Z!==null?Z.memoizedState:null}else Z=eu.next;var x=Kp===null?uu.memoizedState:Kp.next;if(x!==null)Kp=x,eu=Z;else{if(Z===null)throw uu.alternate===null?Error(z(467)):Error(z(310));eu=Z,Z={memoizedState:eu.memoizedState,baseState:eu.baseState,baseQueue:eu.baseQueue,queue:eu.queue,next:null},Kp===null?uu.memoizedState=Kp=Z:Kp=Kp.next=Z}return Kp}function rE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(Z){var x=cH;return cH+=1,Un===null&&(Un=[]),Z=fE(Un,Z,x),x=uu,(Kp===null?x.memoizedState:Kp.next)===null&&(x=x.alternate,lE.H=x===null||x.memoizedState===null?Km:zL),Z}function Y5(Z){if(Z!==null&&typeof Z=="object"){if(typeof Z.then=="function")return wu(Z);if(Z.$$typeof===OY)return t(Z)}throw Error(z(438,String(Z)))}function hu(Z){var x=null,q=uu.updateQueue;if(q!==null&&(x=q.memoCache),x==null){var I=uu.alternate;I!==null&&(I=I.updateQueue,I!==null&&(I=I.memoCache,I!=null&&(x={data:I.data.map(function(o){return o.slice()}),index:0})))}if(x==null&&(x={data:[],index:0}),q===null&&(q=rE(),uu.updateQueue=q),q.memoCache=x,q=x.data[x.index],q===void 0)for(q=x.data[x.index]=Array(Z),I=0;I<Z;I++)q[I]=QW;return x.index++,q}function Op(Z,x){return typeof x=="function"?x(Z):x}function bu(Z){var x=nE();return I5(x,eu,Z)}function I5(Z,x,q){var I=Z.queue;if(I===null)throw Error(z(311));I.lastRenderedReducer=q;var o=Z.baseQueue,F=I.pending;if(F!==null){if(o!==null){var D=o.next;o.next=F.next,F.next=D}x.baseQueue=o=F,I.pending=null}if(F=Z.baseState,o===null)Z.memoizedState=F;else{x=o.next;var s=D=null,QU=null,BU=x,ZE=!1;do{var fU=BU.lane&-536870913;if(fU!==BU.lane?(Xu&fU)===fU:(Q4&fU)===fU){var LE=BU.revertLane;if(LE===0)QU!==null&&(QU=QU.next={lane:0,revertLane:0,gesture:null,action:BU.action,hasEagerState:BU.hasEagerState,eagerState:BU.eagerState,next:null}),fU===sx&&(ZE=!0);else if((Q4&LE)===LE){BU=BU.next,LE===sx&&(ZE=!0);continue}else fU={lane:0,revertLane:BU.revertLane,gesture:null,action:BU.action,hasEagerState:BU.hasEagerState,eagerState:BU.eagerState,next:null},QU===null?(s=QU=fU,D=F):QU=QU.next=fU,uu.lanes|=LE,iY|=LE;fU=BU.action,pP&&q(F,fU),F=BU.hasEagerState?BU.eagerState:q(F,fU)}else LE={lane:fU,revertLane:BU.revertLane,gesture:BU.gesture,action:BU.action,hasEagerState:BU.hasEagerState,eagerState:BU.eagerState,next:null},QU===null?(s=QU=LE,D=F):QU=QU.next=LE,uu.lanes|=fU,iY|=fU;BU=BU.next}while(BU!==null&&BU!==x);if(QU===null?D=F:QU.next=s,!fz(F,Z.memoizedState)&&(ap=!0,ZE&&(q=Kx,q!==null)))throw q;Z.memoizedState=F,Z.baseState=D,Z.baseQueue=QU,I.lastRenderedState=F}return o===null&&(I.lanes=0),[Z.memoizedState,I.dispatch]}function b5(Z){var x=nE(),q=x.queue;if(q===null)throw Error(z(311));q.lastRenderedReducer=Z;var{dispatch:I,pending:o}=q,F=x.memoizedState;if(o!==null){q.pending=null;var D=o=o.next;do F=Z(F,D.action),D=D.next;while(D!==o);fz(F,x.memoizedState)||(ap=!0),x.memoizedState=F,x.baseQueue===null&&(x.baseState=F),q.lastRenderedState=F}return[F,I]}function O5(Z,x,q){var I=uu,o=nE(),F=Fu;if(F){if(q===void 0)throw Error(z(407));q=q()}else q=x();var D=!fz((eu||o).memoizedState,q);if(D&&(o.memoizedState=q,ap=!0),o=o.queue,Ur(Ac.bind(null,I,o,Z),[Z]),o.getSnapshot!==x||D||Kp!==null&&Kp.memoizedState.tag&1){if(I.flags|=2048,wx(9,{destroy:void 0},dx.bind(null,I,o,q,x),null),cp===null)throw Error(z(349));F||(Q4&127)!==0||V5(I,x,q)}return q}function V5(Z,x,q){Z.flags|=16384,Z={getSnapshot:x,value:q},x=uu.updateQueue,x===null?(x=rE(),uu.updateQueue=x,x.stores=[Z]):(q=x.stores,q===null?x.stores=[Z]:q.push(Z))}function dx(Z,x,q,I){x.value=q,x.getSnapshot=I,AF(x)&&mF(Z)}function Ac(Z,x,q){return q(function(){AF(x)&&mF(Z)})}function AF(Z){var x=Z.getSnapshot;Z=Z.value;try{var q=x();return!fz(Z,q)}catch{return!0}}function mF(Z){var x=yz(Z,2);x!==null&&Iz(x,Z,2)}function eN(Z){var x=zE();if(typeof Z=="function"){var q=Z;if(Z=q(),pP){f(!0);try{q()}finally{f(!1)}}}return x.memoizedState=x.baseState=Z,x.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:Z},x}function VF(Z,x,q,I){return Z.baseState=q,I5(Z,eu,typeof I=="function"?I:Op)}function WM(Z,x,q,I,o){if(KQ(Z))throw Error(z(485));if(Z=x.action,Z!==null){var F={payload:o,action:Z,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){F.listeners.push(D)}};lE.T!==null?q(!0):F.isTransition=!1,I(F),q=x.pending,q===null?(F.next=x.pending=F,GF(x,F)):(F.next=q.next,x.pending=q.next=F)}}function GF(Z,x){var{action:q,payload:I}=x,o=Z.state;if(x.isTransition){var F=lE.T,D={};lE.T=D;try{var s=q(o,I),QU=lE.S;QU!==null&&QU(D,s),BF(Z,x,s)}catch(BU){CN(Z,x,BU)}finally{F!==null&&D.types!==null&&(F.types=D.types),lE.T=F}}else try{F=q(o,I),BF(Z,x,F)}catch(BU){CN(Z,x,BU)}}function BF(Z,x,q){q!==null&&typeof q=="object"&&typeof q.then=="function"?q.then(function(I){dF(Z,x,I)},function(I){return CN(Z,x,I)}):dF(Z,x,q)}function dF(Z,x,q){x.status="fulfilled",x.value=q,wF(x),Z.state=q,x=Z.pending,x!==null&&(q=x.next,q===x?Z.pending=null:(q=q.next,x.next=q,GF(Z,q)))}function CN(Z,x,q){var I=Z.pending;if(Z.pending=null,I!==null){I=I.next;do x.status="rejected",x.reason=q,wF(x),x=x.next;while(x!==I)}Z.action=null}function wF(Z){Z=Z.listeners;for(var x=0;x<Z.length;x++)Z[x]()}function vF(Z,x){return x}function SF(Z,x){if(Fu){var q=cp.formState;if(q!==null){U:{var I=uu;if(Fu){if(Xp){var o=Pf(Xp,O0);if(o){Xp=Vm(o),I=xf(o);break U}}yE(I)}I=!1}I&&(x=q[0])}}q=zE(),q.memoizedState=q.baseState=x,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vF,lastRenderedState:x},q.queue=I,q=UA.bind(null,uu,I),I.dispatch=q,I=eN(!1);var F=zr.bind(null,uu,!1,I.queue);return I=zE(),o={state:x,dispatch:null,action:Z,pending:null},I.queue=o,q=WM.bind(null,uu,o,F,q),o.dispatch=q,I.memoizedState=Z,[x,q,!1]}function RF(Z){var x=nE();return DF(x,eu,Z)}function DF(Z,x,q){if(x=I5(Z,x,vF)[0],Z=bu(Op)[0],typeof x=="object"&&x!==null&&typeof x.then=="function")try{var I=wu(x)}catch(D){throw D===ax?O$:D}else I=x;x=nE();var o=x.queue,F=o.dispatch;return q!==x.memoizedState&&(uu.flags|=2048,wx(9,{destroy:void 0},fM.bind(null,o,q),null)),[I,F,Z]}function fM(Z,x){Z.action=x}function tF(Z){var x=nE(),q=eu;if(q!==null)return DF(x,q,Z);nE(),x=x.memoizedState,q=nE();var I=q.queue.dispatch;return q.memoizedState=Z,[x,I,!1]}function wx(Z,x,q,I){return Z={tag:Z,create:q,deps:I,inst:x,next:null},x=uu.updateQueue,x===null&&(x=rE(),uu.updateQueue=x),q=x.lastEffect,q===null?x.lastEffect=Z.next=Z:(I=q.next,q.next=Z,Z.next=I,x.lastEffect=Z),Z}function JF(){return nE().memoizedState}function fQ(Z,x,q,I){var o=zE();uu.flags|=Z,o.memoizedState=wx(1|x,{destroy:void 0},q,I===void 0?null:I)}function sQ(Z,x,q,I){var o=nE();I=I===void 0?null:I;var F=o.memoizedState.inst;eu!==null&&I!==null&&_U(I,eu.memoizedState.deps)?o.memoizedState=wx(x,F,q,I):(uu.flags|=Z,o.memoizedState=wx(1|x,F,q,I))}function hF(Z,x){fQ(8390656,8,Z,x)}function Ur(Z,x){sQ(2048,8,Z,x)}function sM(Z){uu.flags|=4;var x=uu.updateQueue;if(x===null)x=rE(),uu.updateQueue=x,x.events=[Z];else{var q=x.events;q===null?x.events=[Z]:q.push(Z)}}function bF(Z){var x=nE().memoizedState;return sM({ref:x,nextImpl:Z}),function(){if((Qu&2)!==0)throw Error(z(440));return x.impl.apply(void 0,arguments)}}function lF(Z,x){return sQ(4,2,Z,x)}function MF(Z,x){return sQ(4,4,Z,x)}function WF(Z,x){if(typeof x=="function"){Z=Z();var q=x(Z);return function(){typeof q=="function"?q():x(null)}}if(x!=null)return Z=Z(),x.current=Z,function(){x.current=null}}function fF(Z,x,q){q=q!=null?q.concat([Z]):null,sQ(4,4,WF.bind(null,x,Z),q)}function Er(){}function sF(Z,x){var q=nE();x=x===void 0?null:x;var I=q.memoizedState;return x!==null&&_U(x,I[1])?I[0]:(q.memoizedState=[Z,x],Z)}function KF(Z,x){var q=nE();x=x===void 0?null:x;var I=q.memoizedState;if(x!==null&&_U(x,I[1]))return I[0];if(I=Z(),pP){f(!0);try{Z()}finally{f(!1)}}return q.memoizedState=[I,x],I}function ur(Z,x,q){return q===void 0||(Q4&1073741824)!==0&&(Xu&261930)===0?Z.memoizedState=x:(Z.memoizedState=q,Z=MA(),uu.lanes|=Z,iY|=Z,q)}function aF(Z,x,q,I){return fz(q,x)?q:ex.current!==null?(Z=ur(Z,q,I),fz(Z,x)||(ap=!0),Z):(Q4&42)===0||(Q4&1073741824)!==0&&(Xu&261930)===0?(ap=!0,Z.memoizedState=q):(Z=MA(),uu.lanes|=Z,iY|=Z,x)}function _F(Z,x,q,I,o){var F=H4();N5(F!==0&&8>F?F:8);var D=lE.T,s={};lE.T=s,zr(Z,!1,x,q);try{var QU=o(),BU=lE.S;if(BU!==null&&BU(s,QU),QU!==null&&typeof QU=="object"&&typeof QU.then=="function"){var ZE=eU(QU,I);lq(Z,x,ZE,bz(Z))}else lq(Z,x,I,bz(Z))}catch(fU){lq(Z,x,{then:function(){},status:"rejected",reason:fU},bz())}finally{N5(F),D!==null&&s.types!==null&&(D.types=s.types),lE.T=D}}function gF(Z){var x=Z.memoizedState;if(x!==null)return x;x={memoizedState:Jx,baseState:Jx,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:Jx},next:null};var q={};return x.next={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:q},next:null},Z.memoizedState=x,Z=Z.alternate,Z!==null&&(Z.memoizedState=x),x}function pr(){return t(gZ)}function eF(){return nE().memoizedState}function CF(){return nE().memoizedState}function KM(Z){for(var x=Z.return;x!==null;){switch(x.tag){case 24:case 3:var q=bz();Z=YU(q);var I=jU(x,Z,q);I!==null&&(Iz(I,x,q),HU(I,x,q)),x={cache:IU()},Z.payload=x;return}x=x.return}}function aM(Z,x,q){var I=bz();q={lane:I,revertLane:0,gesture:null,action:q,hasEagerState:!1,eagerState:null,next:null},KQ(Z)?EA(x,q):(q=gE(Z,x,q,I),q!==null&&(Iz(q,Z,I),uA(q,x,I)))}function UA(Z,x,q){var I=bz();lq(Z,x,q,I)}function lq(Z,x,q,I){var o={lane:I,revertLane:0,gesture:null,action:q,hasEagerState:!1,eagerState:null,next:null};if(KQ(Z))EA(x,o);else{var F=Z.alternate;if(Z.lanes===0&&(F===null||F.lanes===0)&&(F=x.lastRenderedReducer,F!==null))try{var D=x.lastRenderedState,s=F(D,q);if(o.hasEagerState=!0,o.eagerState=s,fz(s,D))return hz(Z,x,o,0),cp===null&&Jz(),!1}catch{}finally{}if(q=gE(Z,x,o,I),q!==null)return Iz(q,Z,I),uA(q,x,I),!0}return!1}function zr(Z,x,q,I){if(I={lane:2,revertLane:MU(),gesture:null,action:I,hasEagerState:!1,eagerState:null,next:null},KQ(Z)){if(x)throw Error(z(479))}else x=gE(Z,q,I,2),x!==null&&Iz(x,Z,2)}function KQ(Z){var x=Z.alternate;return Z===uu||x!==null&&x===uu}function EA(Z,x){Cx=L$=!0;var q=Z.pending;q===null?x.next=x:(x.next=q.next,q.next=x),Z.pending=x}function uA(Z,x,q){if((q&4194048)!==0){var I=x.lanes;I&=Z.pendingLanes,q|=I,x.lanes=q,V(Z,q)}}function cr(Z,x,q,I){x=Z.memoizedState,q=q(I,x),q=q==null?x:wr({},x,q),Z.memoizedState=q,Z.lanes===0&&(Z.updateQueue.baseState=q)}function pA(Z,x,q,I,o,F,D){return Z=Z.stateNode,typeof Z.shouldComponentUpdate=="function"?Z.shouldComponentUpdate(I,F,D):x.prototype&&x.prototype.isPureReactComponent?!$U(q,I)||!$U(o,F):!0}function zA(Z,x,q,I){Z=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(q,I),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(q,I),x.state!==Z&&cL.enqueueReplaceState(x,x.state,null)}function fZ(Z,x){var q=x;if("ref"in x){q={};for(var I in x)I!=="ref"&&(q[I]=x[I])}if(Z=Z.defaultProps){q===x&&(q=wr({},q));for(var o in Z)q[o]===void 0&&(q[o]=Z[o])}return q}function aQ(Z,x){try{var q=Z.onUncaughtError;q(x.value,{componentStack:x.stack})}catch(I){setTimeout(function(){throw I})}}function cA(Z,x,q){try{var I=Z.onCaughtError;I(q.value,{componentStack:q.stack,errorBoundary:x.tag===1?x.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Yr(Z,x,q){return q=YU(q),q.tag=3,q.payload={element:null},q.callback=function(){aQ(Z,x)},q}function YA(Z){return Z=YU(Z),Z.tag=3,Z}function ZA(Z,x,q,I){var o=q.type.getDerivedStateFromError;if(typeof o=="function"){var F=I.value;Z.payload=function(){return o(F)},Z.callback=function(){cA(x,q,I)}}var D=q.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(Z.callback=function(){cA(x,q,I),typeof o!="function"&&(FY===null?FY=new Set([this]):FY.add(this));var s=I.stack;this.componentDidCatch(I.value,{componentStack:s!==null?s:""})})}function _M(Z,x,q,I,o){if(q.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){if(x=q.alternate,x!==null&&wE(x,q,o,!0),q=sz.current,q!==null){switch(q.tag){case 31:case 13:return pc===null?z$():q.alternate===null&&Gp===0&&(Gp=3),q.flags&=-257,q.flags|=65536,q.lanes=o,I===N$?q.flags|=16384:(x=q.updateQueue,x===null?q.updateQueue=new Set([I]):x.add(I),mr(Z,I,o)),!1;case 22:return q.flags|=65536,I===N$?q.flags|=16384:(x=q.updateQueue,x===null?(x={transitions:null,markerInstances:null,retryQueue:new Set([I])},q.updateQueue=x):(q=x.retryQueue,q===null?x.retryQueue=new Set([I]):q.add(I)),mr(Z,I,o)),!1}throw Error(z(435,q.tag))}return mr(Z,I,o),z$(),!1}if(Fu)return x=sz.current,x!==null?((x.flags&65536)===0&&(x.flags|=256),x.flags|=65536,x.lanes=o,I!==gr&&(Z=Error(z(422),{cause:I}),AU(OU(Z,q)))):(I!==gr&&(x=Error(z(423),{cause:I}),AU(OU(x,q))),Z=Z.current.alternate,Z.flags|=65536,o&=-o,Z.lanes|=o,I=OU(I,q),o=Yr(Z.stateNode,I,o),hU(Z,o),Gp!==4&&(Gp=2)),!1;var F=Error(z(520),{cause:I});if(F=OU(F,q),PH===null?PH=[F]:PH.push(F),Gp!==4&&(Gp=2),x===null)return!0;I=OU(I,q),q=x;do{switch(q.tag){case 3:return q.flags|=65536,Z=o&-o,q.lanes|=Z,Z=Yr(q.stateNode,I,Z),hU(q,Z),!1;case 1:if(x=q.type,F=q.stateNode,(q.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(FY===null||!FY.has(F))))return q.flags|=65536,o&=-o,q.lanes|=o,o=YA(o),ZA(o,Z,q,I),hU(q,o),!1}q=q.return}while(q!==null);return!1}function G5(Z,x,q,I){x.child=Z===null?sm(x,null,q,I):uP(x,Z.child,q,I)}function PA(Z,x,q,I,o){q=q.render;var F=x.ref;if("ref"in I){var D={};for(var s in I)s!=="ref"&&(D[s]=I[s])}else D=I;return JE(x),I=mE(Z,x,q,D,F,o),s=du(),Z!==null&&!ap?(xu(Z,x,o),P4(Z,x,o)):(Fu&&s&&wU(x),x.flags|=1,G5(Z,x,I,o),x.child)}function xA(Z,x,q,I,o){if(Z===null){var F=q.type;return typeof F=="function"&&!Vr(F)&&F.defaultProps===void 0&&q.compare===null?(x.tag=15,x.type=F,nA(Z,x,F,I,o)):(Z=Y$(q.type,null,I,x,x.mode,o),Z.ref=x.ref,Z.return=x,x.child=Z)}if(F=Z.child,!Hr(Z,o)){var D=F.memoizedProps;if(q=q.compare,q=q!==null?q:$U,q(D,I)&&Z.ref===x.ref)return P4(Z,x,o)}return x.flags|=1,Z=j4(F,I),Z.ref=x.ref,Z.return=x,x.child=Z}function nA(Z,x,q,I,o){if(Z!==null){var F=Z.memoizedProps;if($U(F,I)&&Z.ref===x.ref)if(ap=!1,x.pendingProps=I=F,Hr(Z,o))(Z.flags&131072)!==0&&(ap=!0);else return x.lanes=Z.lanes,P4(Z,x,o)}return Zr(Z,x,q,I,o)}function jA(Z,x,q,I){var o=I.children,F=Z!==null?Z.memoizedState:null;if(Z===null&&x.stateNode===null&&(x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),I.mode==="hidden"){if((x.flags&128)!==0){if(F=F!==null?F.baseLanes|q:q,Z!==null){for(I=x.child=Z.child,o=0;I!==null;)o=o|I.lanes|I.childLanes,I=I.sibling;I=o&~F}else I=0,x.child=null;return qA(Z,x,F,q,I)}if((q&536870912)!==0)x.memoizedState={baseLanes:0,cachePool:null},Z!==null&&kE(x,F!==null?F.cachePool:null),F!==null?CU(x,F):R(),e(x);else return I=x.lanes=536870912,qA(Z,x,F!==null?F.baseLanes|q:q,q,I)}else F!==null?(kE(x,F.cachePool),CU(x,F),FU(),x.memoizedState=null):(Z!==null&&kE(x,null),R(),FU());return G5(Z,x,o,q),x.child}function Mq(Z,x){return Z!==null&&Z.tag===22||x.stateNode!==null||(x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.sibling}function qA(Z,x,q,I,o){var F=WU();return F=F===null?null:{parent:q4?Tp._currentValue:Tp._currentValue2,pool:F},x.memoizedState={baseLanes:q,cachePool:F},Z!==null&&kE(x,null),R(),e(x),Z!==null&&wE(Z,x,I,!0),x.childLanes=o,null}function _Q(Z,x){return x=eQ({mode:x.mode,children:x.children},Z.mode),x.ref=Z.ref,Z.child=x,x.return=Z,x}function HA(Z,x,q){return uP(x,Z.child,null,q),Z=_Q(x,x.pendingProps),Z.flags|=2,VU(x),x.memoizedState=null,Z}function gM(Z,x,q){var I=x.pendingProps,o=(x.flags&128)!==0;if(x.flags&=-129,Z===null){if(Fu){if(I.mode==="hidden")return Z=_Q(x,I),x.lanes=536870912,Mq(null,Z);if(C(x),(Z=Xp)?(Z=If(Z,O0),Z!==null&&(x.memoizedState={dehydrated:Z,treeContext:rY!==null?{id:Gc,overflow:Bc}:null,retryLane:536870912,hydrationErrors:null},q=nm(Z),q.return=x,x.child=q,d5=x,Xp=null)):Z=null,Z===null)throw yE(x);return x.lanes=536870912,null}return _Q(x,I)}var F=Z.memoizedState;if(F!==null){var D=F.dehydrated;if(C(x),o)if(x.flags&256)x.flags&=-257,x=HA(Z,x,q);else if(x.memoizedState!==null)x.child=Z.child,x.flags|=128,x=null;else throw Error(z(558));else if(ap||wE(Z,x,q,!1),o=(q&Z.childLanes)!==0,ap||o){if(I=cp,I!==null&&(D=w(I,q),D!==0&&D!==F.retryLane))throw F.retryLane=D,yz(Z,D),Iz(I,Z,D),YL;z$(),x=HA(Z,x,q)}else Z=F.treeContext,W5&&(Xp=Hf(D),d5=x,Fu=!0,XY=null,O0=!1,Z!==null&&$E(x,Z)),x=_Q(x,I),x.flags|=4096;return x}return Z=j4(Z.child,{mode:I.mode,children:I.children}),Z.ref=x.ref,x.child=Z,Z.return=x,Z}function gQ(Z,x){var q=x.ref;if(q===null)Z!==null&&Z.ref!==null&&(x.flags|=4194816);else{if(typeof q!="function"&&typeof q!="object")throw Error(z(284));(Z===null||Z.ref!==q)&&(x.flags|=4194816)}}function Zr(Z,x,q,I,o){return JE(x),q=mE(Z,x,q,I,void 0,o),I=du(),Z!==null&&!ap?(xu(Z,x,o),P4(Z,x,o)):(Fu&&I&&wU(x),x.flags|=1,G5(Z,x,q,o),x.child)}function kA(Z,x,q,I,o,F){return JE(x),x.updateQueue=null,q=dE(x,I,q,o),YE(Z),I=du(),Z!==null&&!ap?(xu(Z,x,F),P4(Z,x,F)):(Fu&&I&&wU(x),x.flags|=1,G5(Z,x,q,F),x.child)}function QA(Z,x,q,I,o){if(JE(x),x.stateNode===null){var F=lx,D=q.contextType;typeof D=="object"&&D!==null&&(F=t(D)),F=new q(I,F),x.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=cL,x.stateNode=F,F._reactInternals=x,F=x.stateNode,F.props=I,F.state=x.memoizedState,F.refs={},J(x),D=q.contextType,F.context=typeof D=="object"&&D!==null?t(D):lx,F.state=x.memoizedState,D=q.getDerivedStateFromProps,typeof D=="function"&&(cr(x,q,D,I),F.state=x.memoizedState),typeof q.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(D=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),D!==F.state&&cL.enqueueReplaceState(F,F.state,null),aU(x,I,F,o),GU(),F.state=x.memoizedState),typeof F.componentDidMount=="function"&&(x.flags|=4194308),I=!0}else if(Z===null){F=x.stateNode;var s=x.memoizedProps,QU=fZ(q,s);F.props=QU;var BU=F.context,ZE=q.contextType;D=lx,typeof ZE=="object"&&ZE!==null&&(D=t(ZE));var fU=q.getDerivedStateFromProps;ZE=typeof fU=="function"||typeof F.getSnapshotBeforeUpdate=="function",s=x.pendingProps!==s,ZE||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(s||BU!==D)&&zA(x,F,I,D),TY=!1;var LE=x.memoizedState;F.state=LE,aU(x,I,F,o),GU(),BU=x.memoizedState,s||LE!==BU||TY?(typeof fU=="function"&&(cr(x,q,fU,I),BU=x.memoizedState),(QU=TY||pA(x,q,QU,I,LE,BU,D))?(ZE||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(x.flags|=4194308)):(typeof F.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=I,x.memoizedState=BU),F.props=I,F.state=BU,F.context=D,I=QU):(typeof F.componentDidMount=="function"&&(x.flags|=4194308),I=!1)}else{F=x.stateNode,K(Z,x),D=x.memoizedProps,ZE=fZ(q,D),F.props=ZE,fU=x.pendingProps,LE=F.context,BU=q.contextType,QU=lx,typeof BU=="object"&&BU!==null&&(QU=t(BU)),s=q.getDerivedStateFromProps,(BU=typeof s=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(D!==fU||LE!==QU)&&zA(x,F,I,QU),TY=!1,LE=x.memoizedState,F.state=LE,aU(x,I,F,o),GU();var Eu=x.memoizedState;D!==fU||LE!==Eu||TY||Z!==null&&Z.dependencies!==null&&gU(Z.dependencies)?(typeof s=="function"&&(cr(x,q,s,I),Eu=x.memoizedState),(ZE=TY||pA(x,q,ZE,I,LE,Eu,QU)||Z!==null&&Z.dependencies!==null&&gU(Z.dependencies))?(BU||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(I,Eu,QU),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(I,Eu,QU)),typeof F.componentDidUpdate=="function"&&(x.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof F.componentDidUpdate!="function"||D===Z.memoizedProps&&LE===Z.memoizedState||(x.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||D===Z.memoizedProps&&LE===Z.memoizedState||(x.flags|=1024),x.memoizedProps=I,x.memoizedState=Eu),F.props=I,F.state=Eu,F.context=QU,I=ZE):(typeof F.componentDidUpdate!="function"||D===Z.memoizedProps&&LE===Z.memoizedState||(x.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||D===Z.memoizedProps&&LE===Z.memoizedState||(x.flags|=1024),I=!1)}return F=I,gQ(Z,x),I=(x.flags&128)!==0,F||I?(F=x.stateNode,q=I&&typeof q.getDerivedStateFromError!="function"?null:F.render(),x.flags|=1,Z!==null&&I?(x.child=uP(x,Z.child,null,o),x.child=uP(x,null,q,o)):G5(Z,x,q,o),x.memoizedState=F.state,Z=x.child):Z=P4(Z,x,o),Z}function $A(Z,x,q,I){return XU(),x.flags|=256,G5(Z,x,q,I),x.child}function Pr(Z){return{baseLanes:Z,cachePool:DU()}}function xr(Z,x,q){return Z=Z!==null?Z.childLanes&~q:0,x&&(Z|=az),Z}function yA(Z,x,q){var I=x.pendingProps,o=!1,F=(x.flags&128)!==0,D;if((D=F)||(D=Z!==null&&Z.memoizedState===null?!1:(tp.current&2)!==0),D&&(o=!0,x.flags&=-129),D=(x.flags&32)!==0,x.flags&=-33,Z===null){if(Fu){if(o?g(x):FU(),(Z=Xp)?(Z=Of(Z,O0),Z!==null&&(x.memoizedState={dehydrated:Z,treeContext:rY!==null?{id:Gc,overflow:Bc}:null,retryLane:536870912,hydrationErrors:null},q=nm(Z),q.return=x,x.child=q,d5=x,Xp=null)):Z=null,Z===null)throw yE(x);return Mr(Z)?x.lanes=32:x.lanes=536870912,null}var s=I.children;return I=I.fallback,o?(FU(),o=x.mode,s=eQ({mode:"hidden",children:s},o),I=aZ(I,o,q,null),s.return=x,I.return=x,s.sibling=I,x.child=s,I=x.child,I.memoizedState=Pr(q),I.childLanes=xr(Z,D,q),x.memoizedState=ZL,Mq(null,I)):(g(x),nr(x,s))}var QU=Z.memoizedState;if(QU!==null&&(s=QU.dehydrated,s!==null)){if(F)x.flags&256?(g(x),x.flags&=-257,x=jr(Z,x,q)):x.memoizedState!==null?(FU(),x.child=Z.child,x.flags|=128,x=null):(FU(),s=I.fallback,o=x.mode,I=eQ({mode:"visible",children:I.children},o),s=aZ(s,o,q,null),s.flags|=2,I.return=x,s.return=x,I.sibling=s,x.child=I,uP(x,Z.child,null,q),I=x.child,I.memoizedState=Pr(q),I.childLanes=xr(Z,D,q),x.memoizedState=ZL,x=Mq(null,I));else if(g(x),Mr(s))D=Yf(s).digest,I=Error(z(419)),I.stack="",I.digest=D,AU({value:I,source:null,stack:null}),x=jr(Z,x,q);else if(ap||wE(Z,x,q,!1),D=(q&Z.childLanes)!==0,ap||D){if(D=cp,D!==null&&(I=w(D,q),I!==0&&I!==QU.retryLane))throw QU.retryLane=I,yz(Z,I),Iz(D,Z,I),YL;lr(s)||z$(),x=jr(Z,x,q)}else lr(s)?(x.flags|=192,x.child=Z.child,x=null):(Z=QU.treeContext,W5&&(Xp=kf(s),d5=x,Fu=!0,XY=null,O0=!1,Z!==null&&$E(x,Z)),x=nr(x,I.children),x.flags|=4096);return x}return o?(FU(),s=I.fallback,o=x.mode,QU=Z.child,F=QU.sibling,I=j4(QU,{mode:"hidden",children:I.children}),I.subtreeFlags=QU.subtreeFlags&65011712,F!==null?s=j4(F,s):(s=aZ(s,o,q,null),s.flags|=2),s.return=x,I.return=x,I.sibling=s,x.child=I,Mq(null,I),I=x.child,s=Z.child.memoizedState,s===null?s=Pr(q):(o=s.cachePool,o!==null?(QU=q4?Tp._currentValue:Tp._currentValue2,o=o.parent!==QU?{parent:QU,pool:QU}:o):o=DU(),s={baseLanes:s.baseLanes|q,cachePool:o}),I.memoizedState=s,I.childLanes=xr(Z,D,q),x.memoizedState=ZL,Mq(Z.child,I)):(g(x),q=Z.child,Z=q.sibling,q=j4(q,{mode:"visible",children:I.children}),q.return=x,q.sibling=null,Z!==null&&(D=x.deletions,D===null?(x.deletions=[Z],x.flags|=16):D.push(Z)),x.child=q,x.memoizedState=null,q)}function nr(Z,x){return x=eQ({mode:"visible",children:x},Z.mode),x.return=Z,Z.child=x}function eQ(Z,x){return Z=u(22,Z,null,x),Z.lanes=0,Z}function jr(Z,x,q){return uP(x,Z.child,null,q),Z=nr(x,x.pendingProps.children),Z.flags|=2,x.memoizedState=null,Z}function IA(Z,x,q){Z.lanes|=x;var I=Z.alternate;I!==null&&(I.lanes|=x),bE(Z.return,x,q)}function qr(Z,x,q,I,o,F){var D=Z.memoizedState;D===null?Z.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:I,tail:q,tailMode:o,treeForkCount:F}:(D.isBackwards=x,D.rendering=null,D.renderingStartTime=0,D.last=I,D.tail=q,D.tailMode=o,D.treeForkCount=F)}function OA(Z,x,q){var I=x.pendingProps,o=I.revealOrder,F=I.tail;I=I.children;var D=tp.current,s=(D&2)!==0;if(s?(D=D&1|2,x.flags|=128):D&=1,r(tp,D),G5(Z,x,I,q),I=Fu?EH:0,!s&&Z!==null&&(Z.flags&128)!==0)U:for(Z=x.child;Z!==null;){if(Z.tag===13)Z.memoizedState!==null&&IA(Z,q,x);else if(Z.tag===19)IA(Z,q,x);else if(Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===x)break U;for(;Z.sibling===null;){if(Z.return===null||Z.return===x)break U;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}switch(o){case"forwards":for(q=x.child,o=null;q!==null;)Z=q.alternate,Z!==null&&RU(Z)===null&&(o=q),q=q.sibling;q=o,q===null?(o=x.child,x.child=null):(o=q.sibling,q.sibling=null),qr(x,!1,o,q,F,I);break;case"backwards":case"unstable_legacy-backwards":for(q=null,o=x.child,x.child=null;o!==null;){if(Z=o.alternate,Z!==null&&RU(Z)===null){x.child=o;break}Z=o.sibling,o.sibling=q,q=o,o=Z}qr(x,!0,q,null,F,I);break;case"together":qr(x,!1,null,null,void 0,I);break;default:x.memoizedState=null}return x.child}function P4(Z,x,q){if(Z!==null&&(x.dependencies=Z.dependencies),iY|=x.lanes,(q&x.childLanes)===0)if(Z!==null){if(wE(Z,x,q,!1),(q&x.childLanes)===0)return null}else return null;if(Z!==null&&x.child!==Z.child)throw Error(z(153));if(x.child!==null){for(Z=x.child,q=j4(Z,Z.pendingProps),x.child=q,q.return=x;Z.sibling!==null;)Z=Z.sibling,q=q.sibling=j4(Z,Z.pendingProps),q.return=x;q.sibling=null}return x.child}function Hr(Z,x){return(Z.lanes&x)!==0?!0:(Z=Z.dependencies,!!(Z!==null&&gU(Z)))}function eM(Z,x,q){switch(x.tag){case 3:PU(x,x.stateNode.containerInfo),uE(x,Tp,Z.memoizedState.cache),XU();break;case 27:case 5:TU(x);break;case 4:PU(x,x.stateNode.containerInfo);break;case 10:uE(x,x.type,x.memoizedProps.value);break;case 31:if(x.memoizedState!==null)return x.flags|=128,C(x),null;break;case 13:var I=x.memoizedState;if(I!==null)return I.dehydrated!==null?(g(x),x.flags|=128,null):(q&x.child.childLanes)!==0?yA(Z,x,q):(g(x),Z=P4(Z,x,q),Z!==null?Z.sibling:null);g(x);break;case 19:var o=(Z.flags&128)!==0;if(I=(q&x.childLanes)!==0,I||(wE(Z,x,q,!1),I=(q&x.childLanes)!==0),o){if(I)return OA(Z,x,q);x.flags|=128}if(o=x.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),r(tp,tp.current),I)break;return null;case 22:return x.lanes=0,jA(Z,x,q,x.pendingProps);case 24:uE(x,Tp,Z.memoizedState.cache)}return P4(Z,x,q)}function NA(Z,x,q){if(Z!==null)if(Z.memoizedProps!==x.pendingProps)ap=!0;else{if(!Hr(Z,q)&&(x.flags&128)===0)return ap=!1,eM(Z,x,q);ap=(Z.flags&131072)!==0}else ap=!1,Fu&&(x.flags&1048576)!==0&&yU(x,EH,x.index);switch(x.lanes=0,x.tag){case 16:U:{var I=x.pendingProps;if(Z=Lu(x.elementType),x.type=Z,typeof Z=="function")Vr(Z)?(I=fZ(Z,I),x.tag=1,x=QA(null,x,Z,I,q)):(x.tag=0,x=Zr(null,x,Z,I,q));else{if(Z!=null){var o=Z.$$typeof;if(o===Sr){x.tag=11,x=PA(null,x,Z,I,q);break U}else if(o===tr){x.tag=14,x=xA(null,x,Z,I,q);break U}}throw x=k(Z)||Z,Error(z(306,x,""))}}return x;case 0:return Zr(Z,x,x.type,x.pendingProps,q);case 1:return I=x.type,o=fZ(I,x.pendingProps),QA(Z,x,I,o,q);case 3:U:{if(PU(x,x.stateNode.containerInfo),Z===null)throw Error(z(387));var F=x.pendingProps;o=x.memoizedState,I=o.element,K(Z,x),aU(x,F,null,q);var D=x.memoizedState;if(F=D.cache,uE(x,Tp,F),F!==o.cache&&pE(x,[Tp],q,!0),GU(),F=D.element,W5&&o.isDehydrated)if(o={element:F,isDehydrated:!1,cache:D.cache},x.updateQueue.baseState=o,x.memoizedState=o,x.flags&256){x=$A(Z,x,F,q);break U}else if(F!==I){I=OU(Error(z(424)),x),AU(I),x=$A(Z,x,F,q);break U}else for(W5&&(Xp=qf(x.stateNode.containerInfo),d5=x,Fu=!0,XY=null,O0=!0),q=sm(x,null,F,q),x.child=q;q;)q.flags=q.flags&-3|4096,q=q.sibling;else{if(XU(),F===I){x=P4(Z,x,q);break U}G5(Z,x,F,q)}x=x.child}return x;case 26:if(uc)return gQ(Z,x),Z===null?(q=dm(x.type,null,x.pendingProps,null))?x.memoizedState=q:Fu||(x.stateNode=Jf(x.type,x.pendingProps,LY.current,x)):x.memoizedState=dm(x.type,Z.memoizedProps,x.pendingProps,Z.memoizedState),null;case 27:if(Z5)return TU(x),Z===null&&Z5&&Fu&&(I=x.stateNode=tm(x.type,x.pendingProps,LY.current,B5.current,!1),d5=x,O0=!0,Xp=Qf(x.type,I,Xp)),G5(Z,x,x.pendingProps.children,q),gQ(Z,x),Z===null&&(x.flags|=4194304),x.child;case 5:return Z===null&&Fu&&(Rf(x.type,x.pendingProps,B5.current),(o=I=Xp)&&(I=$f(I,x.type,x.pendingProps,O0),I!==null?(x.stateNode=I,d5=x,Xp=jf(I),O0=!1,o=!0):o=!1),o||yE(x)),TU(x),o=x.type,F=x.pendingProps,D=Z!==null?Z.memoizedProps:null,I=F.children,x$(o,F)?I=null:D!==null&&x$(o,D)&&(x.flags|=32),x.memoizedState!==null&&(o=mE(Z,x,Zu,null,null,q),q4?gZ._currentValue=o:gZ._currentValue2=o),gQ(Z,x),G5(Z,x,I,q),x.child;case 6:return Z===null&&Fu&&(Df(x.pendingProps,B5.current),(Z=q=Xp)&&(q=yf(q,x.pendingProps,O0),q!==null?(x.stateNode=q,d5=x,Xp=null,Z=!0):Z=!1),Z||yE(x)),null;case 13:return yA(Z,x,q);case 4:return PU(x,x.stateNode.containerInfo),I=x.pendingProps,Z===null?x.child=uP(x,null,I,q):G5(Z,x,I,q),x.child;case 11:return PA(Z,x,x.type,x.pendingProps,q);case 7:return G5(Z,x,x.pendingProps,q),x.child;case 8:return G5(Z,x,x.pendingProps.children,q),x.child;case 12:return G5(Z,x,x.pendingProps.children,q),x.child;case 10:return I=x.pendingProps,uE(x,x.type,I.value),G5(Z,x,I.children,q),x.child;case 9:return o=x.type._context,I=x.pendingProps.children,JE(x),o=t(o),I=I(o),x.flags|=1,G5(Z,x,I,q),x.child;case 14:return xA(Z,x,x.type,x.pendingProps,q);case 15:return nA(Z,x,x.type,x.pendingProps,q);case 19:return OA(Z,x,q);case 31:return gM(Z,x,q);case 22:return jA(Z,x,q,x.pendingProps);case 24:return JE(x),I=t(Tp),Z===null?(o=WU(),o===null&&(o=cp,F=IU(),o.pooledCache=F,F.refCount++,F!==null&&(o.pooledCacheLanes|=q),o=F),x.memoizedState={parent:I,cache:o},J(x),uE(x,Tp,o)):((Z.lanes&q)!==0&&(K(Z,x),aU(x,null,null,q),GU()),o=Z.memoizedState,F=x.memoizedState,o.parent!==I?(o={parent:I,cache:I},x.memoizedState=o,x.lanes===0&&(x.memoizedState=x.updateQueue.baseState=o),uE(x,Tp,I)):(I=F.cache,uE(x,Tp,I),I!==o.cache&&pE(x,[Tp],q,!0))),G5(Z,x,x.pendingProps.children,q),x.child;case 29:throw x.pendingProps}throw Error(z(156,x.tag))}function C0(Z){Z.flags|=4}function CQ(Z){Vc&&(Z.flags|=8)}function rA(Z,x){if(Z!==null&&Z.child===x.child)return!1;if((x.flags&16)!==0)return!0;for(Z=x.child;Z!==null;){if((Z.flags&8218)!==0||(Z.subtreeFlags&8218)!==0)return!0;Z=Z.sibling}return!1}function kr(Z,x,q,I){if(M5)for(q=x.child;q!==null;){if(q.tag===5||q.tag===6)hr(Z,q.stateNode);else if(!(q.tag===4||Z5&&q.tag===27)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===x)break;for(;q.sibling===null;){if(q.return===null||q.return===x)return;q=q.return}q.sibling.return=q.return,q=q.sibling}else if(Vc)for(var o=x.child;o!==null;){if(o.tag===5){var F=o.stateNode;q&&I&&(F=Am(F,o.type,o.memoizedProps)),hr(Z,F)}else if(o.tag===6)F=o.stateNode,q&&I&&(F=mm(F,o.memoizedProps)),hr(Z,F);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)F=o.child,F!==null&&(F.return=o),kr(Z,o,!0,!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===x)break;for(;o.sibling===null;){if(o.return===null||o.return===x)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function LA(Z,x,q,I){var o=!1;if(Vc)for(var F=x.child;F!==null;){if(F.tag===5){var D=F.stateNode;q&&I&&(D=Am(D,F.type,F.memoizedProps)),im(Z,D)}else if(F.tag===6)D=F.stateNode,q&&I&&(D=mm(D,F.memoizedProps)),im(Z,D);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)o=F.child,o!==null&&(o.return=F),LA(Z,F,!0,!0),o=!0;else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===x)break;for(;F.sibling===null;){if(F.return===null||F.return===x)return o;F=F.return}F.sibling.return=F.return,F=F.sibling}return o}function XA(Z,x){if(Vc&&rA(Z,x)){Z=x.stateNode;var q=Z.containerInfo,I=om();LA(I,x,!1,!1),Z.pendingChildren=I,C0(x),cf(q,I)}}function Qr(Z,x,q,I){if(M5)Z.memoizedProps!==I&&C0(x);else if(Vc){var{stateNode:o,memoizedProps:F}=Z;if((Z=rA(Z,x))||F!==I){var D=B5.current;F=zf(o,q,F,I,!Z,null),F===o?x.stateNode=o:(CQ(x),Nm(F,q,I,D)&&C0(x),x.stateNode=F,Z&&kr(F,x,!1,!1))}else x.stateNode=o}}function $r(Z,x,q,I,o){if((Z.mode&32)!==0&&(q===null?GW(x,I):BW(x,q,I))){if(Z.flags|=16777216,(o&335544128)===o||br(x,I))if(Lm(Z.stateNode,x,I))Z.flags|=8192;else if(aA())Z.flags|=8192;else throw EP=N$,EL}else Z.flags&=-16777217}function TA(Z,x){if(bf(x)){if(Z.flags|=16777216,!Dm(x))if(aA())Z.flags|=8192;else throw EP=N$,EL}else Z.flags&=-16777217}function U$(Z,x){x!==null&&(Z.flags|=4),Z.flags&16384&&(x=Z.tag!==22?i():536870912,Z.lanes|=x,pn|=x)}function Wq(Z,x){if(!Fu)switch(Z.tailMode){case"hidden":x=Z.tail;for(var q=null;x!==null;)x.alternate!==null&&(q=x),x=x.sibling;q===null?Z.tail=null:q.sibling=null;break;case"collapsed":q=Z.tail;for(var I=null;q!==null;)q.alternate!==null&&(I=q),q=q.sibling;I===null?x||Z.tail===null?Z.tail=null:Z.tail.sibling=null:I.sibling=null}}function Hp(Z){var x=Z.alternate!==null&&Z.alternate.child===Z.child,q=0,I=0;if(x)for(var o=Z.child;o!==null;)q|=o.lanes|o.childLanes,I|=o.subtreeFlags&65011712,I|=o.flags&65011712,o.return=Z,o=o.sibling;else for(o=Z.child;o!==null;)q|=o.lanes|o.childLanes,I|=o.subtreeFlags,I|=o.flags,o.return=Z,o=o.sibling;return Z.subtreeFlags|=I,Z.childLanes=q,x}function CM(Z,x,q){var I=x.pendingProps;switch(QE(x),x.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hp(x),null;case 1:return Hp(x),null;case 3:return q=x.stateNode,I=null,Z!==null&&(I=Z.memoizedState.cache),x.memoizedState.cache!==I&&(x.flags|=2048),l(Tp),vU(),q.pendingContext&&(q.context=q.pendingContext,q.pendingContext=null),(Z===null||Z.child===null)&&(tE(x)?C0(x):Z===null||Z.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,SU())),XA(Z,x),Hp(x),null;case 26:if(uc){var{type:o,memoizedState:F}=x;return Z===null?(C0(x),F!==null?(Hp(x),TA(x,F)):(Hp(x),$r(x,o,null,I,q))):F?F!==Z.memoizedState?(C0(x),Hp(x),TA(x,F)):(Hp(x),x.flags&=-16777217):(F=Z.memoizedProps,M5?F!==I&&C0(x):Qr(Z,x,o,I),Hp(x),$r(x,o,F,I,q)),null}case 27:if(Z5){if(HE(x),q=LY.current,o=x.type,Z!==null&&x.stateNode!=null)M5?Z.memoizedProps!==I&&C0(x):Qr(Z,x,o,I);else{if(!I){if(x.stateNode===null)throw Error(z(166));return Hp(x),null}Z=B5.current,tE(x)?DE(x,Z):(Z=tm(o,I,q,Z,!0),x.stateNode=Z,C0(x))}return Hp(x),null}case 5:if(HE(x),o=x.type,Z!==null&&x.stateNode!=null)Qr(Z,x,o,I);else{if(!I){if(x.stateNode===null)throw Error(z(166));return Hp(x),null}if(F=B5.current,tE(x))DE(x,F),Gf(x.stateNode,o,I,F)&&(x.flags|=64);else{var D=XW(o,I,LY.current,F,x);CQ(x),kr(D,x,!1,!1),x.stateNode=D,Nm(D,o,I,F)&&C0(x)}}return Hp(x),$r(x,x.type,Z===null?null:Z.memoizedProps,x.pendingProps,q),null;case 6:if(Z&&x.stateNode!=null)q=Z.memoizedProps,M5?q!==I&&C0(x):Vc&&(q!==I?(Z=LY.current,q=B5.current,CQ(x),x.stateNode=rm(I,Z,q,x)):x.stateNode=Z.stateNode);else{if(typeof I!="string"&&x.stateNode===null)throw Error(z(166));if(Z=LY.current,q=B5.current,tE(x)){if(!W5)throw Error(z(176));if(Z=x.stateNode,q=x.memoizedProps,I=null,o=d5,o!==null)switch(o.tag){case 27:case 5:I=o.memoizedProps}rf(Z,q,x,I)||yE(x,!0)}else CQ(x),x.stateNode=rm(I,Z,q,x)}return Hp(x),null;case 31:if(q=x.memoizedState,Z===null||Z.memoizedState!==null){if(I=tE(x),q!==null){if(Z===null){if(!I)throw Error(z(318));if(!W5)throw Error(z(556));if(Z=x.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(z(557));Lf(Z,x)}else XU(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Hp(x),Z=!1}else q=SU(),Z!==null&&Z.memoizedState!==null&&(Z.memoizedState.hydrationErrors=q),Z=!0;if(!Z)return x.flags&256?(VU(x),x):(VU(x),null);if((x.flags&128)!==0)throw Error(z(558))}return Hp(x),null;case 13:if(I=x.memoizedState,Z===null||Z.memoizedState!==null&&Z.memoizedState.dehydrated!==null){if(o=tE(x),I!==null&&I.dehydrated!==null){if(Z===null){if(!o)throw Error(z(318));if(!W5)throw Error(z(344));if(o=x.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));Xf(o,x)}else XU(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Hp(x),o=!1}else o=SU(),Z!==null&&Z.memoizedState!==null&&(Z.memoizedState.hydrationErrors=o),o=!0;if(!o)return x.flags&256?(VU(x),x):(VU(x),null)}return VU(x),(x.flags&128)!==0?(x.lanes=q,x):(q=I!==null,Z=Z!==null&&Z.memoizedState!==null,q&&(I=x.child,o=null,I.alternate!==null&&I.alternate.memoizedState!==null&&I.alternate.memoizedState.cachePool!==null&&(o=I.alternate.memoizedState.cachePool.pool),F=null,I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(F=I.memoizedState.cachePool.pool),F!==o&&(I.flags|=2048)),q!==Z&&q&&(x.child.flags|=8192),U$(x,x.updateQueue),Hp(x),null);case 4:return vU(),XA(Z,x),Z===null&&FW(x.stateNode.containerInfo),Hp(x),null;case 10:return l(x.type),Hp(x),null;case 19:if(y(tp),I=x.memoizedState,I===null)return Hp(x),null;if(o=(x.flags&128)!==0,F=I.rendering,F===null)if(o)Wq(I,!1);else{if(Gp!==0||Z!==null&&(Z.flags&128)!==0)for(Z=x.child;Z!==null;){if(F=RU(Z),F!==null){for(x.flags|=128,Wq(I,!1),Z=F.updateQueue,x.updateQueue=Z,U$(x,Z),x.subtreeFlags=0,Z=q,q=x.child;q!==null;)xm(q,Z),q=q.sibling;return r(tp,tp.current&1|2),Fu&&NU(x,I.treeForkCount),x.child}Z=Z.sibling}I.tail!==null&&Oz()>xH&&(x.flags|=128,o=!0,Wq(I,!1),x.lanes=4194304)}else{if(!o)if(Z=RU(F),Z!==null){if(x.flags|=128,o=!0,Z=Z.updateQueue,x.updateQueue=Z,U$(x,Z),Wq(I,!0),I.tail===null&&I.tailMode==="hidden"&&!F.alternate&&!Fu)return Hp(x),null}else 2*Oz()-I.renderingStartTime>xH&&q!==536870912&&(x.flags|=128,o=!0,Wq(I,!1),x.lanes=4194304);I.isBackwards?(F.sibling=x.child,x.child=F):(Z=I.last,Z!==null?Z.sibling=F:x.child=F,I.last=F)}return I.tail!==null?(Z=I.tail,I.rendering=Z,I.tail=Z.sibling,I.renderingStartTime=Oz(),Z.sibling=null,q=tp.current,r(tp,o?q&1|2:q&1),Fu&&NU(x,I.treeForkCount),Z):(Hp(x),null);case 22:case 23:return VU(x),W(),I=x.memoizedState!==null,Z!==null?Z.memoizedState!==null!==I&&(x.flags|=8192):I&&(x.flags|=8192),I?(q&536870912)!==0&&(x.flags&128)===0&&(Hp(x),x.subtreeFlags&6&&(x.flags|=8192)):Hp(x),q=x.updateQueue,q!==null&&U$(x,q.retryQueue),q=null,Z!==null&&Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(q=Z.memoizedState.cachePool.pool),I=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(I=x.memoizedState.cachePool.pool),I!==q&&(x.flags|=2048),Z!==null&&y(UP),null;case 24:return q=null,Z!==null&&(q=Z.memoizedState.cache),x.memoizedState.cache!==q&&(x.flags|=2048),l(Tp),Hp(x),null;case 25:return null;case 30:return null}throw Error(z(156,x.tag))}function UW(Z,x){switch(QE(x),x.tag){case 1:return Z=x.flags,Z&65536?(x.flags=Z&-65537|128,x):null;case 3:return l(Tp),vU(),Z=x.flags,(Z&65536)!==0&&(Z&128)===0?(x.flags=Z&-65537|128,x):null;case 26:case 27:case 5:return HE(x),null;case 31:if(x.memoizedState!==null){if(VU(x),x.alternate===null)throw Error(z(340));XU()}return Z=x.flags,Z&65536?(x.flags=Z&-65537|128,x):null;case 13:if(VU(x),Z=x.memoizedState,Z!==null&&Z.dehydrated!==null){if(x.alternate===null)throw Error(z(340));XU()}return Z=x.flags,Z&65536?(x.flags=Z&-65537|128,x):null;case 19:return y(tp),null;case 4:return vU(),null;case 10:return l(x.type),null;case 22:case 23:return VU(x),W(),Z!==null&&y(UP),Z=x.flags,Z&65536?(x.flags=Z&-65537|128,x):null;case 24:return l(Tp),null;case 25:return null;default:return null}}function oA(Z,x){switch(QE(x),x.tag){case 3:l(Tp),vU();break;case 26:case 27:case 5:HE(x);break;case 4:vU();break;case 31:x.memoizedState!==null&&VU(x);break;case 13:VU(x);break;case 19:y(tp);break;case 10:l(x.type);break;case 22:case 23:VU(x),W(),Z!==null&&y(UP);break;case 24:l(Tp)}}function fq(Z,x){try{var q=x.updateQueue,I=q!==null?q.lastEffect:null;if(I!==null){var o=I.next;q=o;do{if((q.tag&Z)===Z){I=void 0;var{create:F,inst:D}=q;I=F(),D.destroy=I}q=q.next}while(q!==o)}}catch(s){vu(x,x.return,s)}}function yY(Z,x,q){try{var I=x.updateQueue,o=I!==null?I.lastEffect:null;if(o!==null){var F=o.next;I=F;do{if((I.tag&Z)===Z){var D=I.inst,s=D.destroy;if(s!==void 0){D.destroy=void 0,o=x;var QU=q,BU=s;try{BU()}catch(ZE){vu(o,QU,ZE)}}}I=I.next}while(I!==F)}}catch(ZE){vu(x,x.return,ZE)}}function iA(Z){var x=Z.updateQueue;if(x!==null){var q=Z.stateNode;try{cE(x,q)}catch(I){vu(Z,Z.return,I)}}}function FA(Z,x,q){q.props=fZ(Z.type,Z.memoizedProps),q.state=Z.memoizedState;try{q.componentWillUnmount()}catch(I){vu(Z,x,I)}}function sq(Z,x){try{var q=Z.ref;if(q!==null){switch(Z.tag){case 26:case 27:case 5:var I=gq(Z.stateNode);break;case 30:I=Z.stateNode;break;default:I=Z.stateNode}typeof q=="function"?Z.refCleanup=q(I):q.current=I}}catch(o){vu(Z,x,o)}}function mc(Z,x){var{ref:q,refCleanup:I}=Z;if(q!==null)if(typeof I=="function")try{I()}catch(o){vu(Z,x,o)}finally{Z.refCleanup=null,Z=Z.alternate,Z!=null&&(Z.refCleanup=null)}else if(typeof q=="function")try{q(null)}catch(o){vu(Z,x,o)}else q.current=null}function AA(Z){var{type:x,memoizedProps:q,stateNode:I}=Z;try{sW(I,x,q,Z)}catch(o){vu(Z,Z.return,o)}}function yr(Z,x,q){try{KW(Z.stateNode,Z.type,q,x,Z)}catch(I){vu(Z,Z.return,I)}}function mA(Z){return Z.tag===5||Z.tag===3||(uc?Z.tag===26:!1)||(Z5?Z.tag===27&&hx(Z.type):!1)||Z.tag===4}function Ir(Z){U:for(;;){for(;Z.sibling===null;){if(Z.return===null||mA(Z.return))return null;Z=Z.return}for(Z.sibling.return=Z.return,Z=Z.sibling;Z.tag!==5&&Z.tag!==6&&Z.tag!==18;){if(Z5&&Z.tag===27&&hx(Z.type)||Z.flags&2||Z.child===null||Z.tag===4)continue U;Z.child.return=Z,Z=Z.child}if(!(Z.flags&2))return Z.stateNode}}function Or(Z,x,q){var I=Z.tag;if(I===5||I===6)Z=Z.stateNode,x?_W(q,Z,x):WW(q,Z);else if(I!==4&&(Z5&&I===27&&hx(Z.type)&&(q=Z.stateNode,x=null),Z=Z.child,Z!==null))for(Or(Z,x,q),Z=Z.sibling;Z!==null;)Or(Z,x,q),Z=Z.sibling}function E$(Z,x,q){var I=Z.tag;if(I===5||I===6)Z=Z.stateNode,x?aW(q,Z,x):MW(q,Z);else if(I!==4&&(Z5&&I===27&&hx(Z.type)&&(q=Z.stateNode),Z=Z.child,Z!==null))for(E$(Z,x,q),Z=Z.sibling;Z!==null;)E$(Z,x,q),Z=Z.sibling}function VA(Z,x,q){Z=Z.containerInfo;try{Fm(Z,q)}catch(I){vu(x,x.return,I)}}function GA(Z){var{stateNode:x,memoizedProps:q}=Z;try{Mf(Z.type,q,x,Z)}catch(I){vu(Z,Z.return,I)}}function EW(Z,x){for(rW(Z.containerInfo),r5=x;r5!==null;)if(Z=r5,x=Z.child,(Z.subtreeFlags&1028)!==0&&x!==null)x.return=Z,r5=x;else for(;r5!==null;){Z=r5;var q=Z.alternate;switch(x=Z.flags,Z.tag){case 0:if((x&4)!==0&&(x=Z.updateQueue,x=x!==null?x.events:null,x!==null))for(var I=0;I<x.length;I++){var o=x[I];o.ref.impl=o.nextImpl}break;case 11:case 15:break;case 1:if((x&1024)!==0&&q!==null){x=void 0,I=Z,o=q.memoizedProps,q=q.memoizedState;var F=I.stateNode;try{var D=fZ(I.type,o);x=F.getSnapshotBeforeUpdate(D,q),F.__reactInternalSnapshotBeforeUpdate=x}catch(s){vu(I,I.return,s)}}break;case 3:(x&1024)!==0&&M5&&pf(Z.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((x&1024)!==0)throw Error(z(163))}if(x=Z.sibling,x!==null){x.return=Z.return,r5=x;break}r5=Z.return}}function BA(Z,x,q){var I=q.flags;switch(q.tag){case 0:case 11:case 15:x4(Z,q),I&4&&fq(5,q);break;case 1:if(x4(Z,q),I&4)if(Z=q.stateNode,x===null)try{Z.componentDidMount()}catch(D){vu(q,q.return,D)}else{var o=fZ(q.type,x.memoizedProps);x=x.memoizedState;try{Z.componentDidUpdate(o,x,Z.__reactInternalSnapshotBeforeUpdate)}catch(D){vu(q,q.return,D)}}I&64&&iA(q),I&512&&sq(q,q.return);break;case 3:if(x4(Z,q),I&64&&(I=q.updateQueue,I!==null)){if(Z=null,q.child!==null)switch(q.child.tag){case 27:case 5:Z=gq(q.child.stateNode);break;case 1:Z=q.child.stateNode}try{cE(I,Z)}catch(D){vu(q,q.return,D)}}break;case 27:Z5&&x===null&&I&4&&GA(q);case 26:case 5:if(x4(Z,q),x===null){if(I&4)AA(q);else if(I&64){Z=q.type,x=q.memoizedProps,o=q.stateNode;try{Ff(o,Z,x,q)}catch(D){vu(q,q.return,D)}}}I&512&&sq(q,q.return);break;case 12:x4(Z,q);break;case 31:x4(Z,q),I&4&&wA(Z,q);break;case 13:x4(Z,q),I&4&&vA(Z,q),I&64&&(I=q.memoizedState,I!==null&&(I=I.dehydrated,I!==null&&(q=PW.bind(null,q),Zf(I,q))));break;case 22:if(I=q.memoizedState!==null||$4,!I){x=x!==null&&x.memoizedState!==null||_p,o=$4;var F=_p;$4=I,(_p=x)&&!F?n4(Z,q,(q.subtreeFlags&8772)!==0):x4(Z,q),$4=o,_p=F}break;case 30:break;default:x4(Z,q)}}function dA(Z){var x=Z.alternate;x!==null&&(Z.alternate=null,dA(x)),Z.child=null,Z.deletions=null,Z.sibling=null,Z.tag===5&&(x=Z.stateNode,x!==null&&VW(x)),Z.stateNode=null,Z.return=null,Z.dependencies=null,Z.memoizedProps=null,Z.memoizedState=null,Z.pendingProps=null,Z.stateNode=null,Z.updateQueue=null}function Uc(Z,x,q){for(q=q.child;q!==null;)Nr(Z,x,q),q=q.sibling}function Nr(Z,x,q){if(Wz&&typeof Wz.onCommitFiberUnmount=="function")try{Wz.onCommitFiberUnmount(UH,q)}catch{}switch(q.tag){case 26:if(uc){_p||mc(q,x),Uc(Z,x,q),q.memoizedState?vm(q.memoizedState):q.stateNode&&Rm(q.stateNode);break}case 27:if(Z5){_p||mc(q,x);var I=gp,o=Nz;hx(q.type)&&(gp=q.stateNode,Nz=!1),Uc(Z,x,q),Jm(q.stateNode),gp=I,Nz=o;break}case 5:_p||mc(q,x);case 6:if(M5){if(I=gp,o=Nz,gp=null,Uc(Z,x,q),gp=I,Nz=o,gp!==null)if(Nz)try{eW(gp,q.stateNode)}catch(F){vu(q,x,F)}else try{gW(gp,q.stateNode)}catch(F){vu(q,x,F)}}else Uc(Z,x,q);break;case 18:M5&&gp!==null&&(Nz?wf(gp,q.stateNode):df(gp,q.stateNode));break;case 4:M5?(I=gp,o=Nz,gp=q.stateNode.containerInfo,Nz=!0,Uc(Z,x,q),gp=I,Nz=o):(Vc&&VA(q.stateNode,q,om()),Uc(Z,x,q));break;case 0:case 11:case 14:case 15:yY(2,q,x),_p||yY(4,q,x),Uc(Z,x,q);break;case 1:_p||(mc(q,x),I=q.stateNode,typeof I.componentWillUnmount=="function"&&FA(q,x,I)),Uc(Z,x,q);break;case 21:Uc(Z,x,q);break;case 22:_p=(I=_p)||q.memoizedState!==null,Uc(Z,x,q),_p=I;break;default:Uc(Z,x,q)}}function wA(Z,x){if(W5&&x.memoizedState===null&&(Z=x.alternate,Z!==null&&(Z=Z.memoizedState,Z!==null))){Z=Z.dehydrated;try{mf(Z)}catch(q){vu(x,x.return,q)}}}function vA(Z,x){if(W5&&x.memoizedState===null&&(Z=x.alternate,Z!==null&&(Z=Z.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))))try{Vf(Z)}catch(q){vu(x,x.return,q)}}function uW(Z){switch(Z.tag){case 31:case 13:case 19:var x=Z.stateNode;return x===null&&(x=Z.stateNode=new _m),x;case 22:return Z=Z.stateNode,x=Z._retryCache,x===null&&(x=Z._retryCache=new _m),x;default:throw Error(z(435,Z.tag))}}function u$(Z,x){var q=uW(Z);x.forEach(function(I){if(!q.has(I)){q.add(I);var o=xW.bind(null,Z,I);I.then(o,o)}})}function l5(Z,x){var q=x.deletions;if(q!==null)for(var I=0;I<q.length;I++){var o=q[I],F=Z,D=x;if(M5){var s=D;U:for(;s!==null;){switch(s.tag){case 27:if(Z5){if(hx(s.type)){gp=s.stateNode,Nz=!1;break U}break}case 5:gp=s.stateNode,Nz=!1;break U;case 3:case 4:gp=s.stateNode.containerInfo,Nz=!0;break U}s=s.return}if(gp===null)throw Error(z(160));Nr(F,D,o),gp=null,Nz=!1}else Nr(F,D,o);F=o.alternate,F!==null&&(F.return=null),o.return=null}if(x.subtreeFlags&13886)for(x=x.child;x!==null;)SA(x,Z),x=x.sibling}function SA(Z,x){var{alternate:q,flags:I}=Z;switch(Z.tag){case 0:case 11:case 14:case 15:l5(x,Z),uz(Z),I&4&&(yY(3,Z,Z.return),fq(3,Z),yY(5,Z,Z.return));break;case 1:l5(x,Z),uz(Z),I&512&&(_p||q===null||mc(q,q.return)),I&64&&$4&&(Z=Z.updateQueue,Z!==null&&(I=Z.callbacks,I!==null&&(q=Z.shared.hiddenCallbacks,Z.shared.hiddenCallbacks=q===null?I:q.concat(I))));break;case 26:if(uc){var o=zc;if(l5(x,Z),uz(Z),I&512&&(_p||q===null||mc(q,q.return)),I&4){I=q!==null?q.memoizedState:null;var F=Z.memoizedState;q===null?F===null?Z.stateNode===null?Z.stateNode=tf(o,Z.type,Z.memoizedProps,Z):Sm(o,Z.type,Z.stateNode):Z.stateNode=wm(o,F,Z.memoizedProps):I!==F?(I===null?q.stateNode!==null&&Rm(q.stateNode):vm(I),F===null?Sm(o,Z.type,Z.stateNode):wm(o,F,Z.memoizedProps)):F===null&&Z.stateNode!==null&&yr(Z,Z.memoizedProps,q.memoizedProps)}break}case 27:if(Z5){l5(x,Z),uz(Z),I&512&&(_p||q===null||mc(q,q.return)),q!==null&&I&4&&yr(Z,Z.memoizedProps,q.memoizedProps);break}case 5:if(l5(x,Z),uz(Z),I&512&&(_p||q===null||mc(q,q.return)),M5){if(Z.flags&32){o=Z.stateNode;try{Tm(o)}catch(fU){vu(Z,Z.return,fU)}}I&4&&Z.stateNode!=null&&(o=Z.memoizedProps,yr(Z,o,q!==null?q.memoizedProps:o)),I&1024&&(PL=!0)}else Vc&&Z.alternate!==null&&(Z.alternate.stateNode=Z.stateNode);break;case 6:if(l5(x,Z),uz(Z),I&4&&M5){if(Z.stateNode===null)throw Error(z(162));I=Z.memoizedProps,q=q!==null?q.memoizedProps:I,o=Z.stateNode;try{fW(o,q,I)}catch(fU){vu(Z,Z.return,fU)}}break;case 3:if(uc?(hf(),o=zc,zc=Wr(x.containerInfo),l5(x,Z),zc=o):l5(x,Z),uz(Z),I&4){if(M5&&W5&&q!==null&&q.memoizedState.isDehydrated)try{Af(x.containerInfo)}catch(fU){vu(Z,Z.return,fU)}if(Vc){I=x.containerInfo,q=x.pendingChildren;try{Fm(I,q)}catch(fU){vu(Z,Z.return,fU)}}}PL&&(PL=!1,RA(Z));break;case 4:uc?(q=zc,zc=Wr(Z.stateNode.containerInfo),l5(x,Z),uz(Z),zc=q):(l5(x,Z),uz(Z)),I&4&&Vc&&VA(Z.stateNode,Z,Z.stateNode.pendingChildren);break;case 12:l5(x,Z),uz(Z);break;case 31:l5(x,Z),uz(Z),I&4&&(I=Z.updateQueue,I!==null&&(Z.updateQueue=null,u$(Z,I)));break;case 13:l5(x,Z),uz(Z),Z.child.flags&8192&&Z.memoizedState!==null!=(q!==null&&q.memoizedState!==null)&&(m$=Oz()),I&4&&(I=Z.updateQueue,I!==null&&(Z.updateQueue=null,u$(Z,I)));break;case 22:o=Z.memoizedState!==null;var D=q!==null&&q.memoizedState!==null,s=$4,QU=_p;if($4=s||o,_p=QU||D,l5(x,Z),_p=QU,$4=s,uz(Z),I&8192&&(x=Z.stateNode,x._visibility=o?x._visibility&-2:x._visibility|1,o&&(q===null||D||$4||_p||sZ(Z)),M5))U:if(q=null,M5)for(x=Z;;){if(x.tag===5||uc&&x.tag===26){if(q===null){D=q=x;try{F=D.stateNode,o?CW(F):Ef(D.stateNode,D.memoizedProps)}catch(fU){vu(D,D.return,fU)}}}else if(x.tag===6){if(q===null){D=x;try{var BU=D.stateNode;o?Uf(BU):uf(BU,D.memoizedProps)}catch(fU){vu(D,D.return,fU)}}}else if(x.tag===18){if(q===null){D=x;try{var ZE=D.stateNode;o?vf(ZE):Sf(D.stateNode)}catch(fU){vu(D,D.return,fU)}}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===Z)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===Z)break U;for(;x.sibling===null;){if(x.return===null||x.return===Z)break U;q===x&&(q=null),x=x.return}q===x&&(q=null),x.sibling.return=x.return,x=x.sibling}I&4&&(I=Z.updateQueue,I!==null&&(q=I.retryQueue,q!==null&&(I.retryQueue=null,u$(Z,q))));break;case 19:l5(x,Z),uz(Z),I&4&&(I=Z.updateQueue,I!==null&&(Z.updateQueue=null,u$(Z,I)));break;case 30:break;case 21:break;default:l5(x,Z),uz(Z)}}function uz(Z){var x=Z.flags;if(x&2){try{for(var q,I=Z.return;I!==null;){if(mA(I)){q=I;break}I=I.return}if(M5){if(q==null)throw Error(z(160));switch(q.tag){case 27:if(Z5){var o=q.stateNode,F=Ir(Z);E$(Z,F,o);break}case 5:var D=q.stateNode;q.flags&32&&(Tm(D),q.flags&=-33);var s=Ir(Z);E$(Z,s,D);break;case 3:case 4:var QU=q.stateNode.containerInfo,BU=Ir(Z);Or(Z,BU,QU);break;default:throw Error(z(161))}}}catch(ZE){vu(Z,Z.return,ZE)}Z.flags&=-3}x&4096&&(Z.flags&=-4097)}function RA(Z){if(Z.subtreeFlags&1024)for(Z=Z.child;Z!==null;){var x=Z;RA(x),x.tag===5&&x.flags&1024&&vW(x.stateNode),Z=Z.sibling}}function x4(Z,x){if(x.subtreeFlags&8772)for(x=x.child;x!==null;)BA(Z,x.alternate,x),x=x.sibling}function sZ(Z){for(Z=Z.child;Z!==null;){var x=Z;switch(x.tag){case 0:case 11:case 14:case 15:yY(4,x,x.return),sZ(x);break;case 1:mc(x,x.return);var q=x.stateNode;typeof q.componentWillUnmount=="function"&&FA(x,x.return,q),sZ(x);break;case 27:Z5&&Jm(x.stateNode);case 26:case 5:mc(x,x.return),sZ(x);break;case 22:x.memoizedState===null&&sZ(x);break;case 30:sZ(x);break;default:sZ(x)}Z=Z.sibling}}function n4(Z,x,q){for(q=q&&(x.subtreeFlags&8772)!==0,x=x.child;x!==null;){var I=x.alternate,o=Z,F=x,D=F.flags;switch(F.tag){case 0:case 11:case 15:n4(o,F,q),fq(4,F);break;case 1:if(n4(o,F,q),I=F,o=I.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(BU){vu(I,I.return,BU)}if(I=F,o=I.updateQueue,o!==null){var s=I.stateNode;try{var QU=o.shared.hiddenCallbacks;if(QU!==null)for(o.shared.hiddenCallbacks=null,o=0;o<QU.length;o++)UE(QU[o],s)}catch(BU){vu(I,I.return,BU)}}q&&D&64&&iA(F),sq(F,F.return);break;case 27:Z5&&GA(F);case 26:case 5:n4(o,F,q),q&&I===null&&D&4&&AA(F),sq(F,F.return);break;case 12:n4(o,F,q);break;case 31:n4(o,F,q),q&&D&4&&wA(o,F);break;case 13:n4(o,F,q),q&&D&4&&vA(o,F);break;case 22:F.memoizedState===null&&n4(o,F,q),sq(F,F.return);break;case 30:break;default:n4(o,F,q)}x=x.sibling}}function rr(Z,x){var q=null;Z!==null&&Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(q=Z.memoizedState.cachePool.pool),Z=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(Z=x.memoizedState.cachePool.pool),Z!==q&&(Z!=null&&Z.refCount++,q!=null&&oU(q))}function Lr(Z,x){Z=null,x.alternate!==null&&(Z=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==Z&&(x.refCount++,Z!=null&&oU(Z))}function Ec(Z,x,q,I){if(x.subtreeFlags&10256)for(x=x.child;x!==null;)DA(Z,x,q,I),x=x.sibling}function DA(Z,x,q,I){var o=x.flags;switch(x.tag){case 0:case 11:case 15:Ec(Z,x,q,I),o&2048&&fq(9,x);break;case 1:Ec(Z,x,q,I);break;case 3:Ec(Z,x,q,I),o&2048&&(Z=null,x.alternate!==null&&(Z=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==Z&&(x.refCount++,Z!=null&&oU(Z)));break;case 12:if(o&2048){Ec(Z,x,q,I),Z=x.stateNode;try{var F=x.memoizedProps,D=F.id,s=F.onPostCommit;typeof s=="function"&&s(D,x.alternate===null?"mount":"update",Z.passiveEffectDuration,-0)}catch(QU){vu(x,x.return,QU)}}else Ec(Z,x,q,I);break;case 31:Ec(Z,x,q,I);break;case 13:Ec(Z,x,q,I);break;case 23:break;case 22:F=x.stateNode,D=x.alternate,x.memoizedState!==null?F._visibility&2?Ec(Z,x,q,I):Kq(Z,x):F._visibility&2?Ec(Z,x,q,I):(F._visibility|=2,vx(Z,x,q,I,(x.subtreeFlags&10256)!==0||!1)),o&2048&&rr(D,x);break;case 24:Ec(Z,x,q,I),o&2048&&Lr(x.alternate,x);break;default:Ec(Z,x,q,I)}}function vx(Z,x,q,I,o){for(o=o&&((x.subtreeFlags&10256)!==0||!1),x=x.child;x!==null;){var F=Z,D=x,s=q,QU=I,BU=D.flags;switch(D.tag){case 0:case 11:case 15:vx(F,D,s,QU,o),fq(8,D);break;case 23:break;case 22:var ZE=D.stateNode;D.memoizedState!==null?ZE._visibility&2?vx(F,D,s,QU,o):Kq(F,D):(ZE._visibility|=2,vx(F,D,s,QU,o)),o&&BU&2048&&rr(D.alternate,D);break;case 24:vx(F,D,s,QU,o),o&&BU&2048&&Lr(D.alternate,D);break;default:vx(F,D,s,QU,o)}x=x.sibling}}function Kq(Z,x){if(x.subtreeFlags&10256)for(x=x.child;x!==null;){var q=Z,I=x,o=I.flags;switch(I.tag){case 22:Kq(q,I),o&2048&&rr(I.alternate,I);break;case 24:Kq(q,I),o&2048&&Lr(I.alternate,I);break;default:Kq(q,I)}x=x.sibling}}function KZ(Z,x,q){if(Z.subtreeFlags&En)for(Z=Z.child;Z!==null;)tA(Z,x,q),Z=Z.sibling}function tA(Z,x,q){switch(Z.tag){case 26:if(KZ(Z,x,q),Z.flags&En)if(Z.memoizedState!==null)lf(q,zc,Z.memoizedState,Z.memoizedProps);else{var{stateNode:I,type:o}=Z;Z=Z.memoizedProps,((x&335544128)===x||br(o,Z))&&Xm(q,I,o,Z)}break;case 5:KZ(Z,x,q),Z.flags&En&&(I=Z.stateNode,o=Z.type,Z=Z.memoizedProps,((x&335544128)===x||br(o,Z))&&Xm(q,I,o,Z));break;case 3:case 4:uc?(I=zc,zc=Wr(Z.stateNode.containerInfo),KZ(Z,x,q),zc=I):KZ(Z,x,q);break;case 22:Z.memoizedState===null&&(I=Z.alternate,I!==null&&I.memoizedState!==null?(I=En,En=16777216,KZ(Z,x,q),En=I):KZ(Z,x,q));break;default:KZ(Z,x,q)}}function JA(Z){var x=Z.alternate;if(x!==null&&(Z=x.child,Z!==null)){x.child=null;do x=Z.sibling,Z.sibling=null,Z=x;while(Z!==null)}}function aq(Z){var x=Z.deletions;if((Z.flags&16)!==0){if(x!==null)for(var q=0;q<x.length;q++){var I=x[q];r5=I,bA(I,Z)}JA(Z)}if(Z.subtreeFlags&10256)for(Z=Z.child;Z!==null;)hA(Z),Z=Z.sibling}function hA(Z){switch(Z.tag){case 0:case 11:case 15:aq(Z),Z.flags&2048&&yY(9,Z,Z.return);break;case 3:aq(Z);break;case 12:aq(Z);break;case 22:var x=Z.stateNode;Z.memoizedState!==null&&x._visibility&2&&(Z.return===null||Z.return.tag!==13)?(x._visibility&=-3,p$(Z)):aq(Z);break;default:aq(Z)}}function p$(Z){var x=Z.deletions;if((Z.flags&16)!==0){if(x!==null)for(var q=0;q<x.length;q++){var I=x[q];r5=I,bA(I,Z)}JA(Z)}for(Z=Z.child;Z!==null;){switch(x=Z,x.tag){case 0:case 11:case 15:yY(8,x,x.return),p$(x);break;case 22:q=x.stateNode,q._visibility&2&&(q._visibility&=-3,p$(x));break;default:p$(x)}Z=Z.sibling}}function bA(Z,x){for(;r5!==null;){var q=r5;switch(q.tag){case 0:case 11:case 15:yY(8,q,x);break;case 23:case 22:if(q.memoizedState!==null&&q.memoizedState.cachePool!==null){var I=q.memoizedState.cachePool.pool;I!=null&&I.refCount++}break;case 24:oU(q.memoizedState.cache)}if(I=q.child,I!==null)I.return=q,r5=I;else U:for(q=Z;r5!==null;){I=r5;var{sibling:o,return:F}=I;if(dA(I),I===q){r5=null;break U}if(o!==null){o.return=F,r5=o;break U}r5=F}}}function Xr(Z){var x=iW(Z);if(x!=null){if(typeof x.memoizedProps["data-testname"]!="string")throw Error(z(364));return x}if(Z=DW(Z),Z===null)throw Error(z(362));return Z.stateNode.current}function Tr(Z,x){var q=Z.tag;switch(x.$$typeof){case T$:if(Z.type===x.value)return!0;break;case o$:U:{for(x=x.value,Z=[Z,0],q=0;q<Z.length;){var I=Z[q++],o=I.tag,F=Z[q++],D=x[F];if(o!==5&&o!==26&&o!==27||!Cq(I)){for(;D!=null&&Tr(I,D);)F++,D=x[F];if(F===x.length){x=!0;break U}else for(I=I.child;I!==null;)Z.push(I,F),I=I.sibling}}x=!1}return x;case i$:if((q===5||q===26||q===27)&&hW(Z.stateNode,x.value))return!0;break;case A$:if((q===5||q===6||q===26||q===27)&&(Z=JW(Z),Z!==null&&0<=Z.indexOf(x.value)))return!0;break;case F$:if((q===5||q===26||q===27)&&(Z=Z.memoizedProps["data-testname"],typeof Z=="string"&&Z.toLowerCase()===x.value.toLowerCase()))return!0;break;default:throw Error(z(365))}return!1}function or(Z){switch(Z.$$typeof){case T$:return"<"+(k(Z.value)||"Unknown")+">";case o$:return":has("+(or(Z)||"")+")";case i$:return'[role="'+Z.value+'"]';case A$:return'"'+Z.value+'"';case F$:return'[data-testname="'+Z.value+'"]';default:throw Error(z(365))}}function lA(Z,x){var q=[];Z=[Z,0];for(var I=0;I<Z.length;){var o=Z[I++],F=o.tag,D=Z[I++],s=x[D];if(F!==5&&F!==26&&F!==27||!Cq(o)){for(;s!=null&&Tr(o,s);)D++,s=x[D];if(D===x.length)q.push(o);else for(o=o.child;o!==null;)Z.push(o,D),o=o.sibling}}return q}function ir(Z,x){if(!eq)throw Error(z(363));Z=Xr(Z),Z=lA(Z,x),x=[],Z=Array.from(Z);for(var q=0;q<Z.length;){var I=Z[q++],o=I.tag;if(o===5||o===26||o===27)Cq(I)||x.push(I.stateNode);else for(I=I.child;I!==null;)Z.push(I),I=I.sibling}return x}function bz(){return(Qu&2)!==0&&Xu!==0?Xu&-Xu:lE.T!==null?MU():AW()}function MA(){if(az===0)if((Xu&536870912)===0||Fu){var Z=j$;j$<<=1,(j$&3932160)===0&&(j$=262144),az=Z}else az=536870912;return Z=sz.current,Z!==null&&(Z.flags|=32),az}function Iz(Z,x,q){(Z===cp&&(au===2||au===9)||Z.cancelPendingCommit!==null)&&(Sx(Z,0),IY(Z,Xu,az,!1)),G(Z,q),((Qu&2)===0||Z!==cp)&&(Z===cp&&((Qu&2)===0&&(zP|=q),Gp===4&&IY(Z,Xu,az,!1)),xE(Z))}function WA(Z,x,q){if((Qu&6)!==0)throw Error(z(327));var I=!q&&(x&127)===0&&(x&Z.expiredLanes)===0||L(Z,x),o=I?cW(Z,x):Ar(Z,x,!0),F=I;do{if(o===0){un&&!I&&IY(Z,x,0,!1);break}else{if(q=Z.current.alternate,F&&!pW(q)){o=Ar(Z,x,!1),F=!1;continue}if(o===2){if(F=x,Z.errorRecoveryDisabledLanes&F)var D=0;else D=Z.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){x=D;U:{var s=Z;o=PH;var QU=W5&&s.current.memoizedState.isDehydrated;if(QU&&(Sx(s,D).flags|=256),D=Ar(s,D,!1),D!==2){if(xL&&!QU){s.errorRecoveryDisabledLanes|=F,zP|=F,o=4;break U}F=rz,rz=o,F!==null&&(rz===null?rz=F:rz.push.apply(rz,F))}o=D}if(F=!1,o!==2)continue}}if(o===1){Sx(Z,0),IY(Z,x,0,!0);break}U:{switch(I=Z,F=o,F){case 0:case 1:throw Error(z(345));case 4:if((x&4194048)!==x)break;case 6:IY(I,x,az,!oY);break U;case 2:rz=null;break;case 3:case 5:break;default:throw Error(z(329))}if((x&62914560)===x&&(o=m$+300-Oz(),10<o)){if(IY(I,x,az,!oY),O(I,0,!0)!==0)break U;I4=x,I.timeoutHandle=TW(fA.bind(null,I,q,rz,V$,jL,x,az,zP,pn,oY,F,"Throttled",-0,0),o);break U}fA(I,q,rz,V$,jL,x,az,zP,pn,oY,F,null,-0,0)}}break}while(!0);xE(Z)}function fA(Z,x,q,I,o,F,D,s,QU,BU,ZE,fU,LE,Eu){if(Z.timeoutHandle=_Z,fU=x.subtreeFlags,fU&8192||(fU&16785408)===16785408){fU=dW(),tA(x,F,fU);var ep=(F&62914560)===F?m$-Oz():(F&4194048)===F?gm-Oz():0;if(ep=wW(fU,ep),ep!==null){I4=F,Z.cancelPendingCommit=ep(Em.bind(null,Z,x,F,q,I,o,D,s,QU,ZE,fU,null,LE,Eu)),IY(Z,F,D,!BU);return}}Em(Z,x,F,q,I,o,D,s,QU)}function pW(Z){for(var x=Z;;){var q=x.tag;if((q===0||q===11||q===15)&&x.flags&16384&&(q=x.updateQueue,q!==null&&(q=q.stores,q!==null)))for(var I=0;I<q.length;I++){var o=q[I],F=o.getSnapshot;o=o.value;try{if(!fz(F(),o))return!1}catch{return!1}}if(q=x.child,x.subtreeFlags&16384&&q!==null)q.return=x,x=q;else{if(x===Z)break;for(;x.sibling===null;){if(x.return===null||x.return===Z)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function IY(Z,x,q,I){x&=~nL,x&=~zP,Z.suspendedLanes|=x,Z.pingedLanes&=~x,I&&(Z.warmLanes|=x),I=Z.expirationTimes;for(var o=x;0<o;){var F=31-Mz(o),D=1<<F;I[F]=-1,o&=~D}q!==0&&m(Z,q,x)}function sA(){return(Qu&6)===0?(bU(0,!1),!1):!0}function Fr(){if($u!==null){if(au===0)var Z=$u.return;else Z=$u,k4=eZ=null,vE(Z),_x=null,zH=0,Z=$u;for(;Z!==null;)oA(Z.alternate,Z),Z=Z.return;$u=null}}function Sx(Z,x){var q=Z.timeoutHandle;q!==_Z&&(Z.timeoutHandle=_Z,oW(q)),q=Z.cancelPendingCommit,q!==null&&(Z.cancelPendingCommit=null,q()),I4=0,Fr(),cp=Z,$u=q=j4(Z.current,null),Xu=x,au=0,Kz=null,oY=!1,un=L(Z,x),xL=!1,pn=az=nL=zP=iY=Gp=0,rz=PH=null,jL=!1,(x&8)!==0&&(x|=x&32);var I=Z.entangledLanes;if(I!==0)for(Z=Z.entanglements,I&=x;0<I;){var o=31-Mz(I),F=1<<o;x|=Z[o],I&=~F}return y4=x,Jz(),q}function KA(Z,x){uu=null,lE.H=YH,x===ax||x===O$?(x=mu(),au=3):x===EL?(x=mu(),au=4):au=x===YL?8:x!==null&&typeof x=="object"&&typeof x.then=="function"?6:1,Kz=x,$u===null&&(Gp=1,aQ(Z,OU(x,Z.current)))}function aA(){var Z=sz.current;return Z===null?!0:(Xu&4194048)===Xu?pc===null:(Xu&62914560)===Xu||(Xu&536870912)!==0?Z===pc:!1}function _A(){var Z=lE.H;return lE.H=YH,Z===null?YH:Z}function gA(){var Z=lE.A;return lE.A=zs,Z}function z$(){Gp=4,oY||(Xu&4194048)!==Xu&&sz.current!==null||(un=!0),(iY&134217727)===0&&(zP&134217727)===0||cp===null||IY(cp,Xu,az,!1)}function Ar(Z,x,q){var I=Qu;Qu|=2;var o=_A(),F=gA();(cp!==Z||Xu!==x)&&(V$=null,Sx(Z,x)),x=!1;var D=Gp;U:do try{if(au!==0&&$u!==null){var s=$u,QU=Kz;switch(au){case 8:Fr(),D=6;break U;case 3:case 2:case 9:case 6:sz.current===null&&(x=!0);var BU=au;if(au=0,Kz=null,Rx(Z,s,QU,BU),q&&un){D=0;break U}break;default:BU=au,au=0,Kz=null,Rx(Z,s,QU,BU)}}zW(),D=Gp;break}catch(ZE){KA(Z,ZE)}while(!0);return x&&Z.shellSuspendCounter++,k4=eZ=null,Qu=I,lE.H=o,lE.A=F,$u===null&&(cp=null,Xu=0,Jz()),D}function zW(){for(;$u!==null;)eA($u)}function cW(Z,x){var q=Qu;Qu|=2;var I=_A(),o=gA();cp!==Z||Xu!==x?(V$=null,xH=Oz()+500,Sx(Z,x)):un=L(Z,x);U:do try{if(au!==0&&$u!==null){x=$u;var F=Kz;E:switch(au){case 1:au=0,Kz=null,Rx(Z,x,F,1);break;case 2:case 9:if(XE(F)){au=0,Kz=null,CA(x);break}x=function(){au!==2&&au!==9||cp!==Z||(au=7),xE(Z)},F.then(x,x);break U;case 3:au=7;break U;case 4:au=5;break U;case 7:XE(F)?(au=0,Kz=null,CA(x)):(au=0,Kz=null,Rx(Z,x,F,7));break;case 5:var D=null;switch($u.tag){case 26:D=$u.memoizedState;case 5:case 27:var s=$u,QU=s.type,BU=s.pendingProps;if(D?Dm(D):Lm(s.stateNode,QU,BU)){au=0,Kz=null;var ZE=s.sibling;if(ZE!==null)$u=ZE;else{var fU=s.return;fU!==null?($u=fU,c$(fU)):$u=null}break E}}au=0,Kz=null,Rx(Z,x,F,5);break;case 6:au=0,Kz=null,Rx(Z,x,F,6);break;case 8:Fr(),Gp=6;break U;default:throw Error(z(462))}}YW();break}catch(LE){KA(Z,LE)}while(!0);return k4=eZ=null,lE.H=I,lE.A=o,Qu=q,$u!==null?0:(cp=null,Xu=0,Jz(),Gp)}function YW(){for(;$u!==null&&!sf();)eA($u)}function eA(Z){var x=NA(Z.alternate,Z,y4);Z.memoizedProps=Z.pendingProps,x===null?c$(Z):$u=x}function CA(Z){var x=Z,q=x.alternate;switch(x.tag){case 15:case 0:x=kA(q,x,x.pendingProps,x.type,void 0,Xu);break;case 11:x=kA(q,x,x.pendingProps,x.type.render,x.ref,Xu);break;case 5:vE(x);default:oA(q,x),x=$u=xm(x,y4),x=NA(q,x,y4)}Z.memoizedProps=Z.pendingProps,x===null?c$(Z):$u=x}function Rx(Z,x,q,I){k4=eZ=null,vE(x),_x=null,zH=0;var o=x.return;try{if(_M(Z,o,x,q,Xu)){Gp=1,aQ(Z,OU(q,Z.current)),$u=null;return}}catch(F){if(o!==null)throw $u=o,F;Gp=1,aQ(Z,OU(q,Z.current)),$u=null;return}x.flags&32768?(Fu||I===1?Z=!0:un||(Xu&536870912)!==0?Z=!1:(oY=Z=!0,(I===2||I===9||I===3||I===6)&&(I=sz.current,I!==null&&I.tag===13&&(I.flags|=16384))),Um(x,Z)):c$(x)}function c$(Z){var x=Z;do{if((x.flags&32768)!==0){Um(x,oY);return}Z=x.return;var q=CM(x.alternate,x,y4);if(q!==null){$u=q;return}if(x=x.sibling,x!==null){$u=x;return}$u=x=Z}while(x!==null);Gp===0&&(Gp=5)}function Um(Z,x){do{var q=UW(Z.alternate,Z);if(q!==null){q.flags&=32767,$u=q;return}if(q=Z.return,q!==null&&(q.flags|=32768,q.subtreeFlags=0,q.deletions=null),!x&&(Z=Z.sibling,Z!==null)){$u=Z;return}$u=Z=q}while(Z!==null);Gp=6,$u=null}function Em(Z,x,q,I,o,F,D,s,QU){Z.cancelPendingCommit=null;do _q();while(P5!==0);if((Qu&6)!==0)throw Error(z(327));if(x!==null){if(x===Z.current)throw Error(z(177));if(F=x.lanes|x.childLanes,F|=uL,d(Z,q,F,D,s,QU),Z===cp&&($u=cp=null,Xu=0),zn=x,AY=Z,I4=q,qL=F,HL=o,em=I,(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?(Z.callbackNode=null,Z.callbackPriority=0,nW(Kr,function(){return Ym(),null})):(Z.callbackNode=null,Z.callbackPriority=0),I=(x.flags&13878)!==0,(x.subtreeFlags&13878)!==0||I){I=lE.T,lE.T=null,o=H4(),N5(2),D=Qu,Qu|=4;try{EW(Z,x,q)}finally{Qu=D,N5(o),lE.T=I}}P5=1,um(),pm(),zm()}}function um(){if(P5===1){P5=0;var Z=AY,x=zn,q=(x.flags&13878)!==0;if((x.subtreeFlags&13878)!==0||q){q=lE.T,lE.T=null;var I=H4();N5(2);var o=Qu;Qu|=4;try{SA(x,Z),LW(Z.containerInfo)}finally{Qu=o,N5(I),lE.T=q}}Z.current=x,P5=2}}function pm(){if(P5===2){P5=0;var Z=AY,x=zn,q=(x.flags&8772)!==0;if((x.subtreeFlags&8772)!==0||q){q=lE.T,lE.T=null;var I=H4();N5(2);var o=Qu;Qu|=4;try{BA(Z,x.alternate,x)}finally{Qu=o,N5(I),lE.T=q}}P5=3}}function zm(){if(P5===4||P5===3){P5=0,Kf();var Z=AY,x=zn,q=I4,I=em;(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?P5=5:(P5=0,zn=AY=null,cm(Z,Z.pendingLanes));var o=Z.pendingLanes;if(o===0&&(FY=null),_(q),x=x.stateNode,Wz&&typeof Wz.onCommitFiberRoot=="function")try{Wz.onCommitFiberRoot(UH,x,void 0,(x.current.flags&128)===128)}catch{}if(I!==null){x=lE.T,o=H4(),N5(2),lE.T=null;try{for(var F=Z.onRecoverableError,D=0;D<I.length;D++){var s=I[D];F(s.value,{componentStack:s.stack})}}finally{lE.T=x,N5(o)}}(I4&3)!==0&&_q(),xE(Z),o=Z.pendingLanes,(q&261930)!==0&&(o&42)!==0?Z===kL?nH++:(nH=0,kL=Z):nH=0,W5&&Bf(),bU(0,!1)}}function cm(Z,x){(Z.pooledCacheLanes&=x)===0&&(x=Z.pooledCache,x!=null&&(Z.pooledCache=null,oU(x)))}function _q(){return um(),pm(),zm(),Ym()}function Ym(){if(P5!==5)return!1;var Z=AY,x=qL;qL=0;var q=_(I4),I=32>q?32:q;q=lE.T;var o=H4();try{N5(I),lE.T=null,I=HL,HL=null;var F=AY,D=I4;if(P5=0,zn=AY=null,I4=0,(Qu&6)!==0)throw Error(z(331));var s=Qu;if(Qu|=4,hA(F.current),DA(F,F.current,D,I),Qu=s,bU(0,!1),Wz&&typeof Wz.onPostCommitFiberRoot=="function")try{Wz.onPostCommitFiberRoot(UH,F)}catch{}return!0}finally{N5(o),lE.T=q,cm(Z,x)}}function Zm(Z,x,q){x=OU(q,x),x=Yr(Z.stateNode,x,2),Z=jU(Z,x,2),Z!==null&&(G(Z,2),xE(Z))}function vu(Z,x,q){if(Z.tag===3)Zm(Z,Z,q);else for(;x!==null;){if(x.tag===3){Zm(x,Z,q);break}else if(x.tag===1){var I=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(FY===null||!FY.has(I))){Z=OU(q,Z),q=YA(2),I=jU(x,q,2),I!==null&&(ZA(q,I,x,Z),G(I,2),xE(I));break}}x=x.return}}function mr(Z,x,q){var I=Z.pingCache;if(I===null){I=Z.pingCache=new cs;var o=new Set;I.set(x,o)}else o=I.get(x),o===void 0&&(o=new Set,I.set(x,o));o.has(q)||(xL=!0,o.add(q),Z=ZW.bind(null,Z,x,q),x.then(Z,Z))}function ZW(Z,x,q){var I=Z.pingCache;I!==null&&I.delete(x),Z.pingedLanes|=Z.suspendedLanes&q,Z.warmLanes&=~q,cp===Z&&(Xu&q)===q&&(Gp===4||Gp===3&&(Xu&62914560)===Xu&&300>Oz()-m$?(Qu&2)===0&&Sx(Z,0):nL|=q,pn===Xu&&(pn=0)),xE(Z)}function Pm(Z,x){x===0&&(x=i()),Z=yz(Z,x),Z!==null&&(G(Z,x),xE(Z))}function PW(Z){var x=Z.memoizedState,q=0;x!==null&&(q=x.retryLane),Pm(Z,q)}function xW(Z,x){var q=0;switch(Z.tag){case 31:case 13:var{stateNode:I,memoizedState:o}=Z;o!==null&&(q=o.retryLane);break;case 19:I=Z.stateNode;break;case 22:I=Z.stateNode._retryCache;break;default:throw Error(z(314))}I!==null&&I.delete(x),Pm(Z,q)}function nW(Z,x){return H$(Z,x)}function jW(Z,x,q,I){this.tag=Z,this.key=q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(Z){return Z=Z.prototype,!(!Z||!Z.isReactComponent)}function j4(Z,x){var q=Z.alternate;return q===null?(q=u(Z.tag,x,Z.key,Z.mode),q.elementType=Z.elementType,q.type=Z.type,q.stateNode=Z.stateNode,q.alternate=Z,Z.alternate=q):(q.pendingProps=x,q.type=Z.type,q.flags=0,q.subtreeFlags=0,q.deletions=null),q.flags=Z.flags&65011712,q.childLanes=Z.childLanes,q.lanes=Z.lanes,q.child=Z.child,q.memoizedProps=Z.memoizedProps,q.memoizedState=Z.memoizedState,q.updateQueue=Z.updateQueue,x=Z.dependencies,q.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},q.sibling=Z.sibling,q.index=Z.index,q.ref=Z.ref,q.refCleanup=Z.refCleanup,q}function xm(Z,x){Z.flags&=65011714;var q=Z.alternate;return q===null?(Z.childLanes=0,Z.lanes=x,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=q.childLanes,Z.lanes=q.lanes,Z.child=q.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=q.memoizedProps,Z.memoizedState=q.memoizedState,Z.updateQueue=q.updateQueue,Z.type=q.type,x=q.dependencies,Z.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),Z}function Y$(Z,x,q,I,o,F){var D=0;if(I=Z,typeof Z=="function")Vr(Z)&&(D=1);else if(typeof Z=="string")D=uc&&Z5?Bm(Z,q,B5.current)?26:hm(Z)?27:5:uc?Bm(Z,q,B5.current)?26:5:Z5&&hm(Z)?27:5;else U:switch(Z){case Jr:return Z=u(31,q,x,o),Z.elementType=Jr,Z.lanes=F,Z;case tx:return aZ(q.children,o,F,x);case $m:D=8,o|=24;break;case vr:return Z=u(12,q,x,o|2),Z.elementType=vr,Z.lanes=F,Z;case Rr:return Z=u(13,q,x,o),Z.elementType=Rr,Z.lanes=F,Z;case Dr:return Z=u(19,q,x,o),Z.elementType=Dr,Z.lanes=F,Z;default:if(typeof Z=="object"&&Z!==null)switch(Z.$$typeof){case OY:D=10;break U;case ym:D=9;break U;case Sr:D=11;break U;case tr:D=14;break U;case NY:D=16,I=null;break U}D=29,q=Error(z(130,Z===null?"null":typeof Z,"")),I=null}return x=u(D,q,x,o),x.elementType=Z,x.type=I,x.lanes=F,x}function aZ(Z,x,q,I){return Z=u(7,Z,I,x),Z.lanes=q,Z}function Gr(Z,x,q){return Z=u(6,Z,null,x),Z.lanes=q,Z}function nm(Z){var x=u(18,null,null,0);return x.stateNode=Z,x}function Br(Z,x,q){return x=u(4,Z.children!==null?Z.children:[],Z.key,x),x.lanes=q,x.stateNode={containerInfo:Z.containerInfo,pendingChildren:null,implementation:Z.implementation},x}function qW(Z,x,q,I,o,F,D,s,QU){this.tag=1,this.containerInfo=Z,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_Z,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=I,this.onUncaughtError=o,this.onCaughtError=F,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=QU,this.incompleteTransitions=new Map}function jm(Z,x,q,I,o,F,D,s,QU,BU,ZE,fU){return Z=new qW(Z,x,q,D,QU,BU,ZE,fU,s),x=1,F===!0&&(x|=24),F=u(3,null,null,x),Z.current=F,F.stateNode=Z,x=IU(),x.refCount++,Z.pooledCache=x,x.refCount++,F.memoizedState={element:I,isDehydrated:q,cache:x},J(F),Z}function qm(Z){return Z?(Z=lx,Z):lx}function Hm(Z){var x=Z._reactInternals;if(x===void 0)throw typeof Z.render=="function"?Error(z(188)):(Z=Object.keys(Z).join(","),Error(z(268,Z)));return Z=P(x),Z=Z!==null?n(Z):null,Z===null?null:gq(Z.stateNode)}function km(Z,x,q,I,o,F){o=qm(o),I.context===null?I.context=o:I.pendingContext=o,I=YU(x),I.payload={element:q},F=F===void 0?null:F,F!==null&&(I.callback=F),q=jU(Z,I,x),q!==null&&(Iz(q,Z,x),HU(q,Z,x))}function Qm(Z,x){if(Z=Z.memoizedState,Z!==null&&Z.dehydrated!==null){var q=Z.retryLane;Z.retryLane=q!==0&&q<x?q:x}}function dr(Z,x){Qm(Z,x),(Z=Z.alternate)&&Qm(Z,x)}var ku={},HW=y6.default,lz=Nq.default,wr=Object.assign,kW=Symbol.for("react.element"),Z$=Symbol.for("react.transitional.element"),Dx=Symbol.for("react.portal"),tx=Symbol.for("react.fragment"),$m=Symbol.for("react.strict_mode"),vr=Symbol.for("react.profiler"),ym=Symbol.for("react.consumer"),OY=Symbol.for("react.context"),Sr=Symbol.for("react.forward_ref"),Rr=Symbol.for("react.suspense"),Dr=Symbol.for("react.suspense_list"),tr=Symbol.for("react.memo"),NY=Symbol.for("react.lazy"),Jr=Symbol.for("react.activity"),QW=Symbol.for("react.memo_cache_sentinel"),Im=Symbol.iterator,$W=Symbol.for("react.client.reference"),P$=Array.isArray,lE=HW.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yW=E.rendererVersion,IW=E.rendererPackageName,Om=E.extraDevToolsConfig,gq=E.getPublicInstance,OW=E.getRootHostContext,NW=E.getChildHostContext,rW=E.prepareForCommit,LW=E.resetAfterCommit,XW=E.createInstance;E.cloneMutableInstance;var{appendInitialChild:hr,finalizeInitialChildren:Nm,shouldSetTextContent:x$,createTextInstance:rm}=E;E.cloneMutableTextInstance;var{scheduleTimeout:TW,cancelTimeout:oW,noTimeout:_Z,isPrimaryRenderer:q4}=E;E.warnsIfNotActing;var{supportsMutation:M5,supportsPersistence:Vc,supportsHydration:W5,getInstanceFromNode:iW}=E;E.beforeActiveInstanceBlur;var FW=E.preparePortalMount;E.prepareScopeUpdate,E.getInstanceFromScope;var{setCurrentUpdatePriority:N5,getCurrentUpdatePriority:H4,resolveUpdatePriority:AW}=E;E.trackSchedulerEvent,E.resolveEventType,E.resolveEventTimeStamp;var{shouldAttemptEagerTransition:mW,detachDeletedInstance:VW}=E;E.requestPostPaintCallback;var{maySuspendCommit:GW,maySuspendCommitOnUpdate:BW,maySuspendCommitInSyncRender:br,preloadInstance:Lm,startSuspendingCommit:dW,suspendInstance:Xm}=E;E.suspendOnActiveViewTransition;var wW=E.waitForCommitToBeReady;E.getSuspendedCommitReason;var{NotPendingTransition:Jx,HostTransitionContext:gZ,resetFormInstance:vW}=E;E.bindToConsole;var{supportsMicrotasks:SW,scheduleMicrotask:RW,supportsTestSelectors:eq,findFiberRoot:DW,getBoundingRect:tW,getTextContent:JW,isHiddenSubtree:Cq,matchAccessibilityRole:hW,setFocusIfFocusable:bW,setupIntersectionObserver:lW,appendChild:MW,appendChildToContainer:WW,commitTextUpdate:fW,commitMount:sW,commitUpdate:KW,insertBefore:aW,insertInContainerBefore:_W,removeChild:gW,removeChildFromContainer:eW,resetTextContent:Tm,hideInstance:CW,hideTextInstance:Uf,unhideInstance:Ef,unhideTextInstance:uf}=E;E.cancelViewTransitionName,E.cancelRootViewTransitionName,E.restoreRootViewTransitionName,E.cloneRootViewTransitionContainer,E.removeRootViewTransitionClone,E.measureClonedInstance,E.hasInstanceChanged,E.hasInstanceAffectedParent,E.startViewTransition,E.startGestureTransition,E.stopViewTransition,E.getCurrentGestureOffset,E.createViewTransitionInstance;var pf=E.clearContainer;E.createFragmentInstance,E.updateFragmentInstanceFiber,E.commitNewChildToFragmentInstance,E.deleteChildFromFragmentInstance;var{cloneInstance:zf,createContainerChildSet:om,appendChildToContainerChildSet:im,finalizeContainerChildren:cf,replaceContainerChildren:Fm,cloneHiddenInstance:Am,cloneHiddenTextInstance:mm,isSuspenseInstancePending:lr,isSuspenseInstanceFallback:Mr,getSuspenseInstanceFallbackErrorDetails:Yf,registerSuspenseInstanceRetry:Zf,canHydrateFormStateMarker:Pf,isFormStateMarkerMatching:xf,getNextHydratableSibling:Vm,getNextHydratableSiblingAfterSingleton:nf,getFirstHydratableChild:jf,getFirstHydratableChildWithinContainer:qf,getFirstHydratableChildWithinActivityInstance:Hf,getFirstHydratableChildWithinSuspenseInstance:kf,getFirstHydratableChildWithinSingleton:Qf,canHydrateInstance:$f,canHydrateTextInstance:yf,canHydrateActivityInstance:If,canHydrateSuspenseInstance:Of,hydrateInstance:Nf,hydrateTextInstance:rf,hydrateActivityInstance:Lf,hydrateSuspenseInstance:Xf,getNextHydratableInstanceAfterActivityInstance:Tf,getNextHydratableInstanceAfterSuspenseInstance:of,commitHydratedInstance:Ff,commitHydratedContainer:Af,commitHydratedActivityInstance:mf,commitHydratedSuspenseInstance:Vf,finalizeHydratedChildren:Gf,flushHydrationEvents:Bf}=E;E.clearActivityBoundary;var df=E.clearSuspenseBoundary;E.clearActivityBoundaryFromContainer;var{clearSuspenseBoundaryFromContainer:wf,hideDehydratedBoundary:vf,unhideDehydratedBoundary:Sf,shouldDeleteUnhydratedTailInstances:Gm}=E;E.diffHydratedPropsForDevWarnings,E.diffHydratedTextForDevWarnings,E.describeHydratableInstanceForDevWarnings;var{validateHydratableInstance:Rf,validateHydratableTextInstance:Df,supportsResources:uc,isHostHoistableType:Bm,getHoistableRoot:Wr,getResource:dm,acquireResource:wm,releaseResource:vm,hydrateHoistable:tf,mountHoistable:Sm,unmountHoistable:Rm,createHoistableInstance:Jf,prepareToCommitHoistables:hf,mayResourceSuspendCommit:bf,preloadResource:Dm,suspendResource:lf,supportsSingletons:Z5,resolveSingletonInstance:tm,acquireSingletonInstance:Mf,releaseSingletonInstance:Jm,isHostSingletonType:hm,isSingletonScope:hx}=E,fr=[],bx=-1,lx={},Mz=Math.clz32?Math.clz32:T,Wf=Math.log,ff=Math.LN2,n$=256,j$=262144,q$=4194304,H$=lz.unstable_scheduleCallback,sr=lz.unstable_cancelCallback,sf=lz.unstable_shouldYield,Kf=lz.unstable_requestPaint,Oz=lz.unstable_now,bm=lz.unstable_ImmediatePriority,af=lz.unstable_UserBlockingPriority,Kr=lz.unstable_NormalPriority,_f=lz.unstable_IdlePriority,gf=lz.log,ef=lz.unstable_setDisableYieldValue,UH=null,Wz=null,fz=typeof Object.is=="function"?Object.is:a,lm=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},Cf=Object.prototype.hasOwnProperty,ar,Mm,_r=!1,Wm=new WeakMap,Mx=[],Wx=0,k$=null,EH=0,y0=[],I0=0,rY=null,Gc=1,Bc="",B5=Q(null),uH=Q(null),LY=Q(null),Q$=Q(null),d5=null,Xp=null,Fu=!1,XY=null,O0=!1,gr=Error(z(519)),$$=Q(null),eZ=null,k4=null,Us=typeof AbortController<"u"?AbortController:function(){var Z=[],x=this.signal={aborted:!1,addEventListener:function(q,I){Z.push(I)}};this.abort=function(){x.aborted=!0,Z.forEach(function(q){return q()})}},Es=lz.unstable_scheduleCallback,us=lz.unstable_NormalPriority,Tp={$$typeof:OY,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},y$=null,fx=null,er=!1,I$=!1,Cr=!1,CZ=0,pH=null,UL=0,sx=0,Kx=null,fm=lE.S;lE.S=function(Z,x){gm=Oz(),typeof x=="object"&&x!==null&&typeof x.then=="function"&&Uu(Z,x),fm!==null&&fm(Z,x)};var UP=Q(null),ax=Error(z(460)),EL=Error(z(474)),O$=Error(z(542)),N$={then:function(){}},EP=null,_x=null,zH=0,uP=Bx(!0),sm=Bx(!1),N0=[],gx=0,uL=0,TY=!1,pL=!1,ex=Q(null),r$=Q(0),sz=Q(null),pc=null,tp=Q(0),Q4=0,uu=null,eu=null,Kp=null,L$=!1,Cx=!1,pP=!1,X$=0,cH=0,Un=null,ps=0,YH={readContext:t,use:Y5,useCallback:dU,useContext:dU,useEffect:dU,useImperativeHandle:dU,useLayoutEffect:dU,useInsertionEffect:dU,useMemo:dU,useReducer:dU,useRef:dU,useState:dU,useDebugValue:dU,useDeferredValue:dU,useTransition:dU,useSyncExternalStore:dU,useId:dU,useHostTransitionStatus:dU,useFormState:dU,useActionState:dU,useOptimistic:dU,useMemoCache:dU,useCacheRefresh:dU};YH.useEffectEvent=dU;var Km={readContext:t,use:Y5,useCallback:function(Z,x){return zE().memoizedState=[Z,x===void 0?null:x],Z},useContext:t,useEffect:hF,useImperativeHandle:function(Z,x,q){q=q!=null?q.concat([Z]):null,fQ(4194308,4,WF.bind(null,x,Z),q)},useLayoutEffect:function(Z,x){return fQ(4194308,4,Z,x)},useInsertionEffect:function(Z,x){fQ(4,2,Z,x)},useMemo:function(Z,x){var q=zE();x=x===void 0?null:x;var I=Z();if(pP){f(!0);try{Z()}finally{f(!1)}}return q.memoizedState=[I,x],I},useReducer:function(Z,x,q){var I=zE();if(q!==void 0){var o=q(x);if(pP){f(!0);try{q(x)}finally{f(!1)}}}else o=x;return I.memoizedState=I.baseState=o,Z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z,lastRenderedState:o},I.queue=Z,Z=Z.dispatch=aM.bind(null,uu,Z),[I.memoizedState,Z]},useRef:function(Z){var x=zE();return Z={current:Z},x.memoizedState=Z},useState:function(Z){Z=eN(Z);var x=Z.queue,q=UA.bind(null,uu,x);return x.dispatch=q,[Z.memoizedState,q]},useDebugValue:Er,useDeferredValue:function(Z,x){var q=zE();return ur(q,Z,x)},useTransition:function(){var Z=eN(!1);return Z=_F.bind(null,uu,Z.queue,!0,!1),zE().memoizedState=Z,[!1,Z]},useSyncExternalStore:function(Z,x,q){var I=uu,o=zE();if(Fu){if(q===void 0)throw Error(z(407));q=q()}else{if(q=x(),cp===null)throw Error(z(349));(Xu&127)!==0||V5(I,x,q)}o.memoizedState=q;var F={value:q,getSnapshot:x};return o.queue=F,hF(Ac.bind(null,I,F,Z),[Z]),I.flags|=2048,wx(9,{destroy:void 0},dx.bind(null,I,F,q,x),null),q},useId:function(){var Z=zE(),x=cp.identifierPrefix;if(Fu){var q=Bc,I=Gc;q=(I&~(1<<32-Mz(I)-1)).toString(32)+q,x="_"+x+"R_"+q,q=X$++,0<q&&(x+="H"+q.toString(32)),x+="_"}else q=ps++,x="_"+x+"r_"+q.toString(32)+"_";return Z.memoizedState=x},useHostTransitionStatus:pr,useFormState:SF,useActionState:SF,useOptimistic:function(Z){var x=zE();x.memoizedState=x.baseState=Z;var q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return x.queue=q,x=zr.bind(null,uu,!0,q),q.dispatch=x,[Z,x]},useMemoCache:hu,useCacheRefresh:function(){return zE().memoizedState=KM.bind(null,uu)},useEffectEvent:function(Z){var x=zE(),q={impl:Z};return x.memoizedState=q,function(){if((Qu&2)!==0)throw Error(z(440));return q.impl.apply(void 0,arguments)}}},zL={readContext:t,use:Y5,useCallback:sF,useContext:t,useEffect:Ur,useImperativeHandle:fF,useInsertionEffect:lF,useLayoutEffect:MF,useMemo:KF,useReducer:bu,useRef:JF,useState:function(){return bu(Op)},useDebugValue:Er,useDeferredValue:function(Z,x){var q=nE();return aF(q,eu.memoizedState,Z,x)},useTransition:function(){var Z=bu(Op)[0],x=nE().memoizedState;return[typeof Z=="boolean"?Z:wu(Z),x]},useSyncExternalStore:O5,useId:eF,useHostTransitionStatus:pr,useFormState:RF,useActionState:RF,useOptimistic:function(Z,x){var q=nE();return VF(q,eu,Z,x)},useMemoCache:hu,useCacheRefresh:CF};zL.useEffectEvent=bF;var am={readContext:t,use:Y5,useCallback:sF,useContext:t,useEffect:Ur,useImperativeHandle:fF,useInsertionEffect:lF,useLayoutEffect:MF,useMemo:KF,useReducer:b5,useRef:JF,useState:function(){return b5(Op)},useDebugValue:Er,useDeferredValue:function(Z,x){var q=nE();return eu===null?ur(q,Z,x):aF(q,eu.memoizedState,Z,x)},useTransition:function(){var Z=b5(Op)[0],x=nE().memoizedState;return[typeof Z=="boolean"?Z:wu(Z),x]},useSyncExternalStore:O5,useId:eF,useHostTransitionStatus:pr,useFormState:tF,useActionState:tF,useOptimistic:function(Z,x){var q=nE();return eu!==null?VF(q,eu,Z,x):(q.baseState=Z,[Z,q.queue.dispatch])},useMemoCache:hu,useCacheRefresh:CF};am.useEffectEvent=bF;var cL={enqueueSetState:function(Z,x,q){Z=Z._reactInternals;var I=bz(),o=YU(I);o.payload=x,q!=null&&(o.callback=q),x=jU(Z,o,I),x!==null&&(Iz(x,Z,I),HU(x,Z,I))},enqueueReplaceState:function(Z,x,q){Z=Z._reactInternals;var I=bz(),o=YU(I);o.tag=1,o.payload=x,q!=null&&(o.callback=q),x=jU(Z,o,I),x!==null&&(Iz(x,Z,I),HU(x,Z,I))},enqueueForceUpdate:function(Z,x){Z=Z._reactInternals;var q=bz(),I=YU(q);I.tag=2,x!=null&&(I.callback=x),x=jU(Z,I,q),x!==null&&(Iz(x,Z,q),HU(x,Z,q))}},YL=Error(z(461)),ap=!1,ZL={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},$4=!1,_p=!1,PL=!1,_m=typeof WeakSet=="function"?WeakSet:Set,r5=null,gp=null,Nz=!1,zc=null,En=8192,zs={getCacheForType:function(Z){var x=t(Tp),q=x.data.get(Z);return q===void 0&&(q=Z(),x.data.set(Z,q)),q},cacheSignal:function(){return t(Tp).controller.signal}},T$=0,o$=1,i$=2,F$=3,A$=4;if(typeof Symbol=="function"&&Symbol.for){var ZH=Symbol.for;T$=ZH("selector.component"),o$=ZH("selector.has_pseudo_class"),i$=ZH("selector.role"),F$=ZH("selector.test_id"),A$=ZH("selector.text")}var cs=typeof WeakMap=="function"?WeakMap:Map,Qu=0,cp=null,$u=null,Xu=0,au=0,Kz=null,oY=!1,un=!1,xL=!1,y4=0,Gp=0,iY=0,zP=0,nL=0,az=0,pn=0,PH=null,rz=null,jL=!1,m$=0,gm=0,xH=1/0,V$=null,FY=null,P5=0,AY=null,zn=null,I4=0,qL=0,HL=null,em=null,nH=0,kL=null;return ku.attemptContinuousHydration=function(Z){if(Z.tag===13||Z.tag===31){var x=yz(Z,67108864);x!==null&&Iz(x,Z,67108864),dr(Z,67108864)}},ku.attemptHydrationAtCurrentPriority=function(Z){if(Z.tag===13||Z.tag===31){var x=bz();x=h(x);var q=yz(Z,x);q!==null&&Iz(q,Z,x),dr(Z,x)}},ku.attemptSynchronousHydration=function(Z){switch(Z.tag){case 3:if(Z=Z.stateNode,Z.current.memoizedState.isDehydrated){var x=N(Z.pendingLanes);if(x!==0){for(Z.pendingLanes|=2,Z.entangledLanes|=2;x;){var q=1<<31-Mz(x);Z.entanglements[1]|=q,x&=~q}xE(Z),(Qu&6)===0&&(xH=Oz()+500,bU(0,!1))}}break;case 31:case 13:x=yz(Z,2),x!==null&&Iz(x,Z,2),sA(),dr(Z,2)}},ku.batchedUpdates=function(Z,x){return Z(x)},ku.createComponentSelector=function(Z){return{$$typeof:T$,value:Z}},ku.createContainer=function(Z,x,q,I,o,F,D,s,QU,BU){return jm(Z,x,!1,null,q,I,F,null,D,s,QU,BU)},ku.createHasPseudoClassSelector=function(Z){return{$$typeof:o$,value:Z}},ku.createHydrationContainer=function(Z,x,q,I,o,F,D,s,QU,BU,ZE,fU,LE,Eu){var ep;return Z=jm(q,I,!0,Z,o,F,s,Eu,QU,BU,ZE,fU),Z.context=qm(null),q=Z.current,I=bz(),I=h(I),o=YU(I),o.callback=(ep=x)!=null?ep:null,jU(q,o,I),x=I,Z.current.lanes=x,G(Z,x),xE(Z),Z},ku.createPortal=function(Z,x,q){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dx,key:I==null?null:""+I,children:Z,containerInfo:x,implementation:q}},ku.createRoleSelector=function(Z){return{$$typeof:i$,value:Z}},ku.createTestNameSelector=function(Z){return{$$typeof:F$,value:Z}},ku.createTextSelector=function(Z){return{$$typeof:A$,value:Z}},ku.defaultOnCaughtError=function(Z){console.error(Z)},ku.defaultOnRecoverableError=function(Z){lm(Z)},ku.defaultOnUncaughtError=function(Z){lm(Z)},ku.deferredUpdates=function(Z){var x=lE.T,q=H4();try{return N5(32),lE.T=null,Z()}finally{N5(q),lE.T=x}},ku.discreteUpdates=function(Z,x,q,I,o){var F=lE.T,D=H4();try{return N5(2),lE.T=null,Z(x,q,I,o)}finally{N5(D),lE.T=F,Qu===0&&(xH=Oz()+500)}},ku.findAllNodes=ir,ku.findBoundingRects=function(Z,x){if(!eq)throw Error(z(363));x=ir(Z,x),Z=[];for(var q=0;q<x.length;q++)Z.push(tW(x[q]));for(x=Z.length-1;0<x;x--){q=Z[x];for(var I=q.x,o=I+q.width,F=q.y,D=F+q.height,s=x-1;0<=s;s--)if(x!==s){var QU=Z[s],BU=QU.x,ZE=BU+QU.width,fU=QU.y,LE=fU+QU.height;if(I>=BU&&F>=fU&&o<=ZE&&D<=LE){Z.splice(x,1);break}else if(I!==BU||q.width!==QU.width||LE<F||fU>D){if(!(F!==fU||q.height!==QU.height||ZE<I||BU>o)){BU>I&&(QU.width+=BU-I,QU.x=I),ZE<o&&(QU.width=o-BU),Z.splice(x,1);break}}else{fU>F&&(QU.height+=fU-F,QU.y=F),LE<D&&(QU.height=D-fU),Z.splice(x,1);break}}}return Z},ku.findHostInstance=Hm,ku.findHostInstanceWithNoPortals=function(Z){return Z=P(Z),Z=Z!==null?j(Z):null,Z===null?null:gq(Z.stateNode)},ku.findHostInstanceWithWarning=function(Z){return Hm(Z)},ku.flushPassiveEffects=_q,ku.flushSyncFromReconciler=function(Z){var x=Qu;Qu|=1;var q=lE.T,I=H4();try{if(N5(2),lE.T=null,Z)return Z()}finally{N5(I),lE.T=q,Qu=x,(Qu&6)===0&&bU(0,!1)}},ku.flushSyncWork=sA,ku.focusWithin=function(Z,x){if(!eq)throw Error(z(363));for(Z=Xr(Z),x=lA(Z,x),x=Array.from(x),Z=0;Z<x.length;){var q=x[Z++],I=q.tag;if(!Cq(q)){if((I===5||I===26||I===27)&&bW(q.stateNode))return!0;for(q=q.child;q!==null;)x.push(q),q=q.sibling}}return!1},ku.getFindAllNodesFailureDescription=function(Z,x){if(!eq)throw Error(z(363));var q=0,I=[];Z=[Xr(Z),0];for(var o=0;o<Z.length;){var F=Z[o++],D=F.tag,s=Z[o++],QU=x[s];if((D!==5&&D!==26&&D!==27||!Cq(F))&&(Tr(F,QU)&&(I.push(or(QU)),s++,s>q&&(q=s)),s<x.length))for(F=F.child;F!==null;)Z.push(F,s),F=F.sibling}if(q<x.length){for(Z=[];q<x.length;q++)Z.push(or(x[q]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+Z.join(" > ")}return null},ku.getPublicRootInstance=function(Z){if(Z=Z.current,!Z.child)return null;switch(Z.child.tag){case 27:case 5:return gq(Z.child.stateNode);default:return Z.child.stateNode}},ku.injectIntoDevTools=function(){var Z={bundleType:0,version:yW,rendererPackageName:IW,currentDispatcherRef:lE,reconcilerVersion:"19.2.0"};if(Om!==null&&(Z.rendererConfig=Om),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Z=!1;else{var x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(x.isDisabled||!x.supportsFiber)Z=!0;else{try{UH=x.inject(Z),Wz=x}catch{}Z=!!x.checkDCE}}return Z},ku.isAlreadyRendering=function(){return(Qu&6)!==0},ku.observeVisibleRects=function(Z,x,q,I){if(!eq)throw Error(z(363));Z=ir(Z,x);var o=lW(Z,q,I).disconnect;return{disconnect:function(){o()}}},ku.shouldError=function(){return null},ku.shouldSuspend=function(){return!1},ku.startHostTransition=function(Z,x,q,I){if(Z.tag!==5)throw Error(z(476));var o=gF(Z).queue;_F(Z,o,x,Jx,q===null?p:function(){var F=gF(Z);return F.next===null&&(F=Z.alternate.memoizedState),lq(Z,F.next.queue,{},bz()),q(I)})},ku.updateContainer=function(Z,x,q,I){var o=x.current,F=bz();return km(o,F,Z,x,q,I),F},ku.updateContainerSync=function(Z,x,q,I){return km(x.current,2,Z,x,q,I),2},ku},U.exports.default=U.exports,Object.defineProperty(U.exports,"__esModule",{value:!0})}(Pi)),Pi.exports}var mzU={exports:{}};mzU.exports;var H6;function VzU(){return H6||(H6=1,j6.exports=AzU()),j6.exports}var GzU=VzU(),BzU=FzU(GzU);function dzU(U){let E=BzU(U);return E.injectIntoDevTools(),E}var B6=0,Oq={},wzU=/^three(?=[A-Z])/,nN=(U)=>`${U[0].toUpperCase()}${U.slice(1)}`,vzU=0,SzU=(U)=>typeof U==="function";function qQ(U){if(SzU(U)){let E=`${vzU++}`;return Oq[E]=U,E}else Object.assign(Oq,U)}function d6(U,E){let u=nN(U),p=Oq[u];if(U!=="primitive"&&!p)throw new Error(`R3F: ${u} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(U==="primitive"&&!E.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(E.args!==void 0&&!Array.isArray(E.args))throw new Error("R3F: The args prop must be an array!")}function RzU(U,E,u){var p;if(U=nN(U)in Oq?U:U.replace(wzU,""),d6(U,E),U==="primitive"&&(p=E.object)!=null&&p.__r3f)delete E.object.__r3f;return uN(E.object,u,U,E)}function DzU(U){if(!U.isHidden){var E;if(U.props.attach&&(E=U.parent)!=null&&E.object)zN(U.parent,U);else if(jz(U.object))U.object.visible=!1;U.isHidden=!0,Lq(U)}}function w6(U){if(U.isHidden){var E;if(U.props.attach&&(E=U.parent)!=null&&E.object)pN(U.parent,U);else if(jz(U.object)&&U.props.visible!==!1)U.object.visible=!0;U.isHidden=!1,Lq(U)}}function Hi(U,E,u){let p=E.root.getState();if(!U.parent&&U.object!==p.scene)return;if(!E.object){var z,c;let Y=Oq[nN(E.type)];E.object=(z=E.props.object)!=null?z:new Y(...(c=E.props.args)!=null?c:[]),E.object.__r3f=E}if(W0(E.object,E.props),E.props.attach)pN(U,E);else if(jz(E.object)&&jz(U.object)){let Y=U.object.children.indexOf(u==null?void 0:u.object);if(u&&Y!==-1){let P=U.object.children.indexOf(E.object);if(P!==-1){U.object.children.splice(P,1);let n=P<Y?Y-1:Y;U.object.children.splice(n,0,E.object)}else E.object.parent=U.object,U.object.children.splice(Y,0,E.object),E.object.dispatchEvent({type:"added"}),U.object.dispatchEvent({type:"childadded",child:E.object})}else U.object.add(E.object)}for(let Y of E.children)Hi(E,Y);Lq(E)}function Ui(U,E){if(!E)return;E.parent=U,U.children.push(E),Hi(U,E)}function k6(U,E,u){if(!E||!u)return;E.parent=U;let p=U.children.indexOf(u);if(p!==-1)U.children.splice(p,0,E);else U.children.push(E);Hi(U,E,u)}function v6(U){if(typeof U.dispose==="function"){let E=()=>{try{U.dispose()}catch{}};if(typeof IS_REACT_ACT_ENVIRONMENT!=="undefined")E();else Nq.unstable_scheduleCallback(Nq.unstable_IdlePriority,E)}}function xi(U,E,u){if(!E)return;E.parent=null;let p=U.children.indexOf(E);if(p!==-1)U.children.splice(p,1);if(E.props.attach)zN(U,E);else if(jz(E.object)&&jz(U.object))U.object.remove(E.object),OzU(I6(E),E.object);let z=E.props.dispose!==null&&u!==!1;for(let c=E.children.length-1;c>=0;c--){let Y=E.children[c];xi(E,Y,z)}if(E.children.length=0,delete E.object.__r3f,z&&E.type!=="primitive"&&E.object.type!=="Scene")v6(E.object);if(u===void 0)Lq(E)}function tzU(U,E){for(let u of[U,U.alternate])if(u!==null){if(typeof u.ref==="function"){u.refCleanup==null||u.refCleanup();let p=u.ref(E);if(typeof p==="function")u.refCleanup=p}else if(u.ref)u.ref.current=E}}var EN=[];function JzU(){for(let[u]of EN){let p=u.parent;if(p){if(u.props.attach)zN(p,u);else if(jz(u.object)&&jz(p.object))p.object.remove(u.object);for(let z of u.children)if(z.props.attach)zN(u,z);else if(jz(z.object)&&jz(u.object))u.object.remove(z.object)}if(u.isHidden)w6(u);if(u.object.__r3f)delete u.object.__r3f;if(u.type!=="primitive")v6(u.object)}for(let[u,p,z]of EN){u.props=p;let c=u.parent;if(c){var U,E;let Y=Oq[nN(u.type)];if(u.object=(U=u.props.object)!=null?U:new Y(...(E=u.props.args)!=null?E:[]),u.object.__r3f=u,tzU(z,u.object),W0(u.object,u.props),u.props.attach)pN(c,u);else if(jz(u.object)&&jz(c.object))c.object.add(u.object);for(let P of u.children)if(P.props.attach)pN(u,P);else if(jz(P.object)&&jz(u.object))u.object.add(P.object);Lq(u)}}EN.length=0}var Ei=()=>{},Q6={},UN=B6,hzU=0,bzU=4,jQ=dzU({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:RzU,removeChild:xi,appendChild:Ui,appendInitialChild:Ui,insertBefore:k6,appendChildToContainer(U,E){let u=U.getState().scene.__r3f;if(!E||!u)return;Ui(u,E)},removeChildFromContainer(U,E){let u=U.getState().scene.__r3f;if(!E||!u)return;xi(u,E)},insertInContainerBefore(U,E,u){let p=U.getState().scene.__r3f;if(!E||!u||!p)return;k6(p,E,u)},getRootHostContext:()=>Q6,getChildHostContext:()=>Q6,commitUpdate(U,E,u,p,z){var c,Y,P;d6(E,p);let n=!1;if(U.type==="primitive"&&u.object!==p.object)n=!0;else if(((c=p.args)==null?void 0:c.length)!==((Y=u.args)==null?void 0:Y.length))n=!0;else if((P=p.args)!=null&&P.some((H,k)=>{var Q;return H!==((Q=u.args)==null?void 0:Q[k])}))n=!0;if(n)EN.push([U,{...p},z]);else{let H=$zU(U,p);if(Object.keys(H).length)Object.assign(U.props,H),W0(U.object,H)}if(z.sibling===null||(z.flags&bzU)===hzU)JzU()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:(U)=>U==null?void 0:U.object,prepareForCommit:()=>null,preparePortalMount:(U)=>uN(U.getState().scene,U,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:DzU,unhideInstance:w6,createTextInstance:Ei,hideTextInstance:Ei,unhideTextInstance:Ei,scheduleTimeout:typeof setTimeout==="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout==="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:zp.createContext(null),setCurrentUpdatePriority(U){UN=U},getCurrentUpdatePriority(){return UN},resolveUpdatePriority(){var U;if(UN!==B6)return UN;switch(typeof window!=="undefined"&&((U=window.event)==null?void 0:U.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ozU;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return XzU;default:return TzU}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:izU.version,applyViewTransitionName(U,E,u){},restoreViewTransitionName(U,E){},cancelViewTransitionName(U,E,u){},cancelRootViewTransitionName(U){},restoreRootViewTransitionName(U){},InstanceMeasurement:null,measureInstance:(U)=>null,wasInstanceInViewport:(U)=>!0,hasInstanceChanged:(U,E)=>!1,hasInstanceAffectedParent:(U,E)=>!1,suspendOnActiveViewTransition(U,E){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(U){},createViewTransitionInstance:(U)=>null,getCurrentGestureOffset(U){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(U,E){return U},cloneMutableTextInstance(U){return U},cloneRootViewTransitionContainer(U){throw new Error("Not implemented.")},removeRootViewTransitionClone(U,E){throw new Error("Not implemented.")},createFragmentInstance:(U)=>null,updateFragmentInstanceFiber(U,E){},commitNewChildToFragmentInstance(U,E){},deleteChildFromFragmentInstance(U,E){},measureClonedInstance:(U)=>null,maySuspendCommitOnUpdate:(U,E,u)=>!1,maySuspendCommitInSyncRender:(U,E)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(U,E)=>null}),vZ=new Map,$q={objects:"shallow",strict:!1};function lzU(U,E){if(!E&&typeof HTMLCanvasElement!=="undefined"&&U instanceof HTMLCanvasElement&&U.parentElement){let{width:u,height:p,top:z,left:c}=U.parentElement.getBoundingClientRect();return{width:u,height:p,top:z,left:c}}else if(!E&&typeof OffscreenCanvas!=="undefined"&&U instanceof OffscreenCanvas)return{width:U.width,height:U.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...E}}function ki(U){let E=vZ.get(U),u=E==null?void 0:E.fiber,p=E==null?void 0:E.store;if(E)console.warn("R3F.createRoot should only be called once!");let z=typeof reportError==="function"?reportError:console.error,c=p||NzU(YN,qi),Y=u||jQ.createContainer(c,LzU,null,!1,null,"",z,z,z,null);if(!E)vZ.set(U,{fiber:Y,store:c});let P,n,j=!1,H=null;return{async configure(k={}){let Q;H=new Promise((yU)=>Q=yU);let{gl:y,size:r,scene:T,events:N,onCreated:O,shadows:L=!1,linear:X=!1,flat:i=!1,legacy:B=!1,orthographic:G=!1,frameloop:d="always",dpr:m=[1,2],performance:V,raycaster:w,camera:h,onPointerMissed:_}=k,f=c.getState(),a=f.gl;if(!f.gl){let yU={canvas:U,powerPreference:"high-performance",antialias:!0,alpha:!0},wU=typeof y==="function"?await y(yU):y;if(x6(wU))a=wU;else a=new dZ({...yU,...y});f.set({gl:a})}let uU=f.raycaster;if(!uU)f.set({raycaster:uU=new Hq});let{params:UU,...ZU}=w||{};if(!rp.equ(ZU,uU,$q))W0(uU,{...ZU});if(!rp.equ(UU,uU.params,$q))W0(uU,{params:{...uU.params,...UU}});if(!f.camera||f.camera===n&&!rp.equ(n,h,$q)){n=h;let yU=h==null?void 0:h.isCamera,wU=yU?h:G?new n0(0,0,0,0,0.1,1000):new ip(75,0,0.1,1000);if(!yU){if(wU.position.z=5,h){if(W0(wU,h),!wU.manual){if("aspect"in h||"left"in h||"right"in h||"bottom"in h||"top"in h)wU.manual=!0,wU.updateProjectionMatrix()}}if(!f.camera&&!(h!=null&&h.rotation))wU.lookAt(0,0,0)}f.set({camera:wU}),uU.camera=wU}if(!f.scene){let yU;if(T!=null&&T.isScene)yU=T,uN(yU,c,"",{});else if(yU=new gc,uN(yU,c,"",{}),T)W0(yU,T);f.set({scene:yU})}if(N&&!f.events.handlers)f.set({events:N(c)});let EU=lzU(U,r);if(!rp.equ(EU,f.size,$q))f.setSize(EU.width,EU.height,EU.top,EU.left);if(m&&f.viewport.dpr!==T6(m))f.setDpr(m);if(f.frameloop!==d)f.setFrameloop(d);if(!f.onPointerMissed)f.set({onPointerMissed:_});if(V&&!rp.equ(V,f.performance,$q))f.set((yU)=>({performance:{...yU.performance,...V}}));if(!f.xr){var OU;let yU=($E,PU)=>{let vU=c.getState();if(vU.frameloop==="never")return;qi($E,!0,vU,PU)},wU=()=>{let $E=c.getState();if($E.gl.xr.enabled=$E.gl.xr.isPresenting,$E.gl.xr.setAnimationLoop($E.gl.xr.isPresenting?yU:null),!$E.gl.xr.isPresenting)YN($E)},QE={connect(){let $E=c.getState().gl;$E.xr.addEventListener("sessionstart",wU),$E.xr.addEventListener("sessionend",wU)},disconnect(){let $E=c.getState().gl;$E.xr.removeEventListener("sessionstart",wU),$E.xr.removeEventListener("sessionend",wU)}};if(typeof((OU=a.xr)==null?void 0:OU.addEventListener)==="function")QE.connect();f.set({xr:QE})}if(a.shadowMap){let yU=a.shadowMap.enabled,wU=a.shadowMap.type;if(a.shadowMap.enabled=!!L,rp.boo(L))a.shadowMap.type=Ux;else if(rp.str(L)){var NU;let QE={basic:nI,percentage:rZ,soft:Ux,variance:C4};a.shadowMap.type=(NU=QE[L])!=null?NU:Ux}else if(rp.obj(L))Object.assign(a.shadowMap,L);if(yU!==a.shadowMap.enabled||wU!==a.shadowMap.type)a.shadowMap.needsUpdate=!0}if(Hu.enabled=!B,!j)a.outputColorSpace=X?C5:_c,a.toneMapping=i?dz:Mj;if(f.legacy!==B)f.set(()=>({legacy:B}));if(f.linear!==X)f.set(()=>({linear:X}));if(f.flat!==i)f.set(()=>({flat:i}));if(y&&!rp.fun(y)&&!x6(y)&&!rp.equ(y,a,$q))W0(a,y);return P=O,j=!0,Q(),this},render(k){if(!j&&!H)this.configure();return H.then(()=>{jQ.updateContainer($(MzU,{store:c,children:k,onCreated:P,rootElement:U}),Y,null,()=>{return})}),c},unmount(){jN(U)}}}function MzU({store:U,children:E,onCreated:u,rootElement:p}){return rq(()=>{let z=U.getState();if(z.set((c)=>({internal:{...c.internal,active:!0}})),u)u(z);if(!U.getState().events.connected)z.events.connect==null||z.events.connect(p)},[]),$(PN.Provider,{value:U,children:E})}function jN(U,E){let u=vZ.get(U),p=u==null?void 0:u.fiber;if(p){let z=u==null?void 0:u.store.getState();if(z)z.internal.active=!1;jQ.updateContainer(null,p,null,()=>{if(z)setTimeout(()=>{try{var c,Y,P,n;if(z.events.disconnect==null||z.events.disconnect(),(c=z.gl)==null||(Y=c.renderLists)==null||Y.dispose==null||Y.dispose(),(P=z.gl)==null||P.forceContextLoss==null||P.forceContextLoss(),(n=z.gl)!=null&&n.xr)z.xr.disconnect();if(i6(z.scene),vZ.delete(U),E)E(U)}catch(j){}},500)})}}function Qi(U,E,u){return $(WzU,{children:U,container:E,state:u})}function WzU({state:U={},children:E,container:u}){let{events:p,size:z,...c}=U,Y=xN(),[P]=zp.useState(()=>new Hq),[n]=zp.useState(()=>new LU),j=ZN((k,Q)=>{let y=void 0;if(Q.camera&&z){let r=Q.camera;if(y=k.viewport.getCurrentViewport(r,new b,z),r!==k.camera)A6(r,z)}return{...k,...Q,scene:u,raycaster:P,pointer:n,mouse:n,previousRoot:Y,events:{...k.events,...Q.events,...p},size:{...k.size,...z},viewport:{...k.viewport,...y},setEvents:(r)=>Q.set((T)=>({...T,events:{...T.events,...r}}))}}),H=zp.useMemo(()=>{let k=g1((y,r)=>({...c,set:y,get:r})),Q=(y)=>k.setState((r)=>j.current(y,r));return Q(Y.getState()),Y.subscribe(Q),k},[Y,u]);return $(qu,{children:jQ.createPortal($(PN.Provider,{value:H,children:E}),H,null)})}var fzU=new Set,szU=new Set,KzU=new Set;function ui(U,E){if(!U.size)return;for(let{callback:u}of U.values())u(E)}function Iq(U,E){switch(U){case"before":return ui(fzU,E);case"after":return ui(szU,E);case"tail":return ui(KzU,E)}}var pi,zi;function ni(U,E,u){let p=E.clock.getDelta();if(E.frameloop==="never"&&typeof U==="number")p=U-E.clock.elapsedTime,E.clock.oldTime=E.clock.elapsedTime,E.clock.elapsedTime=U;pi=E.internal.subscribers;for(let z=0;z<pi.length;z++)zi=pi[z],zi.ref.current(zi.store.getState(),p,u);if(!E.internal.priority&&E.gl.render)E.gl.render(E.scene,E.camera);return E.internal.frames=Math.max(0,E.internal.frames-1),E.frameloop==="always"?1:E.internal.frames}var cN=!1,ji=!1,ci,$6,yq;function S6(U){$6=requestAnimationFrame(S6),cN=!0,ci=0,Iq("before",U),ji=!0;for(let u of vZ.values()){var E;if(yq=u.store.getState(),yq.internal.active&&(yq.frameloop==="always"||yq.internal.frames>0)&&!((E=yq.gl.xr)!=null&&E.isPresenting))ci+=ni(U,yq)}if(ji=!1,Iq("after",U),ci===0)return Iq("tail",U),cN=!1,cancelAnimationFrame($6)}function YN(U,E=1){var u;if(!U)return vZ.forEach((p)=>YN(p.store.getState(),E));if((u=U.gl.xr)!=null&&u.isPresenting||!U.internal.active||U.frameloop==="never")return;if(E>1)U.internal.frames=Math.min(60,U.internal.frames+E);else if(ji)U.internal.frames=2;else U.internal.frames=1;if(!cN)cN=!0,requestAnimationFrame(S6)}function qi(U,E=!0,u,p){if(E)Iq("before",U);if(!u)for(let z of vZ.values())ni(U,z.store.getState());else ni(U,u,p);if(E)Iq("after",U)}var Yi={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $i(U){let{handlePointer:E}=V6(U);return{priority:1,enabled:!0,compute(u,p,z){p.pointer.set(u.offsetX/p.size.width*2-1,-(u.offsetY/p.size.height)*2+1),p.raycaster.setFromCamera(p.pointer,p.camera)},connected:void 0,handlers:Object.keys(Yi).reduce((u,p)=>({...u,[p]:E(p)}),{}),update:()=>{var u;let{events:p,internal:z}=U.getState();if((u=z.lastEvent)!=null&&u.current&&p.handlers)p.handlers.onPointerMove(z.lastEvent.current)},connect:(u)=>{let{set:p,events:z}=U.getState();if(z.disconnect==null||z.disconnect(),p((c)=>({events:{...c.events,connected:u}})),z.handlers)for(let c in z.handlers){let Y=z.handlers[c],[P,n]=Yi[c];u.addEventListener(P,Y,{passive:n})}},disconnect:()=>{let{set:u,events:p}=U.getState();if(p.connected){if(p.handlers)for(let z in p.handlers){let c=p.handlers[z],[Y]=Yi[z];p.connected.removeEventListener(Y,c)}u((z)=>({events:{...z.events,connected:void 0}}))}}}}var Hz=OE(TE(),1);var j0=OE(TE(),1);function R6(U,E){let u;return(...p)=>{window.clearTimeout(u),u=window.setTimeout(()=>U(...p),E)}}function D6({debounce:U,scroll:E,polyfill:u,offsetSize:p}={debounce:0,scroll:!1,offsetSize:!1}){let z=u||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!z)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,Y]=j0.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),P=j0.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),n=U?typeof U=="number"?U:U.scroll:null,j=U?typeof U=="number"?U:U.resize:null,H=j0.useRef(!1);j0.useEffect(()=>(H.current=!0,()=>void(H.current=!1)));let[k,Q,y]=j0.useMemo(()=>{let O=()=>{if(!P.current.element)return;let{left:L,top:X,width:i,height:B,bottom:G,right:d,x:m,y:V}=P.current.element.getBoundingClientRect(),w={left:L,top:X,width:i,height:B,bottom:G,right:d,x:m,y:V};P.current.element instanceof HTMLElement&&p&&(w.height=P.current.element.offsetHeight,w.width=P.current.element.offsetWidth),Object.freeze(w),H.current&&!ezU(P.current.lastBounds,w)&&Y(P.current.lastBounds=w)};return[O,j?R6(O,j):O,n?R6(O,n):O]},[Y,p,n,j]);function r(){P.current.scrollContainers&&(P.current.scrollContainers.forEach((O)=>O.removeEventListener("scroll",y,!0)),P.current.scrollContainers=null),P.current.resizeObserver&&(P.current.resizeObserver.disconnect(),P.current.resizeObserver=null),P.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",P.current.orientationHandler):("onorientationchange"in window)&&window.removeEventListener("orientationchange",P.current.orientationHandler))}function T(){P.current.element&&(P.current.resizeObserver=new z(y),P.current.resizeObserver.observe(P.current.element),E&&P.current.scrollContainers&&P.current.scrollContainers.forEach((O)=>O.addEventListener("scroll",y,{capture:!0,passive:!0})),P.current.orientationHandler=()=>{y()},("orientation"in screen)&&("addEventListener"in screen.orientation)?screen.orientation.addEventListener("change",P.current.orientationHandler):("onorientationchange"in window)&&window.addEventListener("orientationchange",P.current.orientationHandler))}let N=(O)=>{!O||O===P.current.element||(r(),P.current.element=O,P.current.scrollContainers=t6(O),T())};return _zU(y,!!E),azU(Q),j0.useEffect(()=>{r(),T()},[E,y,Q]),j0.useEffect(()=>r,[]),[N,c,k]}function azU(U){j0.useEffect(()=>{let E=U;return window.addEventListener("resize",E),()=>void window.removeEventListener("resize",E)},[U])}function _zU(U,E){j0.useEffect(()=>{if(E){let u=U;return window.addEventListener("scroll",u,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",u,!0)}},[U,E])}function t6(U){let E=[];if(!U||U===document.body)return E;let{overflow:u,overflowX:p,overflowY:z}=window.getComputedStyle(U);return[u,p,z].some((c)=>c==="auto"||c==="scroll")&&E.push(U),[...E,...t6(U.parentElement)]}var gzU=["x","y","top","bottom","left","right","width","height"],ezU=(U,E)=>gzU.every((u)=>U[u]===E[u]);JU();var iqU=OE(R$(),1);function CzU({ref:U,children:E,fallback:u,resize:p,style:z,gl:c,events:Y=$i,eventSource:P,eventPrefix:n,shadows:j,linear:H,flat:k,legacy:Q,orthographic:y,frameloop:r,dpr:T,performance:N,raycaster:O,camera:L,scene:X,onPointerMissed:i,onCreated:B,...G}){Hz.useMemo(()=>qQ(rx),[]);let d=r6(),[m,V]=D6({scroll:!0,debounce:{scroll:50,resize:0},...p}),w=Hz.useRef(null),h=Hz.useRef(null);Hz.useImperativeHandle(U,()=>w.current);let _=ZN(i),[f,a]=Hz.useState(!1),[uU,UU]=Hz.useState(!1);if(f)throw f;if(uU)throw uU;let ZU=Hz.useRef(null);return rq(()=>{let OU=w.current;if(V.width>0&&V.height>0&&OU){if(!ZU.current)ZU.current=ki(OU);async function NU(){await ZU.current.configure({gl:c,scene:X,events:Y,shadows:j,linear:H,flat:k,legacy:Q,orthographic:y,frameloop:r,dpr:T,performance:N,raycaster:O,camera:L,size:V,onPointerMissed:(...yU)=>_.current==null?void 0:_.current(...yU),onCreated:(yU)=>{if(yU.events.connect==null||yU.events.connect(P?N6(P)?P.current:P:h.current),n)yU.setEvents({compute:(wU,QE)=>{let $E=wU[n+"X"],PU=wU[n+"Y"];QE.pointer.set($E/QE.size.width*2-1,-(PU/QE.size.height)*2+1),QE.raycaster.setFromCamera(QE.pointer,QE.camera)}});B==null||B(yU)}}),ZU.current.render($(d,{children:$(X6,{set:UU,children:$(Hz.Suspense,{fallback:$(L6,{set:a}),children:E!=null?E:null})})}))}NU()}}),Hz.useEffect(()=>{let OU=w.current;if(OU)return()=>jN(OU)},[]),$("div",{ref:h,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:P?"none":"auto",...z},...G,children:$("div",{ref:m,style:{width:"100%",height:"100%"},children:$("canvas",{ref:w,style:{display:"block"},children:u})})})}function J6(U){return $(eO,{children:$(CzU,{...U})})}function xY(){return xY=Object.assign?Object.assign.bind():function(U){for(var E=1;E<arguments.length;E++){var u=arguments[E];for(var p in u)({}).hasOwnProperty.call(u,p)&&(U[p]=u[p])}return U},xY.apply(null,arguments)}function U0U(U,E,u){return Math.max(E,Math.min(U,u))}var jp={toVector(U,E){if(U===void 0)U=E;return Array.isArray(U)?U:[U,U]},add(U,E){return[U[0]+E[0],U[1]+E[1]]},sub(U,E){return[U[0]-E[0],U[1]-E[1]]},addTo(U,E){U[0]+=E[0],U[1]+=E[1]},subTo(U,E){U[0]-=E[0],U[1]-=E[1]}};function h6(U,E,u){if(E===0||Math.abs(E)===1/0)return Math.pow(U,u*5);return U*E*u/(E+u*U)}function b6(U,E,u,p=0.15){if(p===0)return U0U(U,E,u);if(U<E)return-h6(E-U,u-E,p)+E;if(U>u)return+h6(U-u,u-E,p)+u;return U}function l6(U,[E,u],[p,z]){let[[c,Y],[P,n]]=U;return[b6(E,c,Y,p),b6(u,P,n,z)]}function E0U(U,E){if(typeof U!=="object"||U===null)return U;var u=U[Symbol.toPrimitive];if(u!==void 0){var p=u.call(U,E||"default");if(typeof p!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(U)}function u0U(U){var E=E0U(U,"string");return typeof E==="symbol"?E:String(E)}function sp(U,E,u){if(E=u0U(E),E in U)Object.defineProperty(U,E,{value:u,enumerable:!0,configurable:!0,writable:!0});else U[E]=u;return U}function M6(U,E){var u=Object.keys(U);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(U);E&&(p=p.filter(function(z){return Object.getOwnPropertyDescriptor(U,z).enumerable})),u.push.apply(u,p)}return u}function Lp(U){for(var E=1;E<arguments.length;E++){var u=arguments[E]!=null?arguments[E]:{};E%2?M6(Object(u),!0).forEach(function(p){sp(U,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(u)):M6(Object(u)).forEach(function(p){Object.defineProperty(U,p,Object.getOwnPropertyDescriptor(u,p))})}return U}var C6={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function W6(U){if(!U)return"";return U[0].toUpperCase()+U.slice(1)}var p0U=["enter","leave"];function z0U(U=!1,E){return U&&!p0U.includes(E)}function Ut(U,E="",u=!1){let p=C6[U],z=p?p[E]||E:E;return"on"+W6(U)+W6(z)+(z0U(u,z)?"Capture":"")}var c0U=["gotpointercapture","lostpointercapture"];function Et(U){let E=U.substring(2).toLowerCase(),u=!!~E.indexOf("passive");if(u)E=E.replace("passive","");let p=c0U.includes(E)?"capturecapture":"capture",z=!!~E.indexOf(p);if(z)E=E.replace("capture","");return{device:E,capture:z,passive:u}}function ut(U,E=""){let u=C6[U],p=u?u[E]||E:E;return U+p}function HQ(U){return"touches"in U}function pt(U){if(HQ(U))return"touch";if("pointerType"in U)return U.pointerType;return"mouse"}function Y0U(U){return Array.from(U.touches).filter((E)=>{var u,p;return E.target===U.currentTarget||((u=U.currentTarget)===null||u===void 0||(p=u.contains)===null||p===void 0?void 0:p.call(u,E.target))})}function Z0U(U){return U.type==="touchend"||U.type==="touchcancel"?U.changedTouches:U.targetTouches}function zt(U){return HQ(U)?Z0U(U)[0]:U}function Ii(U,E){try{let u=E.clientX-U.clientX,p=E.clientY-U.clientY,z=(E.clientX+U.clientX)/2,c=(E.clientY+U.clientY)/2,Y=Math.hypot(u,p);return{angle:-(Math.atan2(u,p)*180)/Math.PI,distance:Y,origin:[z,c]}}catch(u){}return null}function ct(U){return Y0U(U).map((E)=>E.identifier)}function f6(U,E){let[u,p]=Array.from(U.touches).filter((z)=>E.includes(z.identifier));return Ii(u,p)}function yi(U){let E=zt(U);return HQ(U)?E.identifier:E.pointerId}function Xq(U){let E=zt(U);return[E.clientX,E.clientY]}var s6=40,K6=800;function Yt(U){let{deltaX:E,deltaY:u,deltaMode:p}=U;if(p===1)E*=s6,u*=s6;else if(p===2)E*=K6,u*=K6;return[E,u]}function P0U(U){var E,u;let{scrollX:p,scrollY:z,scrollLeft:c,scrollTop:Y}=U.currentTarget;return[(E=p!==null&&p!==void 0?p:c)!==null&&E!==void 0?E:0,(u=z!==null&&z!==void 0?z:Y)!==null&&u!==void 0?u:0]}function x0U(U){let E={};if("buttons"in U)E.buttons=U.buttons;if("shiftKey"in U){let{shiftKey:u,altKey:p,metaKey:z,ctrlKey:c}=U;Object.assign(E,{shiftKey:u,altKey:p,metaKey:z,ctrlKey:c})}return E}function qN(U,...E){if(typeof U==="function")return U(...E);else return U}function n0U(){}function Zt(...U){if(U.length===0)return n0U;if(U.length===1)return U[0];return function(){let E;for(let u of U)E=u.apply(this,arguments)||E;return E}}function a6(U,E){return Object.assign({},E,U||{})}var j0U=32;class Oi{constructor(U,E,u){if(this.ctrl=U,this.args=E,this.key=u,!this.state){if(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init)this.init();this.reset()}}get state(){return this.ctrl.state[this.key]}set state(U){this.ctrl.state[this.key]=U}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:U,shared:E,ingKey:u,args:p}=this;E[u]=U._active=U.active=U._blocked=U._force=!1,U._step=[!1,!1],U.intentional=!1,U._movement=[0,0],U._distance=[0,0],U._direction=[0,0],U._delta=[0,0],U._bounds=[[-1/0,1/0],[-1/0,1/0]],U.args=p,U.axis=void 0,U.memo=void 0,U.elapsedTime=U.timeDelta=0,U.direction=[0,0],U.distance=[0,0],U.overflow=[0,0],U._movementBound=[!1,!1],U.velocity=[0,0],U.movement=[0,0],U.delta=[0,0],U.timeStamp=0}start(U){let E=this.state,u=this.config;if(!E._active)this.reset(),this.computeInitial(),E._active=!0,E.target=U.target,E.currentTarget=U.currentTarget,E.lastOffset=u.from?qN(u.from,E):E.offset,E.offset=E.lastOffset,E.startTime=E.timeStamp=U.timeStamp}computeValues(U){let E=this.state;E._values=U,E.values=this.config.transform(U)}computeInitial(){let U=this.state;U._initial=U._values,U.initial=U.values}compute(U){let{state:E,config:u,shared:p}=this;E.args=this.args;let z=0;if(U){if(E.event=U,u.preventDefault&&U.cancelable)E.event.preventDefault();E.type=U.type,p.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,p.locked=!!document.pointerLockElement,Object.assign(p,x0U(U)),p.down=p.pressed=p.buttons%2===1||p.touches>0,z=U.timeStamp-E.timeStamp,E.timeStamp=U.timeStamp,E.elapsedTime=E.timeStamp-E.startTime}if(E._active){let B=E._delta.map(Math.abs);jp.addTo(E._distance,B)}if(this.axisIntent)this.axisIntent(U);let[c,Y]=E._movement,[P,n]=u.threshold,{_step:j,values:H}=E;if(u.hasCustomTransform){if(j[0]===!1)j[0]=Math.abs(c)>=P&&H[0];if(j[1]===!1)j[1]=Math.abs(Y)>=n&&H[1]}else{if(j[0]===!1)j[0]=Math.abs(c)>=P&&Math.sign(c)*P;if(j[1]===!1)j[1]=Math.abs(Y)>=n&&Math.sign(Y)*n}if(E.intentional=j[0]!==!1||j[1]!==!1,!E.intentional)return;let k=[0,0];if(u.hasCustomTransform){let[B,G]=H;k[0]=j[0]!==!1?B-j[0]:0,k[1]=j[1]!==!1?G-j[1]:0}else k[0]=j[0]!==!1?c-j[0]:0,k[1]=j[1]!==!1?Y-j[1]:0;if(this.restrictToAxis&&!E._blocked)this.restrictToAxis(k);let Q=E.offset,y=E._active&&!E._blocked||E.active;if(y){if(E.first=E._active&&!E.active,E.last=!E._active&&E.active,E.active=p[this.ingKey]=E._active,U){if(E.first){if("bounds"in u)E._bounds=qN(u.bounds,E);if(this.setup)this.setup()}E.movement=k,this.computeOffset()}}let[r,T]=E.offset,[[N,O],[L,X]]=E._bounds;E.overflow=[r<N?-1:r>O?1:0,T<L?-1:T>X?1:0],E._movementBound[0]=E.overflow[0]?E._movementBound[0]===!1?E._movement[0]:E._movementBound[0]:!1,E._movementBound[1]=E.overflow[1]?E._movementBound[1]===!1?E._movement[1]:E._movementBound[1]:!1;let i=E._active?u.rubberband||[0,0]:[0,0];if(E.offset=l6(E._bounds,E.offset,i),E.delta=jp.sub(E.offset,Q),this.computeMovement(),y&&(!E.last||z>j0U)){E.delta=jp.sub(E.offset,Q);let B=E.delta.map(Math.abs);if(jp.addTo(E.distance,B),E.direction=E.delta.map(Math.sign),E._direction=E._delta.map(Math.sign),!E.first&&z>0)E.velocity=[B[0]/z,B[1]/z],E.timeDelta=z}}emit(){let U=this.state,E=this.shared,u=this.config;if(!U._active)this.clean();if((U._blocked||!U.intentional)&&!U._force&&!u.triggerAllEvents)return;let p=this.handler(Lp(Lp(Lp({},E),U),{},{[this.aliasKey]:U.values}));if(p!==void 0)U.memo=p}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function q0U([U,E],u){let p=Math.abs(U),z=Math.abs(E);if(p>z&&p>u)return"x";if(z>p&&z>u)return"y";return}class Tq extends Oi{constructor(...U){super(...U);sp(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=jp.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=jp.sub(this.state.offset,this.state.lastOffset)}axisIntent(U){let E=this.state,u=this.config;if(!E.axis&&U){let p=typeof u.axisThreshold==="object"?u.axisThreshold[pt(U)]:u.axisThreshold;E.axis=q0U(E._movement,p)}E._blocked=(u.lockDirection||!!u.axis)&&!E.axis||!!u.axis&&u.axis!==E.axis}restrictToAxis(U){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":U[1]=0;break;case"y":U[0]=0;break}}}var H0U=(U)=>U,_6=0.15,Pt={enabled(U=!0){return U},eventOptions(U,E,u){return Lp(Lp({},u.shared.eventOptions),U)},preventDefault(U=!1){return U},triggerAllEvents(U=!1){return U},rubberband(U=0){switch(U){case!0:return[_6,_6];case!1:return[0,0];default:return jp.toVector(U)}},from(U){if(typeof U==="function")return U;if(U!=null)return jp.toVector(U)},transform(U,E,u){let p=U||u.shared.transform;return this.hasCustomTransform=!!p,p||H0U},threshold(U){return jp.toVector(U,0)}},k0U=0,Tx=Lp(Lp({},Pt),{},{axis(U,E,{axis:u}){if(this.lockDirection=u==="lock",!this.lockDirection)return u},axisThreshold(U=k0U){return U},bounds(U={}){if(typeof U==="function")return(c)=>Tx.bounds(U(c));if("current"in U)return()=>U.current;if(typeof HTMLElement==="function"&&U instanceof HTMLElement)return U;let{left:E=-1/0,right:u=1/0,top:p=-1/0,bottom:z=1/0}=U;return[[E,u],[p,z]]}}),g6={ArrowRight:(U,E=1)=>[U*E,0],ArrowLeft:(U,E=1)=>[-1*U*E,0],ArrowUp:(U,E=1)=>[0,-1*U*E],ArrowDown:(U,E=1)=>[0,U*E]};class xt extends Tq{constructor(...U){super(...U);sp(this,"ingKey","dragging")}reset(){super.reset();let U=this.state;U._pointerId=void 0,U._pointerActive=!1,U._keyboardActive=!1,U._preventScroll=!1,U._delayed=!1,U.swipe=[0,0],U.tap=!1,U.canceled=!1,U.cancel=this.cancel.bind(this)}setup(){let U=this.state;if(U._bounds instanceof HTMLElement){let E=U._bounds.getBoundingClientRect(),u=U.currentTarget.getBoundingClientRect(),p={left:E.left-u.left+U.offset[0],right:E.right-u.right+U.offset[0],top:E.top-u.top+U.offset[1],bottom:E.bottom-u.bottom+U.offset[1]};U._bounds=Tx.bounds(p)}}cancel(){let U=this.state;if(U.canceled)return;U.canceled=!0,U._active=!1,setTimeout(()=>{this.compute(),this.emit()},0)}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(U){let E=this.config,u=this.state;if(U.buttons!=null&&(Array.isArray(E.pointerButtons)?!E.pointerButtons.includes(U.buttons):E.pointerButtons!==-1&&E.pointerButtons!==U.buttons))return;let p=this.ctrl.setEventIds(U);if(E.pointerCapture)U.target.setPointerCapture(U.pointerId);if(p&&p.size>1&&u._pointerActive)return;if(this.start(U),this.setupPointer(U),u._pointerId=yi(U),u._pointerActive=!0,this.computeValues(Xq(U)),this.computeInitial(),E.preventScrollAxis&&pt(U)!=="mouse")u._active=!1,this.setupScrollPrevention(U);else if(E.delay>0){if(this.setupDelayTrigger(U),E.triggerAllEvents)this.compute(U),this.emit()}else this.startPointerDrag(U)}startPointerDrag(U){let E=this.state;E._active=!0,E._preventScroll=!0,E._delayed=!1,this.compute(U),this.emit()}pointerMove(U){let E=this.state,u=this.config;if(!E._pointerActive)return;let p=yi(U);if(E._pointerId!==void 0&&p!==E._pointerId)return;let z=Xq(U);if(document.pointerLockElement===U.target)E._delta=[U.movementX,U.movementY];else E._delta=jp.sub(z,E._values),this.computeValues(z);if(jp.addTo(E._movement,E._delta),this.compute(U),E._delayed&&E.intentional){this.timeoutStore.remove("dragDelay"),E.active=!1,this.startPointerDrag(U);return}if(u.preventScrollAxis&&!E._preventScroll)if(E.axis)if(E.axis===u.preventScrollAxis||u.preventScrollAxis==="xy"){E._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(U);return}else return;this.emit()}pointerUp(U){this.ctrl.setEventIds(U);try{if(this.config.pointerCapture&&U.target.hasPointerCapture(U.pointerId))U.target.releasePointerCapture(U.pointerId)}catch(Y){}let E=this.state,u=this.config;if(!E._active||!E._pointerActive)return;let p=yi(U);if(E._pointerId!==void 0&&p!==E._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(U);let[z,c]=E._distance;if(E.tap=z<=u.tapsThreshold&&c<=u.tapsThreshold,E.tap&&u.filterTaps)E._force=!0;else{let[Y,P]=E._delta,[n,j]=E._movement,[H,k]=u.swipe.velocity,[Q,y]=u.swipe.distance,r=u.swipe.duration;if(E.elapsedTime<r){let T=Math.abs(Y/E.timeDelta),N=Math.abs(P/E.timeDelta);if(T>H&&Math.abs(n)>Q)E.swipe[0]=Math.sign(Y);if(N>k&&Math.abs(j)>y)E.swipe[1]=Math.sign(P)}}this.emit()}pointerClick(U){if(!this.state.tap&&U.detail>0)U.preventDefault(),U.stopPropagation()}setupPointer(U){let E=this.config,u=E.device;if(!1)try{}catch(p){}if(E.pointerLock)U.currentTarget.requestPointerLock();if(!E.pointerCapture)this.eventStore.add(this.sharedConfig.window,u,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,u,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,u,"cancel",this.pointerUp.bind(this))}pointerClean(){if(this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget)document.exitPointerLock()}preventScroll(U){if(this.state._preventScroll&&U.cancelable)U.preventDefault()}setupScrollPrevention(U){this.state._preventScroll=!1,Q0U(U);let E=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",E),this.eventStore.add(this.sharedConfig.window,"touch","cancel",E),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,U)}setupDelayTrigger(U){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(U)},this.config.delay)}keyDown(U){let E=g6[U.key];if(E){let u=this.state,p=U.shiftKey?10:U.altKey?0.1:1;this.start(U),u._delta=E(this.config.keyboardDisplacement,p),u._keyboardActive=!0,jp.addTo(u._movement,u._delta),this.compute(U),this.emit()}}keyUp(U){if(!(U.key in g6))return;this.state._keyboardActive=!1,this.setActive(),this.compute(U),this.emit()}bind(U){let E=this.config.device;if(U(E,"start",this.pointerDown.bind(this)),this.config.pointerCapture)U(E,"change",this.pointerMove.bind(this)),U(E,"end",this.pointerUp.bind(this)),U(E,"cancel",this.pointerUp.bind(this)),U("lostPointerCapture","",this.pointerUp.bind(this));if(this.config.keys)U("key","down",this.keyDown.bind(this)),U("key","up",this.keyUp.bind(this));if(this.config.filterTaps)U("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Q0U(U){"persist"in U&&typeof U.persist==="function"&&U.persist()}var kQ=typeof window!=="undefined"&&window.document&&window.document.createElement;function nt(){return kQ&&"ontouchstart"in window}function $0U(){return nt()||kQ&&window.navigator.maxTouchPoints>1}function y0U(){return kQ&&"onpointerdown"in window}function I0U(){return kQ&&"exitPointerLock"in window.document}function O0U(){try{return"constructor"in GestureEvent}catch(U){return!1}}var q0={isBrowser:kQ,gesture:O0U(),touch:nt(),touchscreen:$0U(),pointer:y0U(),pointerLock:I0U()},N0U=250,r0U=180,L0U=0.5,X0U=50,T0U=250,o0U=10,e6={mouse:0,touch:0,pen:8},i0U=Lp(Lp({},Tx),{},{device(U,E,{pointer:{touch:u=!1,lock:p=!1,mouse:z=!1}={}}){if(this.pointerLock=p&&q0.pointerLock,q0.touch&&u)return"touch";if(this.pointerLock)return"mouse";if(q0.pointer&&!z)return"pointer";if(q0.touch)return"touch";return"mouse"},preventScrollAxis(U,E,{preventScroll:u}){if(this.preventScrollDelay=typeof u==="number"?u:u||u===void 0&&U?N0U:void 0,!q0.touchscreen||u===!1)return;return U?U:u!==void 0?"y":void 0},pointerCapture(U,E,{pointer:{capture:u=!0,buttons:p=1,keys:z=!0}={}}){return this.pointerButtons=p,this.keys=z,!this.pointerLock&&this.device==="pointer"&&u},threshold(U,E,{filterTaps:u=!1,tapsThreshold:p=3,axis:z=void 0}){let c=jp.toVector(U,u?p:z?1:0);return this.filterTaps=u,this.tapsThreshold=p,c},swipe({velocity:U=L0U,distance:E=X0U,duration:u=T0U}={}){return{velocity:this.transform(jp.toVector(U)),distance:this.transform(jp.toVector(E)),duration:u}},delay(U=0){switch(U){case!0:return r0U;case!1:return 0;default:return U}},axisThreshold(U){if(!U)return e6;return Lp(Lp({},e6),U)},keyboardDisplacement(U=o0U){return U}});function jt(U){let[E,u]=U.overflow,[p,z]=U._delta,[c,Y]=U._direction;if(E<0&&p>0&&c<0||E>0&&p<0&&c>0)U._movement[0]=U._movementBound[0];if(u<0&&z>0&&Y<0||u>0&&z<0&&Y>0)U._movement[1]=U._movementBound[1]}var F0U=30,A0U=100;class qt extends Oi{constructor(...U){super(...U);sp(this,"ingKey","pinching"),sp(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let U=this.state;U._touchIds=[],U.canceled=!1,U.cancel=this.cancel.bind(this),U.turns=0}computeOffset(){let{type:U,movement:E,lastOffset:u}=this.state;if(U==="wheel")this.state.offset=jp.add(E,u);else this.state.offset=[(1+E[0])*u[0],E[1]+u[1]]}computeMovement(){let{offset:U,lastOffset:E}=this.state;this.state.movement=[U[0]/E[0],U[1]-E[1]]}axisIntent(){let U=this.state,[E,u]=U._movement;if(!U.axis){let p=Math.abs(E)*F0U-Math.abs(u);if(p<0)U.axis="angle";else if(p>0)U.axis="scale"}}restrictToAxis(U){if(this.config.lockDirection){if(this.state.axis==="scale")U[1]=0;else if(this.state.axis==="angle")U[0]=0}}cancel(){let U=this.state;if(U.canceled)return;setTimeout(()=>{U.canceled=!0,U._active=!1,this.compute(),this.emit()},0)}touchStart(U){this.ctrl.setEventIds(U);let E=this.state,u=this.ctrl.touchIds;if(E._active){if(E._touchIds.every((z)=>u.has(z)))return}if(u.size<2)return;this.start(U),E._touchIds=Array.from(u).slice(0,2);let p=f6(U,E._touchIds);if(!p)return;this.pinchStart(U,p)}pointerStart(U){if(U.buttons!=null&&U.buttons%2!==1)return;this.ctrl.setEventIds(U),U.target.setPointerCapture(U.pointerId);let E=this.state,u=E._pointerEvents,p=this.ctrl.pointerIds;if(E._active){if(Array.from(u.keys()).every((c)=>p.has(c)))return}if(u.size<2)u.set(U.pointerId,U);if(E._pointerEvents.size<2)return;this.start(U);let z=Ii(...Array.from(u.values()));if(!z)return;this.pinchStart(U,z)}pinchStart(U,E){let u=this.state;u.origin=E.origin,this.computeValues([E.distance,E.angle]),this.computeInitial(),this.compute(U),this.emit()}touchMove(U){if(!this.state._active)return;let E=f6(U,this.state._touchIds);if(!E)return;this.pinchMove(U,E)}pointerMove(U){let E=this.state._pointerEvents;if(E.has(U.pointerId))E.set(U.pointerId,U);if(!this.state._active)return;let u=Ii(...Array.from(E.values()));if(!u)return;this.pinchMove(U,u)}pinchMove(U,E){let u=this.state,p=u._values[1],z=E.angle-p,c=0;if(Math.abs(z)>270)c+=Math.sign(z);this.computeValues([E.distance,E.angle-360*c]),u.origin=E.origin,u.turns=c,u._movement=[u._values[0]/u._initial[0]-1,u._values[1]-u._initial[1]],this.compute(U),this.emit()}touchEnd(U){if(this.ctrl.setEventIds(U),!this.state._active)return;if(this.state._touchIds.some((E)=>!this.ctrl.touchIds.has(E)))this.state._active=!1,this.compute(U),this.emit()}pointerEnd(U){let E=this.state;this.ctrl.setEventIds(U);try{U.target.releasePointerCapture(U.pointerId)}catch(u){}if(E._pointerEvents.has(U.pointerId))E._pointerEvents.delete(U.pointerId);if(!E._active)return;if(E._pointerEvents.size<2)E._active=!1,this.compute(U),this.emit()}gestureStart(U){if(U.cancelable)U.preventDefault();let E=this.state;if(E._active)return;this.start(U),this.computeValues([U.scale,U.rotation]),E.origin=[U.clientX,U.clientY],this.compute(U),this.emit()}gestureMove(U){if(U.cancelable)U.preventDefault();if(!this.state._active)return;let E=this.state;this.computeValues([U.scale,U.rotation]),E.origin=[U.clientX,U.clientY];let u=E._movement;E._movement=[U.scale-1,U.rotation],E._delta=jp.sub(E._movement,u),this.compute(U),this.emit()}gestureEnd(U){if(!this.state._active)return;this.state._active=!1,this.compute(U),this.emit()}wheel(U){let E=this.config.modifierKey;if(E&&(Array.isArray(E)?!E.find((u)=>U[u]):!U[E]))return;if(!this.state._active)this.wheelStart(U);else this.wheelChange(U);this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelStart(U){this.start(U),this.wheelChange(U)}wheelChange(U){if(!("uv"in U)){if(U.cancelable)U.preventDefault()}let u=this.state;u._delta=[-Yt(U)[1]/A0U*u.offset[0],0],jp.addTo(u._movement,u._delta),jt(u),this.state.origin=[U.clientX,U.clientY],this.compute(U),this.emit()}wheelEnd(){if(!this.state._active)return;this.state._active=!1,this.compute(),this.emit()}bind(U){let E=this.config.device;if(E)U(E,"start",this[E+"Start"].bind(this)),U(E,"change",this[E+"Move"].bind(this)),U(E,"end",this[E+"End"].bind(this)),U(E,"cancel",this[E+"End"].bind(this)),U("lostPointerCapture","",this[E+"End"].bind(this));if(this.config.pinchOnWheel)U("wheel","",this.wheel.bind(this),{passive:!1})}}var m0U=Lp(Lp({},Pt),{},{device(U,E,{shared:u,pointer:{touch:p=!1}={}}){if(u.target&&!q0.touch&&q0.gesture)return"gesture";if(q0.touch&&p)return"touch";if(q0.touchscreen){if(q0.pointer)return"pointer";if(q0.touch)return"touch"}},bounds(U,E,{scaleBounds:u={},angleBounds:p={}}){let z=(Y)=>{let P=a6(qN(u,Y),{min:-1/0,max:1/0});return[P.min,P.max]},c=(Y)=>{let P=a6(qN(p,Y),{min:-1/0,max:1/0});return[P.min,P.max]};if(typeof u!=="function"&&typeof p!=="function")return[z(),c()];return(Y)=>[z(Y),c(Y)]},threshold(U,E,u){return this.lockDirection=u.axis==="lock",jp.toVector(U,this.lockDirection?[0.1,3]:0)},modifierKey(U){if(U===void 0)return"ctrlKey";return U},pinchOnWheel(U=!0){return U}});class Ht extends Tq{constructor(...U){super(...U);sp(this,"ingKey","moving")}move(U){if(this.config.mouseOnly&&U.pointerType!=="mouse")return;if(!this.state._active)this.moveStart(U);else this.moveChange(U);this.timeoutStore.add("moveEnd",this.moveEnd.bind(this))}moveStart(U){this.start(U),this.computeValues(Xq(U)),this.compute(U),this.computeInitial(),this.emit()}moveChange(U){if(!this.state._active)return;let E=Xq(U),u=this.state;u._delta=jp.sub(E,u._values),jp.addTo(u._movement,u._delta),this.computeValues(E),this.compute(U),this.emit()}moveEnd(U){if(!this.state._active)return;this.state._active=!1,this.compute(U),this.emit()}bind(U){U("pointer","change",this.move.bind(this)),U("pointer","leave",this.moveEnd.bind(this))}}var V0U=Lp(Lp({},Tx),{},{mouseOnly:(U=!0)=>U});class kt extends Tq{constructor(...U){super(...U);sp(this,"ingKey","scrolling")}scroll(U){if(!this.state._active)this.start(U);this.scrollChange(U),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(U){if(U.cancelable)U.preventDefault();let E=this.state,u=P0U(U);E._delta=jp.sub(u,E._values),jp.addTo(E._movement,E._delta),this.computeValues(u),this.compute(U),this.emit()}scrollEnd(){if(!this.state._active)return;this.state._active=!1,this.compute(),this.emit()}bind(U){U("scroll","",this.scroll.bind(this))}}var G0U=Tx;class Qt extends Tq{constructor(...U){super(...U);sp(this,"ingKey","wheeling")}wheel(U){if(!this.state._active)this.start(U);this.wheelChange(U),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(U){let E=this.state;E._delta=Yt(U),jp.addTo(E._movement,E._delta),jt(E),this.compute(U),this.emit()}wheelEnd(){if(!this.state._active)return;this.state._active=!1,this.compute(),this.emit()}bind(U){U("wheel","",this.wheel.bind(this))}}var B0U=Tx;class $t extends Tq{constructor(...U){super(...U);sp(this,"ingKey","hovering")}enter(U){if(this.config.mouseOnly&&U.pointerType!=="mouse")return;this.start(U),this.computeValues(Xq(U)),this.compute(U),this.emit()}leave(U){if(this.config.mouseOnly&&U.pointerType!=="mouse")return;let E=this.state;if(!E._active)return;E._active=!1;let u=Xq(U);E._movement=E._delta=jp.sub(u,E._values),this.computeValues(u),this.compute(U),E.delta=E.movement,this.emit()}bind(U){U("pointer","enter",this.enter.bind(this)),U("pointer","leave",this.leave.bind(this))}}var d0U=Lp(Lp({},Tx),{},{mouseOnly:(U=!0)=>U}),QQ=new Map,$Q=new Map;function Ni(U){QQ.set(U.key,U.engine),$Q.set(U.key,U.resolver)}var ri={key:"drag",engine:xt,resolver:i0U},Li={key:"hover",engine:$t,resolver:d0U},Xi={key:"move",engine:Ht,resolver:V0U},Ti={key:"pinch",engine:qt,resolver:m0U},oi={key:"scroll",engine:kt,resolver:G0U},ii={key:"wheel",engine:Qt,resolver:B0U};var kN=OE(TE(),1);function w0U(U,E){if(U==null)return{};var u={},p=Object.keys(U),z,c;for(c=0;c<p.length;c++){if(z=p[c],E.indexOf(z)>=0)continue;u[z]=U[z]}return u}function v0U(U,E){if(U==null)return{};var u=w0U(U,E),p,z;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(U);for(z=0;z<c.length;z++){if(p=c[z],E.indexOf(p)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(U,p))continue;u[p]=U[p]}}return u}var S0U={target(U){if(U)return()=>("current"in U)?U.current:U;return},enabled(U=!0){return U},window(U=q0.isBrowser?window:void 0){return U},eventOptions({passive:U=!0,capture:E=!1}={}){return{passive:U,capture:E}},transform(U){return U}},R0U=["target","eventOptions","window","enabled","transform"];function HN(U={},E){let u={};for(let[p,z]of Object.entries(E))switch(typeof z){case"function":u[p]=z.call(u,U[p],p,U);break;case"object":u[p]=HN(U[p],z);break;case"boolean":if(z)u[p]=U[p];break}return u}function D0U(U,E,u={}){let p=U,{target:z,eventOptions:c,window:Y,enabled:P,transform:n}=p,j=v0U(p,R0U);if(u.shared=HN({target:z,eventOptions:c,window:Y,enabled:P,transform:n},S0U),E){let H=$Q.get(E);u[E]=HN(Lp({shared:u.shared},j),H)}else for(let H in j){let k=$Q.get(H);if(k)u[H]=HN(Lp({shared:u.shared},j[H]),k)}return u}class Fi{constructor(U,E){sp(this,"_listeners",new Set),this._ctrl=U,this._gestureKey=E}add(U,E,u,p,z){let c=this._listeners,Y=ut(E,u),P=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},n=Lp(Lp({},P),z);U.addEventListener(Y,p,n);let j=()=>{U.removeEventListener(Y,p,n),c.delete(j)};return c.add(j),j}clean(){this._listeners.forEach((U)=>U()),this._listeners.clear()}}class It{constructor(){sp(this,"_timeouts",new Map)}add(U,E,u=140,...p){this.remove(U),this._timeouts.set(U,window.setTimeout(E,u,...p))}remove(U){let E=this._timeouts.get(U);if(E)window.clearTimeout(E)}clean(){this._timeouts.forEach((U)=>void window.clearTimeout(U)),this._timeouts.clear()}}class Ai{constructor(U){sp(this,"gestures",new Set),sp(this,"_targetEventStore",new Fi(this)),sp(this,"gestureEventStores",{}),sp(this,"gestureTimeoutStores",{}),sp(this,"handlers",{}),sp(this,"config",{}),sp(this,"pointerIds",new Set),sp(this,"touchIds",new Set),sp(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),t0U(this,U)}setEventIds(U){if(HQ(U))return this.touchIds=new Set(ct(U)),this.touchIds;else if("pointerId"in U){if(U.type==="pointerup"||U.type==="pointercancel")this.pointerIds.delete(U.pointerId);else if(U.type==="pointerdown")this.pointerIds.add(U.pointerId);return this.pointerIds}}applyHandlers(U,E){this.handlers=U,this.nativeHandlers=E}applyConfig(U,E){this.config=D0U(U,E,this.config)}clean(){this._targetEventStore.clean();for(let U of this.gestures)this.gestureEventStores[U].clean(),this.gestureTimeoutStores[U].clean()}effect(){if(this.config.shared.target)this.bind();return()=>this._targetEventStore.clean()}bind(...U){let E=this.config.shared,u={},p;if(E.target){if(p=E.target(),!p)return}if(E.enabled){for(let c of this.gestures){let Y=this.config[c],P=yt(u,Y.eventOptions,!!p);if(Y.enabled)new(QQ.get(c))(this,U,c).bind(P)}let z=yt(u,E.eventOptions,!!p);for(let c in this.nativeHandlers)z(c,"",(Y)=>this.nativeHandlers[c](Lp(Lp({},this.state.shared),{},{event:Y,args:U})),void 0,!0)}for(let z in u)u[z]=Zt(...u[z]);if(!p)return u;for(let z in u){let{device:c,capture:Y,passive:P}=Et(z);this._targetEventStore.add(p,c,"",u[z],{capture:Y,passive:P})}}}function oq(U,E){U.gestures.add(E),U.gestureEventStores[E]=new Fi(U,E),U.gestureTimeoutStores[E]=new It}function t0U(U,E){if(E.drag)oq(U,"drag");if(E.wheel)oq(U,"wheel");if(E.scroll)oq(U,"scroll");if(E.move)oq(U,"move");if(E.pinch)oq(U,"pinch");if(E.hover)oq(U,"hover")}var yt=(U,E,u)=>(p,z,c,Y={},P=!1)=>{var n,j;let H=(n=Y.capture)!==null&&n!==void 0?n:E.capture,k=(j=Y.passive)!==null&&j!==void 0?j:E.passive,Q=P?p:Ut(p,z,H);if(u&&k)Q+="Passive";U[Q]=U[Q]||[],U[Q].push(c)},J0U=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function h0U(U){let E={},u={},p=new Set;for(let z in U)if(J0U.test(z))p.add(RegExp.lastMatch),u[z]=U[z];else E[z]=U[z];return[u,E,p]}function iq(U,E,u,p,z,c){if(!U.has(u))return;if(!QQ.has(p))return;let Y=u+"Start",P=u+"End",n=(j)=>{let H=void 0;if(j.first&&Y in E)E[Y](j);if(u in E)H=E[u](j);if(j.last&&P in E)E[P](j);return H};z[p]=n,c[p]=c[p]||{}}function Ot(U,E){let[u,p,z]=h0U(U),c={};return iq(z,u,"onDrag","drag",c,E),iq(z,u,"onWheel","wheel",c,E),iq(z,u,"onScroll","scroll",c,E),iq(z,u,"onPinch","pinch",c,E),iq(z,u,"onMove","move",c,E),iq(z,u,"onHover","hover",c,E),{handlers:c,config:E,nativeHandlers:p}}function b0U(U,E={},u,p){let z=kN.default.useMemo(()=>new Ai(U),[]);if(z.applyHandlers(U,p),z.applyConfig(E,u),kN.default.useEffect(z.effect.bind(z)),kN.default.useEffect(()=>{return z.clean.bind(z)},[]),E.target===void 0)return z.bind.bind(z);return}function l0U(U){return U.forEach(Ni),function E(u,p){let{handlers:z,nativeHandlers:c,config:Y}=Ot(u,p||{});return b0U(z,Y,void 0,c)}}function Nt(U,E){return l0U([ri,Ti,oi,ii,Xi,Li])(U,E||{})}function Fq(U,E,u){if(E in U)Object.defineProperty(U,E,{value:u,enumerable:!0,configurable:!0,writable:!0});else U[E]=u;return U}function mi(U,E){if(E==null||E>U.length)E=U.length;for(var u=0,p=new Array(E);u<E;u++)p[u]=U[u];return p}function f0U(U,E){if(!U)return;if(typeof U==="string")return mi(U,E);var u=Object.prototype.toString.call(U).slice(8,-1);if(u==="Object"&&U.constructor)u=U.constructor.name;if(u==="Map"||u==="Set")return Array.from(U);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return mi(U,E)}function s0U(U){if(Array.isArray(U))return mi(U)}function K0U(U){if(typeof Symbol!=="undefined"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}function a0U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vi(U){return s0U(U)||K0U(U)||f0U(U)||a0U()}var eqU=new LU,CqU=new LU;function g0U(U,E,u){return Math.max(E,Math.min(u,U))}function e0U(U,E){return g0U(U-Math.floor(U/E)*E,0,E)}function rt(U,E){var u=e0U(E-U,Math.PI*2);if(u>Math.PI)u-=Math.PI*2;return u}function QN(U,E){if(!(U instanceof E))throw new TypeError("Cannot call a class as a function")}var s0=function U(E,u,p){var z=this;QN(this,U),Fq(this,"dot2",function(c,Y){return z.x*c+z.y*Y}),Fq(this,"dot3",function(c,Y,P){return z.x*c+z.y*Y+z.z*P}),this.x=E,this.y=u,this.z=p},EcU=[new s0(1,1,0),new s0(-1,1,0),new s0(1,-1,0),new s0(-1,-1,0),new s0(1,0,1),new s0(-1,0,1),new s0(1,0,-1),new s0(-1,0,-1),new s0(0,1,1),new s0(0,-1,1),new s0(0,1,-1),new s0(0,-1,-1)],Lt=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Xt=new Array(512),Tt=new Array(512),ucU=function U(E){if(E>0&&E<1)E*=65536;if(E=Math.floor(E),E<256)E|=E<<8;for(var u=0;u<256;u++){var p;if(u&1)p=Lt[u]^E&255;else p=Lt[u]^E>>8&255;Xt[u]=Xt[u+256]=p,Tt[u]=Tt[u+256]=EcU[p%12]}};ucU(0);var THU=0.5*(Math.sqrt(3)-1),oHU=(3-Math.sqrt(3))/6;var iHU=Math.PI*2;function pcU(U){if(typeof U==="number")U=Math.abs(U);else if(typeof U==="string"){var E=U;U=0;for(var u=0;u<E.length;u++)U=(U+(u+1)*(E.charCodeAt(u)%96))%2147483647}if(U===0)U=311;return U}function ot(U){var E=pcU(U);return function(){var u=E*48271%2147483647;return E=u,u/2147483647}}var zcU=function U(E){var u=this;QN(this,U),Fq(this,"seed",0),Fq(this,"init",function(p){u.seed=p,u.value=ot(p)}),Fq(this,"value",ot(this.seed)),this.init(E)},FHU=new zcU(Math.random());var ccU=function U(E){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0.01,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return p/Math.atan(1/u)*Math.atan(Math.sin(2*Math.PI*E*z)/u)},pJ=function U(E){return 1/(1+E+0.48*E*E+0.235*E*E*E)},YcU=function U(E){return E},ZcU={in:function U(E){return 1-Math.cos(E*Math.PI/2)},out:function U(E){return Math.sin(E*Math.PI/2)},inOut:function U(E){return-(Math.cos(Math.PI*E)-1)/2}},PcU={in:function U(E){return E*E*E},out:function U(E){return 1-Math.pow(1-E,3)},inOut:function U(E){return E<0.5?4*E*E*E:1-Math.pow(-2*E+2,3)/2}},xcU={in:function U(E){return E*E*E*E*E},out:function U(E){return 1-Math.pow(1-E,5)},inOut:function U(E){return E<0.5?16*E*E*E*E*E:1-Math.pow(-2*E+2,5)/2}},ncU={in:function U(E){return 1-Math.sqrt(1-Math.pow(E,2))},out:function U(E){return Math.sqrt(1-Math.pow(E-1,2))},inOut:function U(E){return E<0.5?(1-Math.sqrt(1-Math.pow(2*E,2)))/2:(Math.sqrt(1-Math.pow(-2*E+2,2))+1)/2}},jcU={in:function U(E){return E*E*E*E},out:function U(E){return 1- --E*E*E*E},inOut:function U(E){return E<0.5?8*E*E*E*E:1-8*--E*E*E*E}},qcU={in:function U(E){return E===0?0:Math.pow(2,10*E-10)},out:function U(E){return E===1?1:1-Math.pow(2,-10*E)},inOut:function U(E){return E===0?0:E===1?1:E<0.5?Math.pow(2,20*E-10)/2:(2-Math.pow(2,-20*E+10))/2}};function Q5(U,E,u){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0.25,z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0.01,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,Y=arguments.length>6&&arguments[6]!==void 0?arguments[6]:pJ,P=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0.001,n="velocity_"+E;if(U.__damp===void 0)U.__damp={};if(U.__damp[n]===void 0)U.__damp[n]=0;if(Math.abs(U[E]-u)<=P)return U[E]=u,!1;p=Math.max(0.0001,p);var j=2/p,H=Y(j*z),k=U[E]-u,Q=u,y=c*p;k=Math.min(Math.max(k,-y),y),u=U[E]-k;var r=(U.__damp[n]+j*k)*z;U.__damp[n]=(U.__damp[n]-j*r)*H;var T=u+(k+r)*H;if(Q-U[E]>0===T>Q)T=Q,U.__damp[n]=(T-Q)/z;return U[E]=T,!0}var HcU=function U(E){return E&&E.isCamera},kcU=function U(E){return E&&E.isLight},yQ=new b,it=new np,Ft=new np,IQ=new RE,Gi=new b;function QcU(U,E,u,p,z,c,Y){if(typeof E==="number")yQ.setScalar(E);else if(Array.isArray(E))yQ.set(E[0],E[1],E[2]);else yQ.copy(E);var P=U.parent;if(U.updateWorldMatrix(!0,!1),Gi.setFromMatrixPosition(U.matrixWorld),HcU(U)||kcU(U))IQ.lookAt(Gi,yQ,U.up);else IQ.lookAt(yQ,Gi,U.up);if(yN(U.quaternion,Ft.setFromRotationMatrix(IQ),u,p,z,c,Y),P)IQ.extractRotation(P.matrixWorld),it.setFromRotationMatrix(IQ),yN(U.quaternion,Ft.copy(U.quaternion).premultiply(it.invert()),u,p,z,c,Y)}function Vq(U,E,u,p,z,c,Y,P){return Q5(U,E,U[E]+rt(U[E],u),p,z,c,Y,P)}var OQ=new LU,At,mt;function $cU(U,E,u,p,z,c,Y){if(typeof E==="number")OQ.setScalar(E);else if(Array.isArray(E))OQ.set(E[0],E[1]);else OQ.copy(E);return At=Q5(U,"x",OQ.x,u,p,z,c,Y),mt=Q5(U,"y",OQ.y,u,p,z,c,Y),At||mt}var Aq=new b,Vt,Gt,Bt;function Bi(U,E,u,p,z,c,Y){if(typeof E==="number")Aq.setScalar(E);else if(Array.isArray(E))Aq.set(E[0],E[1],E[2]);else Aq.copy(E);return Vt=Q5(U,"x",Aq.x,u,p,z,c,Y),Gt=Q5(U,"y",Aq.y,u,p,z,c,Y),Bt=Q5(U,"z",Aq.z,u,p,z,c,Y),Vt||Gt||Bt}var ox=new Gu,dt,wt,vt,St;function ycU(U,E,u,p,z,c,Y){if(typeof E==="number")ox.setScalar(E);else if(Array.isArray(E))ox.set(E[0],E[1],E[2],E[3]);else ox.copy(E);return dt=Q5(U,"x",ox.x,u,p,z,c,Y),wt=Q5(U,"y",ox.y,u,p,z,c,Y),vt=Q5(U,"z",ox.z,u,p,z,c,Y),St=Q5(U,"w",ox.w,u,p,z,c,Y),dt||wt||vt||St}var NQ=new e5,Rt,Dt,tt;function IcU(U,E,u,p,z,c,Y){if(Array.isArray(E))NQ.set(E[0],E[1],E[2],E[3]);else NQ.copy(E);return Rt=Vq(U,"x",NQ.x,u,p,z,c,Y),Dt=Vq(U,"y",NQ.y,u,p,z,c,Y),tt=Vq(U,"z",NQ.z,u,p,z,c,Y),Rt||Dt||tt}var mq=new EE,Jt,ht,bt;function OcU(U,E,u,p,z,c,Y){if(E instanceof EE)mq.copy(E);else if(Array.isArray(E))mq.setRGB(E[0],E[1],E[2]);else mq.set(E);return Jt=Q5(U,"r",mq.r,u,p,z,c,Y),ht=Q5(U,"g",mq.g,u,p,z,c,Y),bt=Q5(U,"b",mq.b,u,p,z,c,Y),Jt||ht||bt}var Lc=new np,nY=new Gu,lt=new Gu,rQ=new Gu,Mt,Wt,ft,st;function yN(U,E,u,p,z,c,Y){var P=U;if(Array.isArray(E))Lc.set(E[0],E[1],E[2],E[3]);else Lc.copy(E);var n=U.dot(Lc)>0?1:-1;return Lc.x*=n,Lc.y*=n,Lc.z*=n,Lc.w*=n,Mt=Q5(U,"x",Lc.x,u,p,z,c,Y),Wt=Q5(U,"y",Lc.y,u,p,z,c,Y),ft=Q5(U,"z",Lc.z,u,p,z,c,Y),st=Q5(U,"w",Lc.w,u,p,z,c,Y),nY.set(U.x,U.y,U.z,U.w).normalize(),lt.set(P.__damp.velocity_x,P.__damp.velocity_y,P.__damp.velocity_z,P.__damp.velocity_w),rQ.copy(nY).multiplyScalar(lt.dot(nY)/nY.dot(nY)),P.__damp.velocity_x-=rQ.x,P.__damp.velocity_y-=rQ.y,P.__damp.velocity_z-=rQ.z,P.__damp.velocity_w-=rQ.w,U.set(nY.x,nY.y,nY.z,nY.w),Mt||Wt||ft||st}var LQ=new cQ,Kt,at,_t;function NcU(U,E,u,p,z,c,Y){if(Array.isArray(E))LQ.set(E[0],E[1],E[2]);else LQ.copy(E);return Kt=Q5(U,"radius",LQ.radius,u,p,z,c,Y),at=Vq(U,"phi",LQ.phi,u,p,z,c,Y),_t=Vq(U,"theta",LQ.theta,u,p,z,c,Y),Kt||at||_t}var $N=new RE,gt=new b,et=new np,Ct=new b,UJ,EJ,uJ;function rcU(U,E,u,p,z,c,Y){var P=U;if(P.__damp===void 0)P.__damp={position:new b,rotation:new np,scale:new b},U.decompose(P.__damp.position,P.__damp.rotation,P.__damp.scale);if(Array.isArray(E))$N.set.apply($N,Vi(E));else $N.copy(E);return $N.decompose(gt,et,Ct),UJ=Bi(P.__damp.position,gt,u,p,z,c,Y),EJ=yN(P.__damp.rotation,et,u,p,z,c,Y),uJ=Bi(P.__damp.scale,Ct,u,p,z,c,Y),U.compose(P.__damp.position,P.__damp.rotation,P.__damp.scale),UJ||EJ||uJ}var IN=Object.freeze({__proto__:null,rsqw:ccU,exp:pJ,linear:YcU,sine:ZcU,cubic:PcU,quint:xcU,circ:ncU,quart:jcU,expo:qcU,damp:Q5,dampLookAt:QcU,dampAngle:Vq,damp2:$cU,damp3:Bi,damp4:ycU,dampE:IcU,dampC:OcU,dampQ:yN,dampS:NcU,dampM:rcU});var K0=OE(TE(),1);function XQ({enabled:U=!0,snap:E,global:u,domElement:p,cursor:z=!0,children:c,speed:Y=1,rotation:P=[0,0,0],zoom:n=1,polar:j=[0,Math.PI/2],azimuth:H=[-1/0,1/0],damping:k=0.25}){let Q=qz((G)=>G.events),y=qz((G)=>G.gl),r=p||Q.connected||y.domElement,{size:T}=qz(),N=K0.useMemo(()=>[P[0]+j[0],P[0]+j[1]],[P[0],j[0],j[1]]),O=K0.useMemo(()=>[P[1]+H[0],P[1]+H[1]],[P[1],H[0],H[1]]),L=K0.useMemo(()=>[yc.clamp(P[0],...N),yc.clamp(P[1],...O),P[2]],[P[0],P[1],P[2],N,O]);K0.useEffect(()=>{if(u&&z&&U)return r.style.cursor="grab",y.domElement.style.cursor="",()=>{r.style.cursor="default",y.domElement.style.cursor="default"}},[u,z,r,U]);let[X]=K0.useState({scale:1,rotation:L,damping:k}),i=K0.useRef(null);rc((G,d)=>{IN.damp3(i.current.scale,X.scale,X.damping,d),IN.dampE(i.current.rotation,X.rotation,X.damping,d)});let B=Nt({onHover:({last:G})=>{if(z&&!u&&U)r.style.cursor=G?"auto":"grab"},onDrag:({down:G,delta:[d,m],memo:[V,w]=X.rotation||L})=>{if(!U)return[m,d];if(z)r.style.cursor=G?"grabbing":"grab";return d=yc.clamp(w+d/T.width*Math.PI*Y,...O),m=yc.clamp(V+m/T.height*Math.PI*Y,...N),X.scale=G&&m>N[1]/2?n:1,X.rotation=E&&!G?L:[m,d,0],X.damping=E&&!G&&typeof E!=="boolean"?E:k,[m,d]}},{target:u?r:void 0});return K0.createElement("group",xY({ref:i},B==null?void 0:B()),c)}var Gq=(()=>parseInt(p9.replace(/\D+/g,"")))();function di(U,E){if(E===zO)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),U;if(E===Zx||E===Kj){let u=U.getIndex();if(u===null){let Y=[],P=U.getAttribute("position");if(P!==void 0){for(let n=0;n<P.count;n++)Y.push(n);U.setIndex(Y),u=U.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),U}let p=u.count-2,z=[];if(u)if(E===Zx)for(let Y=1;Y<=p;Y++)z.push(u.getX(0)),z.push(u.getX(Y)),z.push(u.getX(Y+1));else for(let Y=0;Y<p;Y++)if(Y%2===0)z.push(u.getX(Y)),z.push(u.getX(Y+1)),z.push(u.getX(Y+2));else z.push(u.getX(Y+2)),z.push(u.getX(Y+1)),z.push(u.getX(Y));if(z.length/3!==p)console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let c=U.clone();return c.setIndex(z),c.clearGroups(),c}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",E),U}var a0=Uint8Array,SZ=Uint16Array,Si=Uint32Array,zJ=new a0([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cJ=new a0([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LcU=new a0([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YJ=function(U,E){var u=new SZ(31);for(var p=0;p<31;++p)u[p]=E+=1<<U[p-1];var z=new Si(u[30]);for(var p=1;p<30;++p)for(var c=u[p];c<u[p+1];++c)z[c]=c-u[p]<<5|p;return[u,z]},ZJ=YJ(zJ,2),PJ=ZJ[0],XcU=ZJ[1];PJ[28]=258,XcU[258]=28;var xJ=YJ(cJ,0),TcU=xJ[0],IkU=xJ[1],Ri=new SZ(32768);for(Nu=0;Nu<32768;++Nu)E4=(Nu&43690)>>>1|(Nu&21845)<<1,E4=(E4&52428)>>>2|(E4&13107)<<2,E4=(E4&61680)>>>4|(E4&3855)<<4,Ri[Nu]=((E4&65280)>>>8|(E4&255)<<8)>>>1;var E4,Nu,TQ=function(U,E,u){var p=U.length,z=0,c=new SZ(E);for(;z<p;++z)++c[U[z]-1];var Y=new SZ(E);for(z=0;z<E;++z)Y[z]=Y[z-1]+c[z-1]<<1;var P;if(u){P=new SZ(1<<E);var n=15-E;for(z=0;z<p;++z)if(U[z]){var j=z<<4|U[z],H=E-U[z],k=Y[U[z]-1]++<<H;for(var Q=k|(1<<H)-1;k<=Q;++k)P[Ri[k]>>>n]=j}}else{P=new SZ(p);for(z=0;z<p;++z)if(U[z])P[z]=Ri[Y[U[z]-1]++]>>>15-U[z]}return P},oQ=new a0(288);for(Nu=0;Nu<144;++Nu)oQ[Nu]=8;var Nu;for(Nu=144;Nu<256;++Nu)oQ[Nu]=9;var Nu;for(Nu=256;Nu<280;++Nu)oQ[Nu]=7;var Nu;for(Nu=280;Nu<288;++Nu)oQ[Nu]=8;var Nu,nJ=new a0(32);for(Nu=0;Nu<32;++Nu)nJ[Nu]=5;var Nu;var ocU=TQ(oQ,9,1);var icU=TQ(nJ,5,1),wi=function(U){var E=U[0];for(var u=1;u<U.length;++u)if(U[u]>E)E=U[u];return E},Xc=function(U,E,u){var p=E/8|0;return(U[p]|U[p+1]<<8)>>(E&7)&u},vi=function(U,E){var u=E/8|0;return(U[u]|U[u+1]<<8|U[u+2]<<16)>>(E&7)},FcU=function(U){return(U/8|0)+(U&7&&1)},AcU=function(U,E,u){if(E==null||E<0)E=0;if(u==null||u>U.length)u=U.length;var p=new(U instanceof SZ?SZ:U instanceof Si?Si:a0)(u-E);return p.set(U.subarray(E,u)),p},mcU=function(U,E,u){var p=U.length;if(!p||u&&!u.l&&p<5)return E||new a0(0);var z=!E||u,c=!u||u.i;if(!u)u={};if(!E)E=new a0(p*3);var Y=function(vU){var TU=E.length;if(vU>TU){var HE=new a0(Math.max(TU*2,vU));HE.set(E),E=HE}},P=u.f||0,n=u.p||0,j=u.b||0,H=u.l,k=u.d,Q=u.m,y=u.n,r=p*8;do{if(!H){u.f=P=Xc(U,n,1);var T=Xc(U,n+1,3);if(n+=3,!T){var N=FcU(n)+4,O=U[N-4]|U[N-3]<<8,L=N+O;if(L>p){if(c)throw"unexpected EOF";break}if(z)Y(j+O);E.set(U.subarray(N,L),j),u.b=j+=O,u.p=n=L*8;continue}else if(T==1)H=ocU,k=icU,Q=9,y=5;else if(T==2){var X=Xc(U,n,31)+257,i=Xc(U,n+10,15)+4,B=X+Xc(U,n+5,31)+1;n+=14;var G=new a0(B),d=new a0(19);for(var m=0;m<i;++m)d[LcU[m]]=Xc(U,n+m*3,7);n+=i*3;var V=wi(d),w=(1<<V)-1,h=TQ(d,V,1);for(var m=0;m<B;){var _=h[Xc(U,n,w)];n+=_&15;var N=_>>>4;if(N<16)G[m++]=N;else{var f=0,a=0;if(N==16)a=3+Xc(U,n,3),n+=2,f=G[m-1];else if(N==17)a=3+Xc(U,n,7),n+=3;else if(N==18)a=11+Xc(U,n,127),n+=7;while(a--)G[m++]=f}}var uU=G.subarray(0,X),UU=G.subarray(X);Q=wi(uU),y=wi(UU),H=TQ(uU,Q,1),k=TQ(UU,y,1)}else throw"invalid block type";if(n>r){if(c)throw"unexpected EOF";break}}if(z)Y(j+131072);var ZU=(1<<Q)-1,EU=(1<<y)-1,OU=n;for(;;OU=n){var f=H[vi(U,n)&ZU],NU=f>>>4;if(n+=f&15,n>r){if(c)throw"unexpected EOF";break}if(!f)throw"invalid length/literal";if(NU<256)E[j++]=NU;else if(NU==256){OU=n,H=null;break}else{var yU=NU-254;if(NU>264){var m=NU-257,wU=zJ[m];yU=Xc(U,n,(1<<wU)-1)+PJ[m],n+=wU}var QE=k[vi(U,n)&EU],$E=QE>>>4;if(!QE)throw"invalid distance";n+=QE&15;var UU=TcU[$E];if($E>3){var wU=cJ[$E];UU+=vi(U,n)&(1<<wU)-1,n+=wU}if(n>r){if(c)throw"unexpected EOF";break}if(z)Y(j+131072);var PU=j+yU;for(;j<PU;j+=4)E[j]=E[j-UU],E[j+1]=E[j+1-UU],E[j+2]=E[j+2-UU],E[j+3]=E[j+3-UU];j=PU}}if(u.l=H,u.p=OU,u.b=j,H)P=1,u.m=Q,u.d=k,u.n=y}while(!P);return j==E.length?E:AcU(E,0,j)};var VcU=new a0(0);var GcU=function(U){if((U[0]&15)!=8||U[0]>>>4>7||(U[0]<<8|U[1])%31)throw"invalid zlib data";if(U[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function iQ(U,E){return mcU((GcU(U),U.subarray(2,-4)),E)}var BcU=typeof TextDecoder!="undefined"&&new TextDecoder,dcU=0;try{BcU.decode(VcU,{stream:!0}),dcU=1}catch(U){}var wcU=(U)=>U&&U.isCubeTexture;class ON extends tu{constructor(U,E){var u,p;let z=wcU(U),Y=((p=z?(u=U.image[0])==null?void 0:u.width:U.image.width)!=null?p:1024)/4,P=Math.floor(Math.log2(Y)),n=Math.pow(2,P),j=3*Math.max(n,112),H=4*n,k=[z?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/j}`,`#define CUBEUV_TEXEL_HEIGHT ${1/H}`,`#define CUBEUV_MAX_MIP ${P}.0`],Q=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=k.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Gq>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,r={map:{value:U},height:{value:(E==null?void 0:E.height)||15},radius:{value:(E==null?void 0:E.radius)||100}},T=new kx(1,16),N=new Ap({uniforms:r,fragmentShader:y,vertexShader:`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,side:xz});super(T,N)}set radius(U){this.material.uniforms.radius.value=U}get radius(){return this.material.uniforms.radius.value}set height(U){this.material.uniforms.height.value=U}get height(){return this.material.uniforms.height.value}}function FQ(U){if(typeof TextDecoder!=="undefined")return new TextDecoder().decode(U);let E="";for(let u=0,p=U.length;u<p;u++)E+=String.fromCharCode(U[u]);try{return decodeURIComponent(escape(E))}catch(u){return E}}var Fx="srgb",qY="srgb-linear",jJ=3001,vcU=3000;class dq extends Dp{constructor(U){super(U);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(E){return new OJ(E)}),this.register(function(E){return new NJ(E)}),this.register(function(E){return new mJ(E)}),this.register(function(E){return new VJ(E)}),this.register(function(E){return new GJ(E)}),this.register(function(E){return new LJ(E)}),this.register(function(E){return new XJ(E)}),this.register(function(E){return new TJ(E)}),this.register(function(E){return new oJ(E)}),this.register(function(E){return new IJ(E)}),this.register(function(E){return new iJ(E)}),this.register(function(E){return new rJ(E)}),this.register(function(E){return new AJ(E)}),this.register(function(E){return new FJ(E)}),this.register(function(E){return new $J(E)}),this.register(function(E){return new BJ(E)}),this.register(function(E){return new dJ(E)})}load(U,E,u,p){let z=this,c;if(this.resourcePath!=="")c=this.resourcePath;else if(this.path!==""){let n=kc.extractUrlBase(U);c=kc.resolveURL(n,this.path)}else c=kc.extractUrlBase(U);this.manager.itemStart(U);let Y=function(n){if(p)p(n);else console.error(n);z.manager.itemError(U),z.manager.itemEnd(U)},P=new vp(this.manager);P.setPath(this.path),P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setWithCredentials(this.withCredentials),P.load(U,function(n){try{z.parse(n,c,function(j){E(j),z.manager.itemEnd(U)},Y)}catch(j){Y(j)}},u,Y)}setDRACOLoader(U){return this.dracoLoader=U,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(U){return this.ktx2Loader=U,this}setMeshoptDecoder(U){return this.meshoptDecoder=U,this}register(U){if(this.pluginCallbacks.indexOf(U)===-1)this.pluginCallbacks.push(U);return this}unregister(U){if(this.pluginCallbacks.indexOf(U)!==-1)this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(U),1);return this}parse(U,E,u,p){let z,c={},Y={};if(typeof U==="string")z=JSON.parse(U);else if(U instanceof ArrayBuffer)if(FQ(new Uint8Array(U.slice(0,4)))===wJ){try{c[ru.KHR_BINARY_GLTF]=new vJ(U)}catch(j){if(p)p(j);return}z=JSON.parse(c[ru.KHR_BINARY_GLTF].content)}else z=JSON.parse(FQ(new Uint8Array(U)));else z=U;if(z.asset===void 0||z.asset.version[0]<2){if(p)p(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let P=new JJ(z,{path:E||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});P.fileLoader.setRequestHeader(this.requestHeader);for(let n=0;n<this.pluginCallbacks.length;n++){let j=this.pluginCallbacks[n](P);if(!j.name)console.error("THREE.GLTFLoader: Invalid plugin found: missing name");Y[j.name]=j,c[j.name]=!0}if(z.extensionsUsed)for(let n=0;n<z.extensionsUsed.length;++n){let j=z.extensionsUsed[n],H=z.extensionsRequired||[];switch(j){case ru.KHR_MATERIALS_UNLIT:c[j]=new yJ;break;case ru.KHR_DRACO_MESH_COMPRESSION:c[j]=new SJ(z,this.dracoLoader);break;case ru.KHR_TEXTURE_TRANSFORM:c[j]=new RJ;break;case ru.KHR_MESH_QUANTIZATION:c[j]=new DJ;break;default:if(H.indexOf(j)>=0&&Y[j]===void 0)console.warn('THREE.GLTFLoader: Unknown extension "'+j+'".')}}P.setExtensions(c),P.setPlugins(Y),P.parse(u,p)}parseAsync(U,E){let u=this;return new Promise(function(p,z){u.parse(U,E,p,z)})}}function ScU(){let U={};return{get:function(E){return U[E]},add:function(E,u){U[E]=u},remove:function(E){delete U[E]},removeAll:function(){U={}}}}var ru={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class $J{constructor(U){this.parser=U,this.name=ru.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let U=this.parser,E=this.parser.json.nodes||[];for(let u=0,p=E.length;u<p;u++){let z=E[u];if(z.extensions&&z.extensions[this.name]&&z.extensions[this.name].light!==void 0)U._addNodeRef(this.cache,z.extensions[this.name].light)}}_loadLight(U){let E=this.parser,u="light:"+U,p=E.cache.get(u);if(p)return p;let z=E.json,P=((z.extensions&&z.extensions[this.name]||{}).lights||[])[U],n,j=new EE(16777215);if(P.color!==void 0)j.setRGB(P.color[0],P.color[1],P.color[2],qY);let H=P.range!==void 0?P.range:0;switch(P.type){case"directional":n=new jq(j),n.target.position.set(0,0,-1),n.add(n.target);break;case"point":n=new nq(j),n.distance=H;break;case"spot":n=new xq(j),n.distance=H,P.spot=P.spot||{},P.spot.innerConeAngle=P.spot.innerConeAngle!==void 0?P.spot.innerConeAngle:0,P.spot.outerConeAngle=P.spot.outerConeAngle!==void 0?P.spot.outerConeAngle:Math.PI/4,n.angle=P.spot.outerConeAngle,n.penumbra=1-P.spot.innerConeAngle/P.spot.outerConeAngle,n.target.position.set(0,0,-1),n.add(n.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+P.type)}if(n.position.set(0,0,0),n.decay=2,jY(n,P),P.intensity!==void 0)n.intensity=P.intensity;return n.name=E.createUniqueName(P.name||"light_"+U),p=Promise.resolve(n),E.cache.add(u,p),p}getDependency(U,E){if(U!=="light")return;return this._loadLight(E)}createNodeAttachment(U){let E=this,u=this.parser,z=u.json.nodes[U],Y=(z.extensions&&z.extensions[this.name]||{}).light;if(Y===void 0)return null;return this._loadLight(Y).then(function(P){return u._getNodeRef(E.cache,Y,P)})}}class yJ{constructor(){this.name=ru.KHR_MATERIALS_UNLIT}getMaterialType(){return A5}extendParams(U,E,u){let p=[];U.color=new EE(1,1,1),U.opacity=1;let z=E.pbrMetallicRoughness;if(z){if(Array.isArray(z.baseColorFactor)){let c=z.baseColorFactor;U.color.setRGB(c[0],c[1],c[2],qY),U.opacity=c[3]}if(z.baseColorTexture!==void 0)p.push(u.assignTexture(U,"map",z.baseColorTexture,Fx))}return Promise.all(p)}}class IJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(U,E){let p=this.parser.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=p.extensions[this.name].emissiveStrength;if(z!==void 0)E.emissiveIntensity=z;return Promise.resolve()}}class OJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_CLEARCOAT}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let u=this.parser,p=u.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=[],c=p.extensions[this.name];if(c.clearcoatFactor!==void 0)E.clearcoat=c.clearcoatFactor;if(c.clearcoatTexture!==void 0)z.push(u.assignTexture(E,"clearcoatMap",c.clearcoatTexture));if(c.clearcoatRoughnessFactor!==void 0)E.clearcoatRoughness=c.clearcoatRoughnessFactor;if(c.clearcoatRoughnessTexture!==void 0)z.push(u.assignTexture(E,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture));if(c.clearcoatNormalTexture!==void 0){if(z.push(u.assignTexture(E,"clearcoatNormalMap",c.clearcoatNormalTexture)),c.clearcoatNormalTexture.scale!==void 0){let Y=c.clearcoatNormalTexture.scale;E.clearcoatNormalScale=new LU(Y,Y)}}return Promise.all(z)}}class NJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_DISPERSION}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let p=this.parser.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=p.extensions[this.name];return E.dispersion=z.dispersion!==void 0?z.dispersion:0,Promise.resolve()}}class rJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_IRIDESCENCE}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let u=this.parser,p=u.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=[],c=p.extensions[this.name];if(c.iridescenceFactor!==void 0)E.iridescence=c.iridescenceFactor;if(c.iridescenceTexture!==void 0)z.push(u.assignTexture(E,"iridescenceMap",c.iridescenceTexture));if(c.iridescenceIor!==void 0)E.iridescenceIOR=c.iridescenceIor;if(E.iridescenceThicknessRange===void 0)E.iridescenceThicknessRange=[100,400];if(c.iridescenceThicknessMinimum!==void 0)E.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum;if(c.iridescenceThicknessMaximum!==void 0)E.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum;if(c.iridescenceThicknessTexture!==void 0)z.push(u.assignTexture(E,"iridescenceThicknessMap",c.iridescenceThicknessTexture));return Promise.all(z)}}class LJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_SHEEN}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let u=this.parser,p=u.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=[];E.sheenColor=new EE(0,0,0),E.sheenRoughness=0,E.sheen=1;let c=p.extensions[this.name];if(c.sheenColorFactor!==void 0){let Y=c.sheenColorFactor;E.sheenColor.setRGB(Y[0],Y[1],Y[2],qY)}if(c.sheenRoughnessFactor!==void 0)E.sheenRoughness=c.sheenRoughnessFactor;if(c.sheenColorTexture!==void 0)z.push(u.assignTexture(E,"sheenColorMap",c.sheenColorTexture,Fx));if(c.sheenRoughnessTexture!==void 0)z.push(u.assignTexture(E,"sheenRoughnessMap",c.sheenRoughnessTexture));return Promise.all(z)}}class XJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_TRANSMISSION}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let u=this.parser,p=u.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=[],c=p.extensions[this.name];if(c.transmissionFactor!==void 0)E.transmission=c.transmissionFactor;if(c.transmissionTexture!==void 0)z.push(u.assignTexture(E,"transmissionMap",c.transmissionTexture));return Promise.all(z)}}class TJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_VOLUME}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let u=this.parser,p=u.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=[],c=p.extensions[this.name];if(E.thickness=c.thicknessFactor!==void 0?c.thicknessFactor:0,c.thicknessTexture!==void 0)z.push(u.assignTexture(E,"thicknessMap",c.thicknessTexture));E.attenuationDistance=c.attenuationDistance||1/0;let Y=c.attenuationColor||[1,1,1];return E.attenuationColor=new EE().setRGB(Y[0],Y[1],Y[2],qY),Promise.all(z)}}class oJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_IOR}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let p=this.parser.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=p.extensions[this.name];return E.ior=z.ior!==void 0?z.ior:1.5,Promise.resolve()}}class iJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_SPECULAR}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let u=this.parser,p=u.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=[],c=p.extensions[this.name];if(E.specularIntensity=c.specularFactor!==void 0?c.specularFactor:1,c.specularTexture!==void 0)z.push(u.assignTexture(E,"specularIntensityMap",c.specularTexture));let Y=c.specularColorFactor||[1,1,1];if(E.specularColor=new EE().setRGB(Y[0],Y[1],Y[2],qY),c.specularColorTexture!==void 0)z.push(u.assignTexture(E,"specularColorMap",c.specularColorTexture,Fx));return Promise.all(z)}}class FJ{constructor(U){this.parser=U,this.name=ru.EXT_MATERIALS_BUMP}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let u=this.parser,p=u.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=[],c=p.extensions[this.name];if(E.bumpScale=c.bumpFactor!==void 0?c.bumpFactor:1,c.bumpTexture!==void 0)z.push(u.assignTexture(E,"bumpMap",c.bumpTexture));return Promise.all(z)}}class AJ{constructor(U){this.parser=U,this.name=ru.KHR_MATERIALS_ANISOTROPY}getMaterialType(U){let u=this.parser.json.materials[U];if(!u.extensions||!u.extensions[this.name])return null;return nz}extendMaterialParams(U,E){let u=this.parser,p=u.json.materials[U];if(!p.extensions||!p.extensions[this.name])return Promise.resolve();let z=[],c=p.extensions[this.name];if(c.anisotropyStrength!==void 0)E.anisotropy=c.anisotropyStrength;if(c.anisotropyRotation!==void 0)E.anisotropyRotation=c.anisotropyRotation;if(c.anisotropyTexture!==void 0)z.push(u.assignTexture(E,"anisotropyMap",c.anisotropyTexture));return Promise.all(z)}}class mJ{constructor(U){this.parser=U,this.name=ru.KHR_TEXTURE_BASISU}loadTexture(U){let E=this.parser,u=E.json,p=u.textures[U];if(!p.extensions||!p.extensions[this.name])return null;let z=p.extensions[this.name],c=E.options.ktx2Loader;if(!c)if(u.extensionsRequired&&u.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");else return null;return E.loadTextureImage(U,z.source,c)}}class VJ{constructor(U){this.parser=U,this.name=ru.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(U){let E=this.name,u=this.parser,p=u.json,z=p.textures[U];if(!z.extensions||!z.extensions[E])return null;let c=z.extensions[E],Y=p.images[c.source],P=u.textureLoader;if(Y.uri){let n=u.options.manager.getHandler(Y.uri);if(n!==null)P=n}return this.detectSupport().then(function(n){if(n)return u.loadTextureImage(U,c.source,P);if(p.extensionsRequired&&p.extensionsRequired.indexOf(E)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return u.loadTexture(U)})}detectSupport(){if(!this.isSupported)this.isSupported=new Promise(function(U){let E=new Image;E.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",E.onload=E.onerror=function(){U(E.height===1)}});return this.isSupported}}class GJ{constructor(U){this.parser=U,this.name=ru.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(U){let E=this.name,u=this.parser,p=u.json,z=p.textures[U];if(!z.extensions||!z.extensions[E])return null;let c=z.extensions[E],Y=p.images[c.source],P=u.textureLoader;if(Y.uri){let n=u.options.manager.getHandler(Y.uri);if(n!==null)P=n}return this.detectSupport().then(function(n){if(n)return u.loadTextureImage(U,c.source,P);if(p.extensionsRequired&&p.extensionsRequired.indexOf(E)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return u.loadTexture(U)})}detectSupport(){if(!this.isSupported)this.isSupported=new Promise(function(U){let E=new Image;E.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",E.onload=E.onerror=function(){U(E.height===1)}});return this.isSupported}}class BJ{constructor(U){this.name=ru.EXT_MESHOPT_COMPRESSION,this.parser=U}loadBufferView(U){let E=this.parser.json,u=E.bufferViews[U];if(u.extensions&&u.extensions[this.name]){let p=u.extensions[this.name],z=this.parser.getDependency("buffer",p.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported)if(E.extensionsRequired&&E.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");else return null;return z.then(function(Y){let P=p.byteOffset||0,n=p.byteLength||0,j=p.count,H=p.byteStride,k=new Uint8Array(Y,P,n);if(c.decodeGltfBufferAsync)return c.decodeGltfBufferAsync(j,H,k,p.mode,p.filter).then(function(Q){return Q.buffer});else return c.ready.then(function(){let Q=new ArrayBuffer(j*H);return c.decodeGltfBuffer(new Uint8Array(Q),j,H,k,p.mode,p.filter),Q})})}else return null}}class dJ{constructor(U){this.name=ru.EXT_MESH_GPU_INSTANCING,this.parser=U}createNodeMesh(U){let E=this.parser.json,u=E.nodes[U];if(!u.extensions||!u.extensions[this.name]||u.mesh===void 0)return null;let p=E.meshes[u.mesh];for(let n of p.primitives)if(n.mode!==_0.TRIANGLES&&n.mode!==_0.TRIANGLE_STRIP&&n.mode!==_0.TRIANGLE_FAN&&n.mode!==void 0)return null;let c=u.extensions[this.name].attributes,Y=[],P={};for(let n in c)Y.push(this.parser.getDependency("accessor",c[n]).then((j)=>{return P[n]=j,P[n]}));if(Y.length<1)return null;return Y.push(this.parser.createNodeMesh(U)),Promise.all(Y).then((n)=>{let j=n.pop(),H=j.isGroup?j.children:[j],k=n[0].count,Q=[];for(let y of H){let r=new RE,T=new b,N=new np,O=new b(1,1,1),L=new Uq(y.geometry,y.material,k);for(let X=0;X<k;X++){if(P.TRANSLATION)T.fromBufferAttribute(P.TRANSLATION,X);if(P.ROTATION)N.fromBufferAttribute(P.ROTATION,X);if(P.SCALE)O.fromBufferAttribute(P.SCALE,X);L.setMatrixAt(X,r.compose(T,N,O))}for(let X in P)if(X==="_COLOR_0"){let i=P[X];L.instanceColor=new fc(i.array,i.itemSize,i.normalized)}else if(X!=="TRANSLATION"&&X!=="ROTATION"&&X!=="SCALE")y.geometry.setAttribute(X,P[X]);Ou.prototype.copy.call(L,y),this.parser.assignFinalMaterial(L),Q.push(L)}if(j.isGroup)return j.clear(),j.add(...Q),j;return Q[0]})}}var wJ="glTF",AQ=12,qJ={JSON:1313821514,BIN:5130562};class vJ{constructor(U){this.name=ru.KHR_BINARY_GLTF,this.content=null,this.body=null;let E=new DataView(U,0,AQ);if(this.header={magic:FQ(new Uint8Array(U.slice(0,4))),version:E.getUint32(4,!0),length:E.getUint32(8,!0)},this.header.magic!==wJ)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");else if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");let u=this.header.length-AQ,p=new DataView(U,AQ),z=0;while(z<u){let c=p.getUint32(z,!0);z+=4;let Y=p.getUint32(z,!0);if(z+=4,Y===qJ.JSON){let P=new Uint8Array(U,AQ+z,c);this.content=FQ(P)}else if(Y===qJ.BIN){let P=AQ+z;this.body=U.slice(P,P+c)}z+=c}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class SJ{constructor(U,E){if(!E)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ru.KHR_DRACO_MESH_COMPRESSION,this.json=U,this.dracoLoader=E,this.dracoLoader.preload()}decodePrimitive(U,E){let u=this.json,p=this.dracoLoader,z=U.extensions[this.name].bufferView,c=U.extensions[this.name].attributes,Y={},P={},n={};for(let j in c){let H=hi[j]||j.toLowerCase();Y[H]=c[j]}for(let j in U.attributes){let H=hi[j]||j.toLowerCase();if(c[j]!==void 0){let k=u.accessors[U.attributes[j]],Q=Bq[k.componentType];n[H]=Q.name,P[H]=k.normalized===!0}}return E.getDependency("bufferView",z).then(function(j){return new Promise(function(H,k){p.decodeDracoFile(j,function(Q){for(let y in Q.attributes){let r=Q.attributes[y],T=P[y];if(T!==void 0)r.normalized=T}H(Q)},Y,n,qY,k)})})}}class RJ{constructor(){this.name=ru.KHR_TEXTURE_TRANSFORM}extendTexture(U,E){if((E.texCoord===void 0||E.texCoord===U.channel)&&E.offset===void 0&&E.rotation===void 0&&E.scale===void 0)return U;if(U=U.clone(),E.texCoord!==void 0)U.channel=E.texCoord;if(E.offset!==void 0)U.offset.fromArray(E.offset);if(E.rotation!==void 0)U.rotation=E.rotation;if(E.scale!==void 0)U.repeat.fromArray(E.scale);return U.needsUpdate=!0,U}}class DJ{constructor(){this.name=ru.KHR_MESH_QUANTIZATION}}class li extends YY{constructor(U,E,u,p){super(U,E,u,p)}copySampleValue_(U){let E=this.resultBuffer,u=this.sampleValues,p=this.valueSize,z=U*p*3+p;for(let c=0;c!==p;c++)E[c]=u[z+c];return E}interpolate_(U,E,u,p){let z=this.resultBuffer,c=this.sampleValues,Y=this.valueSize,P=Y*2,n=Y*3,j=p-E,H=(u-E)/j,k=H*H,Q=k*H,y=U*n,r=y-n,T=-2*Q+3*k,N=Q-k,O=1-T,L=N-k+H;for(let X=0;X!==Y;X++){let i=c[r+X+Y],B=c[r+X+P]*j,G=c[y+X+Y],d=c[y+X]*j;z[X]=O*i+L*B+T*G+N*d}return z}}var RcU=new np;class tJ extends li{interpolate_(U,E,u,p){let z=super.interpolate_(U,E,u,p);return RcU.fromArray(z).normalize().toArray(z),z}}var _0={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Bq={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},HJ={9728:Qc,9729:Wu,9984:H9,9985:zx,9986:TZ,9987:ac},kJ={33071:J5,33648:q9,10497:px},Di={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},hi={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Gq>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},RZ={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},DcU={CUBICSPLINE:void 0,LINEAR:L9,STEP:pO},ti={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function tcU(U){if(U.DefaultMaterial===void 0)U.DefaultMaterial=new GZ({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:UY});return U.DefaultMaterial}function ix(U,E,u){for(let p in u.extensions)if(U[p]===void 0)E.userData.gltfExtensions=E.userData.gltfExtensions||{},E.userData.gltfExtensions[p]=u.extensions[p]}function jY(U,E){if(E.extras!==void 0)if(typeof E.extras==="object")Object.assign(U.userData,E.extras);else console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+E.extras)}function JcU(U,E,u){let p=!1,z=!1,c=!1;for(let j=0,H=E.length;j<H;j++){let k=E[j];if(k.POSITION!==void 0)p=!0;if(k.NORMAL!==void 0)z=!0;if(k.COLOR_0!==void 0)c=!0;if(p&&z&&c)break}if(!p&&!z&&!c)return Promise.resolve(U);let Y=[],P=[],n=[];for(let j=0,H=E.length;j<H;j++){let k=E[j];if(p){let Q=k.POSITION!==void 0?u.getDependency("accessor",k.POSITION):U.attributes.position;Y.push(Q)}if(z){let Q=k.NORMAL!==void 0?u.getDependency("accessor",k.NORMAL):U.attributes.normal;P.push(Q)}if(c){let Q=k.COLOR_0!==void 0?u.getDependency("accessor",k.COLOR_0):U.attributes.color;n.push(Q)}}return Promise.all([Promise.all(Y),Promise.all(P),Promise.all(n)]).then(function(j){let H=j[0],k=j[1],Q=j[2];if(p)U.morphAttributes.position=H;if(z)U.morphAttributes.normal=k;if(c)U.morphAttributes.color=Q;return U.morphTargetsRelative=!0,U})}function hcU(U,E){if(U.updateMorphTargets(),E.weights!==void 0)for(let u=0,p=E.weights.length;u<p;u++)U.morphTargetInfluences[u]=E.weights[u];if(E.extras&&Array.isArray(E.extras.targetNames)){let u=E.extras.targetNames;if(U.morphTargetInfluences.length===u.length){U.morphTargetDictionary={};for(let p=0,z=u.length;p<z;p++)U.morphTargetDictionary[u[p]]=p}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function bcU(U){let E,u=U.extensions&&U.extensions[ru.KHR_DRACO_MESH_COMPRESSION];if(u)E="draco:"+u.bufferView+":"+u.indices+":"+Ji(u.attributes);else E=U.indices+":"+Ji(U.attributes)+":"+U.mode;if(U.targets!==void 0)for(let p=0,z=U.targets.length;p<z;p++)E+=":"+Ji(U.targets[p]);return E}function Ji(U){let E="",u=Object.keys(U).sort();for(let p=0,z=u.length;p<z;p++)E+=u[p]+":"+U[u[p]]+";";return E}function bi(U){switch(U){case Int8Array:return 0.007874015748031496;case Uint8Array:return 0.00392156862745098;case Int16Array:return 0.00003051850947599719;case Uint16Array:return 0.000015259021896696422;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function lcU(U){if(U.search(/\.jpe?g($|\?)/i)>0||U.search(/^data\:image\/jpeg/)===0)return"image/jpeg";if(U.search(/\.webp($|\?)/i)>0||U.search(/^data\:image\/webp/)===0)return"image/webp";return"image/png"}var McU=new RE;class JJ{constructor(U={},E={}){this.json=U,this.extensions={},this.plugins={},this.options=E,this.cache=new ScU,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let u=!1,p=!1,z=-1;if(typeof navigator!=="undefined"&&typeof navigator.userAgent!=="undefined")u=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,p=navigator.userAgent.indexOf("Firefox")>-1,z=p?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;if(typeof createImageBitmap==="undefined"||u||p&&z<98)this.textureLoader=new UQ(this.options.manager);else this.textureLoader=new pQ(this.options.manager);if(this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new vp(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials")this.fileLoader.setWithCredentials(!0)}setExtensions(U){this.extensions=U}setPlugins(U){this.plugins=U}parse(U,E){let u=this,p=this.json,z=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([u.getDependencies("scene"),u.getDependencies("animation"),u.getDependencies("camera")])}).then(function(c){let Y={scene:c[0][p.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:p.asset,parser:u,userData:{}};return ix(z,Y,p),jY(Y,p),Promise.all(u._invokeAll(function(P){return P.afterRoot&&P.afterRoot(Y)})).then(function(){for(let P of Y.scenes)P.updateMatrixWorld();U(Y)})}).catch(E)}_markDefs(){let U=this.json.nodes||[],E=this.json.skins||[],u=this.json.meshes||[];for(let p=0,z=E.length;p<z;p++){let c=E[p].joints;for(let Y=0,P=c.length;Y<P;Y++)U[c[Y]].isBone=!0}for(let p=0,z=U.length;p<z;p++){let c=U[p];if(c.mesh!==void 0){if(this._addNodeRef(this.meshCache,c.mesh),c.skin!==void 0)u[c.mesh].isSkinnedMesh=!0}if(c.camera!==void 0)this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(U,E){if(E===void 0)return;if(U.refs[E]===void 0)U.refs[E]=U.uses[E]=0;U.refs[E]++}_getNodeRef(U,E,u){if(U.refs[E]<=1)return u;let p=u.clone(),z=(c,Y)=>{let P=this.associations.get(c);if(P!=null)this.associations.set(Y,P);for(let[n,j]of c.children.entries())z(j,Y.children[n])};return z(u,p),p.name+="_instance_"+U.uses[E]++,p}_invokeOne(U){let E=Object.values(this.plugins);E.push(this);for(let u=0;u<E.length;u++){let p=U(E[u]);if(p)return p}return null}_invokeAll(U){let E=Object.values(this.plugins);E.unshift(this);let u=[];for(let p=0;p<E.length;p++){let z=U(E[p]);if(z)u.push(z)}return u}getDependency(U,E){let u=U+":"+E,p=this.cache.get(u);if(!p){switch(U){case"scene":p=this.loadScene(E);break;case"node":p=this._invokeOne(function(z){return z.loadNode&&z.loadNode(E)});break;case"mesh":p=this._invokeOne(function(z){return z.loadMesh&&z.loadMesh(E)});break;case"accessor":p=this.loadAccessor(E);break;case"bufferView":p=this._invokeOne(function(z){return z.loadBufferView&&z.loadBufferView(E)});break;case"buffer":p=this.loadBuffer(E);break;case"material":p=this._invokeOne(function(z){return z.loadMaterial&&z.loadMaterial(E)});break;case"texture":p=this._invokeOne(function(z){return z.loadTexture&&z.loadTexture(E)});break;case"skin":p=this.loadSkin(E);break;case"animation":p=this._invokeOne(function(z){return z.loadAnimation&&z.loadAnimation(E)});break;case"camera":p=this.loadCamera(E);break;default:if(p=this._invokeOne(function(z){return z!=this&&z.getDependency&&z.getDependency(U,E)}),!p)throw new Error("Unknown type: "+U);break}this.cache.add(u,p)}return p}getDependencies(U){let E=this.cache.get(U);if(!E){let u=this,p=this.json[U+(U==="mesh"?"es":"s")]||[];E=Promise.all(p.map(function(z,c){return u.getDependency(U,c)})),this.cache.add(U,E)}return E}loadBuffer(U){let E=this.json.buffers[U],u=this.fileLoader;if(E.type&&E.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+E.type+" buffer type is not supported.");if(E.uri===void 0&&U===0)return Promise.resolve(this.extensions[ru.KHR_BINARY_GLTF].body);let p=this.options;return new Promise(function(z,c){u.load(kc.resolveURL(E.uri,p.path),z,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+E.uri+'".'))})})}loadBufferView(U){let E=this.json.bufferViews[U];return this.getDependency("buffer",E.buffer).then(function(u){let p=E.byteLength||0,z=E.byteOffset||0;return u.slice(z,z+p)})}loadAccessor(U){let E=this,u=this.json,p=this.json.accessors[U];if(p.bufferView===void 0&&p.sparse===void 0){let c=Di[p.type],Y=Bq[p.componentType],P=p.normalized===!0,n=new Y(p.count*c);return Promise.resolve(new ju(n,c,P))}let z=[];if(p.bufferView!==void 0)z.push(this.getDependency("bufferView",p.bufferView));else z.push(null);if(p.sparse!==void 0)z.push(this.getDependency("bufferView",p.sparse.indices.bufferView)),z.push(this.getDependency("bufferView",p.sparse.values.bufferView));return Promise.all(z).then(function(c){let Y=c[0],P=Di[p.type],n=Bq[p.componentType],j=n.BYTES_PER_ELEMENT,H=j*P,k=p.byteOffset||0,Q=p.bufferView!==void 0?u.bufferViews[p.bufferView].byteStride:void 0,y=p.normalized===!0,r,T;if(Q&&Q!==H){let N=Math.floor(k/Q),O="InterleavedBuffer:"+p.bufferView+":"+p.componentType+":"+N+":"+p.count,L=E.cache.get(O);if(!L)r=new n(Y,N*Q,p.count*Q/j),L=new zY(r,Q/j),E.cache.add(O,L);T=new Hc(L,P,k%Q/j,y)}else{if(Y===null)r=new n(p.count*P);else r=new n(Y,k,p.count*P);T=new ju(r,P,y)}if(p.sparse!==void 0){let N=Di.SCALAR,O=Bq[p.sparse.indices.componentType],L=p.sparse.indices.byteOffset||0,X=p.sparse.values.byteOffset||0,i=new O(c[1],L,p.sparse.count*N),B=new n(c[2],X,p.sparse.count*P);if(Y!==null)T=new ju(T.array.slice(),T.itemSize,T.normalized);for(let G=0,d=i.length;G<d;G++){let m=i[G];if(T.setX(m,B[G*P]),P>=2)T.setY(m,B[G*P+1]);if(P>=3)T.setZ(m,B[G*P+2]);if(P>=4)T.setW(m,B[G*P+3]);if(P>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return T})}loadTexture(U){let E=this.json,u=this.options,z=E.textures[U].source,c=E.images[z],Y=this.textureLoader;if(c.uri){let P=u.manager.getHandler(c.uri);if(P!==null)Y=P}return this.loadTextureImage(U,z,Y)}loadTextureImage(U,E,u){let p=this,z=this.json,c=z.textures[U],Y=z.images[E],P=(Y.uri||Y.bufferView)+":"+c.sampler;if(this.textureCache[P])return this.textureCache[P];let n=this.loadImageSource(E,u).then(function(j){if(j.flipY=!1,j.name=c.name||Y.name||"",j.name===""&&typeof Y.uri==="string"&&Y.uri.startsWith("data:image/")===!1)j.name=Y.uri;let k=(z.samplers||{})[c.sampler]||{};return j.magFilter=HJ[k.magFilter]||Wu,j.minFilter=HJ[k.minFilter]||ac,j.wrapS=kJ[k.wrapS]||px,j.wrapT=kJ[k.wrapT]||px,p.associations.set(j,{textures:U}),j}).catch(function(){return null});return this.textureCache[P]=n,n}loadImageSource(U,E){let u=this,p=this.json,z=this.options;if(this.sourceCache[U]!==void 0)return this.sourceCache[U].then((H)=>H.clone());let c=p.images[U],Y=self.URL||self.webkitURL,P=c.uri||"",n=!1;if(c.bufferView!==void 0)P=u.getDependency("bufferView",c.bufferView).then(function(H){n=!0;let k=new Blob([H],{type:c.mimeType});return P=Y.createObjectURL(k),P});else if(c.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+U+" is missing URI and bufferView");let j=Promise.resolve(P).then(function(H){return new Promise(function(k,Q){let y=k;if(E.isImageBitmapLoader===!0)y=function(r){let T=new Vu(r);T.needsUpdate=!0,k(T)};E.load(kc.resolveURL(H,z.path),y,void 0,Q)})}).then(function(H){if(n===!0)Y.revokeObjectURL(P);return jY(H,c),H.userData.mimeType=c.mimeType||lcU(c.uri),H}).catch(function(H){throw console.error("THREE.GLTFLoader: Couldn't load texture",P),H});return this.sourceCache[U]=j,j}assignTexture(U,E,u,p){let z=this;return this.getDependency("texture",u.index).then(function(c){if(!c)return null;if(u.texCoord!==void 0&&u.texCoord>0)c=c.clone(),c.channel=u.texCoord;if(z.extensions[ru.KHR_TEXTURE_TRANSFORM]){let Y=u.extensions!==void 0?u.extensions[ru.KHR_TEXTURE_TRANSFORM]:void 0;if(Y){let P=z.associations.get(c);c=z.extensions[ru.KHR_TEXTURE_TRANSFORM].extendTexture(c,Y),z.associations.set(c,P)}}if(p!==void 0){if(typeof p==="number")p=p===jJ?Fx:qY;if("colorSpace"in c)c.colorSpace=p;else c.encoding=p===Fx?jJ:vcU}return U[E]=c,c})}assignFinalMaterial(U){let{geometry:E,material:u}=U,p=E.attributes.tangent===void 0,z=E.attributes.color!==void 0,c=E.attributes.normal===void 0;if(U.isPoints){let Y="PointsMaterial:"+u.uuid,P=this.cache.get(Y);if(!P)P=new Hx,Rp.prototype.copy.call(P,u),P.color.copy(u.color),P.map=u.map,P.sizeAttenuation=!1,this.cache.add(Y,P);u=P}else if(U.isLine){let Y="LineBasicMaterial:"+u.uuid,P=this.cache.get(Y);if(!P)P=new q5,Rp.prototype.copy.call(P,u),P.color.copy(u.color),P.map=u.map,this.cache.add(Y,P);u=P}if(p||z||c){let Y="ClonedMaterial:"+u.uuid+":";if(p)Y+="derivative-tangents:";if(z)Y+="vertex-colors:";if(c)Y+="flat-shading:";let P=this.cache.get(Y);if(!P){if(P=u.clone(),z)P.vertexColors=!0;if(c)P.flatShading=!0;if(p){if(P.normalScale)P.normalScale.y*=-1;if(P.clearcoatNormalScale)P.clearcoatNormalScale.y*=-1}this.cache.add(Y,P),this.associations.set(P,this.associations.get(u))}u=P}U.material=u}getMaterialType(){return GZ}loadMaterial(U){let E=this,u=this.json,p=this.extensions,z=u.materials[U],c,Y={},P=z.extensions||{},n=[];if(P[ru.KHR_MATERIALS_UNLIT]){let H=p[ru.KHR_MATERIALS_UNLIT];c=H.getMaterialType(),n.push(H.extendParams(Y,z,E))}else{let H=z.pbrMetallicRoughness||{};if(Y.color=new EE(1,1,1),Y.opacity=1,Array.isArray(H.baseColorFactor)){let k=H.baseColorFactor;Y.color.setRGB(k[0],k[1],k[2],qY),Y.opacity=k[3]}if(H.baseColorTexture!==void 0)n.push(E.assignTexture(Y,"map",H.baseColorTexture,Fx));if(Y.metalness=H.metallicFactor!==void 0?H.metallicFactor:1,Y.roughness=H.roughnessFactor!==void 0?H.roughnessFactor:1,H.metallicRoughnessTexture!==void 0)n.push(E.assignTexture(Y,"metalnessMap",H.metallicRoughnessTexture)),n.push(E.assignTexture(Y,"roughnessMap",H.metallicRoughnessTexture));c=this._invokeOne(function(k){return k.getMaterialType&&k.getMaterialType(U)}),n.push(Promise.all(this._invokeAll(function(k){return k.extendMaterialParams&&k.extendMaterialParams(U,Y)})))}if(z.doubleSided===!0)Y.side=xz;let j=z.alphaMode||ti.OPAQUE;if(j===ti.BLEND)Y.transparent=!0,Y.depthWrite=!1;else if(Y.transparent=!1,j===ti.MASK)Y.alphaTest=z.alphaCutoff!==void 0?z.alphaCutoff:0.5;if(z.normalTexture!==void 0&&c!==A5){if(n.push(E.assignTexture(Y,"normalMap",z.normalTexture)),Y.normalScale=new LU(1,1),z.normalTexture.scale!==void 0){let H=z.normalTexture.scale;Y.normalScale.set(H,H)}}if(z.occlusionTexture!==void 0&&c!==A5){if(n.push(E.assignTexture(Y,"aoMap",z.occlusionTexture)),z.occlusionTexture.strength!==void 0)Y.aoMapIntensity=z.occlusionTexture.strength}if(z.emissiveFactor!==void 0&&c!==A5){let H=z.emissiveFactor;Y.emissive=new EE().setRGB(H[0],H[1],H[2],qY)}if(z.emissiveTexture!==void 0&&c!==A5)n.push(E.assignTexture(Y,"emissiveMap",z.emissiveTexture,Fx));return Promise.all(n).then(function(){let H=new c(Y);if(z.name)H.name=z.name;if(jY(H,z),E.associations.set(H,{materials:U}),z.extensions)ix(p,H,z);return H})}createUniqueName(U){let E=ou.sanitizeNodeName(U||"");if(E in this.nodeNamesUsed)return E+"_"+ ++this.nodeNamesUsed[E];else return this.nodeNamesUsed[E]=0,E}loadGeometries(U){let E=this,u=this.extensions,p=this.primitiveCache;function z(Y){return u[ru.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(Y,E).then(function(P){return QJ(P,Y,E)})}let c=[];for(let Y=0,P=U.length;Y<P;Y++){let n=U[Y],j=bcU(n),H=p[j];if(H)c.push(H.promise);else{let k;if(n.extensions&&n.extensions[ru.KHR_DRACO_MESH_COMPRESSION])k=z(n);else k=QJ(new WE,n,E);p[j]={primitive:n,promise:k},c.push(k)}}return Promise.all(c)}loadMesh(U){let E=this,u=this.json,p=this.extensions,z=u.meshes[U],c=z.primitives,Y=[];for(let P=0,n=c.length;P<n;P++){let j=c[P].material===void 0?tcU(this.cache):this.getDependency("material",c[P].material);Y.push(j)}return Y.push(E.loadGeometries(c)),Promise.all(Y).then(function(P){let n=P.slice(0,P.length-1),j=P[P.length-1],H=[];for(let Q=0,y=j.length;Q<y;Q++){let r=j[Q],T=c[Q],N,O=n[Q];if(T.mode===_0.TRIANGLES||T.mode===_0.TRIANGLE_STRIP||T.mode===_0.TRIANGLE_FAN||T.mode===void 0){if(N=z.isSkinnedMesh===!0?new Cj(r,O):new tu(r,O),N.isSkinnedMesh===!0)N.normalizeSkinWeights();if(T.mode===_0.TRIANGLE_STRIP)N.geometry=di(N.geometry,Kj);else if(T.mode===_0.TRIANGLE_FAN)N.geometry=di(N.geometry,Zx)}else if(T.mode===_0.LINES)N=new wz(r,O);else if(T.mode===_0.LINE_STRIP)N=new h0(r,O);else if(T.mode===_0.LINE_LOOP)N=new Eq(r,O);else if(T.mode===_0.POINTS)N=new uq(r,O);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+T.mode);if(Object.keys(N.geometry.morphAttributes).length>0)hcU(N,z);if(N.name=E.createUniqueName(z.name||"mesh_"+U),jY(N,z),T.extensions)ix(p,N,T);E.assignFinalMaterial(N),H.push(N)}for(let Q=0,y=H.length;Q<y;Q++)E.associations.set(H[Q],{meshes:U,primitives:Q});if(H.length===1){if(z.extensions)ix(p,H[0],z);return H[0]}let k=new t0;if(z.extensions)ix(p,k,z);E.associations.set(k,{meshes:U});for(let Q=0,y=H.length;Q<y;Q++)k.add(H[Q]);return k})}loadCamera(U){let E,u=this.json.cameras[U],p=u[u.type];if(!p){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}if(u.type==="perspective")E=new ip(yc.radToDeg(p.yfov),p.aspectRatio||1,p.znear||1,p.zfar||2000000);else if(u.type==="orthographic")E=new n0(-p.xmag,p.xmag,p.ymag,-p.ymag,p.znear,p.zfar);if(u.name)E.name=this.createUniqueName(u.name);return jY(E,u),Promise.resolve(E)}loadSkin(U){let E=this.json.skins[U],u=[];for(let p=0,z=E.joints.length;p<z;p++)u.push(this._loadNodeShallow(E.joints[p]));if(E.inverseBindMatrices!==void 0)u.push(this.getDependency("accessor",E.inverseBindMatrices));else u.push(null);return Promise.all(u).then(function(p){let z=p.pop(),c=p,Y=[],P=[];for(let n=0,j=c.length;n<j;n++){let H=c[n];if(H){Y.push(H);let k=new RE;if(z!==null)k.fromArray(z.array,n*16);P.push(k)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',E.joints[n])}return new qx(Y,P)})}loadAnimation(U){let E=this.json,u=this,p=E.animations[U],z=p.name?p.name:"animation_"+U,c=[],Y=[],P=[],n=[],j=[];for(let H=0,k=p.channels.length;H<k;H++){let Q=p.channels[H],y=p.samplers[Q.sampler],r=Q.target,T=r.node,N=p.parameters!==void 0?p.parameters[y.input]:y.input,O=p.parameters!==void 0?p.parameters[y.output]:y.output;if(r.node===void 0)continue;c.push(this.getDependency("node",T)),Y.push(this.getDependency("accessor",N)),P.push(this.getDependency("accessor",O)),n.push(y),j.push(r)}return Promise.all([Promise.all(c),Promise.all(Y),Promise.all(P),Promise.all(n),Promise.all(j)]).then(function(H){let k=H[0],Q=H[1],y=H[2],r=H[3],T=H[4],N=[];for(let O=0,L=k.length;O<L;O++){let X=k[O],i=Q[O],B=y[O],G=r[O],d=T[O];if(X===void 0)continue;if(X.updateMatrix)X.updateMatrix();let m=u._createAnimationTracks(X,i,B,G,d);if(m)for(let V=0;V<m.length;V++)N.push(m[V])}return new e4(z,void 0,N)})}createNodeMesh(U){let E=this.json,u=this,p=E.nodes[U];if(p.mesh===void 0)return null;return u.getDependency("mesh",p.mesh).then(function(z){let c=u._getNodeRef(u.meshCache,p.mesh,z);if(p.weights!==void 0)c.traverse(function(Y){if(!Y.isMesh)return;for(let P=0,n=p.weights.length;P<n;P++)Y.morphTargetInfluences[P]=p.weights[P]});return c})}loadNode(U){let E=this.json,u=this,p=E.nodes[U],z=u._loadNodeShallow(U),c=[],Y=p.children||[];for(let n=0,j=Y.length;n<j;n++)c.push(u.getDependency("node",Y[n]));let P=p.skin===void 0?Promise.resolve(null):u.getDependency("skin",p.skin);return Promise.all([z,Promise.all(c),P]).then(function(n){let j=n[0],H=n[1],k=n[2];if(k!==null)j.traverse(function(Q){if(!Q.isSkinnedMesh)return;Q.bind(k,McU)});for(let Q=0,y=H.length;Q<y;Q++)j.add(H[Q]);return j})}_loadNodeShallow(U){let E=this.json,u=this.extensions,p=this;if(this.nodeCache[U]!==void 0)return this.nodeCache[U];let z=E.nodes[U],c=z.name?p.createUniqueName(z.name):"",Y=[],P=p._invokeOne(function(n){return n.createNodeMesh&&n.createNodeMesh(U)});if(P)Y.push(P);if(z.camera!==void 0)Y.push(p.getDependency("camera",z.camera).then(function(n){return p._getNodeRef(p.cameraCache,z.camera,n)}));return p._invokeAll(function(n){return n.createNodeAttachment&&n.createNodeAttachment(U)}).forEach(function(n){Y.push(n)}),this.nodeCache[U]=Promise.all(Y).then(function(n){let j;if(z.isBone===!0)j=new jx;else if(n.length>1)j=new t0;else if(n.length===1)j=n[0];else j=new Ou;if(j!==n[0])for(let H=0,k=n.length;H<k;H++)j.add(n[H]);if(z.name)j.userData.name=z.name,j.name=c;if(jY(j,z),z.extensions)ix(u,j,z);if(z.matrix!==void 0){let H=new RE;H.fromArray(z.matrix),j.applyMatrix4(H)}else{if(z.translation!==void 0)j.position.fromArray(z.translation);if(z.rotation!==void 0)j.quaternion.fromArray(z.rotation);if(z.scale!==void 0)j.scale.fromArray(z.scale)}if(!p.associations.has(j))p.associations.set(j,{});return p.associations.get(j).nodes=U,j}),this.nodeCache[U]}loadScene(U){let E=this.extensions,u=this.json.scenes[U],p=this,z=new t0;if(u.name)z.name=p.createUniqueName(u.name);if(jY(z,u),u.extensions)ix(E,z,u);let c=u.nodes||[],Y=[];for(let P=0,n=c.length;P<n;P++)Y.push(p.getDependency("node",c[P]));return Promise.all(Y).then(function(P){for(let j=0,H=P.length;j<H;j++)z.add(P[j]);let n=(j)=>{let H=new Map;for(let[k,Q]of p.associations)if(k instanceof Rp||k instanceof Vu)H.set(k,Q);return j.traverse((k)=>{let Q=p.associations.get(k);if(Q!=null)H.set(k,Q)}),H};return p.associations=n(z),z})}_createAnimationTracks(U,E,u,p,z){let c=[],Y=U.name?U.name:U.uuid,P=[];if(RZ[z.path]===RZ.weights)U.traverse(function(k){if(k.morphTargetInfluences)P.push(k.name?k.name:k.uuid)});else P.push(Y);let n;switch(RZ[z.path]){case RZ.weights:n=sc;break;case RZ.rotation:n=ec;break;case RZ.position:case RZ.scale:n=Kc;break;default:switch(u.itemSize){case 1:n=sc;break;case 2:case 3:default:n=Kc;break}break}let j=p.interpolation!==void 0?DcU[p.interpolation]:L9,H=this._getArrayFromAccessor(u);for(let k=0,Q=P.length;k<Q;k++){let y=new n(P[k]+"."+RZ[z.path],E.array,H,j);if(p.interpolation==="CUBICSPLINE")this._createCubicSplineTrackInterpolant(y);c.push(y)}return c}_getArrayFromAccessor(U){let E=U.array;if(U.normalized){let u=bi(E.constructor),p=new Float32Array(E.length);for(let z=0,c=E.length;z<c;z++)p[z]=E[z]*u;E=p}return E}_createCubicSplineTrackInterpolant(U){U.createInterpolant=function E(u){return new(this instanceof ec?tJ:li)(this.times,this.values,this.getValueSize()/3,u)},U.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function WcU(U,E,u){let p=E.attributes,z=new lp;if(p.POSITION!==void 0){let P=u.json.accessors[p.POSITION],n=P.min,j=P.max;if(n!==void 0&&j!==void 0){if(z.set(new b(n[0],n[1],n[2]),new b(j[0],j[1],j[2])),P.normalized){let H=bi(Bq[P.componentType]);z.min.multiplyScalar(H),z.max.multiplyScalar(H)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;let c=E.targets;if(c!==void 0){let P=new b,n=new b;for(let j=0,H=c.length;j<H;j++){let k=c[j];if(k.POSITION!==void 0){let Q=u.json.accessors[k.POSITION],y=Q.min,r=Q.max;if(y!==void 0&&r!==void 0){if(n.setX(Math.max(Math.abs(y[0]),Math.abs(r[0]))),n.setY(Math.max(Math.abs(y[1]),Math.abs(r[1]))),n.setZ(Math.max(Math.abs(y[2]),Math.abs(r[2]))),Q.normalized){let T=bi(Bq[Q.componentType]);n.multiplyScalar(T)}P.max(n)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}z.expandByVector(P)}U.boundingBox=z;let Y=new Mp;z.getCenter(Y.center),Y.radius=z.min.distanceTo(z.max)/2,U.boundingSphere=Y}function QJ(U,E,u){let p=E.attributes,z=[];function c(Y,P){return u.getDependency("accessor",Y).then(function(n){U.setAttribute(P,n)})}for(let Y in p){let P=hi[Y]||Y.toLowerCase();if(P in U.attributes)continue;z.push(c(p[Y],P))}if(E.indices!==void 0&&!U.index){let Y=u.getDependency("accessor",E.indices).then(function(P){U.setIndex(P)});z.push(Y)}return jY(U,E),WcU(U,E,u),Promise.all(z).then(function(){return E.targets!==void 0?JcU(U,E.targets,u):U})}var Mi={uniforms:{tDiffuse:{value:null},h:{value:0.001953125}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `};var Wi={uniforms:{tDiffuse:{value:null},v:{value:0.001953125}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class NN extends yx{constructor(U){super(U);this.type=up}parse(U){let c=function(d,m){switch(d){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(m||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(m||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(m||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(m||""))}},H=function(d,m,V){m=!m?1024:m;let h=d.pos,_=-1,f=0,a="",uU=String.fromCharCode.apply(null,new Uint16Array(d.subarray(h,h+128)));while(0>(_=uU.indexOf(`
`))&&f<m&&h<d.byteLength)a+=uU,f+=uU.length,h+=128,uU+=String.fromCharCode.apply(null,new Uint16Array(d.subarray(h,h+128)));if(-1<_){if(V!==!1)d.pos+=f+_+1;return a+uU.slice(0,_)}return!1},k=function(d){let m=/^#\?(\S+)/,V=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,w=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,h=/^\s*FORMAT=(\S+)\s*$/,_=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,f={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0},a,uU;if(d.pos>=d.byteLength||!(a=H(d)))c(1,"no header found");if(!(uU=a.match(m)))c(3,"bad initial token");f.valid|=1,f.programtype=uU[1],f.string+=a+`
`;while(!0){if(a=H(d),a===!1)break;if(f.string+=a+`
`,a.charAt(0)==="#"){f.comments+=a+`
`;continue}if(uU=a.match(V))f.gamma=parseFloat(uU[1]);if(uU=a.match(w))f.exposure=parseFloat(uU[1]);if(uU=a.match(h))f.valid|=2,f.format=uU[1];if(uU=a.match(_))f.valid|=4,f.height=parseInt(uU[1],10),f.width=parseInt(uU[2],10);if(f.valid&2&&f.valid&4)break}if(!(f.valid&2))c(3,"missing format specifier");if(!(f.valid&4))c(3,"missing image size specifier");return f},Q=function(d,m,V){let w=m;if(w<8||w>32767||d[0]!==2||d[1]!==2||d[2]&128)return new Uint8Array(d);if(w!==(d[2]<<8|d[3]))c(3,"wrong scanline width");let h=new Uint8Array(4*m*V);if(!h.length)c(4,"unable to allocate buffer space");let _=0,f=0,a=4*w,uU=new Uint8Array(4),UU=new Uint8Array(a),ZU=V;while(ZU>0&&f<d.byteLength){if(f+4>d.byteLength)c(1);if(uU[0]=d[f++],uU[1]=d[f++],uU[2]=d[f++],uU[3]=d[f++],uU[0]!=2||uU[1]!=2||(uU[2]<<8|uU[3])!=w)c(3,"bad rgbe scanline format");let EU=0,OU;while(EU<a&&f<d.byteLength){OU=d[f++];let yU=OU>128;if(yU)OU-=128;if(OU===0||EU+OU>a)c(3,"bad scanline data");if(yU){let wU=d[f++];for(let QE=0;QE<OU;QE++)UU[EU++]=wU}else UU.set(d.subarray(f,f+OU),EU),EU+=OU,f+=OU}let NU=w;for(let yU=0;yU<NU;yU++){let wU=0;h[_]=UU[yU+wU],wU+=w,h[_+1]=UU[yU+wU],wU+=w,h[_+2]=UU[yU+wU],wU+=w,h[_+3]=UU[yU+wU],_+=4}ZU--}return h},y=function(d,m,V,w){let h=d[m+3],_=Math.pow(2,h-128)/255;V[w+0]=d[m+0]*_,V[w+1]=d[m+1]*_,V[w+2]=d[m+2]*_,V[w+3]=1},r=function(d,m,V,w){let h=d[m+3],_=Math.pow(2,h-128)/255;V[w+0]=Ic.toHalfFloat(Math.min(d[m+0]*_,65504)),V[w+1]=Ic.toHalfFloat(Math.min(d[m+1]*_,65504)),V[w+2]=Ic.toHalfFloat(Math.min(d[m+2]*_,65504)),V[w+3]=Ic.toHalfFloat(1)},T=new Uint8Array(U);T.pos=0;let N=k(T),O=N.width,L=N.height,X=Q(T.subarray(T.pos),O,L),i,B,G;switch(this.type){case Sp:G=X.length/4;let d=new Float32Array(G*4);for(let V=0;V<G;V++)y(X,V*4,d,V*4);i=d,B=Sp;break;case up:G=X.length/4;let m=new Uint16Array(G*4);for(let V=0;V<G;V++)r(X,V*4,m,V*4);i=m,B=up;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:O,height:L,data:i,header:N.string,gamma:N.gamma,exposure:N.exposure,type:B}}setDataType(U){return this.type=U,this}load(U,E,u,p){function z(c,Y){switch(c.type){case Sp:case up:if("colorSpace"in c)c.colorSpace="srgb-linear";else c.encoding=3000;c.minFilter=Wu,c.magFilter=Wu,c.generateMipmaps=!1,c.flipY=!0;break}if(E)E(c,Y)}return super.load(U,z,u,p)}}var mQ=Gq>=152;class rN extends yx{constructor(U){super(U);this.type=up}parse(U){let m=Math.pow(2.7182818,2.2);function V(v,J){var K=0;for(var YU=0;YU<65536;++YU)if(YU==0||v[YU>>3]&1<<(YU&7))J[K++]=YU;var jU=K-1;while(K<65536)J[K++]=0;return jU}function w(v){for(var J=0;J<16384;J++)v[J]={},v[J].len=0,v[J].lit=0,v[J].p=null}let h={l:0,c:0,lc:0};function _(v,J,K,YU,jU){while(K<v)J=J<<8|lU(YU,jU),K+=8;K-=v,h.l=J>>K&(1<<v)-1,h.c=J,h.lc=K}let f=new Array(59);function a(v){for(var J=0;J<=58;++J)f[J]=0;for(var J=0;J<65537;++J)f[v[J]]+=1;var K=0;for(var J=58;J>0;--J){var YU=K+f[J]>>1;f[J]=K,K=YU}for(var J=0;J<65537;++J){var jU=v[J];if(jU>0)v[J]=jU|f[jU]++<<6}}function uU(v,J,K,YU,jU,HU,hU){var GU=K,aU=0,UE=0;for(;jU<=HU;jU++){if(GU.value-K.value>YU)return!1;_(6,aU,UE,v,GU);var cE=h.l;if(aU=h.c,UE=h.lc,hU[jU]=cE,cE==63){if(GU.value-K.value>YU)throw"Something wrong with hufUnpackEncTable";_(8,aU,UE,v,GU);var CU=h.l+6;if(aU=h.c,UE=h.lc,jU+CU>HU+1)throw"Something wrong with hufUnpackEncTable";while(CU--)hU[jU++]=0;jU--}else if(cE>=59){var CU=cE-59+2;if(jU+CU>HU+1)throw"Something wrong with hufUnpackEncTable";while(CU--)hU[jU++]=0;jU--}}a(hU)}function UU(v){return v&63}function ZU(v){return v>>6}function EU(v,J,K,YU){for(;J<=K;J++){var jU=ZU(v[J]),HU=UU(v[J]);if(jU>>HU)throw"Invalid table entry";if(HU>14){var hU=YU[jU>>HU-14];if(hU.len)throw"Invalid table entry";if(hU.lit++,hU.p){var GU=hU.p;hU.p=new Array(hU.lit);for(var aU=0;aU<hU.lit-1;++aU)hU.p[aU]=GU[aU]}else hU.p=new Array(1);hU.p[hU.lit-1]=J}else if(HU){var UE=0;for(var aU=1<<14-HU;aU>0;aU--){var hU=YU[(jU<<14-HU)+UE];if(hU.len||hU.p)throw"Invalid table entry";hU.len=HU,hU.lit=J,UE++}}}return!0}let OU={c:0,lc:0};function NU(v,J,K,YU){v=v<<8|lU(K,YU),J+=8,OU.c=v,OU.lc=J}let yU={c:0,lc:0};function wU(v,J,K,YU,jU,HU,hU,GU,aU,UE){if(v==J){if(YU<8)NU(K,YU,jU,hU),K=OU.c,YU=OU.lc;YU-=8;var cE=K>>YU,cE=new Uint8Array([cE])[0];if(aU.value+cE>UE)return!1;var CU=GU[aU.value-1];while(cE-- >0)GU[aU.value++]=CU}else if(aU.value<UE)GU[aU.value++]=v;else return!1;yU.c=K,yU.lc=YU}function QE(v){return v&65535}function $E(v){var J=QE(v);return J>32767?J-65536:J}let PU={a:0,b:0};function vU(v,J){var K=$E(v),YU=$E(J),jU=YU,HU=K+(jU&1)+(jU>>1),hU=HU,GU=HU-jU;PU.a=hU,PU.b=GU}function TU(v,J){var K=QE(v),YU=QE(J),jU=K-(YU>>1)&65535,HU=YU+jU-32768&65535;PU.a=HU,PU.b=jU}function HE(v,J,K,YU,jU,HU,hU){var GU=hU<16384,aU=K>jU?jU:K,UE=1,cE;while(UE<=aU)UE<<=1;UE>>=1,cE=UE,UE>>=1;while(UE>=1){var CU=0,R=CU+HU*(jU-cE),W=HU*UE,g=HU*cE,C=YU*UE,e=YU*cE,FU,VU,RU,dU;for(;CU<=R;CU+=g){var _U=CU,mE=CU+YU*(K-cE);for(;_U<=mE;_U+=e){var YE=_U+C,dE=_U+W,Zu=dE+C;if(GU)vU(v[_U+J],v[dE+J]),FU=PU.a,RU=PU.b,vU(v[YE+J],v[Zu+J]),VU=PU.a,dU=PU.b,vU(FU,VU),v[_U+J]=PU.a,v[YE+J]=PU.b,vU(RU,dU),v[dE+J]=PU.a,v[Zu+J]=PU.b;else TU(v[_U+J],v[dE+J]),FU=PU.a,RU=PU.b,TU(v[YE+J],v[Zu+J]),VU=PU.a,dU=PU.b,TU(FU,VU),v[_U+J]=PU.a,v[YE+J]=PU.b,TU(RU,dU),v[dE+J]=PU.a,v[Zu+J]=PU.b}if(K&UE){var dE=_U+W;if(GU)vU(v[_U+J],v[dE+J]);else TU(v[_U+J],v[dE+J]);FU=PU.a,v[dE+J]=PU.b,v[_U+J]=FU}}if(jU&UE){var _U=CU,mE=CU+YU*(K-cE);for(;_U<=mE;_U+=e){var YE=_U+C;if(GU)vU(v[_U+J],v[YE+J]);else TU(v[_U+J],v[YE+J]);FU=PU.a,v[YE+J]=PU.b,v[_U+J]=FU}}cE=UE,UE>>=1}return CU}function yE(v,J,K,YU,jU,HU,hU,GU,aU,UE){var cE=0,CU=0,R=GU,W=Math.trunc(jU.value+(HU+7)/8);while(jU.value<W){NU(cE,CU,K,jU),cE=OU.c,CU=OU.lc;while(CU>=14){var g=cE>>CU-14&16383,C=J[g];if(C.len)CU-=C.len,wU(C.lit,hU,cE,CU,K,YU,jU,aU,UE,R),cE=yU.c,CU=yU.lc;else{if(!C.p)throw"hufDecode issues";var e;for(e=0;e<C.lit;e++){var FU=UU(v[C.p[e]]);while(CU<FU&&jU.value<W)NU(cE,CU,K,jU),cE=OU.c,CU=OU.lc;if(CU>=FU){if(ZU(v[C.p[e]])==(cE>>CU-FU&(1<<FU)-1)){CU-=FU,wU(C.p[e],hU,cE,CU,K,YU,jU,aU,UE,R),cE=yU.c,CU=yU.lc;break}}}if(e==C.lit)throw"hufDecode issues"}}}var VU=8-HU&7;cE>>=VU,CU-=VU;while(CU>0){var C=J[cE<<14-CU&16383];if(C.len)CU-=C.len,wU(C.lit,hU,cE,CU,K,YU,jU,aU,UE,R),cE=yU.c,CU=yU.lc;else throw"hufDecode issues"}return!0}function DE(v,J,K,YU,jU,HU){var hU={value:0},GU=K.value,aU=mU(J,K),UE=mU(J,K);K.value+=4;var cE=mU(J,K);if(K.value+=4,aU<0||aU>=65537||UE<0||UE>=65537)throw"Something wrong with HUF_ENCSIZE";var CU=new Array(65537),R=new Array(16384);w(R);var W=YU-(K.value-GU);if(uU(v,J,K,W,aU,UE,CU),cE>8*(YU-(K.value-GU)))throw"Something wrong with hufUncompress";EU(CU,aU,UE,R),yE(CU,R,v,J,K,cE,UE,HU,jU,hU)}function Pu(v,J,K){for(var YU=0;YU<K;++YU)J[YU]=v[J[YU]]}function tE(v){for(var J=1;J<v.length;J++){var K=v[J-1]+v[J]-128;v[J]=K}}function XU(v,J){var K=0,YU=Math.floor((v.length+1)/2),jU=0,HU=v.length-1;while(!0){if(jU>HU)break;if(J[jU++]=v[K++],jU>HU)break;J[jU++]=v[YU++]}}function SU(v){var J=v.byteLength,K=new Array,YU=0,jU=new DataView(v);while(J>0){var HU=jU.getInt8(YU++);if(HU<0){var hU=-HU;J-=hU+1;for(var GU=0;GU<hU;GU++)K.push(jU.getUint8(YU++))}else{var hU=HU;J-=2;var aU=jU.getUint8(YU++);for(var GU=0;GU<hU+1;GU++)K.push(aU)}}return K}function AU(v,J,K,YU,jU,HU){var YE=new DataView(HU.buffer),hU=K[v.idx[0]].width,GU=K[v.idx[0]].height,aU=3,UE=Math.floor(hU/8),cE=Math.ceil(hU/8),CU=Math.ceil(GU/8),R=hU-(cE-1)*8,W=GU-(CU-1)*8,g={value:0},C=new Array(aU),e=new Array(aU),FU=new Array(aU),VU=new Array(aU),RU=new Array(aU);for(let vE=0;vE<aU;++vE)RU[vE]=J[v.idx[vE]],C[vE]=vE<1?0:C[vE-1]+cE*CU,e[vE]=new Float32Array(64),FU[vE]=new Uint16Array(64),VU[vE]=new Uint16Array(cE*64);for(let vE=0;vE<CU;++vE){var dU=8;if(vE==CU-1)dU=W;var _U=8;for(let nE=0;nE<cE;++nE){if(nE==cE-1)_U=R;for(let rE=0;rE<aU;++rE)FU[rE].fill(0),FU[rE][0]=jU[C[rE]++],uE(g,YU,FU[rE]),l(FU[rE],e[rE]),bE(e[rE]);pE(e);for(let rE=0;rE<aU;++rE)wE(e[rE],VU[rE],nE*64)}let zE=0;for(let nE=0;nE<aU;++nE){let rE=K[v.idx[nE]].type;for(let wu=8*vE;wu<8*vE+dU;++wu){zE=RU[nE][wu];for(let Y5=0;Y5<UE;++Y5){let hu=Y5*64+(wu&7)*8;YE.setUint16(zE+0*rE,VU[nE][hu+0],!0),YE.setUint16(zE+2*rE,VU[nE][hu+1],!0),YE.setUint16(zE+4*rE,VU[nE][hu+2],!0),YE.setUint16(zE+6*rE,VU[nE][hu+3],!0),YE.setUint16(zE+8*rE,VU[nE][hu+4],!0),YE.setUint16(zE+10*rE,VU[nE][hu+5],!0),YE.setUint16(zE+12*rE,VU[nE][hu+6],!0),YE.setUint16(zE+14*rE,VU[nE][hu+7],!0),zE+=16*rE}}if(UE!=cE)for(let wu=8*vE;wu<8*vE+dU;++wu){let Y5=RU[nE][wu]+8*UE*2*rE,hu=UE*64+(wu&7)*8;for(let Op=0;Op<_U;++Op)YE.setUint16(Y5+Op*2*rE,VU[nE][hu+Op],!0)}}}var mE=new Uint16Array(hU),YE=new DataView(HU.buffer);for(var dE=0;dE<aU;++dE){K[v.idx[dE]].decoded=!0;var Zu=K[v.idx[dE]].type;if(K[dE].type!=2)continue;for(var du=0;du<GU;++du){let vE=RU[dE][du];for(var xu=0;xu<hU;++xu)mE[xu]=YE.getUint16(vE+xu*2*Zu,!0);for(var xu=0;xu<hU;++xu)YE.setFloat32(vE+xu*2*Zu,M(mE[xu]),!0)}}}function uE(v,J,K){var YU,jU=1;while(jU<64){if(YU=J[v.value],YU==65280)jU=64;else if(YU>>8==255)jU+=YU&255;else K[jU]=YU,jU++;v.value++}}function l(v,J){J[0]=M(v[0]),J[1]=M(v[1]),J[2]=M(v[5]),J[3]=M(v[6]),J[4]=M(v[14]),J[5]=M(v[15]),J[6]=M(v[27]),J[7]=M(v[28]),J[8]=M(v[2]),J[9]=M(v[4]),J[10]=M(v[7]),J[11]=M(v[13]),J[12]=M(v[16]),J[13]=M(v[26]),J[14]=M(v[29]),J[15]=M(v[42]),J[16]=M(v[3]),J[17]=M(v[8]),J[18]=M(v[12]),J[19]=M(v[17]),J[20]=M(v[25]),J[21]=M(v[30]),J[22]=M(v[41]),J[23]=M(v[43]),J[24]=M(v[9]),J[25]=M(v[11]),J[26]=M(v[18]),J[27]=M(v[24]),J[28]=M(v[31]),J[29]=M(v[40]),J[30]=M(v[44]),J[31]=M(v[53]),J[32]=M(v[10]),J[33]=M(v[19]),J[34]=M(v[23]),J[35]=M(v[32]),J[36]=M(v[39]),J[37]=M(v[45]),J[38]=M(v[52]),J[39]=M(v[54]),J[40]=M(v[20]),J[41]=M(v[22]),J[42]=M(v[33]),J[43]=M(v[38]),J[44]=M(v[46]),J[45]=M(v[51]),J[46]=M(v[55]),J[47]=M(v[60]),J[48]=M(v[21]),J[49]=M(v[34]),J[50]=M(v[37]),J[51]=M(v[47]),J[52]=M(v[50]),J[53]=M(v[56]),J[54]=M(v[59]),J[55]=M(v[61]),J[56]=M(v[35]),J[57]=M(v[36]),J[58]=M(v[48]),J[59]=M(v[49]),J[60]=M(v[57]),J[61]=M(v[58]),J[62]=M(v[62]),J[63]=M(v[63])}function bE(v){let J=0.5*Math.cos(0.7853975),K=0.5*Math.cos(0.196349375),YU=0.5*Math.cos(0.39269875),jU=0.5*Math.cos(0.5890481249999999),HU=0.5*Math.cos(0.981746875),hU=0.5*Math.cos(1.1780962499999998),GU=0.5*Math.cos(1.374445625);var aU=new Array(4),UE=new Array(4),cE=new Array(4),CU=new Array(4);for(var R=0;R<8;++R){var W=R*8;aU[0]=YU*v[W+2],aU[1]=hU*v[W+2],aU[2]=YU*v[W+6],aU[3]=hU*v[W+6],UE[0]=K*v[W+1]+jU*v[W+3]+HU*v[W+5]+GU*v[W+7],UE[1]=jU*v[W+1]-GU*v[W+3]-K*v[W+5]-HU*v[W+7],UE[2]=HU*v[W+1]-K*v[W+3]+GU*v[W+5]+jU*v[W+7],UE[3]=GU*v[W+1]-HU*v[W+3]+jU*v[W+5]-K*v[W+7],cE[0]=J*(v[W+0]+v[W+4]),cE[3]=J*(v[W+0]-v[W+4]),cE[1]=aU[0]+aU[3],cE[2]=aU[1]-aU[2],CU[0]=cE[0]+cE[1],CU[1]=cE[3]+cE[2],CU[2]=cE[3]-cE[2],CU[3]=cE[0]-cE[1],v[W+0]=CU[0]+UE[0],v[W+1]=CU[1]+UE[1],v[W+2]=CU[2]+UE[2],v[W+3]=CU[3]+UE[3],v[W+4]=CU[3]-UE[3],v[W+5]=CU[2]-UE[2],v[W+6]=CU[1]-UE[1],v[W+7]=CU[0]-UE[0]}for(var g=0;g<8;++g)aU[0]=YU*v[16+g],aU[1]=hU*v[16+g],aU[2]=YU*v[48+g],aU[3]=hU*v[48+g],UE[0]=K*v[8+g]+jU*v[24+g]+HU*v[40+g]+GU*v[56+g],UE[1]=jU*v[8+g]-GU*v[24+g]-K*v[40+g]-HU*v[56+g],UE[2]=HU*v[8+g]-K*v[24+g]+GU*v[40+g]+jU*v[56+g],UE[3]=GU*v[8+g]-HU*v[24+g]+jU*v[40+g]-K*v[56+g],cE[0]=J*(v[g]+v[32+g]),cE[3]=J*(v[g]-v[32+g]),cE[1]=aU[0]+aU[3],cE[2]=aU[1]-aU[2],CU[0]=cE[0]+cE[1],CU[1]=cE[3]+cE[2],CU[2]=cE[3]-cE[2],CU[3]=cE[0]-cE[1],v[0+g]=CU[0]+UE[0],v[8+g]=CU[1]+UE[1],v[16+g]=CU[2]+UE[2],v[24+g]=CU[3]+UE[3],v[32+g]=CU[3]-UE[3],v[40+g]=CU[2]-UE[2],v[48+g]=CU[1]-UE[1],v[56+g]=CU[0]-UE[0]}function pE(v){for(var J=0;J<64;++J){var K=v[0][J],YU=v[1][J],jU=v[2][J];v[0][J]=K+1.5747*jU,v[1][J]=K-0.1873*YU-0.4682*jU,v[2][J]=K+1.8556*YU}}function wE(v,J,K){for(var YU=0;YU<64;++YU)J[K+YU]=Ic.toHalfFloat(gU(v[YU]))}function gU(v){if(v<=1)return Math.sign(v)*Math.pow(Math.abs(v),2.2);else return Math.sign(v)*Math.pow(m,Math.abs(v)-1)}function JE(v){return new DataView(v.array.buffer,v.offset.value,v.size)}function t(v){var J=v.viewer.buffer.slice(v.offset.value,v.offset.value+v.size),K=new Uint8Array(SU(J)),YU=new Uint8Array(K.length);return tE(K),XU(K,YU),new DataView(YU.buffer)}function S(v){var J=v.array.slice(v.offset.value,v.offset.value+v.size),K=iQ(J),YU=new Uint8Array(K.length);return tE(K),XU(K,YU),new DataView(YU.buffer)}function pU(v){var J=v.viewer,K={value:v.offset.value},YU=new Uint16Array(v.width*v.scanlineBlockSize*(v.channels*v.type)),jU=new Uint8Array(8192),HU=0,hU=new Array(v.channels);for(var GU=0;GU<v.channels;GU++)hU[GU]={},hU[GU].start=HU,hU[GU].end=hU[GU].start,hU[GU].nx=v.width,hU[GU].ny=v.lines,hU[GU].size=v.type,HU+=hU[GU].nx*hU[GU].ny*hU[GU].size;var aU=eU(J,K),UE=eU(J,K);if(UE>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(aU<=UE)for(var GU=0;GU<UE-aU+1;GU++)jU[GU+aU]=IE(J,K);var cE=new Uint16Array(65536),CU=V(jU,cE),R=mU(J,K);DE(v.array,J,K,R,YU,HU);for(var GU=0;GU<v.channels;++GU){var W=hU[GU];for(var g=0;g<hU[GU].size;++g)HE(YU,W.start+g,W.nx,W.size,W.ny,W.nx*W.size,CU)}Pu(cE,YU,HU);var C=0,e=new Uint8Array(YU.buffer.byteLength);for(var FU=0;FU<v.lines;FU++)for(var VU=0;VU<v.channels;VU++){var W=hU[VU],RU=W.nx*W.size,dU=new Uint8Array(YU.buffer,W.end*2,RU*2);e.set(dU,C),C+=RU*2,W.end+=RU}return new DataView(e.buffer)}function IU(v){var J=v.array.slice(v.offset.value,v.offset.value+v.size),K=iQ(J);let YU=v.lines*v.channels*v.width,jU=v.type==1?new Uint16Array(YU):new Uint32Array(YU),HU=0,hU=0,GU=new Array(4);for(let aU=0;aU<v.lines;aU++)for(let UE=0;UE<v.channels;UE++){let cE=0;switch(v.type){case 1:GU[0]=HU,GU[1]=GU[0]+v.width,HU=GU[1]+v.width;for(let CU=0;CU<v.width;++CU){let R=K[GU[0]++]<<8|K[GU[1]++];cE+=R,jU[hU]=cE,hU++}break;case 2:GU[0]=HU,GU[1]=GU[0]+v.width,GU[2]=GU[1]+v.width,HU=GU[2]+v.width;for(let CU=0;CU<v.width;++CU){let R=K[GU[0]++]<<24|K[GU[1]++]<<16|K[GU[2]++]<<8;cE+=R,jU[hU]=cE,hU++}break}}return new DataView(jU.buffer)}function oU(v){var J=v.viewer,K={value:v.offset.value},YU=new Uint8Array(v.width*v.lines*(v.channels*v.type*2)),jU={version:qE(J,K),unknownUncompressedSize:qE(J,K),unknownCompressedSize:qE(J,K),acCompressedSize:qE(J,K),dcCompressedSize:qE(J,K),rleCompressedSize:qE(J,K),rleUncompressedSize:qE(J,K),rleRawSize:qE(J,K),totalAcUncompressedCount:qE(J,K),totalDcUncompressedCount:qE(J,K),acCompression:qE(J,K)};if(jU.version<2)throw"EXRLoader.parse: "+hz.compression+" version "+jU.version+" is unsupported";var HU=new Array,hU=eU(J,K)-2;while(hU>0){var GU=kU(J.buffer,K),aU=IE(J,K),UE=aU>>2&3,cE=(aU>>4)-1,CU=new Int8Array([cE])[0],R=IE(J,K);HU.push({name:GU,index:CU,type:R,compression:UE}),hU-=GU.length+3}var W=hz.channels,g=new Array(v.channels);for(var C=0;C<v.channels;++C){var e=g[C]={},FU=W[C];e.name=FU.name,e.compression=0,e.decoded=!1,e.type=FU.pixelType,e.pLinear=FU.pLinear,e.width=v.width,e.height=v.lines}var VU={idx:new Array(3)};for(var RU=0;RU<v.channels;++RU){var e=g[RU];for(var C=0;C<HU.length;++C){var dU=HU[C];if(e.name==dU.name){if(e.compression=dU.compression,dU.index>=0)VU.idx[dU.index]=RU;e.offset=RU}}}if(jU.acCompressedSize>0)switch(jU.acCompression){case 0:var YE=new Uint16Array(jU.totalAcUncompressedCount);DE(v.array,J,K,jU.acCompressedSize,YE,jU.totalAcUncompressedCount);break;case 1:var _U=v.array.slice(K.value,K.value+jU.totalAcUncompressedCount),mE=iQ(_U),YE=new Uint16Array(mE.buffer);K.value+=jU.totalAcUncompressedCount;break}if(jU.dcCompressedSize>0){var dE={array:v.array,offset:K,size:jU.dcCompressedSize},Zu=new Uint16Array(S(dE).buffer);K.value+=jU.dcCompressedSize}if(jU.rleRawSize>0){var _U=v.array.slice(K.value,K.value+jU.rleCompressedSize),mE=iQ(_U),du=SU(mE.buffer);K.value+=jU.rleCompressedSize}var xu=0,vE=new Array(g.length);for(var C=0;C<vE.length;++C)vE[C]=new Array;for(var zE=0;zE<v.lines;++zE)for(var nE=0;nE<g.length;++nE)vE[nE].push(xu),xu+=g[nE].width*v.type*2;AU(VU,vE,g,YE,Zu,YU);for(var C=0;C<g.length;++C){var e=g[C];if(e.decoded)continue;switch(e.compression){case 2:var rE=0,wu=0;for(var zE=0;zE<v.lines;++zE){var Y5=vE[C][rE];for(var hu=0;hu<e.width;++hu){for(var Op=0;Op<2*e.type;++Op)YU[Y5++]=du[wu+Op*e.width*e.height];wu++}rE++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(YU.buffer)}function kU(v,J){var K=new Uint8Array(v),YU=0;while(K[J.value+YU]!=0)YU+=1;var jU=new TextDecoder().decode(K.slice(J.value,J.value+YU));return J.value=J.value+YU+1,jU}function xE(v,J,K){var YU=new TextDecoder().decode(new Uint8Array(v).slice(J.value,J.value+K));return J.value=J.value+K,YU}function bU(v,J){var K=BE(v,J),YU=mU(v,J);return[K,YU]}function VE(v,J){var K=mU(v,J),YU=mU(v,J);return[K,YU]}function BE(v,J){var K=v.getInt32(J.value,!0);return J.value=J.value+4,K}function mU(v,J){var K=v.getUint32(J.value,!0);return J.value=J.value+4,K}function lU(v,J){var K=v[J.value];return J.value=J.value+1,K}function IE(v,J){var K=v.getUint8(J.value);return J.value=J.value+1,K}let qE=function(v,J){let K;if("getBigInt64"in DataView.prototype)K=Number(v.getBigInt64(J.value,!0));else K=v.getUint32(J.value+4,!0)+Number(v.getUint32(J.value,!0)<<32);return J.value+=8,K};function MU(v,J){var K=v.getFloat32(J.value,!0);return J.value+=4,K}function Uu(v,J){return Ic.toHalfFloat(MU(v,J))}function M(v){var J=(v&31744)>>10,K=v&1023;return(v>>15?-1:1)*(J?J===31?K?NaN:1/0:Math.pow(2,J-15)*(1+K/1024):0.00006103515625*(K/1024))}function eU(v,J){var K=v.getUint16(J.value,!0);return J.value+=2,K}function WU(v,J){return M(eU(v,J))}function kE(v,J,K,YU){var jU=K.value,HU=[];while(K.value<jU+YU-1){var hU=kU(J,K),GU=BE(v,K),aU=IE(v,K);K.value+=3;var UE=BE(v,K),cE=BE(v,K);HU.push({name:hU,pixelType:GU,pLinear:aU,xSampling:UE,ySampling:cE})}return K.value+=1,HU}function DU(v,J){var K=MU(v,J),YU=MU(v,J),jU=MU(v,J),HU=MU(v,J),hU=MU(v,J),GU=MU(v,J),aU=MU(v,J),UE=MU(v,J);return{redX:K,redY:YU,greenX:jU,greenY:HU,blueX:hU,blueY:GU,whiteX:aU,whiteY:UE}}function $U(v,J){var K=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],YU=IE(v,J);return K[YU]}function XE(v,J){var K=mU(v,J),YU=mU(v,J),jU=mU(v,J),HU=mU(v,J);return{xMin:K,yMin:YU,xMax:jU,yMax:HU}}function fE(v,J){var K=["INCREASING_Y"],YU=IE(v,J);return K[YU]}function Lu(v,J){var K=MU(v,J),YU=MU(v,J);return[K,YU]}function mu(v,J){var K=MU(v,J),YU=MU(v,J),jU=MU(v,J);return[K,YU,jU]}function $z(v,J,K,YU,jU){if(YU==="string"||YU==="stringvector"||YU==="iccProfile")return xE(J,K,jU);else if(YU==="chlist")return kE(v,J,K,jU);else if(YU==="chromaticities")return DU(v,K);else if(YU==="compression")return $U(v,K);else if(YU==="box2i")return XE(v,K);else if(YU==="lineOrder")return fE(v,K);else if(YU==="float")return MU(v,K);else if(YU==="v2f")return Lu(v,K);else if(YU==="v3f")return mu(v,K);else if(YU==="int")return BE(v,K);else if(YU==="rational")return bU(v,K);else if(YU==="timecode")return VE(v,K);else if(YU==="preview")return K.value+=jU,"skipped";else{K.value+=jU;return}}function h5(v,J,K){let YU={};if(v.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";YU.version=v.getUint8(4);let jU=v.getUint8(5);YU.spec={singleTile:!!(jU&2),longName:!!(jU&4),deepFormat:!!(jU&8),multiPart:!!(jU&16)},K.value=8;var HU=!0;while(HU){var hU=kU(J,K);if(hU==0)HU=!1;else{var GU=kU(J,K),aU=mU(v,K),UE=$z(v,J,K,GU,aU);if(UE===void 0)console.warn(`EXRLoader.parse: skipped unknown header attribute type '${GU}'.`);else YU[hU]=UE}}if((jU&-5)!=0)throw console.error("EXRHeader:",YU),"THREE.EXRLoader: provided file is currently unsupported.";return YU}function Fc(v,J,K,YU,jU){let HU={size:0,viewer:J,array:K,offset:YU,width:v.dataWindow.xMax-v.dataWindow.xMin+1,height:v.dataWindow.yMax-v.dataWindow.yMin+1,channels:v.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:v.channels[0].pixelType,uncompress:null,getter:null,format:null,[mQ?"colorSpace":"encoding"]:null};switch(v.compression){case"NO_COMPRESSION":HU.lines=1,HU.uncompress=JE;break;case"RLE_COMPRESSION":HU.lines=1,HU.uncompress=t;break;case"ZIPS_COMPRESSION":HU.lines=1,HU.uncompress=S;break;case"ZIP_COMPRESSION":HU.lines=16,HU.uncompress=S;break;case"PIZ_COMPRESSION":HU.lines=32,HU.uncompress=pU;break;case"PXR24_COMPRESSION":HU.lines=16,HU.uncompress=IU;break;case"DWAA_COMPRESSION":HU.lines=32,HU.uncompress=oU;break;case"DWAB_COMPRESSION":HU.lines=256,HU.uncompress=oU;break;default:throw"EXRLoader.parse: "+v.compression+" is unsupported"}if(HU.scanlineBlockSize=HU.lines,HU.type==1)switch(jU){case Sp:HU.getter=WU,HU.inputSize=2;break;case up:HU.getter=eU,HU.inputSize=2;break}else if(HU.type==2)switch(jU){case Sp:HU.getter=MU,HU.inputSize=4;break;case up:HU.getter=Uu,HU.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+HU.type+" for "+v.compression+".";HU.blockCount=(v.dataWindow.yMax+1)/HU.scanlineBlockSize;for(var hU=0;hU<HU.blockCount;hU++)qE(J,YU);HU.outputChannels=HU.channels==3?4:HU.channels;let GU=HU.width*HU.height*HU.outputChannels;switch(jU){case Sp:if(HU.byteArray=new Float32Array(GU),HU.channels<HU.outputChannels)HU.byteArray.fill(1,0,GU);break;case up:if(HU.byteArray=new Uint16Array(GU),HU.channels<HU.outputChannels)HU.byteArray.fill(15360,0,GU);break;default:console.error("THREE.EXRLoader: unsupported type: ",jU);break}if(HU.bytesPerLine=HU.width*HU.inputSize*HU.channels,HU.outputChannels==4)HU.format=Wp;else HU.format=y9;if(mQ)HU.colorSpace="srgb-linear";else HU.encoding=3000;return HU}let tz=new DataView(U),Bx=new Uint8Array(U),Jz={value:0},hz=h5(tz,U,Jz),gE=Fc(hz,tz,Bx,Jz,this.type),yz={value:0},WZ={R:0,G:1,B:2,A:3,Y:0};for(let v=0;v<gE.height/gE.scanlineBlockSize;v++){let J=mU(tz,Jz);gE.size=mU(tz,Jz),gE.lines=J+gE.scanlineBlockSize>gE.height?gE.height-J:gE.scanlineBlockSize;let YU=gE.size<gE.lines*gE.bytesPerLine?gE.uncompress(gE):JE(gE);Jz.value+=gE.size;for(let jU=0;jU<gE.scanlineBlockSize;jU++){let HU=jU+v*gE.scanlineBlockSize;if(HU>=gE.height)break;for(let hU=0;hU<gE.channels;hU++){let GU=WZ[hz.channels[hU].name];for(let aU=0;aU<gE.width;aU++){yz.value=(jU*(gE.channels*gE.width)+hU*gE.width+aU)*gE.inputSize;let UE=(gE.height-1-HU)*(gE.width*gE.outputChannels)+aU*gE.outputChannels+GU;gE.byteArray[UE]=gE.getter(YU,yz)}}}}return{header:hz,width:gE.width,height:gE.height,data:gE.byteArray,format:gE.format,[mQ?"colorSpace":"encoding"]:gE[mQ?"colorSpace":"encoding"],type:this.type}}setDataType(U){return this.type=U,this}load(U,E,u,p){function z(c,Y){if(mQ)c.colorSpace=Y.colorSpace;else c.encoding=Y.encoding;if(c.minFilter=Wu,c.magFilter=Wu,c.generateMipmaps=!1,c.flipY=!1,E)E(c,Y)}return super.load(U,z,u,p)}}var fi=new WeakMap;class LN extends Dp{constructor(U){super(U);this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(U){return this.decoderPath=U,this}setDecoderConfig(U){return this.decoderConfig=U,this}setWorkerLimit(U){return this.workerLimit=U,this}load(U,E,u,p){let z=new vp(this.manager);z.setPath(this.path),z.setResponseType("arraybuffer"),z.setRequestHeader(this.requestHeader),z.setWithCredentials(this.withCredentials),z.load(U,(c)=>{let Y={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(c,Y).then(E).catch(p)},u,p)}decodeDracoFile(U,E,u,p){let z={attributeIDs:u||this.defaultAttributeIDs,attributeTypes:p||this.defaultAttributeTypes,useUniqueIDs:!!u};this.decodeGeometry(U,z).then(E)}decodeGeometry(U,E){for(let P in E.attributeTypes){let n=E.attributeTypes[P];if(n.BYTES_PER_ELEMENT!==void 0)E.attributeTypes[P]=n.name}let u=JSON.stringify(E);if(fi.has(U)){let P=fi.get(U);if(P.key===u)return P.promise;else if(U.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let p,z=this.workerNextTaskID++,c=U.byteLength,Y=this._getWorker(z,c).then((P)=>{return p=P,new Promise((n,j)=>{p._callbacks[z]={resolve:n,reject:j},p.postMessage({type:"decode",id:z,taskConfig:E,buffer:U},[U])})}).then((P)=>this._createGeometry(P.geometry));return Y.catch(()=>!0).then(()=>{if(p&&z)this._releaseTask(p,z)}),fi.set(U,{key:u,promise:Y}),Y}_createGeometry(U){let E=new WE;if(U.index)E.setIndex(new ju(U.index.array,1));for(let u=0;u<U.attributes.length;u++){let p=U.attributes[u],z=p.name,c=p.array,Y=p.itemSize;E.setAttribute(z,new ju(c,Y))}return E}_loadLibrary(U,E){let u=new vp(this.manager);return u.setPath(this.decoderPath),u.setResponseType(E),u.setWithCredentials(this.withCredentials),new Promise((p,z)=>{u.load(U,p,void 0,z)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let U=typeof WebAssembly!=="object"||this.decoderConfig.type==="js",E=[];if(U)E.push(this._loadLibrary("draco_decoder.js","text"));else E.push(this._loadLibrary("draco_wasm_wrapper.js","text")),E.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"));return this.decoderPending=Promise.all(E).then((u)=>{let p=u[0];if(!U)this.decoderConfig.wasmBinary=u[1];let z=fcU.toString(),c=["/* draco decoder */",p,"","/* worker */",z.substring(z.indexOf("{")+1,z.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([c]))}),this.decoderPending}_getWorker(U,E){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let p=new Worker(this.workerSourceURL);p._callbacks={},p._taskCosts={},p._taskLoad=0,p.postMessage({type:"init",decoderConfig:this.decoderConfig}),p.onmessage=function(z){let c=z.data;switch(c.type){case"decode":p._callbacks[c.id].resolve(c);break;case"error":p._callbacks[c.id].reject(c);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+c.type+'"')}},this.workerPool.push(p)}else this.workerPool.sort(function(p,z){return p._taskLoad>z._taskLoad?-1:1});let u=this.workerPool[this.workerPool.length-1];return u._taskCosts[U]=E,u._taskLoad+=E,u})}_releaseTask(U,E){U._taskLoad-=U._taskCosts[E],delete U._callbacks[E],delete U._taskCosts[E]}debug(){console.log("Task load: ",this.workerPool.map((U)=>U._taskLoad))}dispose(){for(let U=0;U<this.workerPool.length;++U)this.workerPool[U].terminate();return this.workerPool.length=0,this}}function fcU(){let U,E;onmessage=function(Y){let P=Y.data;switch(P.type){case"init":U=P.decoderConfig,E=new Promise(function(H){U.onModuleLoaded=function(k){H({draco:k})},DracoDecoderModule(U)});break;case"decode":let{buffer:n,taskConfig:j}=P;E.then((H)=>{let k=H.draco,Q=new k.Decoder,y=new k.DecoderBuffer;y.Init(new Int8Array(n),n.byteLength);try{let r=u(k,Q,y,j),T=r.attributes.map((N)=>N.array.buffer);if(r.index)T.push(r.index.array.buffer);self.postMessage({type:"decode",id:P.id,geometry:r},T)}catch(r){console.error(r),self.postMessage({type:"error",id:P.id,error:r.message})}finally{k.destroy(y),k.destroy(Q)}});break}};function u(Y,P,n,j){let{attributeIDs:H,attributeTypes:k}=j,Q,y,r=P.GetEncodedGeometryType(n);if(r===Y.TRIANGULAR_MESH)Q=new Y.Mesh,y=P.DecodeBufferToMesh(n,Q);else if(r===Y.POINT_CLOUD)Q=new Y.PointCloud,y=P.DecodeBufferToPointCloud(n,Q);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!y.ok()||Q.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());let T={index:null,attributes:[]};for(let N in H){let O=self[k[N]],L,X;if(j.useUniqueIDs)X=H[N],L=P.GetAttributeByUniqueId(Q,X);else{if(X=P.GetAttributeId(Q,Y[H[N]]),X===-1)continue;L=P.GetAttribute(Q,X)}T.attributes.push(z(Y,P,Q,N,O,L))}if(r===Y.TRIANGULAR_MESH)T.index=p(Y,P,Q);return Y.destroy(Q),T}function p(Y,P,n){let H=n.num_faces()*3,k=H*4,Q=Y._malloc(k);P.GetTrianglesUInt32Array(n,k,Q);let y=new Uint32Array(Y.HEAPF32.buffer,Q,H).slice();return Y._free(Q),{array:y,itemSize:1}}function z(Y,P,n,j,H,k){let Q=k.num_components(),r=n.num_points()*Q,T=r*H.BYTES_PER_ELEMENT,N=c(Y,H),O=Y._malloc(T);P.GetAttributeDataArrayForAllPoints(n,k,N,T,O);let L=new H(Y.HEAPF32.buffer,O,r).slice();return Y._free(O),{name:j,array:L,itemSize:Q}}function c(Y,P){switch(P){case Float32Array:return Y.DT_FLOAT32;case Int8Array:return Y.DT_INT8;case Int16Array:return Y.DT_INT16;case Int32Array:return Y.DT_INT32;case Uint8Array:return Y.DT_UINT8;case Uint16Array:return Y.DT_UINT16;case Uint32Array:return Y.DT_UINT32}}}var XN,VQ=()=>{if(XN)return XN;let U="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",E="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",u=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),p=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!=="object")return{supported:!1};let z=U;if(WebAssembly.validate(u))z=E;let c,Y=WebAssembly.instantiate(P(z),{}).then((k)=>{c=k.instance,c.exports.__wasm_call_ctors()});function P(k){let Q=new Uint8Array(k.length);for(let r=0;r<k.length;++r){let T=k.charCodeAt(r);Q[r]=T>96?T-71:T>64?T-65:T>47?T+4:T>46?63:62}let y=0;for(let r=0;r<k.length;++r)Q[y++]=Q[r]<60?p[Q[r]]:(Q[r]-60)*64+Q[++r];return Q.buffer.slice(0,y)}function n(k,Q,y,r,T,N){let O=c.exports.sbrk,L=y+3&-4,X=O(L*r),i=O(T.length),B=new Uint8Array(c.exports.memory.buffer);B.set(T,i);let G=k(X,y,r,i,T.length);if(G===0&&N)N(X,L,r);if(Q.set(B.subarray(X,X+y*r)),O(X-O(0)),G!==0)throw new Error(`Malformed buffer data: ${G}`)}let j={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},H={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return XN={ready:Y,supported:!0,decodeVertexBuffer(k,Q,y,r,T){n(c.exports.meshopt_decodeVertexBuffer,k,Q,y,r,c.exports[j[T]])},decodeIndexBuffer(k,Q,y,r){n(c.exports.meshopt_decodeIndexBuffer,k,Q,y,r)},decodeIndexSequence(k,Q,y,r){n(c.exports.meshopt_decodeIndexSequence,k,Q,y,r)},decodeGltfBuffer(k,Q,y,r,T,N){n(c.exports[H[T]],k,Q,y,r,c.exports[j[N]])}},XN};var hJ=OE(TE(),1);var TN=null,bJ="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function lJ(U=!0,E=!0,u){return(p)=>{if(u)u(p);if(U){if(!TN)TN=new LN;TN.setDecoderPath(typeof U==="string"?U:bJ),p.setDRACOLoader(TN)}if(E)p.setMeshoptDecoder(typeof VQ==="function"?VQ():VQ)}}var u4=(U,E,u,p)=>f0(dq,U,lJ(E,u,p));u4.preload=(U,E,u,p)=>f0.preload(dq,U,lJ(E,u,p));u4.clear=(U)=>f0.clear(dq,U);u4.setDecoderPath=(U)=>{bJ=U};/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */var Vp={LEFT:1,RIGHT:2,MIDDLE:4},nU=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),wq={NONE:0,IN:1,OUT:-1};function Ax(U){return U.isPerspectiveCamera}function tZ(U){return U.isOrthographicCamera}var DZ=Math.PI*2,MJ=Math.PI/2,eJ=0.00001,GQ=Math.PI/180;function Tc(U,E,u){return Math.max(E,Math.min(u,U))}function qp(U,E=eJ){return Math.abs(U)<E}function su(U,E,u=eJ){return qp(U-E,u)}function WJ(U,E){return Math.round(U/E)*E}function BQ(U){if(isFinite(U))return U;if(U<0)return-Number.MAX_VALUE;return Number.MAX_VALUE}function dQ(U){if(Math.abs(U)<Number.MAX_VALUE)return U;return U*(1/0)}function oN(U,E,u,p,z=1/0,c){p=Math.max(0.0001,p);let Y=2/p,P=Y*c,n=1/(1+P+0.48*P*P+0.235*P*P*P),j=U-E,H=E,k=z*p;j=Tc(j,-k,k),E=U-j;let Q=(u.value+Y*j)*c;u.value=(u.value-Y*Q)*n;let y=E+(j+Q)*n;if(H-U>0===y>H)y=H,u.value=(y-H)/c;return y}function fJ(U,E,u,p,z=1/0,c,Y){p=Math.max(0.0001,p);let P=2/p,n=P*c,j=1/(1+n+0.48*n*n+0.235*n*n*n),H=E.x,k=E.y,Q=E.z,y=U.x-H,r=U.y-k,T=U.z-Q,N=H,O=k,L=Q,X=z*p,i=X*X,B=y*y+r*r+T*T;if(B>i){let uU=Math.sqrt(B);y=y/uU*X,r=r/uU*X,T=T/uU*X}H=U.x-y,k=U.y-r,Q=U.z-T;let G=(u.x+P*y)*c,d=(u.y+P*r)*c,m=(u.z+P*T)*c;u.x=(u.x-P*G)*j,u.y=(u.y-P*d)*j,u.z=(u.z-P*m)*j,Y.x=H+(y+G)*j,Y.y=k+(r+d)*j,Y.z=Q+(T+m)*j;let V=N-U.x,w=O-U.y,h=L-U.z,_=Y.x-N,f=Y.y-O,a=Y.z-L;if(V*_+w*f+h*a>0)Y.x=N,Y.y=O,Y.z=L,u.x=(Y.x-N)/c,u.y=(Y.y-O)/c,u.z=(Y.z-L)/c;return Y}function si(U,E){E.set(0,0),U.forEach((u)=>{E.x+=u.clientX,E.y+=u.clientY}),E.x/=U.length,E.y/=U.length}function Ki(U,E){if(tZ(U))return console.warn(`${E} is not supported in OrthographicCamera`),!0;return!1}class CJ{_listeners={};addEventListener(U,E){let u=this._listeners;if(u[U]===void 0)u[U]=[];if(u[U].indexOf(E)===-1)u[U].push(E)}hasEventListener(U,E){let u=this._listeners;return u[U]!==void 0&&u[U].indexOf(E)!==-1}removeEventListener(U,E){let p=this._listeners[U];if(p!==void 0){let z=p.indexOf(E);if(z!==-1)p.splice(z,1)}}removeAllEventListeners(U){if(!U){this._listeners={};return}if(Array.isArray(this._listeners[U]))this._listeners[U].length=0}dispatchEvent(U){let u=this._listeners[U.type];if(u!==void 0){U.target=this;let p=u.slice(0);for(let z=0,c=p.length;z<c;z++)p[z].call(this,U)}}}var scU="3.1.2",iN=0.125,KcU=/Mac/.test(globalThis?.navigator?.platform),eE,sJ,FN,ai,Sz,Yu,Ju,vq,wQ,p4,z4,mx,KJ,aJ,H0,Sq,Rq,_J,_i,gJ,gi,ei,AN;class mN extends CJ{static install(U){eE=U.THREE,sJ=Object.freeze(new eE.Vector3(0,0,0)),FN=Object.freeze(new eE.Vector3(0,1,0)),ai=Object.freeze(new eE.Vector3(0,0,1)),Sz=new eE.Vector2,Yu=new eE.Vector3,Ju=new eE.Vector3,vq=new eE.Vector3,wQ=new eE.Vector3,p4=new eE.Vector3,z4=new eE.Vector3,mx=new eE.Vector3,KJ=new eE.Vector3,aJ=new eE.Vector3,H0=new eE.Spherical,Sq=new eE.Spherical,Rq=new eE.Box3,_J=new eE.Box3,_i=new eE.Sphere,gJ=new eE.Quaternion,gi=new eE.Quaternion,ei=new eE.Matrix4,AN=new eE.Raycaster}static get ACTION(){return nU}minPolarAngle=0;maxPolarAngle=Math.PI;minAzimuthAngle=-1/0;maxAzimuthAngle=1/0;minDistance=Number.EPSILON;maxDistance=1/0;infinityDolly=!1;minZoom=0.01;maxZoom=1/0;smoothTime=0.25;draggingSmoothTime=0.125;maxSpeed=1/0;azimuthRotateSpeed=1;polarRotateSpeed=1;dollySpeed=1;dollyDragInverted=!1;truckSpeed=2;dollyToCursor=!1;dragToOffset=!1;boundaryFriction=0;restThreshold=0.01;colliderMeshes=[];mouseButtons;touches;cancel=()=>{};lockPointer;unlockPointer;_enabled=!0;_camera;_yAxisUpSpace;_yAxisUpSpaceInverse;_state=nU.NONE;_domElement;_viewport=null;_target;_targetEnd;_focalOffset;_focalOffsetEnd;_spherical;_sphericalEnd;_lastDistance;_zoom;_zoomEnd;_lastZoom;_cameraUp0;_target0;_position0;_zoom0;_focalOffset0;_dollyControlCoord;_changedDolly=0;_changedZoom=0;_nearPlaneCorners;_hasRested=!0;_boundary;_boundaryEnclosesCamera=!1;_needsUpdate=!0;_updatedLastTime=!1;_elementRect=new DOMRect;_isDragging=!1;_dragNeedsUpdate=!0;_activePointers=[];_lockedPointer=null;_interactiveArea=new DOMRect(0,0,1,1);_isUserControllingRotate=!1;_isUserControllingDolly=!1;_isUserControllingTruck=!1;_isUserControllingOffset=!1;_isUserControllingZoom=!1;_lastDollyDirection=wq.NONE;_thetaVelocity={value:0};_phiVelocity={value:0};_radiusVelocity={value:0};_targetVelocity=new eE.Vector3;_focalOffsetVelocity=new eE.Vector3;_zoomVelocity={value:0};set verticalDragToForward(U){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}constructor(U,E){super();if(typeof eE==="undefined")console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information.");this._camera=U,this._yAxisUpSpace=new eE.Quaternion().setFromUnitVectors(this._camera.up,FN),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=nU.NONE,this._target=new eE.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new eE.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new eE.Spherical().setFromVector3(Yu.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new eE.Vector3,new eE.Vector3,new eE.Vector3,new eE.Vector3],this._updateNearPlaneCorners(),this._boundary=new eE.Box3(new eE.Vector3(-1/0,-1/0,-1/0),new eE.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new eE.Vector2,this.mouseButtons={left:nU.ROTATE,middle:nU.DOLLY,right:nU.TRUCK,wheel:Ax(this._camera)?nU.DOLLY:tZ(this._camera)?nU.ZOOM:nU.NONE},this.touches={one:nU.TOUCH_ROTATE,two:Ax(this._camera)?nU.TOUCH_DOLLY_TRUCK:tZ(this._camera)?nU.TOUCH_ZOOM_TRUCK:nU.NONE,three:nU.TOUCH_TRUCK};let u=new eE.Vector2,p=new eE.Vector2,z=new eE.Vector2,c=(N)=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){let X=this._domElement.getBoundingClientRect(),i=N.clientX/X.width,B=N.clientY/X.height;if(i<this._interactiveArea.left||i>this._interactiveArea.right||B<this._interactiveArea.top||B>this._interactiveArea.bottom)return}let O=N.pointerType!=="mouse"?null:(N.buttons&Vp.LEFT)===Vp.LEFT?Vp.LEFT:(N.buttons&Vp.MIDDLE)===Vp.MIDDLE?Vp.MIDDLE:(N.buttons&Vp.RIGHT)===Vp.RIGHT?Vp.RIGHT:null;if(O!==null){let X=this._findPointerByMouseButton(O);X&&this._disposePointer(X)}if((N.buttons&Vp.LEFT)===Vp.LEFT&&this._lockedPointer)return;let L={pointerId:N.pointerId,clientX:N.clientX,clientY:N.clientY,deltaX:0,deltaY:0,mouseButton:O};this._activePointers.push(L),this._domElement.ownerDocument.removeEventListener("pointermove",Y,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",P),this._domElement.ownerDocument.addEventListener("pointermove",Y,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",P),this._isDragging=!0,k(N)},Y=(N)=>{if(N.cancelable)N.preventDefault();let O=N.pointerId,L=this._lockedPointer||this._findPointerById(O);if(!L)return;if(L.clientX=N.clientX,L.clientY=N.clientY,L.deltaX=N.movementX,L.deltaY=N.movementY,this._state=0,N.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else{if(!this._isDragging&&this._lockedPointer||this._isDragging&&(N.buttons&Vp.LEFT)===Vp.LEFT)this._state=this._state|this.mouseButtons.left;if(this._isDragging&&(N.buttons&Vp.MIDDLE)===Vp.MIDDLE)this._state=this._state|this.mouseButtons.middle;if(this._isDragging&&(N.buttons&Vp.RIGHT)===Vp.RIGHT)this._state=this._state|this.mouseButtons.right}Q()},P=(N)=>{let O=this._findPointerById(N.pointerId);if(O&&O===this._lockedPointer)return;if(O&&this._disposePointer(O),N.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=nU.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=nU.NONE;y()},n=-1,j=(N)=>{if(!this._domElement)return;if(!this._enabled||this.mouseButtons.wheel===nU.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){let G=this._domElement.getBoundingClientRect(),d=N.clientX/G.width,m=N.clientY/G.height;if(d<this._interactiveArea.left||d>this._interactiveArea.right||m<this._interactiveArea.top||m>this._interactiveArea.bottom)return}if(N.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===nU.ROTATE||this.mouseButtons.wheel===nU.TRUCK){let G=performance.now();if(n-G<1000)this._getClientRect(this._elementRect);n=G}let O=KcU?-1:-3,L=N.deltaMode===1&&!N.ctrlKey?N.deltaY/O:N.deltaY/(O*10),X=this.dollyToCursor?(N.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,i=this.dollyToCursor?(N.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(N.ctrlKey?nU.ZOOM:this.mouseButtons.wheel){case nU.ROTATE:{this._rotateInternal(N.deltaX,N.deltaY),this._isUserControllingRotate=!0;break}case nU.TRUCK:{this._truckInternal(N.deltaX,N.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case nU.SCREEN_PAN:{this._truckInternal(N.deltaX,N.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case nU.OFFSET:{this._truckInternal(N.deltaX,N.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case nU.DOLLY:{this._dollyInternal(-L,X,i),this._isUserControllingDolly=!0;break}case nU.ZOOM:{this._zoomInternal(-L,X,i),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},H=(N)=>{if(!this._domElement||!this._enabled)return;if(this.mouseButtons.right===mN.ACTION.NONE){let O=N instanceof PointerEvent?N.pointerId:0,L=this._findPointerById(O);L&&this._disposePointer(L),this._domElement.ownerDocument.removeEventListener("pointermove",Y,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",P);return}N.preventDefault()},k=(N)=>{if(!this._enabled)return;if(si(this._activePointers,Sz),this._getClientRect(this._elementRect),u.copy(Sz),p.copy(Sz),this._activePointers.length>=2){let L=Sz.x-this._activePointers[1].clientX,X=Sz.y-this._activePointers[1].clientY,i=Math.sqrt(L*L+X*X);z.set(0,i);let B=(this._activePointers[0].clientX+this._activePointers[1].clientX)*0.5,G=(this._activePointers[0].clientY+this._activePointers[1].clientY)*0.5;p.set(B,G)}if(this._state=0,!N){if(this._lockedPointer)this._state=this._state|this.mouseButtons.left}else if("pointerType"in N&&N.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else{if(!this._lockedPointer&&(N.buttons&Vp.LEFT)===Vp.LEFT)this._state=this._state|this.mouseButtons.left;if((N.buttons&Vp.MIDDLE)===Vp.MIDDLE)this._state=this._state|this.mouseButtons.middle;if((N.buttons&Vp.RIGHT)===Vp.RIGHT)this._state=this._state|this.mouseButtons.right}if((this._state&nU.ROTATE)===nU.ROTATE||(this._state&nU.TOUCH_ROTATE)===nU.TOUCH_ROTATE||(this._state&nU.TOUCH_DOLLY_ROTATE)===nU.TOUCH_DOLLY_ROTATE||(this._state&nU.TOUCH_ZOOM_ROTATE)===nU.TOUCH_ZOOM_ROTATE)this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0;if((this._state&nU.TRUCK)===nU.TRUCK||(this._state&nU.SCREEN_PAN)===nU.SCREEN_PAN||(this._state&nU.TOUCH_TRUCK)===nU.TOUCH_TRUCK||(this._state&nU.TOUCH_SCREEN_PAN)===nU.TOUCH_SCREEN_PAN||(this._state&nU.TOUCH_DOLLY_TRUCK)===nU.TOUCH_DOLLY_TRUCK||(this._state&nU.TOUCH_DOLLY_SCREEN_PAN)===nU.TOUCH_DOLLY_SCREEN_PAN||(this._state&nU.TOUCH_ZOOM_TRUCK)===nU.TOUCH_ZOOM_TRUCK||(this._state&nU.TOUCH_ZOOM_SCREEN_PAN)===nU.TOUCH_DOLLY_SCREEN_PAN)this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0);if((this._state&nU.DOLLY)===nU.DOLLY||(this._state&nU.TOUCH_DOLLY)===nU.TOUCH_DOLLY||(this._state&nU.TOUCH_DOLLY_TRUCK)===nU.TOUCH_DOLLY_TRUCK||(this._state&nU.TOUCH_DOLLY_SCREEN_PAN)===nU.TOUCH_DOLLY_SCREEN_PAN||(this._state&nU.TOUCH_DOLLY_OFFSET)===nU.TOUCH_DOLLY_OFFSET||(this._state&nU.TOUCH_DOLLY_ROTATE)===nU.TOUCH_DOLLY_ROTATE)this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0;if((this._state&nU.ZOOM)===nU.ZOOM||(this._state&nU.TOUCH_ZOOM)===nU.TOUCH_ZOOM||(this._state&nU.TOUCH_ZOOM_TRUCK)===nU.TOUCH_ZOOM_TRUCK||(this._state&nU.TOUCH_ZOOM_SCREEN_PAN)===nU.TOUCH_ZOOM_SCREEN_PAN||(this._state&nU.TOUCH_ZOOM_OFFSET)===nU.TOUCH_ZOOM_OFFSET||(this._state&nU.TOUCH_ZOOM_ROTATE)===nU.TOUCH_ZOOM_ROTATE)this._zoomEnd=this._zoom,this._zoomVelocity.value=0;if((this._state&nU.OFFSET)===nU.OFFSET||(this._state&nU.TOUCH_OFFSET)===nU.TOUCH_OFFSET||(this._state&nU.TOUCH_DOLLY_OFFSET)===nU.TOUCH_DOLLY_OFFSET||(this._state&nU.TOUCH_ZOOM_OFFSET)===nU.TOUCH_ZOOM_OFFSET)this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0);this.dispatchEvent({type:"controlstart"})},Q=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,si(this._activePointers,Sz);let O=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,L=O?-O.deltaX:p.x-Sz.x,X=O?-O.deltaY:p.y-Sz.y;if(p.copy(Sz),(this._state&nU.ROTATE)===nU.ROTATE||(this._state&nU.TOUCH_ROTATE)===nU.TOUCH_ROTATE||(this._state&nU.TOUCH_DOLLY_ROTATE)===nU.TOUCH_DOLLY_ROTATE||(this._state&nU.TOUCH_ZOOM_ROTATE)===nU.TOUCH_ZOOM_ROTATE)this._rotateInternal(L,X),this._isUserControllingRotate=!0;if((this._state&nU.DOLLY)===nU.DOLLY||(this._state&nU.ZOOM)===nU.ZOOM){let i=this.dollyToCursor?(u.x-this._elementRect.x)/this._elementRect.width*2-1:0,B=this.dollyToCursor?(u.y-this._elementRect.y)/this._elementRect.height*-2+1:0,G=this.dollyDragInverted?-1:1;if((this._state&nU.DOLLY)===nU.DOLLY)this._dollyInternal(G*X*iN,i,B),this._isUserControllingDolly=!0;else this._zoomInternal(G*X*iN,i,B),this._isUserControllingZoom=!0}if((this._state&nU.TOUCH_DOLLY)===nU.TOUCH_DOLLY||(this._state&nU.TOUCH_ZOOM)===nU.TOUCH_ZOOM||(this._state&nU.TOUCH_DOLLY_TRUCK)===nU.TOUCH_DOLLY_TRUCK||(this._state&nU.TOUCH_ZOOM_TRUCK)===nU.TOUCH_ZOOM_TRUCK||(this._state&nU.TOUCH_DOLLY_SCREEN_PAN)===nU.TOUCH_DOLLY_SCREEN_PAN||(this._state&nU.TOUCH_ZOOM_SCREEN_PAN)===nU.TOUCH_ZOOM_SCREEN_PAN||(this._state&nU.TOUCH_DOLLY_OFFSET)===nU.TOUCH_DOLLY_OFFSET||(this._state&nU.TOUCH_ZOOM_OFFSET)===nU.TOUCH_ZOOM_OFFSET||(this._state&nU.TOUCH_DOLLY_ROTATE)===nU.TOUCH_DOLLY_ROTATE||(this._state&nU.TOUCH_ZOOM_ROTATE)===nU.TOUCH_ZOOM_ROTATE){let i=Sz.x-this._activePointers[1].clientX,B=Sz.y-this._activePointers[1].clientY,G=Math.sqrt(i*i+B*B),d=z.y-G;z.set(0,G);let m=this.dollyToCursor?(p.x-this._elementRect.x)/this._elementRect.width*2-1:0,V=this.dollyToCursor?(p.y-this._elementRect.y)/this._elementRect.height*-2+1:0;if((this._state&nU.TOUCH_DOLLY)===nU.TOUCH_DOLLY||(this._state&nU.TOUCH_DOLLY_ROTATE)===nU.TOUCH_DOLLY_ROTATE||(this._state&nU.TOUCH_DOLLY_TRUCK)===nU.TOUCH_DOLLY_TRUCK||(this._state&nU.TOUCH_DOLLY_SCREEN_PAN)===nU.TOUCH_DOLLY_SCREEN_PAN||(this._state&nU.TOUCH_DOLLY_OFFSET)===nU.TOUCH_DOLLY_OFFSET)this._dollyInternal(d*iN,m,V),this._isUserControllingDolly=!0;else this._zoomInternal(d*iN,m,V),this._isUserControllingZoom=!0}if((this._state&nU.TRUCK)===nU.TRUCK||(this._state&nU.TOUCH_TRUCK)===nU.TOUCH_TRUCK||(this._state&nU.TOUCH_DOLLY_TRUCK)===nU.TOUCH_DOLLY_TRUCK||(this._state&nU.TOUCH_ZOOM_TRUCK)===nU.TOUCH_ZOOM_TRUCK)this._truckInternal(L,X,!1,!1),this._isUserControllingTruck=!0;if((this._state&nU.SCREEN_PAN)===nU.SCREEN_PAN||(this._state&nU.TOUCH_SCREEN_PAN)===nU.TOUCH_SCREEN_PAN||(this._state&nU.TOUCH_DOLLY_SCREEN_PAN)===nU.TOUCH_DOLLY_SCREEN_PAN||(this._state&nU.TOUCH_ZOOM_SCREEN_PAN)===nU.TOUCH_ZOOM_SCREEN_PAN)this._truckInternal(L,X,!1,!0),this._isUserControllingTruck=!0;if((this._state&nU.OFFSET)===nU.OFFSET||(this._state&nU.TOUCH_OFFSET)===nU.TOUCH_OFFSET||(this._state&nU.TOUCH_DOLLY_OFFSET)===nU.TOUCH_DOLLY_OFFSET||(this._state&nU.TOUCH_ZOOM_OFFSET)===nU.TOUCH_ZOOM_OFFSET)this._truckInternal(L,X,!0,!1),this._isUserControllingOffset=!0;this.dispatchEvent({type:"control"})},y=()=>{if(si(this._activePointers,Sz),p.copy(Sz),this._dragNeedsUpdate=!1,this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)this._isDragging=!1;if(this._activePointers.length===0&&this._domElement)this._domElement.ownerDocument.removeEventListener("pointermove",Y,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",P),this.dispatchEvent({type:"controlend"})};this.lockPointer=()=>{if(!this._enabled||!this._domElement)return;this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",Y,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",P),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",r),this._domElement.ownerDocument.addEventListener("pointerlockerror",T),this._domElement.ownerDocument.addEventListener("pointermove",Y,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",P),k()},this.unlockPointer=()=>{if(this._lockedPointer!==null)this._disposePointer(this._lockedPointer),this._lockedPointer=null;this._domElement?.ownerDocument.exitPointerLock(),this._domElement?.ownerDocument.removeEventListener("pointerlockchange",r),this._domElement?.ownerDocument.removeEventListener("pointerlockerror",T),this.cancel()};let r=()=>{if(!(this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement))this.unlockPointer()},T=()=>{this.unlockPointer()};if(this._addAllEventListeners=(N)=>{this._domElement=N,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",c),this._domElement.addEventListener("pointercancel",P),this._domElement.addEventListener("wheel",j,{passive:!1}),this._domElement.addEventListener("contextmenu",H)},this._removeAllEventListeners=()=>{if(!this._domElement)return;this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",c),this._domElement.removeEventListener("pointercancel",P),this._domElement.removeEventListener("wheel",j,{passive:!1}),this._domElement.removeEventListener("contextmenu",H),this._domElement.ownerDocument.removeEventListener("pointermove",Y,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",P),this._domElement.ownerDocument.removeEventListener("pointerlockchange",r),this._domElement.ownerDocument.removeEventListener("pointerlockerror",T)},this.cancel=()=>{if(this._state===nU.NONE)return;this._state=nU.NONE,this._activePointers.length=0,y()},E)this.connect(E);this.update(0)}get camera(){return this._camera}set camera(U){this._camera=U,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(U){if(this._enabled=U,!this._domElement)return;if(U)this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none";else this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(U){if(this._spherical.radius===U&&this._sphericalEnd.radius===U)return;this._spherical.radius=U,this._sphericalEnd.radius=U,this._needsUpdate=!0}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(U){if(this._spherical.theta===U&&this._sphericalEnd.theta===U)return;this._spherical.theta=U,this._sphericalEnd.theta=U,this._needsUpdate=!0}get polarAngle(){return this._spherical.phi}set polarAngle(U){if(this._spherical.phi===U&&this._sphericalEnd.phi===U)return;this._spherical.phi=U,this._sphericalEnd.phi=U,this._needsUpdate=!0}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(U){this._boundaryEnclosesCamera=U,this._needsUpdate=!0}set interactiveArea(U){this._interactiveArea.width=Tc(U.width,0,1),this._interactiveArea.height=Tc(U.height,0,1),this._interactiveArea.x=Tc(U.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Tc(U.y,0,1-this._interactiveArea.height)}addEventListener(U,E){super.addEventListener(U,E)}removeEventListener(U,E){super.removeEventListener(U,E)}rotate(U,E,u=!1){return this.rotateTo(this._sphericalEnd.theta+U,this._sphericalEnd.phi+E,u)}rotateAzimuthTo(U,E=!1){return this.rotateTo(U,this._sphericalEnd.phi,E)}rotatePolarTo(U,E=!1){return this.rotateTo(this._sphericalEnd.theta,U,E)}rotateTo(U,E,u=!1){this._isUserControllingRotate=!1;let p=Tc(U,this.minAzimuthAngle,this.maxAzimuthAngle),z=Tc(E,this.minPolarAngle,this.maxPolarAngle);if(this._sphericalEnd.theta=p,this._sphericalEnd.phi=z,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,!u)this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi;let c=!u||su(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&su(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(c)}dolly(U,E=!1){return this.dollyTo(this._sphericalEnd.radius-U,E)}dollyTo(U,E=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=wq.NONE,this._changedDolly=0,this._dollyToNoClamp(Tc(U,this.minDistance,this.maxDistance),E)}_dollyToNoClamp(U,E=!1){let u=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){let c=this._collisionTest(),Y=su(c,this._spherical.radius);if(!(u>U)&&Y)return Promise.resolve();this._sphericalEnd.radius=Math.min(U,c)}else this._sphericalEnd.radius=U;if(this._needsUpdate=!0,!E)this._spherical.radius=this._sphericalEnd.radius;let z=!E||su(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(z)}dollyInFixed(U,E=!1){if(this._targetEnd.add(this._getCameraDirection(wQ).multiplyScalar(U)),!E)this._target.copy(this._targetEnd);let u=!E||su(this._target.x,this._targetEnd.x,this.restThreshold)&&su(this._target.y,this._targetEnd.y,this.restThreshold)&&su(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(u)}zoom(U,E=!1){return this.zoomTo(this._zoomEnd+U,E)}zoomTo(U,E=!1){if(this._isUserControllingZoom=!1,this._zoomEnd=Tc(U,this.minZoom,this.maxZoom),this._needsUpdate=!0,!E)this._zoom=this._zoomEnd;let u=!E||su(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(u)}pan(U,E,u=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(U,E,u)}truck(U,E,u=!1){this._camera.updateMatrix(),p4.setFromMatrixColumn(this._camera.matrix,0),z4.setFromMatrixColumn(this._camera.matrix,1),p4.multiplyScalar(U),z4.multiplyScalar(-E);let p=Yu.copy(p4).add(z4),z=Ju.copy(this._targetEnd).add(p);return this.moveTo(z.x,z.y,z.z,u)}forward(U,E=!1){Yu.setFromMatrixColumn(this._camera.matrix,0),Yu.crossVectors(this._camera.up,Yu),Yu.multiplyScalar(U);let u=Ju.copy(this._targetEnd).add(Yu);return this.moveTo(u.x,u.y,u.z,E)}elevate(U,E=!1){return Yu.copy(this._camera.up).multiplyScalar(U),this.moveTo(this._targetEnd.x+Yu.x,this._targetEnd.y+Yu.y,this._targetEnd.z+Yu.z,E)}moveTo(U,E,u,p=!1){this._isUserControllingTruck=!1;let z=Yu.set(U,E,u).sub(this._targetEnd);if(this._encloseToBoundary(this._targetEnd,z,this.boundaryFriction),this._needsUpdate=!0,!p)this._target.copy(this._targetEnd);let c=!p||su(this._target.x,this._targetEnd.x,this.restThreshold)&&su(this._target.y,this._targetEnd.y,this.restThreshold)&&su(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(c)}lookInDirectionOf(U,E,u,p=!1){let Y=Yu.set(U,E,u).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(Y.x,Y.y,Y.z,p)}fitToBox(U,E,{cover:u=!1,paddingLeft:p=0,paddingRight:z=0,paddingBottom:c=0,paddingTop:Y=0}={}){let P=[],n=U.isBox3?Rq.copy(U):Rq.setFromObject(U);if(n.isEmpty())console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve();let j=WJ(this._sphericalEnd.theta,MJ),H=WJ(this._sphericalEnd.phi,MJ);P.push(this.rotateTo(j,H,E));let k=Yu.setFromSpherical(this._sphericalEnd).normalize(),Q=gJ.setFromUnitVectors(k,ai),y=su(Math.abs(k.y),1);if(y)Q.multiply(gi.setFromAxisAngle(FN,j));Q.multiply(this._yAxisUpSpaceInverse);let r=_J.makeEmpty();if(Ju.copy(n.min).applyQuaternion(Q),r.expandByPoint(Ju),Ju.copy(n.min).setX(n.max.x).applyQuaternion(Q),r.expandByPoint(Ju),Ju.copy(n.min).setY(n.max.y).applyQuaternion(Q),r.expandByPoint(Ju),Ju.copy(n.max).setZ(n.min.z).applyQuaternion(Q),r.expandByPoint(Ju),Ju.copy(n.min).setZ(n.max.z).applyQuaternion(Q),r.expandByPoint(Ju),Ju.copy(n.max).setY(n.min.y).applyQuaternion(Q),r.expandByPoint(Ju),Ju.copy(n.max).setX(n.min.x).applyQuaternion(Q),r.expandByPoint(Ju),Ju.copy(n.max).applyQuaternion(Q),r.expandByPoint(Ju),r.min.x-=p,r.min.y-=c,r.max.x+=z,r.max.y+=Y,Q.setFromUnitVectors(ai,k),y)Q.premultiply(gi.invert());Q.premultiply(this._yAxisUpSpace);let T=r.getSize(Yu),N=r.getCenter(Ju).applyQuaternion(Q);if(Ax(this._camera)){let O=this.getDistanceToFitBox(T.x,T.y,T.z,u);P.push(this.moveTo(N.x,N.y,N.z,E)),P.push(this.dollyTo(O,E)),P.push(this.setFocalOffset(0,0,0,E))}else if(tZ(this._camera)){let O=this._camera,L=O.right-O.left,X=O.top-O.bottom,i=u?Math.max(L/T.x,X/T.y):Math.min(L/T.x,X/T.y);P.push(this.moveTo(N.x,N.y,N.z,E)),P.push(this.zoomTo(i,E)),P.push(this.setFocalOffset(0,0,0,E))}return Promise.all(P)}fitToSphere(U,E){let u=[],z="isObject3D"in U?mN.createBoundingSphere(U,_i):_i.copy(U);if(u.push(this.moveTo(z.center.x,z.center.y,z.center.z,E)),Ax(this._camera)){let c=this.getDistanceToFitSphere(z.radius);u.push(this.dollyTo(c,E))}else if(tZ(this._camera)){let c=this._camera.right-this._camera.left,Y=this._camera.top-this._camera.bottom,P=2*z.radius,n=Math.min(c/P,Y/P);u.push(this.zoomTo(n,E))}return u.push(this.setFocalOffset(0,0,0,E)),Promise.all(u)}setLookAt(U,E,u,p,z,c,Y=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=wq.NONE,this._changedDolly=0;let P=Ju.set(p,z,c),n=Yu.set(U,E,u);if(this._targetEnd.copy(P),this._sphericalEnd.setFromVector3(n.sub(P).applyQuaternion(this._yAxisUpSpace)),this._needsUpdate=!0,!Y)this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd);let j=!Y||su(this._target.x,this._targetEnd.x,this.restThreshold)&&su(this._target.y,this._targetEnd.y,this.restThreshold)&&su(this._target.z,this._targetEnd.z,this.restThreshold)&&su(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&su(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&su(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(j)}lerp(U,E,u,p=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=wq.NONE,this._changedDolly=0;let z=Yu.set(...U.target);if("spherical"in U)H0.set(...U.spherical);else{let H=Ju.set(...U.position);H0.setFromVector3(H.sub(z).applyQuaternion(this._yAxisUpSpace))}let c=vq.set(...E.target);if("spherical"in E)Sq.set(...E.spherical);else{let H=Ju.set(...E.position);Sq.setFromVector3(H.sub(c).applyQuaternion(this._yAxisUpSpace))}this._targetEnd.copy(z.lerp(c,u));let Y=Sq.theta-H0.theta,P=Sq.phi-H0.phi,n=Sq.radius-H0.radius;if(this._sphericalEnd.set(H0.radius+n*u,H0.phi+P*u,H0.theta+Y*u),this._needsUpdate=!0,!p)this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd);let j=!p||su(this._target.x,this._targetEnd.x,this.restThreshold)&&su(this._target.y,this._targetEnd.y,this.restThreshold)&&su(this._target.z,this._targetEnd.z,this.restThreshold)&&su(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&su(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&su(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(j)}lerpLookAt(U,E,u,p,z,c,Y,P,n,j,H,k,Q,y=!1){return this.lerp({position:[U,E,u],target:[p,z,c]},{position:[Y,P,n],target:[j,H,k]},Q,y)}setPosition(U,E,u,p=!1){return this.setLookAt(U,E,u,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,p)}setTarget(U,E,u,p=!1){let z=this.getPosition(Yu),c=this.setLookAt(z.x,z.y,z.z,U,E,u,p);return this._sphericalEnd.phi=Tc(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),c}setFocalOffset(U,E,u,p=!1){if(this._isUserControllingOffset=!1,this._focalOffsetEnd.set(U,E,u),this._needsUpdate=!0,!p)this._focalOffset.copy(this._focalOffsetEnd);let z=!p||su(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&su(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&su(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(z)}setOrbitPoint(U,E,u){this._camera.updateMatrixWorld(),p4.setFromMatrixColumn(this._camera.matrixWorldInverse,0),z4.setFromMatrixColumn(this._camera.matrixWorldInverse,1),mx.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let p=Yu.set(U,E,u),z=p.distanceTo(this._camera.position),c=p.sub(this._camera.position);p4.multiplyScalar(c.x),z4.multiplyScalar(c.y),mx.multiplyScalar(c.z),Yu.copy(p4).add(z4).add(mx),Yu.z=Yu.z+z,this.dollyTo(z,!1),this.setFocalOffset(-Yu.x,Yu.y,-Yu.z,!1),this.moveTo(U,E,u,!1)}setBoundary(U){if(!U){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(U),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(U,E,u,p){if(U===null){this._viewport=null;return}if(this._viewport=this._viewport||new eE.Vector4,typeof U==="number")this._viewport.set(U,E,u,p);else this._viewport.copy(U)}getDistanceToFitBox(U,E,u,p=!1){if(Ki(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let z=U/E,c=this._camera.getEffectiveFOV()*GQ,Y=this._camera.aspect;return((p?z>Y:z<Y)?E:U/Y)*0.5/Math.tan(c*0.5)+u*0.5}getDistanceToFitSphere(U){if(Ki(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let E=this._camera.getEffectiveFOV()*GQ,u=Math.atan(Math.tan(E*0.5)*this._camera.aspect)*2,p=1<this._camera.aspect?E:u;return U/Math.sin(p*0.5)}getTarget(U,E=!0){return(!!U&&U.isVector3?U:new eE.Vector3).copy(E?this._targetEnd:this._target)}getPosition(U,E=!0){return(!!U&&U.isVector3?U:new eE.Vector3).setFromSpherical(E?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(E?this._targetEnd:this._target)}getSpherical(U,E=!0){return(U||new eE.Spherical).copy(E?this._sphericalEnd:this._spherical)}getFocalOffset(U,E=!0){return(!!U&&U.isVector3?U:new eE.Vector3).copy(E?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){if(this._sphericalEnd.theta=(this._sphericalEnd.theta%DZ+DZ)%DZ,this._sphericalEnd.theta>Math.PI)this._sphericalEnd.theta-=DZ;return this._spherical.theta+=DZ*Math.round((this._sphericalEnd.theta-this._spherical.theta)/DZ),this}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(U=!1){if(!su(this._camera.up.x,this._cameraUp0.x)||!su(this._camera.up.y,this._cameraUp0.y)||!su(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);let u=this.getPosition(Yu);this.updateCameraUp(),this.setPosition(u.x,u.y,u.z)}let E=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,U),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,U),this.zoomTo(this._zoom0,U)];return Promise.all(E)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,FN),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){let U=Yu.subVectors(this._target,this._camera.position).normalize(),E=Ju.crossVectors(U,this._camera.up);this._camera.up.crossVectors(E,U).normalize(),this._camera.updateMatrixWorld();let u=this.getPosition(Yu);this.updateCameraUp(),this.setPosition(u.x,u.y,u.z)}update(U){let E=this._sphericalEnd.theta-this._spherical.theta,u=this._sphericalEnd.phi-this._spherical.phi,p=this._sphericalEnd.radius-this._spherical.radius,z=KJ.subVectors(this._targetEnd,this._target),c=aJ.subVectors(this._focalOffsetEnd,this._focalOffset),Y=this._zoomEnd-this._zoom;if(qp(E))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{let H=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=oN(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,H,1/0,U),this._needsUpdate=!0}if(qp(u))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{let H=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=oN(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,H,1/0,U),this._needsUpdate=!0}if(qp(p))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{let H=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=oN(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,H,this.maxSpeed,U),this._needsUpdate=!0}if(qp(z.x)&&qp(z.y)&&qp(z.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{let H=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;fJ(this._target,this._targetEnd,this._targetVelocity,H,this.maxSpeed,U,this._target),this._needsUpdate=!0}if(qp(c.x)&&qp(c.y)&&qp(c.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{let H=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;fJ(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,H,this.maxSpeed,U,this._focalOffset),this._needsUpdate=!0}if(qp(Y))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{let H=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=oN(this._zoom,this._zoomEnd,this._zoomVelocity,H,1/0,U)}if(this.dollyToCursor){if(Ax(this._camera)&&this._changedDolly!==0){let H=this._spherical.radius-this._lastDistance,k=this._camera,Q=this._getCameraDirection(wQ),y=Yu.copy(Q).cross(k.up).normalize();if(y.lengthSq()===0)y.x=1;let r=Ju.crossVectors(y,Q),T=this._sphericalEnd.radius*Math.tan(k.getEffectiveFOV()*GQ*0.5),O=(this._sphericalEnd.radius-H-this._sphericalEnd.radius)/this._sphericalEnd.radius,L=vq.copy(this._targetEnd).add(y.multiplyScalar(this._dollyControlCoord.x*T*k.aspect)).add(r.multiplyScalar(this._dollyControlCoord.y*T)),X=Yu.copy(this._targetEnd).lerp(L,O),i=this._lastDollyDirection===wq.IN&&this._spherical.radius<=this.minDistance,B=this._lastDollyDirection===wq.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(i||B)){this._sphericalEnd.radius-=H,this._spherical.radius-=H;let d=Ju.copy(Q).multiplyScalar(-H);X.add(d)}this._boundary.clampPoint(X,X);let G=Ju.subVectors(X,this._targetEnd);if(this._targetEnd.copy(X),this._target.add(G),this._changedDolly-=H,qp(this._changedDolly))this._changedDolly=0}else if(tZ(this._camera)&&this._changedZoom!==0){let H=this._zoom-this._lastZoom,k=this._camera,Q=Yu.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(k.near+k.far)/(k.near-k.far)).unproject(k),y=Ju.set(0,0,-1).applyQuaternion(k.quaternion),r=vq.copy(Q).add(y.multiplyScalar(-Q.dot(k.up))),N=-(this._zoom-H-this._zoom)/this._zoom,O=this._getCameraDirection(wQ),L=this._targetEnd.dot(O),X=Yu.copy(this._targetEnd).lerp(r,N),i=X.dot(O),B=O.multiplyScalar(i-L);X.sub(B),this._boundary.clampPoint(X,X);let G=Ju.subVectors(X,this._targetEnd);if(this._targetEnd.copy(X),this._target.add(G),this._changedZoom-=H,qp(this._changedZoom))this._changedZoom=0}}if(this._camera.zoom!==this._zoom)this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0;this._dragNeedsUpdate=!0;let P=this._collisionTest();if(this._spherical.radius=Math.min(this._spherical.radius,P),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),!qp(this._focalOffset.x)||!qp(this._focalOffset.y)||!qp(this._focalOffset.z))this._camera.matrix.compose(this._camera.position,this._camera.quaternion,this._camera.scale),p4.setFromMatrixColumn(this._camera.matrix,0),z4.setFromMatrixColumn(this._camera.matrix,1),mx.setFromMatrixColumn(this._camera.matrix,2),p4.multiplyScalar(this._focalOffset.x),z4.multiplyScalar(-this._focalOffset.y),mx.multiplyScalar(this._focalOffset.z),Yu.copy(p4).add(z4).add(mx),this._camera.position.add(Yu),this._camera.updateMatrixWorld();if(this._boundaryEnclosesCamera)this._encloseToBoundary(this._camera.position.copy(this._target),Yu.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let j=this._needsUpdate;if(j&&!this._updatedLastTime)this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"});else if(j){if(this.dispatchEvent({type:"update"}),qp(E,this.restThreshold)&&qp(u,this.restThreshold)&&qp(p,this.restThreshold)&&qp(z.x,this.restThreshold)&&qp(z.y,this.restThreshold)&&qp(z.z,this.restThreshold)&&qp(c.x,this.restThreshold)&&qp(c.y,this.restThreshold)&&qp(c.z,this.restThreshold)&&qp(Y,this.restThreshold)&&!this._hasRested)this._hasRested=!0,this.dispatchEvent({type:"rest"})}else if(!j&&this._updatedLastTime)this.dispatchEvent({type:"sleep"});return this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=j,this._needsUpdate=!1,j}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:BQ(this.maxDistance),minZoom:this.minZoom,maxZoom:BQ(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:BQ(this.maxPolarAngle),minAzimuthAngle:BQ(this.minAzimuthAngle),maxAzimuthAngle:BQ(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:Yu.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(U,E=!1){let u=JSON.parse(U);this.enabled=u.enabled,this.minDistance=u.minDistance,this.maxDistance=dQ(u.maxDistance),this.minZoom=u.minZoom,this.maxZoom=dQ(u.maxZoom),this.minPolarAngle=u.minPolarAngle,this.maxPolarAngle=dQ(u.maxPolarAngle),this.minAzimuthAngle=dQ(u.minAzimuthAngle),this.maxAzimuthAngle=dQ(u.maxAzimuthAngle),this.smoothTime=u.smoothTime,this.draggingSmoothTime=u.draggingSmoothTime,this.dollySpeed=u.dollySpeed,this.truckSpeed=u.truckSpeed,this.dollyToCursor=u.dollyToCursor,this._target0.fromArray(u.target0),this._position0.fromArray(u.position0),this._zoom0=u.zoom0,this._focalOffset0.fromArray(u.focalOffset0),this.moveTo(u.target[0],u.target[1],u.target[2],E),H0.setFromVector3(Yu.fromArray(u.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(H0.theta,H0.phi,E),this.dollyTo(H0.radius,E),this.zoomTo(u.zoom,E),this.setFocalOffset(u.focalOffset[0],u.focalOffset[1],u.focalOffset[2],E),this._needsUpdate=!0}connect(U){if(this._domElement){console.warn("camera-controls is already connected.");return}U.setAttribute("data-camera-controls-version",scU),this._addAllEventListeners(U),this._getClientRect(this._elementRect)}disconnect(){if(this.cancel(),this._removeAllEventListeners(),this._domElement)this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(U){return U.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(U){return this._getTargetDirection(U).negate()}_findPointerById(U){return this._activePointers.find((E)=>E.pointerId===U)}_findPointerByMouseButton(U){return this._activePointers.find((E)=>E.mouseButton===U)}_disposePointer(U){this._activePointers.splice(this._activePointers.indexOf(U),1)}_encloseToBoundary(U,E,u){let p=E.lengthSq();if(p===0)return U;let z=Ju.copy(E).add(U),Y=this._boundary.clampPoint(z,vq).sub(z),P=Y.lengthSq();if(P===0)return U.add(E);else if(P===p)return U;else if(u===0)return U.add(E).add(Y);else{let n=1+u*P/E.dot(Y);return U.add(Ju.copy(E).multiplyScalar(n)).add(Y.multiplyScalar(1-u))}}_updateNearPlaneCorners(){if(Ax(this._camera)){let U=this._camera,E=U.near,u=U.getEffectiveFOV()*GQ,p=Math.tan(u*0.5)*E,z=p*U.aspect;this._nearPlaneCorners[0].set(-z,-p,0),this._nearPlaneCorners[1].set(z,-p,0),this._nearPlaneCorners[2].set(z,p,0),this._nearPlaneCorners[3].set(-z,p,0)}else if(tZ(this._camera)){let U=this._camera,E=1/U.zoom,u=U.left*E,p=U.right*E,z=U.top*E,c=U.bottom*E;this._nearPlaneCorners[0].set(u,z,0),this._nearPlaneCorners[1].set(p,z,0),this._nearPlaneCorners[2].set(p,c,0),this._nearPlaneCorners[3].set(u,c,0)}}_truckInternal=(U,E,u,p)=>{let z,c;if(Ax(this._camera)){let Y=Yu.copy(this._camera.position).sub(this._target),P=this._camera.getEffectiveFOV()*GQ,n=Y.length()*Math.tan(P*0.5);z=this.truckSpeed*U*n/this._elementRect.height,c=this.truckSpeed*E*n/this._elementRect.height}else if(tZ(this._camera)){let Y=this._camera;z=this.truckSpeed*U*(Y.right-Y.left)/Y.zoom/this._elementRect.width,c=this.truckSpeed*E*(Y.top-Y.bottom)/Y.zoom/this._elementRect.height}else return;if(p)u?this.setFocalOffset(this._focalOffsetEnd.x+z,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(z,0,!0),this.forward(-c,!0);else u?this.setFocalOffset(this._focalOffsetEnd.x+z,this._focalOffsetEnd.y+c,this._focalOffsetEnd.z,!0):this.truck(z,c,!0)};_rotateInternal=(U,E)=>{let u=DZ*this.azimuthRotateSpeed*U/this._elementRect.height,p=DZ*this.polarRotateSpeed*E/this._elementRect.height;this.rotate(u,p,!0)};_dollyInternal=(U,E,u)=>{let p=Math.pow(0.95,-U*this.dollySpeed),z=this._sphericalEnd.radius,c=this._sphericalEnd.radius*p,Y=Tc(c,this.minDistance,this.maxDistance),P=Y-c;if(this.infinityDolly&&this.dollyToCursor)this._dollyToNoClamp(c,!0);else if(this.infinityDolly&&!this.dollyToCursor)this.dollyInFixed(P,!0),this._dollyToNoClamp(Y,!0);else this._dollyToNoClamp(Y,!0);if(this.dollyToCursor)this._changedDolly+=(this.infinityDolly?c:Y)-z,this._dollyControlCoord.set(E,u);this._lastDollyDirection=Math.sign(-U)};_zoomInternal=(U,E,u)=>{let p=Math.pow(0.95,U*this.dollySpeed),z=this._zoom,c=this._zoom*p;if(this.zoomTo(c,!0),this.dollyToCursor)this._changedZoom+=c-z,this._dollyControlCoord.set(E,u)};_collisionTest(){let U=1/0;if(!(this.colliderMeshes.length>=1))return U;if(Ki(this._camera,"_collisionTest"))return U;let u=this._getTargetDirection(wQ);ei.lookAt(sJ,u,this._camera.up);for(let p=0;p<4;p++){let z=Ju.copy(this._nearPlaneCorners[p]);z.applyMatrix4(ei);let c=vq.addVectors(this._target,z);AN.set(c,u),AN.far=this._spherical.radius+1;let Y=AN.intersectObjects(this.colliderMeshes);if(Y.length!==0&&Y[0].distance<U)U=Y[0].distance}return U}_getClientRect(U){if(!this._domElement)return;let E=this._domElement.getBoundingClientRect();if(U.x=E.left,U.y=E.top,this._viewport)U.x+=this._viewport.x,U.y+=E.height-this._viewport.w-this._viewport.y,U.width=this._viewport.z,U.height=this._viewport.w;else U.width=E.width,U.height=E.height;return U}_createOnRestPromise(U){if(U)return Promise.resolve();return this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise((E)=>{let u=()=>{this.removeEventListener("rest",u),E()};this.addEventListener("rest",u)})}_addAllEventListeners(U){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(U){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(U){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(U,E=new eE.Sphere){let u=E,p=u.center;Rq.makeEmpty(),U.traverseVisible((c)=>{if(!c.isMesh)return;Rq.expandByObject(c)}),Rq.getCenter(p);let z=0;return U.traverseVisible((c)=>{if(!c.isMesh)return;let Y=c;if(!Y.geometry)return;let P=Y.geometry.clone();P.applyMatrix4(Y.matrixWorld);let j=P.attributes.position;for(let H=0,k=j.count;H<k;H++)Yu.fromBufferAttribute(j,H),z=Math.max(z,p.distanceToSquared(Yu))}),u.radius=Math.sqrt(z),u}}var c4=OE(TE(),1);var Ci=c4.forwardRef(({children:U,enabled:E=!0,speed:u=1,rotationIntensity:p=1,floatIntensity:z=1,floatingRange:c=[-0.1,0.1],autoInvalidate:Y=!1,...P},n)=>{let j=c4.useRef(null);c4.useImperativeHandle(n,()=>j.current,[]);let H=c4.useRef(Math.random()*1e4);return rc((k)=>{var Q,y;if(!E||u===0)return;if(Y)k.invalidate();let r=H.current+k.clock.elapsedTime;j.current.rotation.x=Math.cos(r/4*u)/8*p,j.current.rotation.y=Math.sin(r/4*u)/8*p,j.current.rotation.z=Math.sin(r/4*u)/20*p;let T=Math.sin(r/4*u)/10;T=yc.mapLinear(T,-0.1,0.1,(Q=c==null?void 0:c[0])!==null&&Q!==void 0?Q:-0.1,(y=c==null?void 0:c[1])!==null&&y!==void 0?y:0.1),j.current.position.y=T*z,j.current.updateMatrix()}),c4.createElement("group",P,c4.createElement("group",{ref:j,matrixAutoUpdate:!1},U))});var Bu=OE(TE(),1);var Uh=(U,E,u)=>{let p;switch(U){case j5:p=new Uint8ClampedArray(E*u*4);break;case up:p=new Uint16Array(E*u*4);break;case $c:p=new Uint32Array(E*u*4);break;case Q9:p=new Int8Array(E*u*4);break;case $9:p=new Int16Array(E*u*4);break;case sj:p=new Int32Array(E*u*4);break;case Sp:p=new Float32Array(E*u*4);break;default:throw new Error("Unsupported data type")}return p},VN,acU=(U,E,u,p)=>{if(VN!==void 0)return VN;let z=new fp(1,1,p);E.setRenderTarget(z);let c=new tu(new M0,new A5({color:16777215}));E.render(c,u),E.setRenderTarget(null);let Y=Uh(U,z.width,z.height);return E.readRenderTargetPixels(z,0,0,z.width,z.height,Y),z.dispose(),c.geometry.dispose(),c.material.dispose(),VN=Y[0]!==0,VN};class vQ{_renderer;_rendererIsDisposable=!1;_material;_scene;_camera;_quad;_renderTarget;_width;_height;_type;_colorSpace;_supportsReadPixels=!0;constructor(U){this._width=U.width,this._height=U.height,this._type=U.type,this._colorSpace=U.colorSpace;let E={format:Wp,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:U.renderTargetOptions?.anisotropy!==void 0?U.renderTargetOptions?.anisotropy:1,generateMipmaps:U.renderTargetOptions?.generateMipmaps!==void 0?U.renderTargetOptions?.generateMipmaps:!1,magFilter:U.renderTargetOptions?.magFilter!==void 0?U.renderTargetOptions?.magFilter:Wu,minFilter:U.renderTargetOptions?.minFilter!==void 0?U.renderTargetOptions?.minFilter:Wu,samples:U.renderTargetOptions?.samples!==void 0?U.renderTargetOptions?.samples:void 0,wrapS:U.renderTargetOptions?.wrapS!==void 0?U.renderTargetOptions?.wrapS:J5,wrapT:U.renderTargetOptions?.wrapT!==void 0?U.renderTargetOptions?.wrapT:J5};if(this._material=U.material,U.renderer)this._renderer=U.renderer;else this._renderer=vQ.instantiateRenderer(),this._rendererIsDisposable=!0;if(this._scene=new gc,this._camera=new n0,this._camera.position.set(0,0,10),this._camera.left=-0.5,this._camera.right=0.5,this._camera.top=0.5,this._camera.bottom=-0.5,this._camera.updateProjectionMatrix(),!acU(this._type,this._renderer,this._camera,E)){let u;switch(this._type){case up:u=this._renderer.extensions.has("EXT_color_buffer_float")?Sp:void 0;break}if(u!==void 0)console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Sp}`),this._type=u;else this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown")}this._quad=new tu(new M0,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new fp(this.width,this.height,E),this._renderTarget.texture.mapping=U.renderTargetOptions?.mapping!==void 0?U.renderTargetOptions?.mapping:LZ}static instantiateRenderer(){let U=new dZ;return U.setSize(128,128),U}render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(U){throw this._renderer.setRenderTarget(null),U}this._renderer.setRenderTarget(null)};toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");let U=Uh(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,U),U}toDataTexture(U){let E=new Pz(this.toArray(),this.width,this.height,Wp,this._type,U?.mapping||LZ,U?.wrapS||J5,U?.wrapT||J5,U?.magFilter||Wu,U?.minFilter||Wu,U?.anisotropy||1,C5);return E.generateMipmaps=U?.generateMipmaps!==void 0?U?.generateMipmaps:!1,E}disposeOnDemandRenderer(){if(this._renderer.setRenderTarget(null),this._rendererIsDisposable)this._renderer.dispose(),this._renderer.forceContextLoss()}dispose(U){if(this.disposeOnDemandRenderer(),U)this.renderTarget.dispose();if(this.material instanceof Ap)Object.values(this.material.uniforms).forEach((E)=>{if(E.value instanceof Vu)E.value.dispose()});Object.values(this.material).forEach((E)=>{if(E instanceof Vu)E.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(U){this._width=U,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(U){this._height=U,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(U){this._renderTarget=U,this._width=U.width,this._height=U.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}function uh(U){return(E)=>{let{sdr:u,gainMap:p,renderer:z}=E;if(u.colorSpace!==_c)console.warn("SDR Colorspace needs to be *SRGBColorSpace*, setting it automatically"),u.colorSpace=_c;if(u.needsUpdate=!0,p.colorSpace!==C5)console.warn("Gainmap Colorspace needs to be *LinearSRGBColorSpace*, setting it automatically"),p.colorSpace=C5;p.needsUpdate=!0;let c=U.createMaterial({...E,sdr:u,gainMap:p});return U.createQuadRenderer({width:u.image.width,height:u.image.height,type:up,colorSpace:C5,material:c,renderer:z,renderTargetOptions:E.renderTargetOptions})}}class GN extends Error{}class BN extends Error{}var SQ=(U,E,u)=>{let p=new RegExp(`${E}="([^"]*)"`,"i").exec(U);if(p)return p[1];let z=new RegExp(`<${E}[^>]*>([\\s\\S]*?)</${E}>`,"i").exec(U);if(z){let c=z[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);if(c&&c.length===3)return c.map((Y)=>Y.replace(/<\/?rdf:li>/g,""));return z[1].trim()}if(u!==void 0)return u;throw new Error(`Can't find ${E} in gainmap metadata`)},_cU=(U)=>{let E;if(typeof TextDecoder!=="undefined")E=new TextDecoder().decode(U);else E=U.toString();let u=E.indexOf("<x:xmpmeta");while(u!==-1){let p=E.indexOf("x:xmpmeta>",u),z=E.slice(u,p+10);try{let c=SQ(z,"hdrgm:GainMapMin","0"),Y=SQ(z,"hdrgm:GainMapMax"),P=SQ(z,"hdrgm:Gamma","1"),n=SQ(z,"hdrgm:OffsetSDR","0.015625"),j=SQ(z,"hdrgm:OffsetHDR","0.015625"),H=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(z),k=H?H[1]:"0",Q=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(z);if(!Q)throw new Error("Incomplete gainmap metadata");let y=Q[1];return{gainMapMin:Array.isArray(c)?c.map((r)=>parseFloat(r)):[parseFloat(c),parseFloat(c),parseFloat(c)],gainMapMax:Array.isArray(Y)?Y.map((r)=>parseFloat(r)):[parseFloat(Y),parseFloat(Y),parseFloat(Y)],gamma:Array.isArray(P)?P.map((r)=>parseFloat(r)):[parseFloat(P),parseFloat(P),parseFloat(P)],offsetSdr:Array.isArray(n)?n.map((r)=>parseFloat(r)):[parseFloat(n),parseFloat(n),parseFloat(n)],offsetHdr:Array.isArray(j)?j.map((r)=>parseFloat(r)):[parseFloat(j),parseFloat(j),parseFloat(j)],hdrCapacityMin:parseFloat(k),hdrCapacityMax:parseFloat(y)}}catch(c){}u=E.indexOf("<x:xmpmeta",p)}};class ph{options;constructor(U){this.options={debug:U&&U.debug!==void 0?U.debug:!1,extractFII:U&&U.extractFII!==void 0?U.extractFII:!0,extractNonFII:U&&U.extractNonFII!==void 0?U.extractNonFII:!0}}extract(U){return new Promise((E,u)=>{let p=this.options.debug,z=new DataView(U.buffer);if(z.getUint16(0)!==65496){u(new Error("Not a valid jpeg"));return}let c=z.byteLength,Y=2,P=0,n;while(Y<c){if(++P>250){u(new Error(`Found no marker after ${P} loops \uD83D\uDE35`));return}if(z.getUint8(Y)!==255){u(new Error(`Not a valid marker at offset 0x${Y.toString(16)}, found: 0x${z.getUint8(Y).toString(16)}`));return}if(n=z.getUint8(Y+1),p)console.log(`Marker: ${n.toString(16)}`);if(n===226){if(p)console.log("Found APP2 marker (0xffe2)");let j=Y+4;if(z.getUint32(j)===1297106432){let H=j+4,k;if(z.getUint16(H)===18761)k=!1;else if(z.getUint16(H)===19789)k=!0;else{u(new Error("No valid endianness marker found in TIFF header"));return}if(z.getUint16(H+2,!k)!==42){u(new Error("Not valid TIFF data! (no 0x002A marker)"));return}let Q=z.getUint32(H+4,!k);if(Q<8){u(new Error("Not valid TIFF data! (First offset less than 8)"));return}let y=H+Q,r=z.getUint16(y,!k),T=y+2,N=0;for(let i=T;i<T+12*r;i+=12)if(z.getUint16(i,!k)===45057)N=z.getUint32(i+8,!k);let O=4,L=y+2+r*12+O,X=[];for(let i=L;i<L+N*16;i+=16){let B={MPType:z.getUint32(i,!k),size:z.getUint32(i+4,!k),dataOffset:z.getUint32(i+8,!k),dependantImages:z.getUint32(i+12,!k),start:-1,end:-1,isFII:!1};if(!B.dataOffset)B.start=0,B.isFII=!0;else B.start=H+B.dataOffset,B.isFII=!1;B.end=B.start+B.size,X.push(B)}if(this.options.extractNonFII&&X.length){let i=new Blob([z]),B=[];for(let G of X){if(G.isFII&&!this.options.extractFII)continue;let d=i.slice(G.start,G.end+1,"image/jpeg");B.push(d)}E(B)}}}Y+=2+z.getUint16(Y+2)}})}}var zh=async(U)=>{let E=_cU(U);if(!E)throw new BN("Gain map XMP metadata not found");let p=await new ph({extractFII:!0,extractNonFII:!0}).extract(U);if(p.length!==2)throw new GN("Gain map recovery image not found");return{sdr:new Uint8Array(await p[0].arrayBuffer()),gainMap:new Uint8Array(await p[1].arrayBuffer()),metadata:E}},Eh=(U)=>{return new Promise((E,u)=>{let p=document.createElement("img");p.onload=()=>{E(p)},p.onerror=(z)=>{u(z)},p.src=URL.createObjectURL(U)})};class UF extends Dp{_renderer;_renderTargetOptions;_internalLoadingManager;_config;constructor(U,E){super(E);if(this._config=U,U.renderer)this._renderer=U.renderer;this._internalLoadingManager=new $x}setRenderer(U){return this._renderer=U,this}setRenderTargetOptions(U){return this._renderTargetOptions=U,this}prepareQuadRenderer(){if(!this._renderer)console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");let U=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Vu,sdr:new Vu});return this._config.createQuadRenderer({width:16,height:16,type:up,colorSpace:C5,material:U,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(U,E,u){let p=E?new Blob([E],{type:"image/jpeg"}):void 0,z=new Blob([U],{type:"image/jpeg"}),c,Y,P=!1;if(typeof createImageBitmap==="undefined"){let n=await Promise.all([p?Eh(p):Promise.resolve(void 0),Eh(z)]);Y=n[0],c=n[1],P=u==="flipY"}else{let n=await Promise.all([p?createImageBitmap(p,{imageOrientation:u||"flipY"}):Promise.resolve(void 0),createImageBitmap(z,{imageOrientation:u||"flipY"})]);Y=n[0],c=n[1]}return{sdrImage:c,gainMapImage:Y,needsFlip:P}}createTextures(U,E,u){let p=new Vu(E||new ImageData(2,2),LZ,J5,J5,Wu,k9,Wp,j5,1,C5);p.flipY=u,p.needsUpdate=!0;let z=new Vu(U,LZ,J5,J5,Wu,k9,Wp,j5,1,_c);return z.flipY=u,z.needsUpdate=!0,{gainMap:p,sdr:z}}updateQuadRenderer(U,E,u,p,z){U.width=E.width,U.height=E.height,U.material.gainMap=u,U.material.sdr=p,U.material.gainMapMin=z.gainMapMin,U.material.gainMapMax=z.gainMapMax,U.material.offsetHdr=z.offsetHdr,U.material.offsetSdr=z.offsetSdr,U.material.gamma=z.gamma,U.material.hdrCapacityMin=z.hdrCapacityMin,U.material.hdrCapacityMax=z.hdrCapacityMax,U.material.maxDisplayBoost=Math.pow(2,z.hdrCapacityMax),U.material.needsUpdate=!0}}var gcU=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,ecU=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class EF extends Ap{_maxDisplayBoost;_hdrCapacityMin;_hdrCapacityMax;constructor({gamma:U,offsetHdr:E,offsetSdr:u,gainMapMin:p,gainMapMax:z,maxDisplayBoost:c,hdrCapacityMin:Y,hdrCapacityMax:P,sdr:n,gainMap:j}){super({name:"GainMapDecoderMaterial",vertexShader:gcU,fragmentShader:ecU,uniforms:{sdr:{value:n},gainMap:{value:j},gamma:{value:new b(1/U[0],1/U[1],1/U[2])},offsetHdr:{value:new b().fromArray(E)},offsetSdr:{value:new b().fromArray(u)},gainMapMin:{value:new b().fromArray(p)},gainMapMax:{value:new b().fromArray(z)},weightFactor:{value:(Math.log2(c)-Y)/(P-Y)}},blending:b0,depthTest:!1,depthWrite:!1});this._maxDisplayBoost=c,this._hdrCapacityMin=Y,this._hdrCapacityMax=P,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(U){this.uniforms.sdr.value=U}get gainMap(){return this.uniforms.gainMap.value}set gainMap(U){this.uniforms.gainMap.value=U}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(U){this.uniforms.offsetHdr.value.fromArray(U)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(U){this.uniforms.offsetSdr.value.fromArray(U)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(U){this.uniforms.gainMapMin.value.fromArray(U)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(U){this.uniforms.gainMapMax.value.fromArray(U)}get gamma(){let U=this.uniforms.gamma.value;return[1/U.x,1/U.y,1/U.z]}set gamma(U){let E=this.uniforms.gamma.value;E.x=1/U[0],E.y=1/U[1],E.z=1/U[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(U){this._hdrCapacityMin=U,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(U){this._hdrCapacityMax=U,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(U){this._maxDisplayBoost=Math.max(1,Math.min(65504,U)),this.calculateWeight()}calculateWeight(){let U=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,U))}}var x9U=uh({renderer:dZ,createMaterial:(U)=>new EF(U),createQuadRenderer:(U)=>new vQ(U)});class uF extends UF{constructor(U,E){super({renderer:U,createMaterial:(u)=>new EF(u),createQuadRenderer:(u)=>new vQ(u)},E)}async render(U,E,u,p){let{sdrImage:z,gainMapImage:c,needsFlip:Y}=await this.processImages(u,p,"flipY"),{gainMap:P,sdr:n}=this.createTextures(z,c,Y);this.updateQuadRenderer(U,z,P,n,E),U.render()}}class pF extends uF{load([U,E,u],p,z,c){let Y=this.prepareQuadRenderer(),P,n,j,H=async()=>{if(P&&n&&j){try{await this.render(Y,j,P,n)}catch(m){if(this.manager.itemError(U),this.manager.itemError(E),this.manager.itemError(u),typeof c==="function")c(m);Y.disposeOnDemandRenderer();return}if(typeof p==="function")p(Y);this.manager.itemEnd(U),this.manager.itemEnd(E),this.manager.itemEnd(u),Y.disposeOnDemandRenderer()}},k=!0,Q=0,y=0,r=!0,T=0,N=0,O=!0,L=0,X=0,i=()=>{if(typeof z==="function"){let m=Q+T+L,V=y+N+X;z(new ProgressEvent("progress",{lengthComputable:k&&r&&O,loaded:V,total:m}))}};this.manager.itemStart(U),this.manager.itemStart(E),this.manager.itemStart(u);let B=new vp(this._internalLoadingManager);B.setResponseType("arraybuffer"),B.setRequestHeader(this.requestHeader),B.setPath(this.path),B.setWithCredentials(this.withCredentials),B.load(U,async(m)=>{if(typeof m==="string")throw new Error("Invalid sdr buffer");P=m,await H()},(m)=>{k=m.lengthComputable,y=m.loaded,Q=m.total,i()},(m)=>{if(this.manager.itemError(U),typeof c==="function")c(m)});let G=new vp(this._internalLoadingManager);G.setResponseType("arraybuffer"),G.setRequestHeader(this.requestHeader),G.setPath(this.path),G.setWithCredentials(this.withCredentials),G.load(E,async(m)=>{if(typeof m==="string")throw new Error("Invalid gainmap buffer");n=m,await H()},(m)=>{r=m.lengthComputable,N=m.loaded,T=m.total,i()},(m)=>{if(this.manager.itemError(E),typeof c==="function")c(m)});let d=new vp(this._internalLoadingManager);return d.setRequestHeader(this.requestHeader),d.setPath(this.path),d.setWithCredentials(this.withCredentials),d.load(u,async(m)=>{if(typeof m!=="string")throw new Error("Invalid metadata string");j=JSON.parse(m),await H()},(m)=>{O=m.lengthComputable,X=m.loaded,L=m.total,i()},(m)=>{if(this.manager.itemError(u),typeof c==="function")c(m)}),Y}}class zF extends uF{load(U,E,u,p){let z=this.prepareQuadRenderer(),c=new vp(this._internalLoadingManager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(this.withCredentials),this.manager.itemStart(U),c.load(U,async(Y)=>{if(typeof Y==="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");let P=new Uint8Array(Y),n,j,H;try{let k=await zh(P);n=k.sdr,j=k.gainMap,H=k.metadata}catch(k){if(k instanceof BN||k instanceof GN)console.warn(`Failure to reconstruct an HDR image from ${U}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),H={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},n=P;else throw k}try{await this.render(z,H,n.buffer,j?.buffer)}catch(k){if(this.manager.itemError(U),typeof p==="function")p(k);z.disposeOnDemandRenderer();return}if(typeof E==="function")E(z);this.manager.itemEnd(U),z.disposeOnDemandRenderer()},u,(Y)=>{if(this.manager.itemError(U),typeof p==="function")p(Y)}),z}}var Dq={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"};var ch=OE(TE(),1),Yh="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",tq=(U)=>Array.isArray(U),cF=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function RQ({files:U=cF,path:E="",preset:u=void 0,colorSpace:p=void 0,extensions:z}={}){if(u)YF(u),U=Dq[u],E=Yh;let c=tq(U),{extension:Y,isCubemap:P}=ZF(U),n=PF(Y);if(!n)throw new Error("useEnvironment: Unrecognized file extension: "+U);let j=qz((y)=>y.gl);ch.useLayoutEffect(()=>{if(Y!=="webp"&&Y!=="jpg"&&Y!=="jpeg")return;function y(){f0.clear(n,c?[U]:U)}j.domElement.addEventListener("webglcontextlost",y,{once:!0})},[U,j.domElement]);let H=f0(n,c?[U]:U,(y)=>{if(Y==="webp"||Y==="jpg"||Y==="jpeg")y.setRenderer(j);if(y.setPath==null||y.setPath(E),z)z(y)}),k=c?H[0]:H;if(Y==="jpg"||Y==="jpeg"||Y==="webp"){var Q;k=(Q=k.renderTarget)==null?void 0:Q.texture}return k.mapping=P?EY:ux,k.colorSpace=p!==null&&p!==void 0?p:P?"srgb":"srgb-linear",k}var CcU={files:cF,path:"",preset:void 0,extensions:void 0};RQ.preload=(U)=>{let E={...CcU,...U},{files:u,path:p=""}=E,{preset:z,extensions:c}=E;if(z)YF(z),u=Dq[z],p=Yh;let{extension:Y}=ZF(u);if(Y==="webp"||Y==="jpg"||Y==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");let P=PF(Y);if(!P)throw new Error("useEnvironment: Unrecognized file extension: "+u);f0.preload(P,tq(u)?[u]:u,(n)=>{if(n.setPath==null||n.setPath(p),c)c(n)})};var U4U={files:cF,preset:void 0};RQ.clear=(U)=>{let E={...U4U,...U},{files:u}=E,{preset:p}=E;if(p)YF(p),u=Dq[p];let{extension:z}=ZF(u),c=PF(z);if(!c)throw new Error("useEnvironment: Unrecognized file extension: "+u);f0.clear(c,tq(u)?[u]:u)};function YF(U){if(!(U in Dq))throw new Error("Preset must be one of: "+Object.keys(Dq).join(", "))}function ZF(U){var E;let u=tq(U)&&U.length===6,p=tq(U)&&U.length===3&&U.some((Y)=>Y.endsWith("json")),z=tq(U)?U[0]:U;return{extension:u?"cube":p?"webp":z.startsWith("data:application/exr")?"exr":z.startsWith("data:application/hdr")?"hdr":z.startsWith("data:image/jpeg")?"jpg":(E=z.split(".").pop())==null||(E=E.split("?"))==null||(E=E.shift())==null?void 0:E.toLowerCase(),isCubemap:u,isGainmap:p}}function PF(U){return U==="cube"?C9:U==="hdr"?NN:U==="exr"?rN:U==="jpg"||U==="jpeg"?zF:U==="webp"?pF:null}var E4U=(U)=>U.current&&U.current.isScene,u4U=(U)=>E4U(U)?U.current:U;function xF(U,E,u,p,z={}){var c,Y,P,n;z={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...z};let j=u4U(E||u),H=j.background,k=j.environment,Q={backgroundBlurriness:j.backgroundBlurriness,backgroundIntensity:j.backgroundIntensity,backgroundRotation:(c=(Y=j.backgroundRotation)==null||Y.clone==null?void 0:Y.clone())!==null&&c!==void 0?c:[0,0,0],environmentIntensity:j.environmentIntensity,environmentRotation:(P=(n=j.environmentRotation)==null||n.clone==null?void 0:n.clone())!==null&&P!==void 0?P:[0,0,0]};if(U!=="only")j.environment=p;if(U)j.background=p;return W0(j,z),()=>{if(U!=="only")j.environment=k;if(U)j.background=H;W0(j,Q)}}function dN({scene:U,background:E=!1,map:u,...p}){let z=qz((c)=>c.scene);return Bu.useLayoutEffect(()=>{if(u)return xF(E,U,z,u,p)}),null}function nF({background:U=!1,scene:E,blur:u,backgroundBlurriness:p,backgroundIntensity:z,backgroundRotation:c,environmentIntensity:Y,environmentRotation:P,...n}){let j=RQ(n),H=qz((k)=>k.scene);return Bu.useLayoutEffect(()=>{return xF(U,E,H,j,{backgroundBlurriness:u!==null&&u!==void 0?u:p,backgroundIntensity:z,backgroundRotation:c,environmentIntensity:Y,environmentRotation:P})}),Bu.useEffect(()=>{return()=>{j.dispose()}},[j]),null}function Zh({children:U,near:E=0.1,far:u=1000,resolution:p=256,frames:z=1,map:c,background:Y=!1,blur:P,backgroundBlurriness:n,backgroundIntensity:j,backgroundRotation:H,environmentIntensity:k,environmentRotation:Q,scene:y,files:r,path:T,preset:N=void 0,extensions:O}){let L=qz((m)=>m.gl),X=qz((m)=>m.scene),i=Bu.useRef(null),[B]=Bu.useState(()=>new gc),G=Bu.useMemo(()=>{let m=new nx(p);return m.texture.type=up,m},[p]);Bu.useEffect(()=>{return()=>{G.dispose()}},[G]),Bu.useLayoutEffect(()=>{if(z===1){let m=L.autoClear;L.autoClear=!0,i.current.update(L,B),L.autoClear=m}return xF(Y,y,X,G.texture,{backgroundBlurriness:P!==null&&P!==void 0?P:n,backgroundIntensity:j,backgroundRotation:H,environmentIntensity:k,environmentRotation:Q})},[U,B,G.texture,y,X,Y,z,L]);let d=1;return rc(()=>{if(z===1/0||d<z){let m=L.autoClear;L.autoClear=!0,i.current.update(L,B),L.autoClear=m,d++}}),Bu.createElement(Bu.Fragment,null,Qi(Bu.createElement(Bu.Fragment,null,U,Bu.createElement("cubeCamera",{ref:i,args:[E,u,G]}),r||N?Bu.createElement(nF,{background:!0,files:r,preset:N,path:T,extensions:O}):c?Bu.createElement(dN,{background:!0,map:c,extensions:O}):null),B))}function p4U(U){var E,u,p,z;let c=RQ(U),Y=U.map||c;Bu.useMemo(()=>qQ({GroundProjectedEnvImpl:ON}),[]),Bu.useEffect(()=>{return()=>{c.dispose()}},[c]);let P=Bu.useMemo(()=>[Y],[Y]),n=(E=U.ground)==null?void 0:E.height,j=(u=U.ground)==null?void 0:u.radius,H=(p=(z=U.ground)==null?void 0:z.scale)!==null&&p!==void 0?p:1000;return Bu.createElement(Bu.Fragment,null,Bu.createElement(dN,xY({},U,{map:Y})),Bu.createElement("groundProjectedEnvImpl",{args:P,scale:H,height:n,radius:j}))}function DQ(U){return U.ground?Bu.createElement(p4U,U):U.map?Bu.createElement(dN,U):U.children?Bu.createElement(Zh,U):Bu.createElement(nF,U)}var Rz=OE(TE(),1);var tQ=Rz.forwardRef(({scale:U=10,frames:E=1/0,opacity:u=1,width:p=1,height:z=1,blur:c=1,near:Y=0,far:P=10,resolution:n=512,smooth:j=!0,color:H="#000000",depthWrite:k=!1,renderOrder:Q,...y},r)=>{let T=Rz.useRef(null),N=qz((a)=>a.scene),O=qz((a)=>a.gl),L=Rz.useRef(null);p=p*(Array.isArray(U)?U[0]:U||1),z=z*(Array.isArray(U)?U[1]:U||1);let[X,i,B,G,d,m,V]=Rz.useMemo(()=>{let a=new fp(n,n),uU=new fp(n,n);uU.texture.generateMipmaps=a.texture.generateMipmaps=!1;let UU=new M0(p,z).rotateX(Math.PI/2),ZU=new tu(UU),EU=new Qx;EU.depthTest=EU.depthWrite=!1,EU.onBeforeCompile=(yU)=>{yU.uniforms={...yU.uniforms,ucolor:{value:new EE(H)}},yU.fragmentShader=yU.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),yU.fragmentShader=yU.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};let OU=new Ap(Mi),NU=new Ap(Wi);return NU.depthTest=OU.depthTest=!1,[a,UU,EU,ZU,OU,NU,uU]},[n,p,z,U,H]),w=(a)=>{G.visible=!0,G.material=d,d.uniforms.tDiffuse.value=X.texture,d.uniforms.h.value=a*1/256,O.setRenderTarget(V),O.render(G,L.current),G.material=m,m.uniforms.tDiffuse.value=V.texture,m.uniforms.v.value=a*1/256,O.setRenderTarget(X),O.render(G,L.current),G.visible=!1},h=0,_,f;return rc(()=>{if(L.current&&(E===1/0||h<E)){if(h++,_=N.background,f=N.overrideMaterial,T.current.visible=!1,N.background=null,N.overrideMaterial=B,O.setRenderTarget(X),O.render(N,L.current),w(c),j)w(c*0.4);O.setRenderTarget(null),T.current.visible=!0,N.overrideMaterial=f,N.background=_}}),Rz.useImperativeHandle(r,()=>T.current,[]),Rz.createElement("group",xY({"rotation-x":Math.PI/2},y,{ref:T}),Rz.createElement("mesh",{renderOrder:Q,geometry:i,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},Rz.createElement("meshBasicMaterial",{transparent:!0,map:X.texture,opacity:u,depthWrite:k})),Rz.createElement("orthographicCamera",{ref:L,args:[-p/2,p/2,z/2,-z/2,Y,P]}))});var jF="./desktop-a81hbczm.glb";var HY=OE(TE(),1);JU();function wN({sceneId:U,isActive:E,children:u,cameraPosition:p=[0,0,10],fov:z=60}){let[c,Y]=HY.useState(!1),P=HY.useRef(null),n=HY.useMemo(()=>Array.isArray(p)?new b(...p):p,[p]);return HY.useEffect(()=>{if(!E)Y(!1)},[E]),HY.useEffect(()=>{let j=()=>Y(!1);return window.addEventListener("mouseup",j),window.addEventListener("touchend",j),()=>{window.removeEventListener("mouseup",j),window.removeEventListener("touchend",j)}},[]),$("div",{ref:P,className:`fixed inset-0 transition-opacity duration-500 pointer-events-none ${E?"opacity-100":"opacity-0"}`,onMouseDown:()=>Y(!0),onTouchStart:()=>Y(!0),children:$(J6,{className:"pointer-events-none",shadows:!0,camera:{position:n,fov:z},gl:{alpha:!0,preserveDrawingBuffer:!1},frameloop:E?"always":"demand",eventSource:P,children:u})})}JU();function c4U({children:U,enabled:E=!1}){let u=JZ.useRef(null),p=JZ.useRef(0),z=JZ.useRef(0),c=JZ.useRef(0);return rc((Y,P)=>{let n=Y.clock.getElapsedTime(),j=E?0.45:0,H=E?5:0,k=E?1:2;if(p.current+=(j-p.current)*Math.min(1,P*4),z.current+=(k-z.current)*Math.min(1,P*4),c.current+=(H-c.current)*Math.min(1,P*4),u.current)u.current.position.y=Math.sin(n*0.5)*p.current,u.current.rotation.y=Math.sin(n*0.6)*p.current*0.25,u.current.rotation.x=Math.sin(n*0.6)*p.current*0.25,u.current.position.x=c.current,u.current.scale.x=z.current*0.5,u.current.scale.y=z.current*0.5,u.current.scale.z=z.current*0.5}),$("group",{ref:u,children:U})}function Ph({isActive:U,enableFloat:E=!1}){function u(c){let{scene:Y}=u4(jF);return $("primitive",{object:Y,...c,rotation:[0,Math.PI/2,0],scale:1.5})}u4.preload(jF);let p=JZ.useMemo(()=>$(c4U,{enabled:E,children:$(u,{})}),[E]),z=JZ.useMemo(()=>A(qu,{children:[$("ambientLight",{intensity:0.5}),$(DQ,{preset:"city"}),$("spotLight",{position:[10,10,10],angle:0.15,penumbra:1,castShadow:!0}),$(XQ,{enabled:U,global:!1,snap:!0,zoom:1,speed:1,children:U?p:null}),$(tQ,{position:[0,-3.5,0],opacity:0.5,scale:20,blur:5,far:5})]}),[U,p]);return $(qu,{children:$(wN,{sceneId:"components",isActive:U,children:z})})}var HF=OE(TE(),1);var qF="./vengeance2-e4v0q2sw.glb";JU();function xh({isActive:U}){function E(z){let{scene:c}=u4(qF);return $(Ci,{children:$("primitive",{object:c,...z,rotation:[0.4,1,0],scale:2})})}u4.preload(qF);let u=HF.useMemo(()=>$(E,{}),[]),p=HF.useMemo(()=>A(qu,{children:[$("ambientLight",{intensity:0.5}),$(DQ,{preset:"city"}),$("spotLight",{position:[10,10,10],angle:0.15,penumbra:1,castShadow:!0}),$(XQ,{enabled:U,global:!1,snap:!0,zoom:1,speed:1,children:U?u:null}),$(tQ,{position:[0,-3.5,0],opacity:0.5,scale:10,blur:5,far:5})]}),[U,u]);return $(qu,{children:$(wN,{sceneId:"market",isActive:U,children:p})})}var JQ=OE(TE(),1);JU();function kF({toggleKey:U="m",buttonLabel:E="Toggle Marker",initial:u=!1}){let[p,z]=JQ.useState(u),[c,Y]=JQ.useState({x:0,y:0});return JQ.useEffect(()=>{let P=(j)=>Y({x:j.clientX,y:j.clientY}),n=(j)=>{if(j.key.toLowerCase()===U.toLowerCase())z((H)=>!H)};return window.addEventListener("mousemove",P),window.addEventListener("keydown",n),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("keydown",n)}},[U]),A(qu,{children:[A("button",{onClick:()=>z((P)=>!P),"aria-pressed":p,className:"right-6 bottom-6 z-[9998] fixed bg-gray-800 shadow-md px-4 py-3 rounded-lg text-white text-sm",children:[E," ",p?"":""]}),p&&$("div",{style:{position:"fixed",top:c.y,left:c.x,transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:9999},children:$("div",{style:{width:32,height:32,borderRadius:"50%",background:"rgba(239, 68, 68, 0.95)",boxShadow:"0 0 18px rgba(239, 68, 68, 0.85)",border:"3px solid rgba(255,255,255,0.95)"}})})]})}JU();var QZU=hE.createContext(null),$ZU=hE.lazy(()=>Promise.resolve().then(() => (jh(),nh)).then((U)=>({default:U.Hero}))),yZU=hE.lazy(()=>Promise.resolve().then(() => (Hh(),qh)).then((U)=>({default:U.Disclaimer}))),IZU=hE.lazy(()=>Promise.resolve().then(() => (Qh(),kh)).then((U)=>({default:U.NextEvent}))),OZU=hE.lazy(()=>Promise.resolve().then(() => (yh(),$h)).then((U)=>({default:U.Schedule}))),NZU=hE.lazy(()=>Promise.resolve().then(() => (Oh(),Ih)).then((U)=>({default:U.ComputerSceneUI}))),rZU=hE.lazy(()=>Promise.resolve().then(() => (Xh(),Lh)).then((U)=>({default:U.MarketGraph}))),LZU=hE.lazy(()=>Promise.resolve().then(() => (vh(),wh)).then((U)=>({default:U.AIBubble}))),XZU=hE.lazy(()=>Promise.resolve().then(() => (cb(),zb)).then((U)=>({default:U.CPU}))),TZU=hE.lazy(()=>Promise.resolve().then(() => (sb(),fb)).then((U)=>({default:U.GPU}))),oZU=hE.lazy(()=>Promise.resolve().then(() => (eb(),gb)).then((U)=>({default:U.RAM}))),iZU=hE.lazy(()=>Promise.resolve().then(() => (Zl(),Yl)).then((U)=>({default:U.Storage}))),FZU=hE.lazy(()=>Promise.resolve().then(() => (Al(),Fl)).then((U)=>({default:U.Motherboard}))),AZU=hE.lazy(()=>Promise.resolve().then(() => (Rl(),Sl)).then((U)=>({default:U.PSU}))),mZU=hE.lazy(()=>Promise.resolve().then(() => (Jl(),tl)).then((U)=>({default:U.Case}))),VZU=hE.lazy(()=>Promise.resolve().then(() => (UM(),Cl)).then((U)=>({default:U.Cooling}))),GZU=hE.lazy(()=>Promise.resolve().then(() => (xM(),PM)).then((U)=>({default:U.Fans}))),BZU=hE.lazy(()=>Promise.resolve().then(() => (jM(),nM)).then((U)=>({default:U.Planning}))),dZU=hE.lazy(()=>Promise.resolve().then(() => (QM(),kM)).then((U)=>({default:U.BuildTools}))),wZU=hE.lazy(()=>Promise.resolve().then(() => (oM(),TM)).then((U)=>({default:U.ThreadripperSection}))),vZU=hE.lazy(()=>Promise.resolve().then(() => (dM(),BM)).then((U)=>({default:U.ServerSection}))),XOU=hE.lazy(()=>Promise.resolve().then(() => (vM(),wM)).then((U)=>({default:U.Troubleshooting}))),SZU=hE.lazy(()=>Promise.resolve().then(() => (tM(),DM)).then((U)=>({default:U.QRCode}))),RZU=hE.lazy(()=>Promise.resolve().then(() => (hM(),JM)).then((U)=>({default:U.QA})));function bM(){let[U,E]=hE.useState("hero"),[u,p]=hE.useState(null),[z,c]=hE.useState(!1),[Y,P]=hE.useState(!1),n=hE.useMemo(()=>["hero","disclaimer","next-event","schedule","market","market-graph","ai-bubble","components","planning","case","cpu","motherboard","ram","storage","gpu","cooling","fans","psu","build-tools","threadripper","servers","qrcode","qa"],[]),j=n.indexOf(U),H=j+1,k=n.length;hE.useEffect(()=>{let T=document.getElementById("scroll-container"),N=()=>{if(!T)return;let O=T.scrollTop+window.innerHeight/2;for(let L of n){let X=document.getElementById(L);if(X&&X.offsetTop<=O&&X.offsetTop+X.offsetHeight>O)if(E(L),L==="components")p("components"),c(!1);else if(L==="cpu")p("components"),c(!0);else if(L==="market")p("market");else p(null)}};if(T)return T.addEventListener("scroll",N),()=>T.removeEventListener("scroll",N)},[n]);let Q=(T)=>{let N=document.getElementById(T);if(N)N.scrollIntoView({behavior:"smooth"}),P(!1)},y=(...T)=>T.filter(Boolean).join(" "),r=(T)=>{let N=n.indexOf(T);return Math.abs(N-j)<=1};return $(QZU.Provider,{value:{activeScene:u,setActiveScene:p},children:A("div",{id:"scroll-container",className:"bg-gray-7 w-screen h-screen overflow-x-hidden overflow-y-scroll font-sans text-gray-2 scroll-smooth snap-mandatory snap-y",children:[$(Ph,{isActive:u==="components",enableFloat:z}),$(xh,{isActive:u==="market"}),A("nav",{className:"top-0 right-0 left-0 z-50 fixed bg-corp-white/80 backdrop-blur-md border-gray-6 border-b",children:[$("div",{className:"mx-auto px-6 py-3 max-w-7xl",children:A("div",{className:"flex justify-between items-center",children:[A("div",{className:"flex items-center space-x-2 font-bold text-gray-1 text-xl tracking-tight cursor-pointer",onClick:()=>Q("hero"),children:[$("div",{className:"flex justify-center items-center bg-corp-white shadow-sm rounded-md w-9 h-9 text-red-3",children:$(p5,{size:20,strokeWidth:2.5})}),A("span",{children:["PCBuilder",$("span",{className:"text-red-3",children:" 2026"})]})]}),$("div",{className:"hidden md:flex space-x-1",children:[{id:"disclaimer",label:"Welcome"},{id:"next-event",label:"Next Event"},{id:"schedule",label:"Schedule"},{id:"market",label:"Market"},{id:"components",label:"Parts"},{id:"planning",label:"Planning"},{id:"build-tools",label:"Build"},{id:"qrcode",label:"Resources"},{id:"qa",label:"Q&A"}].map((T)=>$(fu,{variant:U===T.id?"secondary":"ghost",onClick:()=>Q(T.id),className:y("text-gray-3",U===T.id&&"text-gray-1 font-semibold bg-gray-7"),children:T.label},T.id))}),$(fu,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>P(!Y),children:Y?$(Sk,{size:20}):$(mk,{size:20})})]})}),Y&&$("div",{className:"md:hidden top-full right-0 left-0 absolute space-y-2 bg-corp-white slide-in-from-top-2 shadow-xl p-4 border-gray-6 border-b animate-in",children:[{id:"disclaimer",label:"Welcome"},{id:"next-event",label:"Next Event"},{id:"schedule",label:"Schedule"},{id:"market",label:"Market Reality"},{id:"market-graph",label:"Market Graph"},{id:"ai-bubble",label:"AI Bubble"},{id:"components",label:"Components"},{id:"planning",label:"Planning"},{id:"case",label:"Case"},{id:"cpu",label:"CPU"},{id:"motherboard",label:"Motherboard"},{id:"ram",label:"RAM"},{id:"storage",label:"Storage"},{id:"gpu",label:"GPU"},{id:"cooling",label:"Cooling"},{id:"fans",label:"Fans"},{id:"psu",label:"PSU"},{id:"build-tools",label:"Build Tools"},{id:"threadripper",label:"Threadripper"},{id:"qrcode",label:"Resources"},{id:"qa",label:"Q&A"}].map((T)=>$(fu,{variant:U===T.id?"secondary":"ghost",className:"justify-start w-full",onClick:()=>Q(T.id),children:T.label},T.id))})]}),$(DS,{current:H,total:k}),$(tS,{label:"January 28, 2026"}),$(Qj,{label:"public"}),$(kF,{toggleKey:"m",buttonLabel:"Marker (M)"}),r("hero")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$($ZU,{scrollTo:Q})}):$("div",{id:"hero",className:"w-screen h-screen"}),r("disclaimer")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(yZU,{})}):$("div",{id:"disclaimer",className:"w-screen h-screen"}),r("next-event")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(IZU,{})}):$("div",{id:"next-event",className:"w-screen h-screen"}),r("schedule")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(OZU,{})}):$("div",{id:"schedule",className:"w-screen h-screen"}),r("market")?$("section",{id:"market",className:"relative h-screen snap-start pointer-events-auto"}):$("div",{id:"market",className:"w-screen h-screen"}),r("market-graph")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(rZU,{})}):$("div",{id:"market-graph",className:"w-screen h-screen"}),r("ai-bubble")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(LZU,{})}):$("div",{id:"ai-bubble",className:"w-screen h-screen"}),r("components")?$("section",{id:"components",className:"relative h-screen snap-start pointer-events-auto",children:$(NZU,{})}):$("div",{id:"components",className:"w-screen h-screen"}),r("planning")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(BZU,{})}):$("div",{id:"planning",className:"w-screen h-screen"}),r("case")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(mZU,{})}):$("div",{id:"case",className:"w-screen h-screen"}),r("cpu")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(XZU,{})}):$("div",{id:"cpu",className:"w-screen h-screen"}),r("motherboard")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(FZU,{})}):$("div",{id:"motherboard",className:"w-screen h-screen"}),r("ram")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(oZU,{})}):$("div",{id:"ram",className:"w-screen h-screen"}),r("storage")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(iZU,{})}):$("div",{id:"storage",className:"w-screen h-screen"}),r("gpu")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(TZU,{})}):$("div",{id:"gpu",className:"w-screen h-screen"}),r("cooling")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(VZU,{})}):$("div",{id:"cooling",className:"w-screen h-screen"}),r("fans")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(GZU,{})}):$("div",{id:"fans",className:"w-screen h-screen"}),r("psu")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(AZU,{})}):$("div",{id:"psu",className:"w-screen h-screen"}),r("build-tools")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(dZU,{})}):$("div",{id:"build-tools",className:"w-screen h-screen"}),r("threadripper")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(wZU,{})}):$("div",{id:"threadripper",className:"w-screen h-screen"}),r("servers")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(vZU,{})}):$("div",{id:"servers",className:"w-screen h-screen"}),r("qrcode")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(SZU,{})}):$("div",{id:"qrcode",className:"w-screen h-screen"}),r("qa")?$(hE.Suspense,{fallback:$("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:$(RZU,{})}):$("div",{id:"qa",className:"w-screen h-screen"})]})})}JU();var DZU=document.getElementById("root"),tZU=$(lM.StrictMode,{children:$(bM,{})});MM.createRoot(DZU).render(tZU);

//# debugId=B04AB9BE683C68AB64756E2164756E21
//# sourceMappingURL=chunk-3vztnss5.js.map
